<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="319c1a7b5479ffa2a028b658ad5b7033" category="inline-link-macro">tridentctl コマンドとオプション</block>
  <block id="8b3c7aa88e751573c842f17535525f19" category="paragraph">API は次のように機能します。</block>
  <block id="5b2f45c3d098b61927afda859c9144f8" category="list-text">オブジェクトがすでに存在する場合、動作は一定ではありません。バックエンドが既存のオブジェクトを更新しますが、それ以外のすべてのオブジェクトタイプで処理が失敗します。</block>
  <block id="a1582c89f8e85f372306a05848eafb68" category="summary">ネットアップのストレージ製品ポートフォリオは、 Kubernetes クラスタのさまざまな要素と統合され、高度なデータ管理機能を提供して、 Kubernetes 環境の機能、機能、パフォーマンス、可用性を強化します。</block>
  <block id="253b40ae359ba25b56231803430c4873" category="section-title">ONTAP</block>
  <block id="cbb7697b4f6f189240d043ff70ca133c" category="admonition">Trident は、上記の ONTAP 導入モデルをすべてサポートしています。</block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="section-title">Cloud Volumes ONTAP</block>
  <block id="5c04ffbd0c110bf7b37d6b95eb756b75" category="paragraph"><block ref="700b45b9fca207b66f675c8d5dfb073b" category="inline-link-rx"></block> は、クラウドで ONTAP データ管理ソフトウェアを実行するソフトウェア型ストレージアプライアンスです。Cloud Volumes ONTAP は、本番ワークロード、ディザスタリカバリ、 DevOps 、ファイル共有、データベース管理に使用できます。ストレージ効率、高可用性、データレプリケーション、データ階層化、アプリケーションの整合性を提供することで、エンタープライズストレージをクラウドに拡張します。</block>
  <block id="4d82a1ec1af02725042c8c785564ee7a" category="section-title">NetApp ONTAP 対応の Amazon FSX</block>
  <block id="27bb76bfb1e4f9966c31f5042348cd1e" category="section-title">Element ソフトウェア</block>
  <block id="231afe47f3f37d3808096b36c28b4ded" category="inline-link">要素（ Element ）</block>
  <block id="1fdf61a8f946268990d8e15dd9069a6d" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block> ストレージ管理者は、パフォーマンスを保証し、ストレージの設置面積を合理化することで、ワークロードを統合できます。Element と API を組み合わせることでストレージ管理のあらゆる要素を自動化できるため、ストレージ管理者は少ない労力で多くの作業を行うことができます。</block>
  <block id="08edd2123939d5309dced149763a50ee" category="section-title">NetApp HCI</block>
  <block id="25f221cc63a7e1fa55b05c29420a72a2" category="paragraph"><block ref="2841e7defe3939e68d83d007d1ad666b" category="inline-link-rx"></block> 日常業務を自動化し、インフラ管理者がより重要な業務に集中できるようにすることで、データセンターの管理と拡張を簡易化します。</block>
  <block id="be17f8b9c728a6cb61cad5a2609b3888" category="paragraph">NetApp HCI は Trident によって完全にサポートされています。Trident では、コンテナ化されたアプリケーション用のストレージデバイスを、基盤となる NetApp HCI ストレージプラットフォームに直接プロビジョニングして管理できます。</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="section-title">Azure NetApp Files の特長</block>
  <block id="29e7ab00082418141d470583a19c28d3" category="paragraph"><block ref="2384314bcd106c8062815b2ed789c4ad" category="inline-link-rx"></block> は、ネットアップが提供するエンタープライズクラスの Azure ファイル共有サービスです。要件がきわめて厳しいファイルベースのワークロードも、ネットアップが提供するパフォーマンスと充実のデータ管理機能を使用して、 Azure でネイティブに実行できます。</block>
  <block id="b0cee72642f5457a71ddd0b49efb6d93" category="section-title">Cloud Volumes Service for Google Cloud</block>
  <block id="5ee08ab883e000ce6b739dbb0b6ff376" category="summary">Kubernetes システムの構成要素の詳細をご確認ください。</block>
  <block id="607ae6360b32f1bd6e559e915d414fab" category="doc">Kubernetes の概念</block>
  <block id="d60f0fff1c23a02458849862f593357e" category="inline-link">Kubernetes システム</block>
  <block id="a7018a5fd7b610274c7786aa5402e64d" category="paragraph">のコンポーネントの詳細については、を参照してください<block ref="f01a74527fa0343e793eb393c9d4809a" category="inline-link-rx"></block>。</block>
  <block id="7d4fab76513c90b603a722620cde60fe" category="doc">コマンドラインオプション</block>
  <block id="8db7df66ab1d7ab5f1dc947acdb5fae4" category="section-title">ロギング</block>
  <block id="30136395f01879792198317c11831ea4" category="section-title">Kubernetes</block>
  <block id="c5fd214cdd0d2b3b4272e73b022ba5c2" category="section-title">Docker です</block>
  <block id="50780f47f6839d47d60bc4555ee00c3f" category="section-title">REST</block>
  <block id="afe272beb780ad53d441c342bf1c8c77" category="summary">Trident へのシンプルなアクセスを提供するコマンドラインユーティリティである tridentctl の詳細を確認できます。</block>
  <block id="7358b1fd077fa65f88fff87888fd2547" category="inline-link">Trident インストーラバンドル</block>
  <block id="1c90ba5cf3791b6148c7887a696911ec" category="paragraph">フラグ：</block>
  <block id="2af72f100c356273d46284f6fd1dfc08" category="section-title">バージョン</block>
  <block id="04333ff788951193122a833ecd614950" category="summary">Kubernetes と Trident 、 Trident とストレージ、 Kubernetes とストレージの関係を決定するリソースオブジェクトがいくつかあります。これらのオブジェクトの中には Kubernetes で管理されるものと Trident で管理されるものがあります。</block>
  <block id="da1e63dd673a1932cebb48b6a81bbbb1" category="doc">Kubernetes オブジェクトと Trident オブジェクト</block>
  <block id="d107eefb0ce66911b186b03b9e9c337e" category="paragraph">リソースオブジェクトの読み取りと書き込みを行うことで、 REST API を使用して Kubernetes や Trident を操作できます。Kubernetes と Trident 、 Trident とストレージ、 Kubernetes とストレージの関係を決定するリソースオブジェクトがいくつかあります。これらのオブジェクトの中には Kubernetes で管理されるものと Trident で管理されるものがあります。</block>
  <block id="62499e0de79c4d07c7915a36f9faa0d8" category="section-title">オブジェクトは相互にどのように相互作用しますか。</block>
  <block id="b9ea565816618011ca591fc191fe5e63" category="paragraph">おそらく、オブジェクト、その目的、操作方法を理解する最も簡単な方法は、 Kubernetes ユーザからのストレージ要求を 1 回だけ処理することです。</block>
  <block id="ec7d6500a82a56ee8f5fff02eafa7af7" category="list-text">ユーザーは、「 PersistentVolumeClaim 」を作成して、特定のサイズの新しい「 PersistentVolume 」を、管理者が以前に設定した Kubernetes の「 torageClass 」から要求します。</block>
  <block id="6b25cc026b6f29464d3fce0f6ec67805" category="list-text">Kubernetes の「 torageClass 」は、 Trident をプロビジョニングツールとして識別し、要求されたクラスのボリュームのプロビジョニング方法を Trident に指示するパラメータを含んでいます。</block>
  <block id="5b078d6b19593ee6c55f428e2c85faa7" category="list-text">Trident は、対応する「 Backends 」と「 toragePools 」を識別する同じ名前の「 S torageClass 」を参照します。この名前は、このクラスのボリュームのプロビジョニングに使用できます。</block>
  <block id="ff099186f912c7abb21bcf68690c98d7" category="list-text">Trident は、対応するバックエンドにストレージをプロビジョニングし、 2 つのオブジェクトを作成します。 Kubernetes では、「 PersistentVolume 」とは、ボリュームを検索、マウント、処理する方法を Kubernetes に伝える「 PersistentVolume 」と、「 PersistentVolume 」と実際のストレージの関係を保持する Trident 内のボリュームです。</block>
  <block id="6d2ae40bc02e88464563ae42ae22d54c" category="list-text">Kubernetes は 'PersistentVolumeClaim を新しい 'PersistentVolume' にバインドしますPersistentVolume が実行される任意のホストに PersistentVolume をマウントする 'PersistentVolumeClaim を含むポッド。</block>
  <block id="490c1b0e3a604c81abb3db1b778ec07b" category="list-text">ユーザーは、 Trident を指す「 VolumeSnapshotClass 」を使用して、既存の PVC の「 VolumeSnapshot 」を作成します。</block>
  <block id="9f4e11d34d158ebd365226367c8b15d9" category="list-text">Trident が PVC に関連付けられているボリュームを特定し、バックエンドにボリュームの Snapshot を作成します。また ' スナップショットの識別方法を Kubernetes に指示する 'VolumeSnapshotContent' も作成します</block>
  <block id="c6a606bdd6882cd42de13f2ba3614285" category="list-text">ユーザーは 'VolumeSnapshot' をソースとして使用して 'PersistentVolumeClaim を作成できます</block>
  <block id="8ecb92f33c033b00fcf3c18e59c4b177" category="list-text">Trident は必要なスナップショットを識別し、「 PersistentVolume 」と「 Volume 」の作成に関連する一連のステップを実行します。</block>
  <block id="428895404a5e57e01a138a5df672d0fc" category="inline-link">永続ボリューム</block>
  <block id="173423532ed9a565a05f32db2c8f8172" category="admonition">Kubernetes オブジェクトの詳細については、を参照することを強く推奨します<block ref="92dc8ed82beb7484ab6097a3e91b0deb" category="inline-link-rx"></block> Kubernetes のドキュメントのセクション。</block>
  <block id="794a32773794ee6c545794c065d1a88b" category="paragraph">Kubernetes の「 PersistentVolumeClaim 」オブジェクトは、 Kubernetes クラスタユーザが作成したストレージの要求です。</block>
  <block id="43cf8e1465c61efc8b1b9bf71aa9931c" category="paragraph">Trident では、標準仕様に加えて、バックエンド構成で設定したデフォルト設定を上書きする場合に、ボリューム固有の次のアノテーションを指定できます。</block>
  <block id="55f6611cb342565cf0f5002400f53a95" category="cell">アノテーション</block>
  <block id="1527fede1d561a899313c8cb3eb1e7bf" category="cell">ボリュームオプション</block>
  <block id="db8a0bbeae97b94338c1b7a61e2a1ec3" category="cell">サポートされているドライバ</block>
  <block id="f3780100617165ed98557e3a6d2be72d" category="cell">trident.netapp.io/fileSystem</block>
  <block id="44d4d4eb1f08d8eb29766160086f61dd" category="cell">ファイルシステム</block>
  <block id="979f70bf9da982ee97ac075df4f048c3" category="cell">trident.netapp.io/cloneFromPVC</block>
  <block id="b4ead50a5ca4f307f7d61da7763ad204" category="cell">cloneSourceVolume の実行中です</block>
  <block id="46ec89aa5290ead7b514dd5182caa0a7" category="cell">trident.netapp.io/splitOnClone</block>
  <block id="58c1c86186ef8de4f6e12d8f3aed8b64" category="cell">splitOnClone</block>
  <block id="80f05e749a4f524e8c8a05fa19d5df0e" category="cell">ONTAP - NAS 、 ONTAP - SAN</block>
  <block id="d6f010e4b4bf9748dcaa34feb70188ce" category="cell">trident.netapp.io/protocol</block>
  <block id="81788ba0d7d02d81c063dbca621ba11b" category="cell">プロトコル</block>
  <block id="100b8cad7cf2a56f6df78f171f97a1ec" category="cell">任意</block>
  <block id="e9898504ff0569325d48acaee7e9ced9" category="cell">trident.netapp.io/exportPolicy</block>
  <block id="647ce4e5394e2e595e46b4fc50a628e9" category="cell">エクスポートポリシー</block>
  <block id="61396290e72fa7d707996351c8815bd6" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup</block>
  <block id="2902d12b1fe6d9ef5bd1a3474f2356e9" category="cell">trident.netapp.io/snapshotPolicy</block>
  <block id="0a236e7685e50a59df980d0a30929d6c" category="cell">Snapshot ポリシー</block>
  <block id="7f3bf2672240703dc69740ce11443cf2" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup 、 ONTAP-SAN</block>
  <block id="6224177007fc13e9e0d3789985ed165a" category="cell">trident.netapp.io/snapshotReserve</block>
  <block id="bb0d75280f9b683f2f1f0767fd0aff9b" category="cell">Snapshot リザーブ</block>
  <block id="1cb43054bed661d8c8457ddbb43e1b1b" category="cell">trident.netapp.io/snapshotDirectory</block>
  <block id="1ae33c448502ac3d326593aee304c21f" category="cell">snapshotDirectory の略</block>
  <block id="ec1739ebad429a70f25efc292c347f8e" category="cell">trident.netapp.io/unixPermissions</block>
  <block id="c005e78d4bd808038335c32dd84cf7da" category="cell">unixPermissions</block>
  <block id="69d900d222446aab8591b45a7363c9e7" category="cell">trident.netapp.io/blockSize</block>
  <block id="480d1b61a0432d1319f7504a3d7318dd" category="cell">ブロックサイズ</block>
  <block id="c0d2a793e71b152662b3e8cd2da00620" category="cell">solidfire - SAN</block>
  <block id="fc5f8320f80474f09bdd1e3c3849123e" category="paragraph">作成された PV に「削除」再利用ポリシーがある場合、 Trident は PV が解放されると（つまり、ユーザーが PVC を削除したときに）、 PV と元のボリュームの両方を削除します。削除操作が失敗した場合、 Trident は PV をマークします。そのような状態で操作が成功するか、 PV が手動で削除されるまで、定期的に再試行します。PV が「 + Retain + 」ポリシーを使用している場合、 Trident はそのポリシーを無視し、管理者が Kubernetes とバックエンドからクリーンアップすると想定します。これにより、ボリュームを削除する前にバックアップまたは検査を行うことができます。PV を削除しても、原因 Trident で元のボリュームが削除されないことに注意してください。REST API (tridentctl') を使用して削除してください。</block>
  <block id="5dad99bb31feaed11fecbe29cf682e51" category="paragraph">Trident では CSI 仕様を使用したボリュームスナップショットの作成がサポートされています。ボリュームスナップショットを作成し、それをデータソースとして使用して既存の PVC のクローンを作成できます。これにより、 PVS のポイントインタイムコピーを Kubernetes にスナップショットの形で公開できます。作成した Snapshot を使用して新しい PVS を作成できます。「 +On-Demand Volume Snapshots + 」を見て、これがどのように機能するかを確認してください。</block>
  <block id="96e0288ecc3c91f97de46420e70a4f8f" category="paragraph">例 : ユーザがすでに「 m ysql 」という PVC を持っている場合、ユーザは「 trident.netapp.io/cloneFromPVC: mysql 」などの注釈を使用して「 m ysqlclone 」という新しい PVC を作成できます。このアノテーションセットを使用すると、 Trident はボリュームをゼロからプロビジョニングするのではなく、 MySQL PVC に対応するボリュームのクローンを作成します。</block>
  <block id="ff0fa770e22db25a156c5e2d7f017283" category="paragraph">次の点を考慮してください。</block>
  <block id="f89d76e06e88814705882a1faad838fb" category="list-text">PVC とそのクローンは、同じ Kubernetes ネームスペースに存在し、同じストレージクラスを持つ必要があります。</block>
  <block id="f769a6b54b1d1476b6628ebd1c4b98c4" category="list-text">また 'ONTAP-NAS' および 'ONTAP-SAN' ドライバを使用すると 'pvc 注釈 trident.netapp.io/splitOnClone` を trident.netapp.io/cloneFromPVC` と組み合わせて設定することが望ましい場合がありますTrident は 'trident.netapp.io/splitOnClone` を true に設定した場合 ' クローン・ボリュームを親ボリュームからスプリットするため ' 一部のストレージ効率を失うことなく ' クローン・ボリュームのライフサイクルを親ボリュームから完全に分離しますtrident.netapp.io/splitOnClone` を設定したり 'false に設定したりしないと ' 親ボリュームとクローンボリューム間の依存関係を作成する代わりに ' バックエンドでのスペース消費が削減されますこれにより ' クローンを最初に削除しない限り ' 親ボリュームを削除できなくなりますクローンをスプリットするシナリオでは、空のデータベースボリュームをクローニングする方法が効果的です。このシナリオでは、ボリュームとそのクローンで使用するデータベースボリュームのサイズが大きく異なっており、 ONTAP ではストレージ効率化のメリットはありません。</block>
  <block id="6cb5412cc2fe8210c4d14d6d6b08ab79" category="paragraph">Kubernetes の 'PersistentVolume' オブジェクトは 'Kubernetes クラスタで利用できるようになったストレージの一部ですポッドに依存しないライフサイクルがあります。</block>
  <block id="292289b7334983e53d9fb9bd00d30820" category="admonition">Trident は 'PersistentVolume' オブジェクトを作成し ' プロビジョニングするボリュームに基づいて自動的に Kubernetes クラスタに登録します自分で管理することは想定されていません。</block>
  <block id="443f09ca4d0d1cc13b5baa064b90c0b7" category="paragraph">Trident をベースとする「 torageClass 」を参照する PVC を作成すると、 Trident は対応するストレージクラスを使用して新しいボリュームをプロビジョニングし、そのボリュームに新しい PV を登録します。プロビジョニングされたボリュームと対応する PV の構成では、 Trident は次のルールに従います。</block>
  <block id="b27c91fe87605abbb0d5240430518a1c" category="list-text">Trident は、 Kubernetes に PV 名を生成し、ストレージのプロビジョニングに使用する内部名を生成します。どちらの場合も、名前がスコープ内で一意であることが保証されます。</block>
  <block id="9c2f88a5c4297bd88ead0cd6314fe886" category="list-text">ボリュームのサイズは、 PVC で要求されたサイズにできるだけ近いサイズに一致しますが、プラットフォームによっては、最も近い割り当て可能な数量に切り上げられる場合があります。</block>
  <block id="0d35625a483152791f4e2d0b751a09cc" category="paragraph">Kubernetes の「 torageClass 」オブジェクトは、「 PersistentVolumeClaims 」内の名前によって指定され、一連のプロパティを持つストレージをプロビジョニングします。ストレージクラス自体が、使用するプロビジョニングツールを特定し、プロビジョニングツールが理解できる一連のプロパティを定義します。</block>
  <block id="f7738d717849274e5992d460fd2c0a75" category="paragraph">管理者が作成および管理する必要がある 2 つの基本オブジェクトのうちの 1 つです。もう 1 つは Trident バックエンドオブジェクトです。</block>
  <block id="e51377a773f4713e536b061eaa2d4b04" category="paragraph">Trident を使用する Kubernetes の「 torageClass 」オブジェクトは次のようになります。</block>
  <block id="39edc8618b50008d4cb2050414d6921f" category="paragraph">これらのパラメータは Trident 固有で、クラスのボリュームのプロビジョニング方法を Trident に指示します。</block>
  <block id="b16da8ed7f6c8cce3011dc2b6c7bd1a4" category="paragraph">ストレージクラスのパラメータは次のとおりです。</block>
  <block id="f2bbdf9f72c085adc4d0404e370f0f4c" category="cell">属性</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="cell">を入力します</block>
  <block id="b651efdb98a5d6bd2b3935d0c3f4a5e2" category="cell">必須</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">説明</block>
  <block id="736b91750e516139acc13c5eb6564f92" category="cell">属性（ Attributes ）</block>
  <block id="59a1e7292a0114529fb1b3401b37bc28" category="cell">[string] 文字列をマップします</block>
  <block id="7fa3b767c460b54a2be4d49030b349c7" category="cell">いいえ</block>
  <block id="1b40216e6fe613bd013bf8710182e650" category="cell">後述の「属性」セクションを参照してください</block>
  <block id="c614017642b6cfd9e6a25c7df122d917" category="cell">ストレージプール</block>
  <block id="b8f32852327d2ffce86ae3ead4fdfb52" category="cell">[string] StringList をマップします</block>
  <block id="bdd0ddb870ed9de6f6e7d3a75200e9f7" category="cell">内のストレージプールのリストへのバックエンド名のマッピング</block>
  <block id="145d1b89a9f9ed8bdc16d1f7a814cace" category="cell">AdditionalStoragePools</block>
  <block id="6907a73ad9068ddf5f99d022102220bb" category="cell">内のストレージプールのリストへのバックエンド名のマッピング</block>
  <block id="7df974d787ead594df017a11672f2f0e" category="cell">excludeStoragePools</block>
  <block id="99ba77776c83983f5ecbd2b51f2b43ef" category="cell">内のストレージプールのリストへのバックエンド名のマッピング</block>
  <block id="f74d4b2b456fb453c0980710290f66eb" category="paragraph">ストレージ属性とその有効な値は、ストレージプールの選択属性と Kubernetes 属性に分類できます。</block>
  <block id="2fdf10f3f64b631cd3a137740de02f8b" category="section-title">ストレージプールの選択の属性</block>
  <block id="1f5912cd581dba393d5eecc43059adf4" category="paragraph">これらのパラメータは、特定のタイプのボリュームのプロビジョニングに使用する Trident で管理されているストレージプールを決定します。</block>
  <block id="c82a6100dace2b41087ba6cf99a5976a" category="cell">値</block>
  <block id="6bb24468956384c482a8b5a901fb6383" category="cell">提供</block>
  <block id="15c2d85f1fae22a3c3a0594510a1f611" category="cell">リクエスト</block>
  <block id="7aa57840938d59b415c1e10dcd1f7173" category="cell">でサポートされます</block>
  <block id="0e72be2e13bf8a2ff8078d3435e5aa7c" category="cell">メディア ^1</block>
  <block id="b45cffe084dd3d20d928bee85e7b0f21" category="cell">文字列</block>
  <block id="9ccd7f94313a98beb95801927907a0ab" category="cell">HDD 、ハイブリッド、 SSD</block>
  <block id="9bf3032f6854fb376cd8e3e92e11b077" category="cell">プールにはこのタイプのメディアが含まれています。ハイブリッドは両方を意味します</block>
  <block id="5c79c761bae4c27e96c04e54d1da1e91" category="cell">メディアタイプが指定されました</block>
  <block id="c9cb5e737e2746339fd0b462332c8740" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup 、 ONTAPSAN 、 solidfire-san-SAN 、 solidfire-san-SAN のいずれかに対応しています</block>
  <block id="b713baf75bcf13859037b5274d27d4b8" category="cell">プロビジョニングタイプ</block>
  <block id="6026fbd9abd05590949de220154e3262" category="cell">シン、シック</block>
  <block id="3064025fe3541bec9942e14fcaedfab7" category="cell">プールはこのプロビジョニング方法をサポートします</block>
  <block id="cf65591e3da90317fc132ea7464105d8" category="cell">プロビジョニング方法が指定されました</block>
  <block id="55b56fb238360663afa6230ad82e74a0" category="cell">backendType</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="0e1201d4d96df2d9d03c9c66b90874a1" category="cell">プールはこのタイプのバックエンドに属しています</block>
  <block id="c4efe19137f43450149d48fddbab6c28" category="cell">バックエンドが指定されて</block>
  <block id="a04622349b3ede0d4176ca2c2e161763" category="cell">すべてのドライバ</block>
  <block id="695633290d050f31cec0c9d4bd4a57fe" category="cell">Snapshot</block>
  <block id="c506ff134babdd6e68ab3e6350e95305" category="cell">ブール値</block>
  <block id="ac1ffb15effdc77a86029972670d022f" category="cell">true false</block>
  <block id="4ac43bef181074fbd4a1f3620b46f77f" category="cell">プールは、 Snapshot を含むボリュームをサポートします</block>
  <block id="13410bff9f7871113a6af273e2a1b97f" category="cell">Snapshot が有効なボリューム</block>
  <block id="bc3832c405ec6cb9c831849328240f3b" category="cell">クローン</block>
  <block id="609d32aa243917905f282544b543752a" category="cell">プールはボリュームのクローニングをサポートします</block>
  <block id="bcb81802de31cf9c717de3c1d6c2f610" category="cell">クローンが有効なボリューム</block>
  <block id="5bdf74912a51c34815f11e9a3d20b609" category="cell">暗号化</block>
  <block id="5f2f2cc138a8bc7067c7f61ab4db0f4d" category="cell">プールでは暗号化されたボリュームをサポート</block>
  <block id="0bda31a93b84fd2b45a90df39c4c8049" category="cell">暗号化が有効なボリューム</block>
  <block id="dcc09b4a72e31323b652676ce4677771" category="cell">ONTAP-NAS 、 ONTAP-NAS-エコノミー 、 ONTAP-NAS-FlexArray グループ、 ONTAP-SAN</block>
  <block id="79073619fba8242703524f16870ff858" category="cell">IOPS</block>
  <block id="fa7153f7ed1cb6c0fcf2ffb2fac21748" category="cell">整数</block>
  <block id="86e5d65893929e5d38b4bdcb9fb48ecd" category="cell">正の整数</block>
  <block id="bf57d1db8292b2855fa998a86562cfa7" category="cell">プールは、この範囲内で IOPS を保証する機能を備えています</block>
  <block id="342a7ce5bb7debc6ba84dc2a3bced587" category="cell">ボリュームで IOPS が保証されました</block>
  <block id="895f3d78c77292d9761bdabdc3cf0c99" category="paragraph">^1 ^ ： ONTAP Select システムではサポートされていません</block>
  <block id="5b3c68bde0b3658758a8ebf47ec6abf1" category="paragraph">ほとんどの場合、要求された値はプロビジョニングに直接影響します。たとえば、シックプロビジョニングを要求した場合、シックプロビジョニングボリュームが使用されます。ただし、 Element ストレージプールでは、提供されている IOPS の最小値と最大値を使用して、要求された値ではなく QoS 値を設定します。この場合、要求された値はストレージプールの選択のみに使用されます。</block>
  <block id="311fa7e17587a62a6fdcb110253feed7" category="paragraph">理想的には ' 属性だけを使用して ' 特定のクラスのニーズを満たすために必要なストレージの特性をモデル化できますTrident は ' 指定した属性の _ALL_ に一致するストレージ・プールを自動的に検出して選択します</block>
  <block id="d0c865b74e0c4b4b387506e9e95d22b2" category="paragraph">「 attributes 」を使用してクラスに適切なプールを自動的に選択できない場合は、「 toragePools 」および「 additionalStoragePools 」パラメータを使用してプールをさらに改良したり、特定のプールセットを選択したりできます。</block>
  <block id="06a87a25fa98442cf561762851213f7e" category="paragraph">'toragePools' パラメータを使用すると ' 指定した属性に一致するプールのセットをさらに制限できますつまり 'attributes' パラメータと 'toragePools' パラメータで指定されたプールの交点をプロビジョニングに使用しますどちらか一方のパラメータを単独で使用することも、両方を同時に使用することも</block>
  <block id="0c66a737e57eb6ac0885d2ba6d87cc12" category="paragraph">「 additionalStoragePools 」パラメータを使用すると、「 attributes 」パラメータと「 toragePools 」パラメータで選択されたプールに関係なく、 Trident がプロビジョニングに使用するプールのセットを拡張できます。</block>
  <block id="2ed95c63c6e58641d710e098e7e23154" category="paragraph">excludeStoragePools' パラメータを使用して、 Trident がプロビジョニングに使用するプールのセットをフィルタリングできます。このパラメータを使用すると、一致するプールがすべて削除されます。</block>
  <block id="9f8bfd75f7eb5b95503bb0abedf83b40" category="paragraph">'toragePools' パラメータと 'additionalStoragePools' パラメータでは ' 各エントリは '&lt;backend&gt;:&lt;storagePoolList&gt;' の形式で指定したバックエンドのストレージプールのカンマ区切りリストですたとえば、「 additionalStoragePools 」の値は「 ontapnas_192.168.1.100 ： aggr1 、 aggr2 ； solidfire_192.168.1.101 ： bronze 」のようになります。これらのリストでは、バックエンド値とリスト値の両方に正規表現値を使用できます。tridentctl get backend を使用してバックエンドとそのプールのリストを取得できます</block>
  <block id="c087dddd46fcf0fbbf390abeff2216c3" category="section-title">Kubernetes の属性</block>
  <block id="d05956159ee82aafaaacfe08d33d3be6" category="paragraph">これらの属性は、動的プロビジョニングの際に Trident が選択するストレージプール / バックエンドには影響しません。代わりに、 Kubernetes Persistent Volume でサポートされるパラメータを提供するだけです。ワーカーノードはファイルシステムの作成操作を担当し、 xfsprogs などのファイルシステムユーティリティを必要とする場合があります。</block>
  <block id="0e6ac0d7fca9c59e6545312a071555b6" category="cell">関連するドライバ</block>
  <block id="ae6b2a160dd2fafdee385c348edee0c1" category="cell">Kubernetes のバージョン</block>
  <block id="7cfbb6f07899c8071ff38e69dca190e2" category="cell">FSstype （英語）</block>
  <block id="7928a56d4874d982a06a59e3f30f6935" category="cell">ブロックボリュームのファイルシステムのタイプ</block>
  <block id="b1c94ca2fbc3e78fc30069c8d0f01680" category="cell">すべて</block>
  <block id="2435c5eb0d842c13f635d4b1d6667a52" category="paragraph">Trident インストーラバンドルには、「 `sample -input/storageclass-*.yaml 」で Trident で使用するストレージクラス定義の例がいくつか用意されています。Kubernetes ストレージクラスを削除すると、対応する Trident ストレージクラスも削除されます。</block>
  <block id="65d18b5db5d5f35e4ddc5c696687d1bd" category="paragraph">Kubernetes 'VolumeSnapshotClass' オブジェクトは 'S torageClasses' に似ていますこの Snapshot コピーは、複数のストレージクラスの定義に役立ちます。また、ボリューム Snapshot によって参照され、 Snapshot を必要な Snapshot クラスに関連付けます。各ボリューム Snapshot は、単一のボリューム Snapshot クラスに関連付けられます。</block>
  <block id="031e09713b698739db52cb150ef97605" category="paragraph">スナップショットを作成するには 'VolumeSnapshotClass' を管理者が定義する必要がありますボリューム Snapshot クラスは、次の定義で作成されます。</block>
  <block id="879cd061c6bf448cd6fc39dd56947611" category="paragraph">「 driver 」は、「 csi-snapclass 」クラスのボリュームスナップショットの要求が Trident によって処理される Kubernetes を指定します。「要素ポリシー」は、スナップショットを削除する必要がある場合に実行されるアクションを指定します。「削除ポリシー」が「削除」に設定されている場合、 Snapshot を削除すると、ボリューム Snapshot オブジェクトおよびストレージクラスタ上の基盤となる Snapshot は削除されます。または、「 Retain 」に設定すると、「 VolumeSnapshotContent 」と物理スナップショットが保持されます。</block>
  <block id="7ba558df52a052235cf288011e5d667c" category="paragraph">Kubernetes の VolumeSnapshot オブジェクトは ' ボリュームのスナップショットを作成する要求ですPVC がボリュームに対するユーザからの要求を表すのと同様に、ボリュームスナップショットは、ユーザが既存の PVC のスナップショットを作成する要求です。</block>
  <block id="f67af493d1fd83b472d5f27307b2f3d9" category="paragraph">ボリュームスナップショット要求が受信されると、 Trident はバックエンドでのボリュームのスナップショット作成を自動的に管理し、ユニークな「 VolumeSnapshotContent 」オブジェクトを作成することによってスナップショットを公開します。既存の PVC からスナップショットを作成し、新しい PVC を作成するときにスナップショットを DataSource として使用できます。</block>
  <block id="e562bdcf97dce6973a736651f45eb054" category="paragraph">Kubernetes の「 VolumeSnapshotContent 」オブジェクトは、すでにプロビジョニングされているボリュームから取得されたスナップショットを表します。これは「 PersistentVolume 」と似ており、ストレージ・クラスタ上でプロビジョニングされた Snapshot を表します。「 PersistentVolumeClaim 」および「 PersistentVolume 」オブジェクトと同様に、スナップショットが作成されると、「 VolumeContent Snapshot」 オブジェクトは「 VolumeSnapshot 」オブジェクトへの 1 対 1 のマッピングを保持します。これは、スナップショットの作成を要求しました。</block>
  <block id="af741aec1c66e51c00d35a38f92471de" category="paragraph">「 VolumeSnapshotContent 」オブジェクトには、スナップショットを一意に識別する詳細（「 napshotHandle 」など）が含まれています。この「 napshotHandle 」は、 PV の名前と「 VolumeSnapshotContent 」オブジェクトの名前を組み合わせた一意のものです。</block>
  <block id="b22c73e808eef321ee9941ec2e58b64f" category="paragraph">Trident では、スナップショット要求を受信すると、バックエンドにスナップショットが作成されます。スナップショットが作成されると、 Trident は「 VolumeSnapshotContent 」オブジェクトを構成し、そのスナップショットを Kubernetes API に公開します。</block>
  <block id="7c43d52062b795d2d8e7f33b9dbbf671" category="paragraph">Kubernetes カスタムリソースは、管理者が定義した Kubernetes API 内のエンドポイントであり、類似するオブジェクトのグループ化に使用されます。Kubernetes では、オブジェクトのコレクションを格納するためのカスタムリソースの作成をサポートしています。これらのリソース定義を取得するには 'kubectl get CRDs' を実行します</block>
  <block id="09d4c17e4e0e002375326eee41d0f77f" category="paragraph">カスタムリソース定義（ CRD ）と関連するオブジェクトメタデータは、 Kubernetes によってメタデータストアに格納されます。これにより、 Trident の独立したストアが不要になります。</block>
  <block id="9f59afd5e4687b9960361128f049dae4" category="paragraph">CRD は Kubernetes の構成要素です。上記で定義したリソースのオブジェクトは Trident によって作成されます。簡単な例として 'tridentctl' を使用してバックエンドを作成すると ' 対応する tridentBackendsCRD オブジェクトが Kubernetes によって消費されるように作成されます</block>
  <block id="7cdfd680fe492e028cde251c38475469" category="paragraph">Trident の CRD については、次の点に注意してください。</block>
  <block id="adecfe476427253e9c680a7c5150a9cc" category="list-text">Trident をインストールすると、一連の CRD が作成され、他のリソースタイプと同様に使用できるようになります。</block>
  <block id="c4b35352cbf7a52a9444a610687067f8" category="inline-link-macro">Trident をアンインストールします</block>
  <block id="64cf33bfeab6c6bd8aa626b86fda9cbd" category="admonition">Kubernetes では、 Trident をプロビジョニングツールとして使用する Kubernetes 「 torageClass 」が登録されると、これらのオブジェクトが自動的に作成されます。</block>
  <block id="51fa0a833f47d8f00ee2677c6fa7b075" category="paragraph">ストレージクラスは、ボリュームの一連の要件で構成されます。Trident は、これらの要件と各ストレージプール内の属性を照合し、一致する場合は、そのストレージプールが、そのストレージクラスを使用するボリュームのプロビジョニングの有効なターゲットになります。</block>
  <block id="04d84bba5a5e103ae9c192c03a7ad2f3" category="paragraph">REST API を使用して、ストレージクラスを直接定義するストレージクラス設定を作成できます。ただし、 Kubernetes の導入では、新しい Kubernetes の「 torageClass 」オブジェクトを登録するときに、これらのオブジェクトが作成されることを期待しています。</block>
  <block id="3c244b984a2188556c1115a5a27dbe1b" category="paragraph">バックエンドとは、 Trident がボリュームをプロビジョニングする際にストレージプロバイダを表します。 1 つの Trident インスタンスであらゆる数のバックエンドを管理できます。</block>
  <block id="d71c5fad4769c19422c07158e24510ba" category="admonition">これは、自分で作成および管理する 2 つのオブジェクトタイプのうちの 1 つです。もう 1 つは、 Kubernetes の「 torageClass 」オブジェクトです。</block>
  <block id="54fd1dc39c3eecd913b4c9140522996c" category="paragraph">ストレージプールは、各バックエンドでのプロビジョニングに使用できる個別の場所を表します。ONTAP の場合、これらは SVM 内のアグリゲートに対応します。NetApp HCI / SolidFire では、管理者が指定した QoS 帯域に対応します。Cloud Volumes Service の場合、これらはクラウドプロバイダのリージョンに対応します。各ストレージプールには、パフォーマンス特性とデータ保護特性を定義するストレージ属性があります。</block>
  <block id="4ab1440e71a70a97c4966bcc0095f02b" category="paragraph">他のオブジェクトとは異なり、ストレージプールの候補は常に自動的に検出されて管理されます。</block>
  <block id="2e53db54827c8c05b7bfe9cb31f299d9" category="admonition">Kubernetes では、これらのオブジェクトが自動的に管理されます。Trident がプロビジョニングしたものを表示できます。</block>
  <block id="22fcc98910d0241e9835f502b7cb2398" category="admonition">関連付けられた Snapshot がある PV を削除すると、対応する Trident ボリュームが * Deleting * 状態に更新されます。Trident ボリュームを削除するには、ボリュームの Snapshot を削除する必要があります。</block>
  <block id="05353bc86910df31b2da9c8d3d26aad1" category="paragraph">ボリューム構成は、プロビジョニングされたボリュームに必要なプロパティを定義します。</block>
  <block id="ce9af1e3f0493eb7d5ffdf584ed763ba" category="cell">Trident API のバージョン（「 1 」）</block>
  <block id="b068931cc450442b63f5b3d276ea4297" category="cell">名前</block>
  <block id="a6105c0a611b41b08f1209506350279e" category="cell">はい。</block>
  <block id="017dbd2b0a2195c3e8052cdff67bad39" category="cell">作成するボリュームの名前</block>
  <block id="78ec9b60245b46a4f05158076962ace9" category="cell">ストレージクラス</block>
  <block id="fa00f346deccdbebef2b3cc0702d41de" category="cell">ボリュームのプロビジョニング時に使用するストレージクラス</block>
  <block id="f7bd60b75b29d79b660a2859395c1a24" category="cell">サイズ</block>
  <block id="264c52ca068dfed30f5826bb054839f4" category="cell">プロビジョニングするボリュームのサイズ（バイト単位）</block>
  <block id="4f18882934f0472b4bfa32928bf92f14" category="cell">使用するプロトコルの種類：「 file 」または「 block 」</block>
  <block id="252c6d364cc1a0437939a4f01b0717ae" category="cell">インターン名</block>
  <block id="2857a43e58983276d059c0e6e2fcb0e9" category="cell">Trident が生成した、ストレージシステム上のオブジェクトの名前</block>
  <block id="e94d46d7c89bcb7e6ac2e2df4d21bafb" category="cell">ONTAP （ NAS 、 SAN ）：クローンを親からスプリットします</block>
  <block id="819549a86d14e849e1d0042c9156d781" category="cell">ONTAP - * ：使用する Snapshot ポリシー</block>
  <block id="e38882545bfedafc7e8ec5973b2e6dd8" category="cell">ONTAP - * ： Snapshot 用にリザーブされているボリュームの割合</block>
  <block id="fc86db1233bfa77d5143dcaae9842cb1" category="cell">ONTAP-NAS* ：使用するエクスポートポリシー</block>
  <block id="48e1d8180a61943f438c259b2b6715f8" category="cell">ONTAP-NAS* ： Snapshot ディレクトリが表示されているかどうか</block>
  <block id="3f7c94eec4bbf43962e1667f5a334469" category="cell">ONTAP-NAS* ：最初の UNIX 権限</block>
  <block id="4b2d5d83aef608a3fb59ec6eda8bea26" category="cell">SolidFire - * ：ブロック / セクターサイズ</block>
  <block id="62fe71ae4f6a04a6937feb48ba5dc4f4" category="cell">ファイルシステムのタイプ</block>
  <block id="49539689cebb34166a417b3b666818e5" category="paragraph">ボリューム設定を使用して、 REST API を使用してボリュームを直接プロビジョニングできますが、 Kubernetes 環境では、ほとんどのユーザが標準の Kubernetes の「 PersistentVolumeClaim 」メソッドを使用することを想定しています。Trident は、プロビジョニングプロセスの一環として、このボリュームオブジェクトを自動的に作成します。</block>
  <block id="a1b3787bbd275b7ed5812d022dd36932" category="paragraph">Snapshot はボリュームのポイントインタイムコピーで、新しいボリュームのプロビジョニングやリストア状態に使用できます。Kubernetes では ' これらは 'VolumeSnapshotContent' オブジェクトに直接対応します各 Snapshot には、 Snapshot のデータのソースであるボリュームが関連付けられます。</block>
  <block id="cdf5c8d3dd31e49b82a5b3e2c4a65280" category="paragraph">個々の「スナップショット」オブジェクトには、以下のプロパティが含まれています。</block>
  <block id="27118326006d3829667a400ad23d5d98" category="cell">文字列</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="paragraph">はい。</block>
  <block id="de73fbae2864dd61c921cf0648a9717a" category="cell">Trident Snapshot オブジェクトの名前</block>
  <block id="8e744456fb3d02d69442038d3e771460" category="cell">ストレージシステム上の Trident Snapshot オブジェクトの名前</block>
  <block id="617a43eb0446f84414df73cce2997fa1" category="cell">ボリューム名</block>
  <block id="b58c8ff1e837af6dafa971bf3d320646" category="cell">Snapshot を作成する永続的ボリュームの名前</block>
  <block id="2c2aed4b417a0f9c189d7ad6414ae28c" category="cell">ボリュームの内部名</block>
  <block id="db1a117103c348ebaec41f9e249554c3" category="cell">ストレージシステムに関連付けられている Trident ボリュームオブジェクトの名前</block>
  <block id="73f3d5934fdd36989f24cbae94ab423b" category="paragraph">Kubernetes の「 VolumeSnapshot 」オブジェクト要求が作成されると、 Trident は元のストレージシステム上にスナップショットオブジェクトを作成することによって動作します。このスナップショットオブジェクトの「 internalName 」は、プレフィックス「 snapshot-` と「 VolumeSnapshot 」オブジェクトの「 UID 」を組み合わせることによって生成されます（例：「 snapshot-e8d8d8a0ca-9826-11e9-9807-525400f3f660 」）。「 volumeName 」と「 volumeInternalName 」には、バッキングボリュームの詳細を取得して値を設定します。</block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">ポート</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">目的</block>
  <block id="7e6b20d014d1c659e4eaf20dc2dcd7eb" category="cell">8443</block>
  <block id="69bbf3571db03f0487c04a8254d15c75" category="cell">バックチャネル HTTPS</block>
  <block id="bc3c4a6331a8a9950945a1aa8c95ab8a" category="cell">8001</block>
  <block id="e5a4c481cc6f5935efb2c9d381f2e342" category="cell">Prometheus 指標エンドポイント</block>
  <block id="67ff32d40fb51f1a2fd2c4f1b1019785" category="cell">8000</block>
  <block id="10f5b805a46ea829cc3b9d8560a224ae" category="cell">Trident REST サーバ</block>
  <block id="35cf0f704286108deb76366a16415140" category="cell">17546</block>
  <block id="fb1396f82d0096741ea1b06f8cee2340" category="cell">Trident デミ作用 / レディネスプローブポートは、 Trident デミ作用ポッドで使用されます</block>
  <block id="2fae32629d4ef4fc6341f1751b405e45" category="doc">セキュリティ</block>
  <block id="f40aef657c875e42158050f63dcfbb6f" category="section-title">ONTAP SAN バックエンドで CHAP 認証を使用します</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link-macro">こちらをご覧ください</block>
  <block id="d4e0ad8fd8e11d87eb431051692db344" category="section-title">NetApp HCI および SolidFire バックエンドで CHAP 認証を使用します</block>
  <block id="ea355214fd4bc7c57f471bd92918879b" category="doc">導入</block>
  <block id="d89d3b3161292ef0c65342cbe80e883f" category="section-title">専用のネームスペースに導入します</block>
  <block id="13d28e8dfc702e3456e0767dff9a128a" category="inline-link">ネームスペース</block>
  <block id="853cf568613b7eec1486421468e18b9b" category="paragraph">また、 Trident ポッドにアクセスすると、ユーザがストレージシステムのクレデンシャルやその他の機密情報にアクセスできるようになります。アプリケーションユーザと管理アプリケーションが Trident オブジェクト定義またはポッド自体にアクセスできないようにすることが重要です。</block>
  <block id="2c8e89de5c6bf68b180cff5fea545167" category="section-title">クォータと範囲制限を使用してストレージ消費を制御します</block>
  <block id="74444eaf90c31d151645e59dcab0468d" category="inline-link">ストレージクォータメカニズム</block>
  <block id="1d81c150d54eae0c49d9cfeb8d493b0f" category="inline-link">範囲制限</block>
  <block id="94104e476fe547cf6237480cacae5ed5" category="paragraph">Kubernetes には、 2 つの機能があります。これらの機能を組み合わせることで、アプリケーションによるリソース消費を制限する強力なメカニズムが提供されます。。<block ref="bff513af91e6751aca3d34ef714e3b91" category="inline-link-rx"></block> 管理者は、グローバルおよびストレージクラス固有の、容量とオブジェクト数の使用制限をネームスペース単位で実装できます。さらに、を使用します<block ref="dbe9770513b0f7245f1fe016d20ebb70" category="inline-link-rx"></block> 要求がプロビジョニングツールに転送される前に、 PVC 要求が最小値と最大値の両方の範囲内にあることを確認します。</block>
  <block id="4f9253eda0573e387f86d7777aafff03" category="inline-link">クォータの活用方法</block>
  <block id="923169151e05d28a3474b2a033666297" category="paragraph">これらの値はネームスペース単位で定義されます。つまり、各ネームスペースに、リソースの要件に応じた値を定義する必要があります。の詳細については、こちらを参照してください<block ref="5b289b2ffde01314d8b0d038aabd709b" category="inline-link-rx"></block>。</block>
  <block id="698aa9df4c2c5470599821c3d10620dd" category="summary">Kubernetes クラスタは通常、 2 種類のノードで構成され、機能のさまざまな側面を担当します。</block>
  <block id="6e8775bd755a8835ce86806d669677ea" category="doc">ストレージ構成</block>
  <block id="ac5112696fd64ee051846c666ebebebe" category="paragraph">使用するプロトコルに対応したホストオペレーティングシステムのベースラインベストプラクティスに従う必要があります。必要に応じて、アプリケーションのベストプラクティスを適用する際に、バックエンド、ストレージクラス、 PVC の設定を利用して、特定のアプリケーションのストレージを最適化することもできます。</block>
  <block id="efc9d085ca2f3a152c786357e9359c03" category="section-title">ONTAP と Cloud Volumes ONTAP のベストプラクティス</block>
  <block id="a3f99d5d44515cf922e6b525de736173" category="paragraph">Trident 向けに ONTAP と Cloud Volumes ONTAP を設定するためのベストプラクティスをご確認ください。</block>
  <block id="76d50c7d0f100e6264e0d57727d099f1" category="paragraph">次に示す推奨事項は、 Trident によって動的にプロビジョニングされたボリュームを消費するコンテナ化されたワークロード用に ONTAP を設定する際のガイドラインです。それぞれの要件を考慮し、環境内で適切かどうかを評価する必要があります。</block>
  <block id="3fb21976d2729216782dd61ffed84a54" category="section-title">Trident 専用の SVM を使用</block>
  <block id="fa4e21d3612a3f737c7a4ac7ebf24950" category="paragraph">Storage Virtual Machine （ SVM ）を使用すると、 ONTAP システムのテナントを分離し、管理者が分離できます。SVM をアプリケーション専用にしておくと、権限の委譲が可能になり、リソース消費を制限するためのベストプラクティスを適用できます。</block>
  <block id="3dc5510a67688b81f0d6d0db440da909" category="paragraph">SVM の管理には、いくつかのオプションを使用できます。</block>
  <block id="fe425a9419fa4d05d42131c26306e4f1" category="list-text">バックエンド構成でクラスタ管理インターフェイスを適切なクレデンシャルとともに指定し、 SVM 名を指定します。</block>
  <block id="e2160df70bcda0ee43cb3c66dc22c719" category="list-text">ONTAP System Manager または CLI を使用して、 SVM 専用の管理インターフェイスを作成します。</block>
  <block id="2bf2fa2c1c3a6e10095db72759cc9983" category="list-text">NFS データインターフェイスで管理ロールを共有します。</block>
  <block id="5cf4c2e89b362842d77f4e4209c4ef99" category="paragraph">いずれの場合も、インターフェイスは DNS にあり、 Trident の設定時には DNS 名を使用する必要があります。これにより、ネットワーク ID を保持しなくても SVM-DR などの一部の DR シナリオが簡単になります。</block>
  <block id="6a392b5e005fffe32231c94dc96a1605" category="inline-link">SVM-DR</block>
  <block id="2b4a6ee2db063653d6076884295a3854" category="paragraph">専用の管理 LIF または共有の管理 LIF を SVM に使用する方法は推奨されませんが、ネットワークセキュリティポリシーを選択した方法と一致させる必要があります。最大の柔軟性を確保するには、どのような場合でも DNS 経由で管理 LIF にアクセスできるようにします<block ref="f5e9502989ce78934689806ebb69606a" category="inline-link-rx"></block> Trident と組み合わせて使用できます。</block>
  <block id="4a0ee008d3379206a925ade3a9e707dd" category="section-title">最大ボリューム数を制限します</block>
  <block id="e5e09031843479ef9ef8cbbd4c2f404c" category="inline-link">NetApp Hardware Universe の略</block>
  <block id="39da19b7dd55941b6cdabf34befc0b4c" category="paragraph">Trident の「 ONTAP - NAS 」と「 ONTAP - SAN 」ドライバは、作成された Kubernetes 永続ボリューム（ PV ）ごとに FlexVol をプロビジョニングします。「 ONTAP-NAS-エコノミー 」ドライバは、 PVS 200 個につき約 1 つの FlexVol を作成します（ 50 ～ 300 の範囲で構成可能）。「 ONTAP-SAN-エコノミー 」ドライバは、 PVS 100 個につき約 1 つの FlexVol を作成します（ 50 ～ 200 の範囲で設定可能）。Trident がストレージシステム上の使用可能なボリュームをすべて消費しないようにするには、 SVM に制限を設定する必要があります。コマンドラインから実行できます。</block>
  <block id="f36680e3d3cb96c74d2f1a54c3c4a0fa" category="paragraph">「 mAX-VOLUMES 」の値は、環境に固有のいくつかの条件によって異なります。</block>
  <block id="5f6d1abb6889904ee0375b2fc6c8f078" category="list-text">ONTAP クラスタ内の既存のボリュームの数</block>
  <block id="029383c13d9ad2c5ba18a16f8fbe2002" category="list-text">他のアプリケーション用に Trident 外部でプロビジョニングするボリュームの数</block>
  <block id="02f4ac473b944a63551d51d727b5bb49" category="list-text">Kubernetes アプリケーションで消費されると予想される永続ボリュームの数</block>
  <block id="1d3555f20ac0a2897a1596631b5fb27a" category="paragraph">「 mAX-volumes 」の値は、 ONTAP クラスタ内のすべてのノードでプロビジョニングされたボリュームの合計数であり、個々の ONTAP ノードではプロビジョニングされません。その結果、 ONTAP クラスタノードの Trident でプロビジョニングされたボリュームの数が、別のノードよりもはるかに多い、または少ない場合があります。</block>
  <block id="46710fe77f663864a23e02a880a9ae53" category="inline-link">アグリゲート</block>
  <block id="7ef3217c984ef7f973d389e434be312c" category="section-title">Trident で作成できるボリュームの最大サイズを制限</block>
  <block id="031b203330c3abb94f6fa406ff721de4" category="paragraph">Trident で作成できるボリュームの最大サイズを設定するには、「 backend.json 」の定義で「 limitVolumeSize 」パラメータを使用します。</block>
  <block id="1c19414de17c9992b25b0a1b02a52715" category="paragraph">ストレージアレイでボリュームサイズを制御するだけでなく、 Kubernetes の機能も利用する必要があります。</block>
  <block id="85c0f9773e01224a56713ea4e6d83b86" category="section-title">双方向 CHAP を使用するように Trident を設定します</block>
  <block id="2596e59ce5cd0d1b0066656f191365d0" category="section-title">SVM QoS ポリシーを作成して使用します</block>
  <block id="560417d4f795b7e1176a40db8e4ccca8" category="inline-link">Bully を防止します</block>
  <block id="4870168b0713fe3089cf587858fc3b40" category="paragraph">SVM に適用された ONTAP QoS ポリシーを使用すると、 Trident でプロビジョニングされたボリュームが使用できる IOPS の数が制限されます。これはに役立ちます<block ref="1b59d76842e8b78d6111d3e73e9cd404" category="inline-link-rx"></block> Trident SVM 外のワークロードに影響を及ぼす、制御不能なコンテナ。</block>
  <block id="d6ab867679686745d96bea839929a6de" category="paragraph">SVM の QoS ポリシーはいくつかの手順で作成します。正確な情報については、ご使用の ONTAP バージョンのマニュアルを参照してください。次の例は、 SVM で使用可能な合計 IOPS を 5000 に制限する QoS ポリシーを作成します。</block>
  <block id="c790de304b7ca0097f2133cf9da4e657" category="paragraph">また、使用しているバージョンの ONTAP でサポートされている場合は、最小 QoS を使用してコンテナ化されたワークロードへのスループットを保証することもできます。アダプティブ QoS は SVM レベルのポリシーには対応していません。</block>
  <block id="38c0b69f6b2ee691e1ba568134513414" category="paragraph">コンテナ化されたワークロード専用の IOPS は、さまざまな要素によって異なります。その中には、次のようなものがあります。</block>
  <block id="ddbd18591c9b7378c6187dbd9179e1f0" category="list-text">ストレージアレイを使用するその他のワークロード。Kubernetes 環境とは関係なく、ストレージリソースを利用するほかのワークロードがある場合は、それらのワークロードが誤って影響を受けないように注意する必要があります。</block>
  <block id="5da5727b396cee5b024364d989fe253b" category="list-text">想定されるワークロードはコンテナで実行されます。IOPS 要件が高いワークロードをコンテナで実行する場合は、 QoS ポリシーの値が低いとエクスペリエンスが低下します。</block>
  <block id="e6f229b5d5d2421c4306920759828212" category="paragraph">SVM レベルで割り当てた QoS ポリシーを使用すると、 SVM にプロビジョニングされたすべてのボリュームで同じ IOPS プールが共有されることに注意してください。コンテナ化されたアプリケーションの 1 つまたは少数のに高い IOPS が必要な場合、コンテナ化された他のワークロードに対する Bully になる可能性があります。その場合は、外部の自動化を使用したボリュームごとの QoS ポリシーの割り当てを検討してください。</block>
  <block id="ac2167b1e02d575eb6ddfe4e58f5cdcf" category="admonition">ONTAP バージョン 9.8 より前の場合は、 QoS ポリシーグループを SVM * only * に割り当ててください。</block>
  <block id="9992cae6c17055c750a849c5f6135eb2" category="section-title">Trident の QoS ポリシーグループを作成</block>
  <block id="76a3e54f72b3a7224429f111e58f836c" category="inline-link">QoS によるスループットの保証</block>
  <block id="0394fb1288eac4cd3d40bcd991e079e9" category="paragraph">ONTAP には、従来型とアダプティブ型の 2 種類の QoS ポリシーグループがあります。従来のポリシーグループは、最大スループット（以降のバージョンでは最小スループット）がフラットに表示されます。アダプティブ QoS では、ワークロードのサイズの変更に合わせてスループットが自動的に調整され、 TB または GB あたりの IOPS が一定に維持されます。これにより、何百何千という数のワークロードを管理する大規模な環境では大きなメリットが得られます。</block>
  <block id="f5acc65a21daed9bb8e91cb5cdd0ae52" category="paragraph">QoS ポリシーグループを作成するときは、次の点に注意してください。</block>
  <block id="6d5fcf300cd9e9239c26ce37b0919fca" category="list-text">バックエンド構成の「金庫」ブロックに「 QOSPolicy 」キーを設定する必要があります。次のバックエンド設定例を参照してください。</block>
  <block id="32160c2368452bf7d86bcffae7f142be" category="list-text">ボリュームごとにポリシーグループを適用して、各ボリュームがポリシーグループの指定に従ってスループット全体を取得するようにします。共有ポリシーグループはサポートされません。</block>
  <block id="d5d2a5bc92eea85a4dd11a642ed8a170" category="section-title">ストレージリソースへのアクセスを Kubernetes クラスタメンバーに制限する</block>
  <block id="9602ec8691c1a564016f9fd8086139f1" category="paragraph">ネームスペースは Kubernetes のリソースの論理的な境界であることを理解することが重要です。ただし、同じネームスペース内のリソースは共有可能であることが前提です。重要なのは、ネームスペース間に機能がないことです。つまり、 PVS はグローバルオブジェクトですが、 PVC にバインドされている場合は、同じネームスペース内のポッドからのみアクセス可能です。* 適切な場合は、名前空間を使用して分離することが重要です。 *</block>
  <block id="1162be0546226cff2cbd973cd2140d33" category="paragraph">Kubernetes 環境でデータセキュリティを使用する場合、ほとんどの組織で最も懸念されるのは、コンテナ内のプロセスがホストにマウントされたストレージにアクセスできることですが、コンテナ用ではないためです。 <block ref="962cfea7b49ca7b2d398d891b4313cb5" category="inline-link-rx"></block> この種の妥協を防ぐように設計されています。ただし、特権コンテナという例外が 1 つあります。</block>
  <block id="7b10e929cc2e0061dfb50042a0203c79" category="inline-link">ポッドセキュリティポリシー</block>
  <block id="76db1afb772160283f7f86cdd67c35f8" category="paragraph">権限付きコンテナは、通常よりもホストレベルの権限で実行されるコンテナです。デフォルトでは拒否されないため、を使用してこの機能を無効にしてください<block ref="e5ab4ede40a4a6a5f5684247585b5fb0" category="inline-link-rx"></block>。</block>
  <block id="5fabba1d91abcfb09b6049897727e91c" category="paragraph">Kubernetes と外部ホストの両方からアクセスが必要なボリュームでは、 Trident ではなく管理者が導入した PV で、ストレージを従来の方法で管理する必要があります。これにより、 Kubernetes と外部ホストの両方が切断され、ボリュームを使用していない場合にのみ、ストレージボリュームが破棄されます。また、カスタムエクスポートポリシーを適用して、 Kubernetes クラスタノードおよび Kubernetes クラスタの外部にあるターゲットサーバからのアクセスを可能にすることもできます。</block>
  <block id="e38f5be5ff6a8a362870a032acdf5d2f" category="section-title">専用のエクスポートポリシーを使用します</block>
  <block id="28af9e32119f59018dd5d887ad93ccd4" category="paragraph">また、エクスポートポリシーを手動で作成し、各ノードのアクセス要求を処理する 1 つ以上のエクスポートルールを設定することもできます。</block>
  <block id="4ae1e64986504dce6897746ebc9d2786" category="list-text">「 vserver export-policy create 」 ONTAP CLI コマンドを使用して、エクスポートポリシーを作成します。</block>
  <block id="cd0a9fca1fb3ba0fcdd98d0e87cb78a9" category="list-text">「 vserver export-policy rule create 」 ONTAP CLI コマンドを使用して、エクスポートポリシーにルールを追加します。</block>
  <block id="bc3a2f6421da1e870583cfb0b9cf4a91" category="paragraph">これらのコマンドを実行すると、データにアクセスできる Kubernetes ノードを制限できます。</block>
  <block id="08f1d9a2f49f56965b640bc15796cd61" category="paragraph">SVM レベルの ONTAP CLI コマンドを使用して、 SVM の howmount を無効にする必要があります。</block>
  <block id="648e0e1a6a98e76bdfe9780c42dacb6b" category="section-title">SolidFire のベストプラクティス</block>
  <block id="89f93e411a40f5c6365a4703e004f15b" category="paragraph">Trident に SolidFire ストレージを設定するためのベストプラクティスをご確認ください。</block>
  <block id="52f311b56fcd9d4fb074918af9b7c7f9" category="section-title">SolidFire アカウントを作成します</block>
  <block id="b0dd2707e9f12b5e1fda314748ffa386" category="paragraph">各 SolidFire アカウントは固有のボリューム所有者で、 Challenge Handshake Authentication Protocol （ CHAP ；チャレンジハンドシェイク認証プロトコル）クレデンシャルのセットを受け取ります。アカウントに割り当てられたボリュームには、アカウント名とその CHAP クレデンシャルを使用してアクセスするか、ボリュームアクセスグループを通じてアクセスできます。アカウントには最大 2 、 000 個のボリュームを関連付けることができますが、 1 つのボリュームが属することのできるアカウントは 1 つだけです。</block>
  <block id="eaf4b71058f7db58997dfe694c62a96a" category="section-title">QoS ポリシーを作成する</block>
  <block id="fd640dfd679c3a7e40aa99c3e08c8294" category="paragraph">標準的なサービス品質設定を作成して保存し、複数のボリュームに適用する場合は、 SolidFire のサービス品質（ QoS ）ポリシーを使用します。</block>
  <block id="41be5238fc563c2aac0a0e6ee4cf6e96" category="paragraph">QoS パラメータはボリューム単位で設定できます。QoS を定義する 3 つの設定可能なパラメータである Min IOPS 、 Max IOPS 、 Burst IOPS を設定することで、各ボリュームのパフォーマンスが保証されます。</block>
  <block id="48e4bd34fd7a9e1233ea82bc818a3161" category="paragraph">4KB のブロックサイズの最小 IOPS 、最大 IOPS 、バースト IOPS の値を次に示します。</block>
  <block id="8e4988a1e5f387efce6f20e4f25a8e40" category="cell">IOPS パラメータ</block>
  <block id="0b890b1926b90387673882e6ccae7fdc" category="cell">定義（ Definition ）</block>
  <block id="96a22bf638896c990d26e043087fb6b0" category="cell">最小価値</block>
  <block id="31ce3cdcd67850870b616f75b555bbc5" category="cell">デフォルト値</block>
  <block id="c9fb55be94277b8390352c215f32d44c" category="cell">最大値（ 4KB ）</block>
  <block id="b05f9ccd772b396ac1f5a05345a9d4f8" category="paragraph">最小 IOPS</block>
  <block id="2b30c179facf62f8a2bdbd1b09b37b96" category="paragraph">ボリュームに対して保証されたレベルのパフォーマンス。</block>
  <block id="c0c7c76d30bd3dcaefc96f40275bdc0a" category="cell">50</block>
  <block id="3f74a886c7f841699690962c497d4f30" category="paragraph">15000</block>
  <block id="4f5a6f8b41826526724ba294b8e056bd" category="paragraph">最大 IOPS</block>
  <block id="4e41c5ccaf1affa697729ea4d1e88554" category="paragraph">パフォーマンスはこの制限を超えません。</block>
  <block id="e05695d29cb4a9339534e5a9c273fa14" category="paragraph">200,000</block>
  <block id="affd4aba1c5f696e972368c9eb698c65" category="paragraph">バースト IOPS</block>
  <block id="2734923c054f38d8ca66133414af4469" category="paragraph">短時間のバースト時に許容される最大 IOPS 。</block>
  <block id="e2eb05f1ef7720127ac371ceddc6f433" category="admonition">Max IOPS と Burst IOPS は最大 200 、 000 に設定できますが、実際のボリュームの最大パフォーマンスは、クラスタの使用量とノードごとのパフォーマンスによって制限されます。</block>
  <block id="fa9b1a3006e0ba9ad904c059c0b9add6" category="inline-link">SolidFire のサービス品質</block>
  <block id="b4657825f74ed622384dddf3a1d7d3b7" category="section-title">SolidFire 認証</block>
  <block id="9d3b5ff1cde828a63203f0465a34a967" category="paragraph">Element では、認証方法として CHAP とボリュームアクセスグループ（ VAG ）の 2 つがサポートされています。CHAP は CHAP プロトコルを使用して、バックエンドへのホストの認証を行います。ボリュームアクセスグループは、プロビジョニングするボリュームへのアクセスを制御します。CHAP はシンプルで拡張性に制限がないため、認証に使用することを推奨します。</block>
  <block id="fc9e812321a3f9b0eab1b702a08bab4e" category="admonition">Trident と強化された CSI プロビジョニングツールは、 CHAP 認証の使用をサポートします。VAG は、従来の CSI 以外の動作モードでのみ使用する必要があります。</block>
  <block id="d23eaa75b7bd1405526da0e18b7290ac" category="paragraph">CHAP 認証（イニシエータが対象のボリュームユーザであることの確認）は、アカウントベースのアクセス制御でのみサポートされます。認証に CHAP を使用している場合は、単方向 CHAP と双方向 CHAP の 2 つのオプションがあります。単方向 CHAP は、 SolidFire アカウント名とイニシエータシークレットを使用してボリュームアクセスを認証します。双方向の CHAP オプションを使用すると、ボリュームがアカウント名とイニシエータシークレットを使用してホストを認証し、ホストがアカウント名とターゲットシークレットを使用してボリュームを認証するため、ボリュームを最も安全に認証できます。</block>
  <block id="42d135bea104c1079cebd1543c89e970" category="paragraph">ただし、 CHAP を有効にできず VAG が必要な場合は、アクセスグループを作成し、ホストのイニシエータとボリュームをアクセスグループに追加します。アクセスグループに追加した各 IQN は、 CHAP 認証の有無に関係なく、グループ内の各ボリュームにアクセスできます。iSCSI イニシエータが CHAP 認証を使用するように設定されている場合は、アカウントベースのアクセス制御が使用されます。iSCSI イニシエータが CHAP 認証を使用するように設定されていない場合は、ボリュームアクセスグループのアクセス制御が使用されます。</block>
  <block id="b4931a42b69dbf4e721e7b97873b1ebb" category="section-title">詳細情報の入手方法</block>
  <block id="2c3a4d5c923121574c10ea22c0474a01" category="inline-link">NetApp ライブラリ</block>
  <block id="65840df7365892d2abe1280cb6cdb1d2" category="paragraph">ベストプラクティスのドキュメントの一部を以下に示します。を検索します<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> 最新バージョンの場合。</block>
  <block id="d911b17f4f4cdcca62a04ad77aa9403d" category="paragraph">* ONTAP *</block>
  <block id="f9dd52d280693dc59e53b6e1fb7bd801" category="inline-link">『 NFS Best Practice and Implementation Guide 』を参照してください</block>
  <block id="5ca34d6ffc2a555b689542e3fbeeb7af" category="inline-link">RHEL 向けの iSCSI のクイック構成</block>
  <block id="36588ac65dcdb9b93916fb0ab708edb3" category="list-text"><block ref="36588ac65dcdb9b93916fb0ab708edb3" category="inline-link-rx"></block></block>
  <block id="ca7ab5ec4cba84fbef55956bb38759ce" category="paragraph">* Element ソフトウェア *</block>
  <block id="e809d9f88c2933195c4d2ab379c1b5dc" category="inline-link">SolidFire for Linux を設定しています</block>
  <block id="ce0470e08aa854a8f93fa119434e8422" category="list-text"><block ref="ce0470e08aa854a8f93fa119434e8422" category="inline-link-rx"></block></block>
  <block id="d64280eb12d42bb67976ffba6d268e7b" category="paragraph">* NetApp HCI *</block>
  <block id="3bc72bedcc42d144356d4f933c48485d" category="inline-link">NetApp HCI 導入の前提条件</block>
  <block id="85bfffc1a1f7aaabd6cf58841640c308" category="list-text"><block ref="85bfffc1a1f7aaabd6cf58841640c308" category="inline-link-rx"></block></block>
  <block id="b52e411998b7d3a95ad5bd8a320bf271" category="inline-link">NetApp Deployment Engine にアクセスします</block>
  <block id="9d0da73b02655dd7861121905db229e2" category="list-text"><block ref="9d0da73b02655dd7861121905db229e2" category="inline-link-rx"></block></block>
  <block id="9aaca8cfd79770bc4944ccc477e37141" category="paragraph">* アプリケーションのベストプラクティス情報 *</block>
  <block id="27a5e02bc2fadee43ace94805739a0c8" category="inline-link">ONTAP での MySQL に関するベストプラクティスです</block>
  <block id="17efdd7d210511985714be299d595292" category="inline-link">SolidFire での MySQL に関するベストプラクティスです</block>
  <block id="d03b53d8ec563c37e16ee8c900a75b96" category="list-text"><block ref="d03b53d8ec563c37e16ee8c900a75b96" category="inline-link-rx"></block></block>
  <block id="3aefe1a041af945f1fe8673bf775057b" category="inline-link">NetApp SolidFire および Cassandra</block>
  <block id="6e580111d3a8c12cdcd9522a4d3484c6" category="inline-link">SolidFire での Oracle のベストプラクティス</block>
  <block id="6448cf37496207be126495e5b05851de" category="inline-link">SolidFire での PostgreSQL のベストプラクティスです</block>
  <block id="b062996d6ca590abe798d3db75561f79" category="paragraph">すべてのアプリケーションに具体的なガイドラインがあるわけではありません。そのためには、ネットアップのチームと協力し、を使用することが重要です<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> 最新のドキュメントを検索できます。</block>
  <block id="1fdc23c8579638d050b7b219da011f2b" category="section-title">ドライバの選択と展開</block>
  <block id="815a377da65ae5b66c84438c43416d82" category="paragraph">アプリケーションに共有ストレージを必要とするコンポーネント（同じ PVC にアクセスする複数のポッド）がある場合、 NAS ベースのドライバがデフォルトで選択されますが、ブロックベースの iSCSI ドライバは非共有ストレージのニーズを満たします。アプリケーションの要件と、ストレージチームとインフラチームの快適さレベルに基づいてプロトコルを選択してください。一般的に、ほとんどのアプリケーションでは両者の違いはほとんどないため、共有ストレージ（複数のポッドで同時にアクセスする必要がある場合）が必要かどうかに基づいて判断することがよくあります。</block>
  <block id="c2c889ded63fbe94cf7f1d5fe4747b2d" category="list-text">[ONTAP-NAS] ：プロビジョニングされた各 PV は、フル ONTAP FlexVol です。</block>
  <block id="9418583a1b7e700d24bcc735aa4682b5" category="list-text">「 ONTAP-NAS-エコノミー 」：プロビジョニングされた各 PV は qtree で、 FlexVol あたりの qtree 数を設定できます（デフォルトは 200 ）。</block>
  <block id="bc8f11db54909209ba09d55ee0b46990" category="list-text">「 ONTAP-NAS-flexgroup 」：フル ONTAP FlexGroup としてプロビジョニングされた各 PV と、 SVM に割り当てられたすべてのアグリゲートが使用されます。</block>
  <block id="5e587346b7a212ee6429303276a1578b" category="list-text">「 ONTAP - SAN 」：プロビジョニングされた各 PV は、固有の FlexVol 内の LUN です。</block>
  <block id="85f6f5093b037b5bde3201d8136ee585" category="list-text">「 ONTAP-SAN-エコノミー 」：各 PV がプロビジョニングされた LUN で、 FlexVol あたりの LUN 数を設定できます（デフォルトは 100 ）。</block>
  <block id="f1d8371af632688748db007c98766ded" category="paragraph">3 つの NAS ドライバの間で選択すると、アプリケーションで使用できる機能にいくつかの影響があります。</block>
  <block id="6252699c8e049f40eaf187092727a531" category="cell">ONTAP NAS ドライバ</block>
  <block id="9147e5e61a7b9260dec09f3a6eb3e5be" category="cell">Snapshot</block>
  <block id="999cc42b236c7aee1157ff02d6f1bcd5" category="cell">クローン</block>
  <block id="13bc190bfed9f972b3e33e3656737cdd" category="cell">動的なエクスポートポリシー</block>
  <block id="ab0c646b4c5e36d9bcf8239d97fd1843" category="cell">マルチアタッチ</block>
  <block id="8f2db90dd4a6fbd95ba8f0bc54fd6b27" category="cell">QoS</block>
  <block id="9d723d04c40bfd81835c0766a698cf63" category="cell">サイズ変更</block>
  <block id="8c340dc334134096f68b880b42a8692c" category="cell">レプリケーション</block>
  <block id="00055dac2ba112b87a95a368075b9561" category="cell">「 ONTAP - NAS 」</block>
  <block id="6bfc395e3d384b30d9f43ca45b1eeff7" category="cell">○脚注： 5[]</block>
  <block id="7c078cb746c3dd22969c07747fd7f3fc" category="cell">○脚注： 1[]</block>
  <block id="cecdaed309330a9e7dea16b2076957ee" category="cell">「 ONTAP - NAS - エコノミー」</block>
  <block id="2b8ac774302bd45e0ad531e434d8cd6d" category="cell">「 ONTAP-NAS-flexgroup 」</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="cell">いいえ</block>
  <block id="f916141465c67326e5d7d980bff2880b" category="cell">ONTAP SAN ドライバ</block>
  <block id="4f546cdc5f90f7d264cde89d14c6e015" category="cell">双方向 CHAP</block>
  <block id="cd17e7ed84c40a0ff5ecb8b625b1f186" category="cell">「 ontap - san 」</block>
  <block id="e78e01b4457814be0584f80618e4659a" category="cell">○脚注： 4[]</block>
  <block id="73b781a615cea2647a87ff2035e296b1" category="cell">「 ONTAP - SAN - エコノミー」</block>
  <block id="74b4b41be17ac9897921032dfd4e94a8" category="paragraph">PV に細分化されていない機能は FlexVol 全体に適用され、 PVS （共有 FlexVol 内の qtree または LUN ）にはすべて共通のスケジュールが適用されます。</block>
  <block id="b483d59c54aea739f0806cf2f30c057e" category="paragraph">上の表に示すように 'ONTAP-NAS' と「 ONTAP-NAS-エコノミー 」の機能の多くは同じですしかし 'ONTAP-NAS-エコノミー のドライバは ' スケジュールを PV 単位で制御する機能を制限するため ' これは特に災害復旧やバックアップ計画に影響を与える可能性がありますONTAP ストレージ上で PVC クローン機能を活用したい開発チームの場合 ' これは 'ONTAP-NAS' ONTAP -SAN' または ONTAP -SAN' のいずれかのドライバを使用する場合にのみ可能です</block>
  <block id="45f7f2e55c0930a28d1a9e481e602a09" category="admonition">「 olidfire -san 」ドライバは PVC のクローン作成にも対応しています。</block>
  <block id="e040ac9827d856d3ad8ae9ac0da92295" category="paragraph">NetApp HCI / SolidFire プラットフォームで使用される「 olidfire -SAN」 ドライバは、管理者が QoS 制限に基づいて Trident の Element バックエンドを構成するのに役立ちます。Trident によってプロビジョニングされるボリュームに特定の QoS 制限を設定するためにバックエンドを設計する場合は、バックエンドファイルの「 type 」パラメータを使用します。管理者は 'limitVolumeSize' パラメータを使用して ' ストレージ上に作成できるボリューム・サイズを制限することもできます現在、ボリュームのサイズ変更やボリュームのレプリケーションなどの Element ストレージ機能は、 'olidfire-san' ドライバではサポートされていません。これらの処理は、 Element ソフトウェアの Web UI から手動で実行する必要があります。</block>
  <block id="77e9d6f249e4626d5b5c3aec863459d3" category="cell">SolidFire ドライバ</block>
  <block id="9ef2bbb12ff72558472202561a25058d" category="cell">CHAP</block>
  <block id="57ee8ed0b2796ea5f35b10f9ae5d68cd" category="cell">「 olidfire -san 」</block>
  <block id="0929973a1c9993903f6193add75b3fcf" category="cell">○脚注： 2 []</block>
  <block id="4da613089cbda3d7c19cb4b3f67c1f5d" category="cell">Azure NetApp Files ドライバ</block>
  <block id="8098b34f582537833b36b58273c3545b" category="cell">を展開します</block>
  <block id="e228843381960c06d1035c4219901307" category="cell">「 azure-NetApp-files 」と入力します</block>
  <block id="1d326a2a7f267c800fe3eafb89e5c7cd" category="inline-link-macro">サービスタイプ</block>
  <block id="949a374fc5a78d436e3067ee2de19cbe" category="cell">「 gcp-cvs 」</block>
  <block id="3af6198d49c40c18f13c73c5ce15cf34" category="section-title">ストレージクラスの設計</block>
  <block id="388bdf78cbb5b6bf4248ddf5613f7cc3" category="paragraph">Kubernetes ストレージクラスオブジェクトを作成するには、個々のストレージクラスを設定して適用する必要があります。このセクションでは、アプリケーション用のストレージクラスの設計方法について説明します。</block>
  <block id="a09acd5f665bdf96b6dce47f8d4265e3" category="paragraph">フィルタリングは、特定のストレージクラスオブジェクト内で使用でき、そのストレージクラスで使用するストレージプールまたはプールのセットを決定します。ストレージクラスでは '`toragePools'additionalStoragePools'excludeStoragePools'' の 3 セットのフィルタを設定できます</block>
  <block id="74476e892d2681775eb41ec00a11e8da" category="paragraph">excludeStoragePools' パラメータを使用して ' 属性に一致するプールの一覧を除外します</block>
  <block id="ab807e6bd2f9cb9872eed98161bdd4e1" category="paragraph">ストレージクラスを設計して Quality of Service ポリシーをエミュレートする場合は ' 「メディア」属性を「 hdd 」または「 sd 」として ' ストレージクラスを作成しますストレージクラスで言及されている「メディア」属性に基づいて、 Trident は「 hdd 」アグリゲートまたは「 sd 」アグリゲートにメディア属性と一致させる適切なバックエンドを選択し、ボリュームのプロビジョニングを特定のアグリゲートに誘導します。したがって、「メディア」属性が「 SD 」に設定されているストレージクラス Premium を作成して、プレミアム QoS ポリシーに分類できます。メディア属性を「 hdd 」に設定し、標準の QoS ポリシーとして分類できる、別のストレージクラス標準を作成できます。また、ストレージクラスの「 IOPS 」属性を使用して、 QoS ポリシーとして定義できる Element アプライアンスにプロビジョニングをリダイレクトすることもできます。</block>
  <block id="0bc0e72aefbf8f8ec0b28cc0486f98a2" category="paragraph">ストレージクラスは、シンプロビジョニングとシックプロビジョニング、 Snapshot 、クローン、暗号化などの機能が有効になっている特定のバックエンドでボリュームを直接プロビジョニングするように設計できます。使用するストレージを指定するには、必要な機能を有効にしてバックエンドに適したストレージクラスを作成します。</block>
  <block id="421f7dd5bb37a6401aa6326ad33dae20" category="section-title">ストレージプロビジョニングに影響する PVC 特性</block>
  <block id="5ab83f35784f154d55ea7ab58c8e503b" category="section-title">アクセスモード</block>
  <block id="f3882c83b41b76a9fac2c57407f3ac2b" category="paragraph">PVC 経由でストレージを要求する場合、必須フィールドの 1 つがアクセスモードです。必要なモードは、ストレージ要求をホストするために選択されたバックエンドに影響を与える可能性があります。</block>
  <block id="cac415feda213697b27d3b6fce10d33a" category="cell">ReadWriteOnce コマンドを使用します</block>
  <block id="c24ad3d99a666c95edd149419c958ee0" category="cell">ReadOnlyMany</block>
  <block id="caa8dc1f4bb28d2d11226494cd05a123" category="cell">ReadWriteMany</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="cell">iSCSI</block>
  <block id="cefb8ccdebef1940174b22e9d0ab530b" category="cell">○（ Raw ブロック）</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="823f2153adc2211a0777560eafdcbad6" category="paragraph">NFS バックエンドが設定されていない Trident 環境に送信された ReadWriteMany PVC が要求された場合、ボリュームはプロビジョニングされません。このため、リクエスタは、アプリケーションに適したアクセスモードを使用する必要があります。</block>
  <block id="5a51acb2538e54805c54d37ebb49c75d" category="section-title">ボリューム操作</block>
  <block id="26fad327e23b6b08dcc94300bfe1ed04" category="section-title">永続ボリュームの変更</block>
  <block id="b1d1874782626fe3f391628ea493e6ef" category="paragraph">作成後に PV の接続の詳細を変更することはできません。</block>
  <block id="e68591655c8031177206e1e75728853f" category="section-title">オンデマンドのボリューム Snapshot を作成</block>
  <block id="f007c56a8eb121e8a696105e69aefa68" category="section-title">Snapshot からボリュームを作成します</block>
  <block id="55a3309b0b6646e0ea6b47195bd3d4bd" category="section-title">クラスタ内でボリュームを移動します</block>
  <block id="2243e252be826d6ec5e767668d9f961d" category="section-title">ボリュームを展開します</block>
  <block id="40a28a40c11a193f8911cf4143a6ae6a" category="section-title">既存のボリュームを Kubernetes にインポートする</block>
  <block id="3a8b25f50e2dcc298175abc8f6a71f82" category="paragraph">特定のインポートされた PVC を必要とするようにコンテナを導入した場合、ボリュームインポートプロセスによって PVC/PV ペアがバインドされるまで、コンテナは保留状態のままになります。PVC/PV ペアがバインドされると、他に問題がなければコンテナが起動します。</block>
  <block id="6dd8f6c286b8e1a8c96c6309099f0003" category="section-title">レジストリサービス</block>
  <block id="68ee1c4c0da20bfd1e946df20351d4b9" category="inline-link-macro">netapp.io のコマンドです</block>
  <block id="126ac9f6149081eb0e97c2e939eaad52" category="inline-link-macro">ブログ</block>
  <block id="34d357a7f8cc47e860d5fb0a317cf22d" category="paragraph">レジストリのストレージの導入と管理については、に記載されています <block ref="d5e1883ebd095c0eda96c44469e8197d" category="inline-link-macro-rx"></block> を参照してください <block ref="ceb73d0582d40281d79011a1e5343e89" category="inline-link-macro-rx"></block>。</block>
  <block id="62ac236856a5a6aefd15133e967514c6" category="section-title">ロギングサービス</block>
  <block id="2f3052b6a2858bec8355ec56150f6a38" category="paragraph">他の OpenShift サービスと同様に、ログ記録サービスは、 Ansible と、インベントリファイル（別名）で提供される構成パラメータを使用して導入されますホスト。プレイブックに含まれています。ここでは、 OpenShift の初期インストール時にロギングを導入し、 OpenShift のインストール後にロギングを導入するという、 2 つのインストール方法について説明します。</block>
  <block id="57cad4852c9c2e439f61728e0391fe7b" category="paragraph">ロギング・サービスで NFS を使用する場合は、インストーラが失敗しないように、 Ansible 変数「 OpenShift 」の「 OpenShift 」 enable_unsupported _configurations 」を「 true 」に設定する必要があります。</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="section-title">はじめに</block>
  <block id="16e90b2336fdfec64b19194247422194" category="paragraph">ロギングサービスは、必要に応じて、両方のアプリケーションに導入することも、 OpenShift クラスタ自体のコア動作に導入することもできます。オペレーション・ログを配置する場合 ' 変数 OpenShift の logging_use_ops を true として指定すると ' サービスの 2 つのインスタンスが作成されます操作のロギングインスタンスを制御する変数には「 ops 」が含まれ、アプリケーションのインスタンスには含まれません。</block>
  <block id="02098b11f876fe10c40b6106bd9864da" category="paragraph">次の表の変数では、入力した詳細を使用してロギングサービスの PV と PVC を作成する Ansible プレイブックが作成されます。この方法は、 OpenShift インストール後にコンポーネントインストールプレイブックを使用するよりもはるかに柔軟性に劣るが、既存のボリュームがある場合はオプションとなります。</block>
  <block id="47c14840d8e15331fa420b9b2f757cd9" category="cell">変数（ Variable ）</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">詳細</block>
  <block id="9aa2fd43742cd5ed36b406b3f4b0fd8c" category="cell">「 OpenShift 」ロギング・ストレージ・タイプ</block>
  <block id="3260b06ea72e4931f5fb5106001fcc28" category="cell">インストーラがログサービス用の NFS PV を作成するように 'NFS' に設定します</block>
  <block id="e95f43173c69a9ca544d4aaef28a4d90" category="cell">「 OpenShift 」ロギング・ストレージ・ホスト</block>
  <block id="41aae586bb7044d7741fe9412aa81e03" category="cell">「 OpenShift 」ロギング・ストレージ・ NFS_DIRECT'</block>
  <block id="bf2d137d8c669b07aae26040c7e5c0e0" category="cell">NFS エクスポートのマウントパス。たとえば、ボリュームが「 /OpenShift _logging 」としてジャンクションされている場合、この変数にそのパスを使用します。</block>
  <block id="88a9f7d18fabb82d63ac43c64ae6e735" category="cell">「 OpenShift 」ロギング・ストレージ・ボリューム名</block>
  <block id="6f8782c23f3cb958d0de4fad76dabaed" category="cell">作成する PV の名前（「 pv_ose_logs 」など）。</block>
  <block id="789e0dc4bfc00f5c885a698d6ab34dff" category="cell">「 OpenShift 」ロギング・ストレージ・ボリューム・サイズ</block>
  <block id="b68f05ea52c8c80c07e6a4c0671c75bf" category="cell">NFS エクスポートのサイズ（例： 100Gi ）</block>
  <block id="2ab80b6965298dc6a178995bbedebe88" category="paragraph">OpenShift クラスタがすでに実行中で、そのため Trident を導入して設定した場合、インストーラは動的プロビジョニングを使用してボリュームを作成できます。次の変数を設定する必要があります。</block>
  <block id="c2aecf833d743cbc47969cd85c67101e" category="cell">'OpenShift の logging_es_vpc_dynamic</block>
  <block id="540ad9a52084720ddb7f364fa8b304c6" category="cell">動的にプロビジョニングされたボリュームを使用する場合は true に設定します。</block>
  <block id="45a481a75749c5331e7e9fd7d89e473d" category="cell">「 OpenShift logging _es_vpc_storage_class_name 」</block>
  <block id="837ffa1e281409660ed25582c5b1963f" category="cell">PVC で使用されるストレージクラスの名前。</block>
  <block id="cd3daa927272b5624e96d283365d5500" category="cell">「 OpenShift logging _es_vpc_size 」を参照してください</block>
  <block id="8f80d278a79cbc84b80a091713006022" category="cell">PVC で要求されたボリュームのサイズ。</block>
  <block id="1bb0c7eeef4bbbefae080a294fd554b0" category="cell">「 OpenShift logging _es_vpc_prefix 」を参照してください</block>
  <block id="f870ec92e294a018a17afe7a614fb5bb" category="cell">ロギングサービスで使用される PVC のプレフィックス。</block>
  <block id="e8c62e1f0f0773ae5ba6a7acad696b2d" category="cell">'OpenShift の logging_es_ops_pvc_dynamic</block>
  <block id="46e65a11ac398c02b8fce45a7cd5cf36" category="cell">動的にプロビジョニングされたボリュームを ops ロギングインスタンスに使用するには、「 true 」に設定します。</block>
  <block id="8792c7234e14325cb68c493d20ab5154" category="cell">「 OpenShift logging _es_ops_pvc_storage_class_name 」を参照してください</block>
  <block id="d016f79f0ee104f3805d61e6a379fb9b" category="cell">処理ロギングインスタンスのストレージクラスの名前。</block>
  <block id="048e768365962d7d520567f92aea8355" category="cell">'OpenShift logging _es_ops_pvc_size</block>
  <block id="bc367f89ac597585e52d0eb58a5929ae" category="cell">処理インスタンスのボリューム要求のサイズ。</block>
  <block id="155871626071d69cb283985a9f36bad2" category="cell">「 OpenShift logging _es_ops_pvc_prefix 」を参照してください</block>
  <block id="2a8f254749a466654f556c6466051133" category="cell">ops インスタンス PVC のプレフィックス。</block>
  <block id="e1b2d0d3228c29c069bcd139de306709" category="section-title">ロギングスタックを導入します</block>
  <block id="0409a0cfdfa4f3b3033503b8309442ff" category="paragraph">初期の OpenShift インストールプロセスの一部としてロギングを導入する場合、標準の導入プロセスに従うだけで済みます。Ansible は、必要なサービスと OpenShift オブジェクトを構成および導入して、 Ansible が完了したらすぐにサービスを利用できるようにします。</block>
  <block id="3dbf527ac3caf41ab150ec99a1737217" category="section-title">指標サービス</block>
  <block id="69aa4440020e49c654aeb910f38c6bb9" category="admonition">以下の表には、指標サービスに関連するストレージ構成に関連する変数のみが含まれています。このドキュメントには、他にも導入環境に応じて確認、設定、使用できるオプションが多数あります。</block>
  <block id="4f692d78f978a73b157571022c1d1ba7" category="cell">「 OpenShift _ metrics _ storage _kind 」</block>
  <block id="30da7e263c0cffc34933d24a07fb097a" category="cell">「 OpenShift _ metrics _storage_host 」というようになります</block>
  <block id="3bafc264ad2a901d3be052a7f1cf2e44" category="cell">「 OpenShift _ metrics _storage_nfs_directory 」というエラーが表示されます</block>
  <block id="459859e54ba90bc4145c54d1f1deecff" category="cell">NFS エクスポートのマウントパス。たとえば、ボリュームが「 /OpenShift メトリック」としてジャンクションされている場合は、この変数にそのパスを使用します。</block>
  <block id="ca0f0d82f9c7cbc36df652cddd4b2f35" category="cell">「 OpenShift _ metrics _storage_volume_name 」という形式で指定します</block>
  <block id="eb10d02b22b02d7f543f867b8d31e7b0" category="cell">作成する PV の名前（「 pv_ose_metrics 」など）。</block>
  <block id="a3eeeafe923ac73e75b3bf33cdadb603" category="cell">「 OpenShift _ metrics _storage_volume_size 」というようになります</block>
  <block id="a56c731cfe96d228c7c0bcc57bc80d3d" category="cell">「 OpenShift _ metrics _ cassandra_vpc_prefix 」という形式で指定します</block>
  <block id="0da919d4045e4f38d294aaec73f5d57f" category="cell">メトリック PVC に使用するプレフィックス。</block>
  <block id="15bb3eef0b42a93e324977c289f2fd85" category="cell">「 OpenShift _ metrics _ cassandra_vp_size' 」のようになります</block>
  <block id="75929c9d67f1407282b5618fca4589e7" category="cell">要求するボリュームのサイズ。</block>
  <block id="8ebb493e0ffdf7c1e850c67bc22f15c7" category="cell">「 OpenShift _ metrics _ cassandra_storage_type 」のようになります</block>
  <block id="aab0ec84a4da1dfd2b63896453f1e05d" category="cell">指標に使用するストレージのタイプ。適切なストレージクラスを使用して PVC を作成するには、 Ansible に対してこれを dynamic に設定する必要があります。</block>
  <block id="460aaf3805271ec2e5dc35755fe317b1" category="cell">「 OpenShift _ metrics _cassanda_pvc_storage_class_name 」という形式で指定します</block>
  <block id="0c55ca33e89539cd67eb0be3796547c5" category="cell">使用するストレージクラスの名前。</block>
  <block id="6c13e62eb53f29e7794d3807369299d2" category="section-title">指標サービスを導入する</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">手順</block>
  <block id="db5eb84117d06047c97c9a0191b5fffe" category="doc">サポート</block>
  <block id="5ff3faebb0ff710340bdbee89a4667ad" category="doc">オペレータにアップグレードしてください</block>
  <block id="199ed8c975e8bb544d18428ba17adbc3" category="inline-link">GitHub の問題の詳細</block>
  <block id="4ab464bddccdcbc36fab4cea802025f9" category="list-text">マニフェストから「 tridentオーケストラ 」 CRD を作成します。</block>
  <block id="558ab0bef1894a7a726109d36632d09d" category="inline-link-macro">既知の問題</block>
  <block id="9c83e144e5481ac6766f4055e566594d" category="section-title">詳細については、こちらをご覧ください</block>
  <block id="48cf24486d9a8e65a142b25682f19949" category="cell">ドライバ</block>
  <block id="888a77f5ac0748b6c8001822417df8b6" category="cell">プロトコル</block>
  <block id="1b5e109e8afd1f9b7f5bbf951eea3442" category="cell">ボリュームモード</block>
  <block id="d5e2d9f8d8f10044e38b71b49e675d2e" category="cell">サポートされているアクセスモード</block>
  <block id="15971126972a002fcddb2c507534e371" category="cell">サポートされるファイルシステム</block>
  <block id="ac52cf637478f3656a1fdee5c02324fd" category="paragraph">ファイルシステム</block>
  <block id="e1e4c8c9ccd9fc39c391da4bcd093fb2" category="paragraph">ブロック</block>
  <block id="a029cca698cbf05f07897f86c43cf9e8" category="paragraph">「 xfs 」、「 ext3 」、「 ext4 」</block>
  <block id="4bd05efa612e48dd723de2bdd29f88e2" category="section-title">サポートされる Kubernetes クラスタアーキテクチャ</block>
  <block id="c91cda04d3ac5ae2da327d347d4bbefe" category="cell">Kubernetes クラスタアーキテクチャ</block>
  <block id="eaa4dc5078017a5c5bebf383ab6f5124" category="cell">サポートされます</block>
  <block id="c0057eecd4b1a67d11dc801b8992a574" category="cell">デフォルトのインストールです</block>
  <block id="0c69c79a8788e0e4572d0c4838e69401" category="cell">単一マスター、コンピューティング</block>
  <block id="1fc3441370ae575a64d605fcd15a05fd" category="cell">複数のマスター、コンピューティング</block>
  <block id="7cb2eb9488f3532834f7ef233ae894dd" category="cell">マスター、「 etcd' 」、コンピューティング</block>
  <block id="5e5f49db20e29f6377e57e98932dae57" category="cell">マスター、インフラ、コンピューティング</block>
  <block id="2a778cf7220cdde142651975e1bcd90f" category="paragraph">仮想プールリストの外部で指定されたすべての要素はバックエンドにグローバルであり、すべての仮想プールに適用されます。一方、各仮想プールは、 1 つまたは複数の要素を個別に指定できます（バックエンドグローバルな要素を上書きします）。</block>
  <block id="e1b3ec89ead7f83a9245ed5c9cacfdbf" category="cell">演算子</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="cell">例</block>
  <block id="499badcb6f450c7f46c51d873eb84286" category="cell">`=`</block>
  <block id="354653142ec321459dfd6d71444e992e" category="cell">パフォーマンス = プレミアム</block>
  <block id="5a5292b0a0d0379f0f1b12801b09b266" category="cell">`!= `</block>
  <block id="eccde6822783bd75209c9b6a2d357f6c" category="cell">パフォーマンス！ = 非常に優れています</block>
  <block id="ae2bef277194f73d24a36a78009aac1e" category="cell">「 in`</block>
  <block id="f8cf8c23afb5459dbf7c24b685caf85b" category="cell">場所（東部、西部）</block>
  <block id="1a031eecbce49366e550273b9321b909" category="cell">「 notin 」</block>
  <block id="b5585f3f9b45f391fee5dd15e6516450" category="cell">パフォーマンス記名（シルバー、ブロンズ）</block>
  <block id="b4621305109716b02eed0cf25fabab13" category="doc">ボリュームアクセスグループ</block>
  <block id="33911b1eec54b4b5a7fbc504e6569989" category="inline-link">ボリュームアクセスグループ</block>
  <block id="e9c3828cd06711f9036bb4ce862a32c5" category="doc">ボリューム Snapshot</block>
  <block id="9dbabbadda024bb7b1d0db43ab31b45f" category="list-text">「 olidfire-SAN' ドライバの場合、各 PV は NetApp Element ソフトウェア / NetApp HCI クラスタ上に作成された LUN にマッピングされます。ボリューム Snapshot は、基盤となる LUN の Element Snapshot で表されます。これらの Snapshot はポイントインタイムコピーであり、消費するシステムリソースとスペースはごくわずかです。</block>
  <block id="89c3bcf0ecc1114f8d19734d9156cb40" category="doc">プロビジョニング</block>
  <block id="af2a4d2810d86aa0169c117f82682f9a" category="doc">よくある質問</block>
  <block id="96ab491ef73d5db0cd15f55e1552cc22" category="section-title">一般的な質問</block>
  <block id="92d1656d06303733c5e1398fb273a17e" category="section-title">トラブルシューティングとサポート</block>
  <block id="a3d907947129a58ee6f9e23074840c8f" category="section-title">サポートケースを作成するにはどうすればよいですか？</block>
  <block id="0265687df6c09d532b03477776c6d075" category="paragraph">サポートケースを作成するには、次のいずれかを実行します。</block>
  <block id="5dab8cca21a0ff4e72d4e2a1ee5156ea" category="list-text">サポートアカウントマネージャーに連絡して、チケットの発行に関するサポートを受けてください。</block>
  <block id="09ea0908fbfc4cde85bf416e35dc55c8" category="inline-link">ネットアップサポート</block>
  <block id="a13956d424374973d31e5883b8bf8b6a" category="list-text">連絡してサポートケースを作成します<block ref="116f7ad90a3c7441981f82d8f8fba4d5" category="inline-link-rx"></block>。</block>
  <block id="3e77e87e5ee8fb4f6f910f4cf0594fc2" category="section-title">サポートログバンドルを生成するにはどうすればよいですか？</block>
  <block id="7938aed248d09a5120eaf414e6c1d574" category="paragraph">tridentctl logs-a を実行して ' サポートバンドルを作成できますバンドルでキャプチャされたログに加えて、 kubelet ログをキャプチャして、 Kubernetes 側のマウントの問題を診断します。kubelet ログの取得手順は、 Kubernetes のインストール方法によって異なります。</block>
  <block id="2c3543f339dc749a508ed5e5e5aaae23" category="section-title">新しい機能のリクエストを発行する必要がある場合は、どうすればよいですか。</block>
  <block id="0aa1d7a95d75c0faa8302a803356b7b7" category="section-title">不具合を発生させる場所</block>
  <block id="bcd549c9f0199c5b8d0b55f782bff9e8" category="section-title">Trident ポッドが破損すると、データは失われますか？</block>
  <block id="3de05f78e401869f4630ec8cabf339df" category="section-title">古いバージョンから新しいバージョンに直接アップグレードできますか（いくつかのバージョンはスキップします）？</block>
  <block id="0399b9e6348e554937a4d65efc97a1b8" category="section-title">Trident を以前のリリースにダウングレードできますか。</block>
  <block id="ba9c59aa9d07b25e124dcf6ca88d689a" category="section-title">バックエンドとボリュームを管理</block>
  <block id="4c0e813a0bfed033d75bbfd8b18f556c" category="section-title">バックエンドの管理 LIF を更新できますか。</block>
  <block id="66d8fee83a94421ca416a2bdb33703b4" category="paragraph">はい。 tridentctl update backend コマンドを使用してバックエンド管理 LIF を更新できます。</block>
  <block id="c6e9fbb586ad55ddf4bbda9814c6adc9" category="paragraph">バックエンド属性を使用してクラスに適切なプールを自動的に選択できない場合は 'toragePools' パラメータと additionalStoragePools' パラメータを使用して ' 特定のプールセットを選択します</block>
  <block id="b127099c71415d532da3a26ed73eb041" category="paragraph">はい。</block>
  <block id="abbdd4298bb3e525fd172b2bbe5a451c" category="section-title">ONTAP NAS でプロビジョニングされたボリュームに UNIX アクセス権を設定するにはどうすればよいですか。</block>
  <block id="094ef47e6456d60b656401b0f2bbfcbd" category="section-title">ボリュームをプロビジョニングする際に、明示的な ONTAP NFS マウントオプションを設定するにはどうすればよいですか。</block>
  <block id="ae6bc3659bb0be0a7d9f98a63775b7c2" category="section-title">プロビジョニングしたボリュームを特定のエクスポートポリシーに設定するにはどうすればよいですか？</block>
  <block id="700a2008fea63d02c24b85f2f75d357e" category="paragraph">適切なホストにボリュームへのアクセスを許可するには、バックエンド定義ファイルに設定されている「 exportPolicy 」パラメータを使用します。</block>
  <block id="f412d672b51ea3c57812ebf3be0ddccb" category="paragraph">ONTAP の QoS を実装するには、「 torageClasses 」を使用します。</block>
  <block id="0d97afe7a571dc39db1c810013844332" category="paragraph">ONTAP ドライバは、シンプロビジョニングまたはシックプロビジョニングをサポートします。ONTAP ドライバはデフォルトでシンプロビジョニングに設定されています。シックプロビジョニングが必要な場合は、バックエンド定義ファイルまたは「 torageClass 」を設定する必要があります。両方が設定されている場合は、「 torageClass 」が優先されます。ONTAP で次の項目を設定します。</block>
  <block id="2d0384de8b72e53c3476a478a5d4ec53" category="list-text">'S torageClass' で 'provisioningType' 属性を thick に設定します</block>
  <block id="3764067c4b14276efb241c511c8b0cc2" category="list-text">バックエンド定義ファイルで 'backend spaceReserve パラメータを volume に設定して ' シックボリュームを有効にします</block>
  <block id="d4391b26a81fead46afc74243c4029aa" category="section-title">誤って PVC を削除した場合でも、使用中のボリュームが削除されないようにするにはどうすればよいですか。</block>
  <block id="e58a684cd1a44d4879defbb2ec06b9a4" category="paragraph">Kubernetes では、バージョン 1.10 以降、 PVC 保護が自動的に有効になります。</block>
  <block id="3319194e0ba07a6aa327aefa1ab1e41f" category="section-title">ボリュームが SnapMirror データ保護（ DP ）モードまたはオフラインモードの間にインポートできますか。</block>
  <block id="0b10afe39923054016a71caf423fdec6" category="paragraph">外部ボリュームが DP モードになっているかオフラインになっている場合、ボリュームのインポートは失敗します。次のエラーメッセージが表示されます。</block>
  <block id="eed67b2d196c61d9c6cf4a50878ba446" category="section-title">リソースクォータをネットアップクラスタに変換する方法</block>
  <block id="0bdcd128fab544a7df404bc496a4126e" category="paragraph">これは 'ONTAP-NAS' 'ONTAP-SAN' および 'ONTAP-NAS-flexgroup ドライバで利用できますFlexVol レベルでは「 ONTAP-SAN-エコノミー 」ドライバに「スナップショットポリシー」を指定することもできます。</block>
  <block id="6b0d34d8a0749198a6b80eec69479c86" category="section-title">ボリュームの Snapshot ディレクトリに直接アクセスしてファイルをコピーできますか。</block>
  <block id="eb3a2d1eb3c4022269f4c6837332311a" category="paragraph">はい。バックエンド定義ファイルで「 snapmirror directionDir 」パラメータを設定することで、 Trident によってプロビジョニングされたボリューム上のスナップショットディレクトリにアクセスできます。</block>
  <block id="64dd4ea74b402889a9c341da491f4933" category="paragraph">現時点では、 SnapMirror は ONTAP CLI または OnCommand System Manager を使用して外部に設定する必要があります。</block>
  <block id="e321bf6d54ded18df56a41ea51223a2a" category="section-title">永続ボリュームを特定の ONTAP Snapshot にリストアするにはどうすればよいですか？</block>
  <block id="5325f5d2cf63aaaa6610f09e8aa4dc35" category="paragraph">ボリュームを ONTAP Snapshot にリストアするには、次の手順を実行します。</block>
  <block id="4e789db936072df2058e9f271a9b8db8" category="list-text">永続ボリュームを使用しているアプリケーションポッドを休止します。</block>
  <block id="b34baa75f4f799a23b19de9b94e86868" category="list-text">ONTAP CLI または OnCommand システムマネージャを使用して、必要な Snapshot にリバートします。</block>
  <block id="08754f2800804f1fe3673c858b4b56e0" category="list-text">アプリケーションポッドを再起動します。</block>
  <block id="0d3ef54a4cc337b5d907b6639e51c6d4" category="section-title">お客様 / テナントごとにストレージクラスの使用状況を分離するにはどうすればよいですか。</block>
  <block id="fda1b35892cb6f61447f0e49415937d9" category="paragraph">Kubernetes では、ネームスペース内のストレージクラスは使用できません。ただし、 Kubernetes を使用すると、ネームスペースごとにストレージリソースクォータを使用することで、ネームスペースごとに特定のストレージクラスの使用量を制限できます。特定のストレージへのネームスペースアクセスを拒否するには、そのストレージクラスのリソースクォータを 0 に設定します。</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法的通知</block>
  <block id="8355509d170c8a61d236e927a5fcc6e2" category="paragraph">通常の「 /var/lib/kubelet 」以外のパスに「 kubelet 」がデータを保持している Kubernetes の配布を使用する場合は、「 --kubelet -dir 」を使用して代替パスを指定できます。</block>
  <block id="47cd697cf3c9dcf916f70a0007956c1d" category="paragraph">インストーラの引数で許可される範囲を超えてインストールをカスタマイズする必要がある場合は、配置ファイルをカスタマイズすることもできます。--generate-custom-yaml パラメータを使用して、インストーラの「 etup 」ディレクトリに次の YAML ファイルを作成します。</block>
  <block id="0858f0ee003d52951161848adffe1b31" category="list-text">trident-clusterrolebinding.yaml</block>
  <block id="af73689aedfa47bd2a7cf144917b0642" category="list-text">trident-deployment.yaml</block>
  <block id="1d53fd876245951bb003eb47849ff39d" category="list-text">trident-CRDs .YAML</block>
  <block id="b17dbe8acaeca82c72d25948de03eefc" category="list-text">trident-clusterrolment.yaml</block>
  <block id="ecb2b56a094cc1cbd3ac263b23d91f8b" category="list-text">trident-demimonimon.yamml`</block>
  <block id="c5e462ae653234d0ea0e98a000e62a97" category="list-text">trident-service.yaml</block>
  <block id="f1347677de6873f8ddce6d736cba9a63" category="list-text">trident-namespac.yaml</block>
  <block id="2539c7e25ada2a2cdae0eb4c4633b893" category="list-text">trident-ServiceAccount.yaml</block>
  <block id="385d099ed91e83dbe20ea05fbed68e22" category="paragraph">これらのファイルを生成したら、必要に応じて変更し、「 --use-custom-yaml 」を使用してカスタム展開をインストールできます。</block>
  <block id="4a052772dca278b7be31d54ca9f21831" category="inline-link-macro">基本概念</block>
  <block id="dd3de2609b612d76ef4c71b97b8d6100" category="inline-link">CLI へのアクセスを有効にする手順は、ユーザが行ってください</block>
  <block id="c585967fa32d82c5e3c24bd63926c6a0" category="list-text">Kubernetes と Docker Enterprise を併用する場合は、<block ref="57562caf1c76e1a261b7e2f8c3d113f9" category="inline-link-rx"></block>。</block>
  <block id="2e1b3f44683eee188be985693c4af5e1" category="list-text">Helm バージョン 3</block>
  <block id="e366a20246a41520da551be510c1d658" category="paragraph">インストール中に設定データを渡すには、次の 2 つの方法があります。</block>
  <block id="ea8cda06a0e70ad34c1b9ab1b7135105" category="inline-link-macro">サポートされる Kubernetes クラスタ</block>
  <block id="e420b75ec3bc014e3f69c43b2383768b" category="admonition">OpenShift では、以降のすべての例で「 kubectl 」ではなく「 OC 」を使用し、「 OC login-u SYSTEM ： admin 」または「 OC login-u kube-admin 」を実行して最初に「 *system:admin 」としてログインします。</block>
  <block id="337d79852891a37d41285c9101c3fff4" category="paragraph">次のコマンドを実行します。</block>
  <block id="dbbf8c6ec95775d28c3c6da1878bf8c3" category="list-text">演算子自体</block>
  <block id="a770ca95121cc795b602f9af6af024fb" category="admonition">Kubernetes クラスタには、オペレータのインスタンスが * 1 つしか存在しないようにしてください。Trident のオペレータが複数の環境を構築することは避けてください。</block>
  <block id="ec53a8c4f07baed5d8825072c89799be" category="cell">ステータス</block>
  <block id="2763f33c904a183bd0ef06f9c4fb4403" category="cell">インストール中です</block>
  <block id="98dd43dfae05b11befe1f140e0ec787a" category="cell">インストール済み</block>
  <block id="c2aaea4dacecce78b34302e41fcef75e" category="cell">アンインストール中です</block>
  <block id="b78846123fdd78d5ab62451b855194e3" category="cell">アンインストール済み</block>
  <block id="d7c8c85bf79bbe1b7188497c32c3b0ca" category="cell">失敗しました</block>
  <block id="6909beea5b50605780e3411f879fe916" category="cell">更新中です</block>
  <block id="3201d58137fab497dea740d761a9733b" category="cell">オペレータが既存のインストールを更新しています。</block>
  <block id="902b0d55fddef6f8d651fe1035b7d4bd" category="cell">エラー</block>
  <block id="efaeca66375c8663b6d1d64f4886f267" category="cell">「 TridentOrchestrator 」は使用されません。別のファイルがすでに存在します。</block>
  <block id="02ed10abbc71334918b1acb54df6e3f3" category="list-text">Kubernetes クラスタから構成ファイルをコピーし、リモートマシンで「 KUBECONFIG 」環境変数を設定します。</block>
  <block id="da693b77cde91654c6296abe8f901988" category="list-text">「 kubectl get nodes 」コマンドを開始して、必要な Kubernetes クラスタに接続できることを確認します。</block>
  <block id="df65ec31c6f96e95301e3c6ff8863335" category="list-text">標準のインストール手順を使用して、リモートマシンからの導入を完了します。</block>
  <block id="83f499a540b1323009c200d6f8cc9396" category="cell">パラメータ</block>
  <block id="7a1920d61156abc05a60135aefe8bc67" category="cell">デフォルト</block>
  <block id="a67cf6b087ff88dbfacec8375928995c" category="cell">「バグ」</block>
  <block id="68934a3e9455fa72420237eb05902327" category="cell">いいえ</block>
  <block id="2bccac20e55391730a985f9819e1cc41" category="cell">「 autosupportImage 」を参照してください</block>
  <block id="84448c234dfdfd2a7367341fd4b56a80" category="cell">AutoSupport テレメトリのコンテナイメージ</block>
  <block id="f4a6821b04b9ce6b90148068341347b6" category="cell">「 autosupportProxy 」と入力します</block>
  <block id="e9f06180af644cfa6e5d20bd67c03bc5" category="cell">uninstall</block>
  <block id="7610c5cc7910022402c4fbd450d889ce" category="cell">「 tridentImage 」のように入力します</block>
  <block id="8088435dc0e1c8b85217d850d3e7a602" category="cell">「 imageRegistry 」と入力します</block>
  <block id="e6b96cbb467923e86672bb25db5ecebb" category="cell">「 kubeletDir 」を参照してください</block>
  <block id="2d30d1348c4d2533a165827a22516caa" category="cell">「 imagePullSecrets 」</block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="doc">要件</block>
  <block id="c777be7f669397b0a376fe32ca5cd9c3" category="section-title">サポートされるフロントエンド（オーケストレーションツール）</block>
  <block id="f787cd4b6963b13f12fa53131f58ef6c" category="section-title">サポートされるバックエンド（ストレージ）</block>
  <block id="a3c559e0541e9bb860178ce6fe414224" category="list-text">Cloud Volumes Service for GCP</block>
  <block id="1d3d126b8a5bad69c46ed03734beed47" category="list-text">ネットアップオール SAN アレイ（ ASA ）</block>
  <block id="c7c7a6a5641f33e348244f9c43010e16" category="section-title">機能の要件</block>
  <block id="21021ea0e52be8e9c599f4dff41e5be0" category="cell">フィーチャー（ Feature ）</block>
  <block id="80afba45eb055fc9bdc48c90d1debd06" category="cell">Kubernetes のバージョン</block>
  <block id="10f295a61d2a793ac8936a69cf458654" category="cell">フィーチャーゲートが必要ですか？</block>
  <block id="e830b7e4d1fb7f84600876af87cb4381" category="cell">ボリューム Snapshot</block>
  <block id="ea8ed249117e76cb53766e218fe2b7c7" category="cell">ボリューム Snapshot からの PVC</block>
  <block id="28dcded20f550dcad1bd9bb03a5bbe73" category="cell">iSCSI PV のサイズ変更</block>
  <block id="1673543ed032e46f3572ba65bc070693" category="cell">ONTAP 双方向 CHAP</block>
  <block id="176e16df4faab1a1e06e9585c813d5fe" category="cell">動的エクスポートポリシー</block>
  <block id="1f7219b07d5bce7feec002a9f4dc2201" category="cell">Trident のオペレータ</block>
  <block id="443432948b68bb63d707ce7ecc4a021a" category="cell">CSI トポロジ</block>
  <block id="11ea58814ce429c3e3254a63f8cde7a4" category="paragraph">tridentctl ユーティリティーは ' これらの Linux ディストリビューションでも動作します</block>
  <block id="13d80777c8fd43e555c1f5b1b72d7ef0" category="section-title">ホストの設定</block>
  <block id="2139fe384d5ae165545994dff01961d9" category="section-title">ストレージシステムの構成：</block>
  <block id="923680056b0f0258907f498670b4ead1" category="section-title">コンテナイメージと対応する Kubernetes バージョン</block>
  <block id="aa92c4c233bc01609d957e469736b699" category="cell">コンテナイメージ</block>
  <block id="a60c2f57df655a9ac5fcaa0750886195" category="summary">Kubernetes の使用を開始したばかりの場合は、手順に従って Kubernetes をインストールして試してください。この説明では、 Trident をデモ用に統合できるベアボーンのシングルノードクラスタについて説明しています。</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="doc">トラブルシューティング</block>
  <block id="40e41fb2db11266b8f751c0d5c67cba0" category="inline-link">ネットアップナレッジベース（ログインが必要）</block>
  <block id="163fb9eb00818e2c7109900db1a3cc82" category="section-title">全般的なトラブルシューティング</block>
  <block id="f504c27d1ad305a988958b64f34468cb" category="list-text">Trident ポッドが正常に起動しない場合（たとえば、 Trident ポッドが 2 つ未満の「 ContainerCreating 」フェーズで停止した場合）、「 kubectl-n trident 」を実行して、展開が trident 、「 kubectl-n trident 」が pod trident-******** を記述します -**** 追加のインサイトを提供できます。kubelet ログの取得 (journalctl -xeu kubelet など ) も役立ちます。</block>
  <block id="7f0ecdfa510b31b01d331c2760643b83" category="list-text">コンテナへの PV のマウントに問題がある場合は 'rpcbind' がインストールされていて実行されていることを確認してくださいホスト OS に必要なパッケージ・マネージャを使用して 'rpcbind' が実行されているかどうかを確認しますrpcbind サービスのステータスは 'systemctl status rpcbind' またはそれに相当する処理を実行することで確認できます</block>
  <block id="78aeadc89feb4cf244398a7d35a0d656" category="list-text">Trident バックエンドが、以前に作業したことがあるにもかかわらず「 failed 」状態であると報告した場合は、バックエンドに関連付けられている SVM/admin クレデンシャルの変更が原因である可能性があります。「 tridentctl update backend 」または Trident ポッドのバウンスを使用してバックエンド情報を更新すると、この問題は修正されます。</block>
  <block id="b851cfc28cd6e5cb9aaf87bdb59a68aa" category="list-text">Docker をコンテナランタイムとして Trident をインストールするときに権限の問題が発生した場合は、「 --in cluster=false」 フラグを付けて Trident のインストールを試みてください。これはインストーラポッドを使用せず、「 trident-installer 」ユーザのために発生する許可の問題を回避します。</block>
  <block id="6f7d49547ff47cfaf1fd93d134b603be" category="list-text">実行に失敗した後のクリーンアップには 'uninstall パラメータ &lt;Uninstalling Trident &gt; を使用しますデフォルトでは、スクリプトは Trident によって作成された CRD を削除しないため、実行中の導入環境でも安全にアンインストールしてインストールできます。</block>
  <block id="f1112223b41fddc71fd6a626582dfb78" category="inline-link">Trident のバージョン</block>
  <block id="51748ba3d16ecfd8c45c7ebf2043b738" category="list-text">インストールが成功した後、 PVC が「保留中」段階で停止した場合、「 kubectl 」を実行して PVC を記述すると、 Trident がこの PVC の PV のプロビジョニングに失敗した理由を追加情報に提供できます。</block>
  <block id="0e89989064bf4afdc37fd5a7be4f607d" category="paragraph">オペレータを使用して Trident を導入する場合 'TridentOrchestrator のステータスは 'Installing から Installed に変わります'Failed' ステータスが表示され ' オペレータがそれ自体で回復できない場合は ' 次のコマンドを実行してオペレータのログを確認する必要があります</block>
  <block id="df9771dbb13da45493e576499910c0b4" category="paragraph">trident-operator コンテナのログの末尾には、問題のある場所を示すことができます。たとえば、このような問題の 1 つは、エアーギャップ環境のアップストリームレジストリから必要なコンテナイメージをプルできないことです。</block>
  <block id="0fd4c6187c561958bc76052df7774593" category="paragraph">Trident のインストールが失敗した理由を理解するには、「 TridentOrchestrator 」のステータスを確認する必要があります。</block>
  <block id="1e054f4c292a5388d6318461fe73d749" category="paragraph">このエラーは、 Trident のインストールに使用された「 TridentOrchestrator 」がすでに存在することを示します。各 Kubernetes クラスタは Trident のインスタンスを 1 つしか保持できないため、オペレータは任意の時点で作成可能なアクティブな TridentOrchestrator が 1 つだけ存在することを確認します。</block>
  <block id="568fcf9beb0dbd37c57dff251a3164ed" category="paragraph">また、 Trident ポッドのステータスを確認することで、適切でないものがあるかどうかを確認できます。</block>
  <block id="f89c17ddb9f8bdaf5c95a466d5f6a500" category="paragraph">1 つ以上のコンテナイメージがフェッチされなかったため、ポッドが完全に初期化できないことがわかります。</block>
  <block id="d57d1a6de03b2ddf3ee54f680152e2b6" category="paragraph">この問題に対処するには、「 TridentOrchestrator 」 CR を編集する必要があります。また、「 TridentOrchestrator 」を削除して、変更された正確な定義を持つ新しいものを作成することもできます。</block>
  <block id="021e9ae5361eb14975bf9a30f99770f5" category="paragraph">何が問題になったかを特定するために、インストーラをもう一度「 -d`` 」引数を使用して実行すると、デバッグモードが有効になり、問題の内容を理解するのに役立ちます。</block>
  <block id="01539f4f1fd20792cbbae6bb0506cc20" category="paragraph">問題を解決した後 ' 次のようにインストールをクリーンアップし 'tridentctl install コマンドを再度実行できます</block>
  <block id="f2733a323df72dea4b230205225bdc13" category="doc">NetApp HCI または SolidFire バックエンドを設定します</block>
  <block id="d1d184cecc23825cff20fabf3cdfb862" category="list-text">Element ソフトウェアを実行する、サポート対象のストレージシステム。</block>
  <block id="4055116469942da7f6ed83abcf57d0a4" category="list-text">NetApp HCI / SolidFire クラスタ管理者またはボリュームを管理できるテナントユーザのクレデンシャル。</block>
  <block id="d5fa5f22855b065d96647dfb0c06d685" category="inline-link-macro">ワーカーノードの準備情報</block>
  <block id="02017e70674a0c740b2b95fbb0cc2aa1" category="paragraph">ファイルシステムがありません。raw ブロックデバイスです。</block>
  <block id="15b7c7ffe264d7b8c61915ff2a6ef96c" category="section-title">バックエンド構成オプション</block>
  <block id="9d370350f8d0178b5dfbec9def10d13a" category="paragraph">バックエンド設定オプションについては、次の表を参照してください。</block>
  <block id="7877022c956918624cc0373ff564cad4" category="cell">「バージョン」</block>
  <block id="40e27006e7b709772172391a3d17b331" category="cell">常に 1</block>
  <block id="868dff7060d78b6417dc8e065eca8374" category="cell">'torageDriverName'</block>
  <block id="5aae2c40b50d296edbd4ba9cfb462b49" category="cell">ストレージドライバの名前</block>
  <block id="f5b55596d3f53b1857a4980dac9db979" category="cell">backendName`</block>
  <block id="5afd6479855e8d63f324b6ec2fa787b4" category="cell">カスタム名またはストレージバックエンド</block>
  <block id="06981b2729b4b522b21d903c7738a2ca" category="cell">「エンドポイント」</block>
  <block id="41eba2d95ecaf35c8bd3a972c263ffe4" category="cell">テナントのクレデンシャルを使用する SolidFire クラスタの MVIP</block>
  <block id="955f5caa2495689258902533d1a6cd44" category="cell">「 VIP 」</block>
  <block id="b07ca7de83de58a699966c9bc9003020" category="cell">ストレージ（ iSCSI ）の IP アドレスとポート</block>
  <block id="eea443d4fcc24d4cd2cab08c2a6c062f" category="cell">「ラベル」</block>
  <block id="749df53d02481e75dd919dddf42fbbef" category="cell">ボリュームに適用する任意の JSON 形式のラベルのセット。</block>
  <block id="4e25fe4a614b527d9b3d89ee6abe5d35" category="cell">「 tenantname 」</block>
  <block id="251f1fc42c38ca55f30e5e9d11dac168" category="cell">使用するテナント名（見つからない場合に作成）</block>
  <block id="f016e2c01f2bafa45e6b537d49f0f9da" category="cell">「 InitiatorIFCace 」</block>
  <block id="4381b3c378885de93e2166f240096338" category="cell">iSCSI トラフィックを特定のホストインターフェイスに制限します</block>
  <block id="5ff567e0863a47346f44f87ed793f508" category="cell">UseCHAP'</block>
  <block id="2d1474e8b52ef42851337fb3fef4e1a1" category="cell">"nfsvers=3 "</block>
  <block id="32738663b16444872e4e5721c7c37660" category="cell">「アクセスグループ」</block>
  <block id="c4ca01925aae0c37398f0b30a4ce1273" category="cell">使用するアクセスグループ ID のリスト</block>
  <block id="26194deaf50c44db6eb5983237bdaf25" category="cell">「タイプ」</block>
  <block id="ee1aea1de97320ad8e98436f68b01b4a" category="cell">QoS の仕様</block>
  <block id="91590ee78f1b4751284f4f9ea80cfe86" category="cell">「 limitVolumeSize 」と入力します</block>
  <block id="18320b2a705a7bed37a6bc0af4aee093" category="cell">要求されたボリュームサイズがこの値を超えている場合、プロビジョニングが失敗します</block>
  <block id="f2f2c7c3c767da610bd95934104674f6" category="cell">「バグトレースフラグ」</block>
  <block id="37a6259cc0c1dae299a7866489dff0bd" category="cell">null</block>
  <block id="88dce60232453383ab0d1c3c59cc931d" category="admonition">トラブルシューティングを行い、詳細なログダンプが必要な場合を除き、「 ebugTraceFlags 」は使用しないでください。</block>
  <block id="3185240fb49cba19667fbdf639f3271e" category="paragraph">次の例は、 CHAP 認証を使用するバックエンドファイルと、特定の QoS 保証を適用した 3 つのボリュームタイプのモデリングを示しています。その場合 ' ストレージ・クラスを定義して 'iops`storage クラス・パラメータを使用します</block>
  <block id="4d0d37d727675761e4c0e324eb57ca2f" category="list-text"><block ref="4d0d37d727675761e4c0e324eb57ca2f" category="inline-link-macro-rx"></block></block>
  <block id="da195e41c537042ae77405110c4512ff" category="paragraph">を設定して使用します<block ref="5129d3f1116e9c5221bfcf965a1ede35" category="inline-link-rx"></block> バックエンドには次のものが必要です。</block>
  <block id="2c00ff9c7700dc3529c57f0a5281bbe2" category="list-text">Google Cloud アカウントのプロジェクト番号</block>
  <block id="43752d169c5729fffa3a6557a0978cb8" category="list-text">「 netappcloudvolumes .admin 」ロールを持つ Google Cloud サービスアカウント</block>
  <block id="07cc9934740ba3dd46a0d7d2c9502d39" category="cell">"GCP-cvs"</block>
  <block id="f476273c71e20fc5a845a5345a620117" category="cell">ドライバ名 + "_" + API キーの一部</block>
  <block id="6eb82a822b962404b9694b93f2967679" category="cell">'torageClass'</block>
  <block id="c96383270cbab23de47b4f0961f64929" category="cell">「 ProjectNumber 」</block>
  <block id="2086191016950a784040f7d22ab27f60" category="cell">「 apiRegion 」と入力します</block>
  <block id="a34d72a685d5e27eb6bc18f54a7bab1d" category="cell">「 apiKey 」と入力します</block>
  <block id="af18429250667f805769a7755a008c1f" category="cell">「 ProxyURL 」と入力します</block>
  <block id="2b45af5c768d7b2495ef631c991ecd78" category="cell">「 nfsvMountOptions 」のように入力します</block>
  <block id="b9cc8276829a756e7a22476617204267" category="cell">NFS マウントオプションのきめ細かな制御。</block>
  <block id="2288620b3dc019c6359bcc7f50b72ab3" category="cell">要求されたボリュームサイズがこの値を超えている場合はプロビジョニングが失敗します</block>
  <block id="567c7f0eca746ed7513764be5ecf6d03" category="cell">"" （デフォルトでは適用されません）</block>
  <block id="0322003a3502f221fdb74b059dfff46e" category="cell">「サービスレベル」</block>
  <block id="4dd7128ceae058946c44bbbb0985ec6f" category="paragraph">各バックエンドは、 1 つの Google Cloud リージョンにボリュームをプロビジョニングします。他のリージョンにボリュームを作成する場合は、バックエンドを追加で定義します。</block>
  <block id="9c64942fe493cb70c474ff447429d8a4" category="cell">「 exportRule 」</block>
  <block id="1274e36c193ec0ce8b5c49d5e78ffd7b" category="cell">"0.0.0.0/0 "</block>
  <block id="ce8f82152151ae2aadaec166eca744a9" category="cell">「スナップショット方向」</block>
  <block id="51b2015e6da8653f4041b71312ad43fe" category="cell">「 .snapshot 」ディレクトリにアクセスします</block>
  <block id="c07fbc0b2a1a865fe9e3a55c05b4f690" category="cell">いいえ</block>
  <block id="7556d5a1b0c5f68b7cb5aedaa3156008" category="cell">「スナップショット予約」</block>
  <block id="31ed61cc3c85d0bb697cd12b77f37fd1" category="cell">Snapshot 用にリザーブされているボリュームの割合</block>
  <block id="e76dcf1d6497658a2994b5f1f65b7a83" category="cell">"" （ CVS のデフォルト値をそのまま使用）</block>
  <block id="a48a8458539e489328f4d6d3fc0ee288" category="cell">「 size 」</block>
  <block id="25f4894ddaab3c1182f12732d3bcf889" category="section-title">例 1 ：最小限の構成</block>
  <block id="3ad256eea0abb551eaab63c84aa3d1f9" category="paragraph">バックエンド構成ファイルを作成したら、次のコマンドを実行します。</block>
  <block id="a61ed3c1ecae587dbee1f2c0ace81e3b" category="paragraph">バックエンドの作成に失敗した場合は、バックエンドの設定に何か問題があります。次のコマンドを実行すると、ログを表示して原因を特定できます。</block>
  <block id="8427b84145b88f048d5caa532324cd11" category="paragraph">構成ファイルで問題を特定して修正したら、 create コマンドを再度実行できます。</block>
  <block id="8f828c7344e7fe65d66237a25193068b" category="summary">ONTAP SAN ドライバを使用して ONTAP バックエンドを設定するための準備方法について説明します。</block>
  <block id="5475028f502d04bc17cdfdf613d28cbf" category="paragraph">複数のドライバを実行し、 1 つまたは複数のドライバを参照するストレージクラスを作成することもできます。たとえば 'ONTAP-SAN' ドライバを使用する「 -dev 」クラスと 'ONTAP-SAN-エコノミー 'one を使用する「デフォルト」クラスを設定できます</block>
  <block id="c75f7811d70d17dbcd88e9d03752cbed" category="section-title">認証</block>
  <block id="00cbc0e7ed0014813b07fc8452f60df1" category="list-text">credential based ：必要な権限を持つ ONTAP ユーザのユーザ名とパスワード。ONTAP バージョンとの互換性を最大限に高めるために 'admin' または vsadmin などの事前定義されたセキュリティ・ログイン・ロールを使用することを推奨します</block>
  <block id="a2f8f419bf420960ef8cca73e1999e09" category="section-title">クレデンシャルベースの認証を有効にします</block>
  <block id="2312b8f77f99c346269b67308afc3649" category="paragraph">バックエンド定義の例は次のようになります。</block>
  <block id="2a2ef6dcf08a8789a55301af5f71304c" category="paragraph">バックエンド定義は、クレデンシャルがプレーンテキストで保存される唯一の場所であることに注意してください。バックエンドが作成されると、ユーザ名とパスワードが Base64 でエンコードされ、 Kubernetes シークレットとして格納されます。クレデンシャルの知識が必要なのは、バックエンドの作成と更新だけです。この処理は管理者専用で、 Kubernetes / ストレージ管理者が実行します。</block>
  <block id="052f76b486189a7b01340d5134eb7985" category="section-title">証明書ベースの認証を有効にします</block>
  <block id="0778b06c5ea9fded4fd7b586b248dd86" category="paragraph">新規または既存のバックエンドは証明書を使用して ONTAP バックエンドと通信できます。バックエンド定義には 3 つのパラメータが必要です。</block>
  <block id="d5b9c9db262b1927d7914504f3587adb" category="list-text">clientCertificate ： Base64 でエンコードされたクライアント証明書の値。</block>
  <block id="8f2b750dd6a57864f0e36828c248ddfc" category="list-text">clientPrivateKey ： Base64 でエンコードされた、関連付けられた秘密鍵の値。</block>
  <block id="200c2d2a44dec6455fa1c947f9c1f534" category="list-text">trustedCACertifate: 信頼された CA 証明書の Base64 エンコード値。信頼された CA を使用する場合は、このパラメータを指定する必要があります。信頼された CA が使用されていない場合は無視してかまいません。</block>
  <block id="6b634823c19ebc37c9e4fdbf08de1fff" category="paragraph">一般的なワークフローは次の手順で構成されます。</block>
  <block id="c92e58d7dd251e6e6cdb16291a6dec90" category="list-text">クライアント証明書とキーを生成します。生成時に、 ONTAP ユーザとして認証するように Common Name （ CN ；共通名）を設定します。</block>
  <block id="69b521cddbc52a2d14539e349e2930f0" category="list-text">信頼された CA 証明書を ONTAP クラスタに追加します。この処理は、ストレージ管理者がすでに行っている可能性があります。信頼できる CA が使用されていない場合は無視します。</block>
  <block id="2f3945695e5ca88abb46af80d87c6972" category="list-text">ONTAP クラスタにクライアント証明書とキーをインストールします（手順 1 ）。</block>
  <block id="e81810c4035ad015ad3f0d8c4f2c6454" category="list-text">ONTAP セキュリティ・ログイン・ロールが 'cert' 認証方式をサポートしていることを確認します</block>
  <block id="ea3bf76b270384627e7bcfb197ddb17b" category="list-text">生成された証明書を使用して認証をテストONTAP 管理 LIF &gt; と &lt;vserver name&gt; は、管理 LIF の IP アドレスおよび SVM 名に置き換えてください。</block>
  <block id="83f2adf143dc8f5fbbb9d924f840c1ce" category="list-text">Base64 で証明書、キー、および信頼された CA 証明書をエンコードする。</block>
  <block id="8d36e570f1edac5ae19e6733e3fbb4d5" category="list-text">前の手順で得た値を使用してバックエンドを作成します。</block>
  <block id="2ab8ad0fce083cd02635b9126cf4353c" category="section-title">認証方法を更新するか、クレデンシャルをローテーションして</block>
  <block id="5e36c3d66bd47ae551071244dc48df17" category="admonition">パスワードのローテーションを実行する際には、ストレージ管理者が最初に ONTAP でユーザのパスワードを更新する必要があります。この後にバックエンドアップデートが続きます。証明書のローテーションを実行する際に、複数の証明書をユーザに追加することができます。その後、バックエンドが更新されて新しい証明書が使用されるようになります。この証明書に続く古い証明書は、 ONTAP クラスタから削除できます。</block>
  <block id="12dd7bfa072b5a1eecf975f6a5a6eaa7" category="admonition">「 useCHAP 」パラメータは、 1 回だけ設定できるブール型のオプションです。デフォルトでは false に設定されています。true に設定したあとで、 false に設定することはできません。</block>
  <block id="bc601528678aeeb582101ed205a054bc" category="paragraph">「 useCHAP=true' に加えて、「 chapInitiatorSecret 」、「 chapTargetInitiatorSecret 」、「 chapTargetUsername 」、および「 chapUsername 」フィールドもバックエンド定義に含める必要があります。シークレットは 'tridentctl update を実行してバックエンドを作成した後に変更できます</block>
  <block id="29b4db879e4cc96a6b71bc763367624b" category="list-text">SVM で CHAP をセットアップします。</block>
  <block id="13e0c564d5e1fbd33279fb276166653d" category="list-text">CHAP イニシエータとターゲットのユーザ名とシークレットを設定します。これらのオプションは、バックエンド構成で指定する必要があります（上記を参照）。</block>
  <block id="a7fe005c9f49619f4438aac8932fb361" category="paragraph">CHAP 証明書を更新するには 'backend.json ファイルの CHAP パラメータを更新しますこれには 'CHAP シークレットを更新し 'tridentctl update コマンドを使用してこれらの変更を反映する必要があります</block>
  <block id="ef81b740be2293b7e3c41047afe98764" category="cell">" 100G "</block>
  <block id="15d79b565b148caa23e6f2b53813413d" category="section-title">iSCSI ボリュームを展開します</block>
  <block id="0b981ab19df55a28a02578aa5f326db8" category="paragraph">CSI プロビジョニングを使用して、 iSCSI Persistent Volume （ PV ）を拡張できます。</block>
  <block id="f8f338469c62eb8604f5304af08466ba" category="admonition">iSCSI ボリュームの拡張は 'ONTAP-SAN''ONTAP-SAN-エコノミー ''olidfire-SAN' ドライバによってサポートされており 'Kubernetes 1.16 以降が必要です</block>
  <block id="fe9ee1935ea7894fe4fd2f600993cd7d" category="section-title">手順 1 ：ボリュームの拡張をサポートするようにストレージクラスを設定する</block>
  <block id="c83b8171dcc233263cf7eeaef8da6a4d" category="paragraph">既存の StorageClass の場合は 'allowVolumeExpansion パラメータを含めるように編集します</block>
  <block id="59973fd7be015512b53fe121a13d5580" category="section-title">手順 2 ：作成した StorageClass を使用して PVC を作成します</block>
  <block id="8dacc1d7fdb5bfd3f8a4daedf3ccdd88" category="section-title">手順 3 ： PVC を接続するポッドを定義します</block>
  <block id="85f5dec267aa48cff82ccaf993019e6d" category="paragraph">この例では、ポッドが作成され、「 1-pvc 」が使用されます。</block>
  <block id="ebae1958b6002fb43077a474d845284c" category="section-title">ステップ 4 ： PV を展開します</block>
  <block id="63188b171689bcd93b1ca818b3a2ab9c" category="paragraph">1Gi から 2Gi に作成された PV のサイズを変更するには、 PVC の定義を編集し、「 PEC.resources.request.storage 」を 2Gi に更新します。</block>
  <block id="eabf614ed44fe1c3e78cb2300949eb63" category="section-title">手順 5 ：拡張を検証する</block>
  <block id="75b8249751a8ea5869a0b5a8e465efc1" category="section-title">NFS ボリュームを拡張します</block>
  <block id="578f10bb7cad2abad1cbbcb9a9a732f9" category="paragraph">NFS PV のサイズを変更するには ' まず 'allowVolumeExpansion フィールドを true に設定してボリュームを拡張できるようにストレージ・クラスを構成する必要があります</block>
  <block id="27b4a9ed8609e35526601aa8d8be1ab9" category="paragraph">このオプションを指定せずにすでにストレージ・クラスを作成している場合は 'kubectl Edit storageclass を使用して既存のストレージ・クラスを編集するだけで ' ボリュームの拡張が可能になります</block>
  <block id="3b16cea25bd4a9aaf5a9c3dcc13ea7eb" category="section-title">ステップ 3 ： PV を展開します</block>
  <block id="4a59ce1bc63fd7e6333968fb4bbd9d45" category="section-title">手順 4 ：拡張を検証する</block>
  <block id="cf13ba16f33b5f6772614929649be6c2" category="summary">tridentctl import を使用して、既存のストレージボリュームを Kubernetes PV としてインポートできます。</block>
  <block id="5f48c343984786005c9830d96c6fca87" category="doc">ボリュームをインポート</block>
  <block id="76057e180d7b3edcebaa935c7ccab687" category="paragraph">PVC と PV にアノテーションが追加されます。このアノテーションは、ボリュームがインポートされたこと、および PVC と PV が管理されていることを示す二重の目的を果たします。このアノテーションは変更または削除しないでください。</block>
  <block id="07b434b23f63ca6490df33b213599320" category="section-title">NFS エクスポートポリシーを管理します</block>
  <block id="4603f08ad837f4108ff2fe7665b0b1e3" category="section-title">エクスポートポリシーを動的に管理</block>
  <block id="4975fc485ff51ca8f82c6ea96f927287" category="paragraph">ここでは、上記の例を使用してこの機能がどのように動作するかについて説明します。</block>
  <block id="4646f167a1fb9819f41f28d5ab11c1fa" category="paragraph">バックエンドの作成後に 'autoExportPolicy' および 'autoExportCIDRs を更新できます自動的に管理されるバックエンドに新しい CIDRs を追加したり、既存の CIDRs を削除したりできます。CIDRs を削除する際は、既存の接続が切断されないように注意してください。バックエンドに対して「 autoExportPolicy 」を無効にし、手動で作成したエクスポートポリシーに戻すこともできます。これには、バックエンド構成で「 exportPolicy 」パラメータを設定する必要があります。</block>
  <block id="de1d1f6b64a5c5b6890c313888b290b7" category="admonition">自動管理されたエクスポートポリシーを使用してバックエンドを削除すると、動的に作成されたエクスポートポリシーが削除されます。バックエンドが再作成されると、そのバックエンドは新しいバックエンドとして扱われ、新しいエクスポートポリシーが作成されます。</block>
  <block id="19ce3b2e7823907e5153f00fe04f64f7" category="doc">設定オプションと例</block>
  <block id="07c54fe26be1e43601e99cd9d4fbe262" category="cell">「管理 LIF 」</block>
  <block id="bd81db53971fda3e688447b28c747d1a" category="cell">「重複排除</block>
  <block id="ab4ce1634362493e6de248d103136787" category="cell">「 useCHAP 」</block>
  <block id="7c6b65d42434282f1555f13b40e9fd25" category="cell">「 chapInitiatorSecret 」</block>
  <block id="c8a7a6136447a56280ecf99e3ed87d65" category="cell">CHAP イニシエータシークレット。「 useCHAP = TRUE 」の場合は必須</block>
  <block id="b5cbbe3dadaab4a036fdb38af67ee936" category="cell">ボリュームに適用する任意の JSON 形式のラベルのセット</block>
  <block id="948938ec6491061ccf17c7ae8eafbd26" category="cell">「 chapTargetInitiatorSecret 」</block>
  <block id="48db71efc42dda989b98744160575f4f" category="cell">CHAP ターゲットイニシエータシークレット。「 useCHAP = TRUE 」の場合は必須</block>
  <block id="28687fafefb2992ff7856dcfd2c29e1f" category="cell">「 chapUsername 」</block>
  <block id="e3f84c141fd3f4682dfb31e0d71c7f5f" category="cell">インバウンドユーザ名。「 useCHAP = TRUE 」の場合は必須</block>
  <block id="62fbbf4cfd0cc0a82f953199d14a61e3" category="cell">「 chapTargetUsername 」</block>
  <block id="a379a576b788ab047d5e6405ff4f3511" category="cell">ターゲットユーザ名。「 useCHAP = TRUE 」の場合は必須</block>
  <block id="cbdaf784161be9806a24fe78a8046c01" category="cell">「 clientCertificate 」をクリックします</block>
  <block id="a84cbedc106b973917ae925d04533f97" category="cell">クライアント証明書の Base64 エンコード値。証明書ベースの認証に使用されます</block>
  <block id="8545e54eea74cf2579fbe1cb56b11862" category="cell">「 clientPrivateKey 」</block>
  <block id="4a54228eb2be79492f8f76bb814ddf63" category="cell">クライアント秘密鍵の Base64 エンコード値。証明書ベースの認証に使用されます</block>
  <block id="b071cd8105f8f59b777098388b7a3322" category="cell">「 trustedCacertifate 」</block>
  <block id="ffe4ce29fe1a6176d496c40332e9cb98" category="cell">信頼された CA 証明書の Base64 エンコード値。任意。証明書ベースの認証に使用されます</block>
  <block id="6d77646a2fd9ab65f8e3344d7dce661a" category="cell">「ユーザ名」</block>
  <block id="83425e975af1b2d60355aa4162300198" category="cell">クラスタ / SVM に接続するためのユーザ名。クレデンシャルベースの認証に使用されます</block>
  <block id="6aa91a7fbb8c9edcf4aa5f9411aec19c" category="cell">「 password 」と入力します</block>
  <block id="63d06d6cc41e485615f99a3aad0002b3" category="cell">クラスタ / SVM に接続するためのパスワード。クレデンシャルベースの認証に使用されます</block>
  <block id="afc423de2be5ca5ab3a6ae9548bbfcf3" category="cell">'VM'</block>
  <block id="972abf48cbbadbcd573754140d35e19a" category="cell">使用する Storage Virtual Machine</block>
  <block id="ef65dd3301d78701f7cfcf8a01834f2f" category="cell">SVM 「管理 LIF 」が指定されている場合に生成されます</block>
  <block id="3b890f58db76bb3003ada171cd18c4db" category="cell">「 igroupName 」と入力します</block>
  <block id="c08068da3c5d19547544c4bd424a6b76" category="cell">'toragePrefix'</block>
  <block id="e3f688f3aa653574b3253640aa98f47c" category="cell">SVM で新しいボリュームをプロビジョニングする際に使用するプレフィックスを指定します。設定後に更新することはできません</block>
  <block id="12d2394af47293b12d6b5f411f99a6d1" category="cell">「 AggreglimitateUsage 」と入力します</block>
  <block id="c9a303edbc714d051896c3a678e59a8a" category="cell">'lunsPerFlexvol</block>
  <block id="79892588cbecd0b88729ea1a55b2a3a4" category="cell">FlexVol あたりの最大 LUN 数。有効な範囲は 50 、 200 です</block>
  <block id="f703d18584e163e18762e4dc13ad96a0" category="cell">「 useREST` 」</block>
  <block id="193a49bcfb561fea878daa5efe72cad9" category="section-title">ボリュームのプロビジョニング用のバックエンド構成オプション</block>
  <block id="a0ee23c5b4cbd6a28a4143933891f927" category="cell">「平和の配分」</block>
  <block id="26161d08a960162cd8633d0e23058aed" category="cell">space-allocation for LUN のコマンドを指定します</block>
  <block id="a6bddf19eed00dbe2199864dee8454ce" category="cell">「平和のための準備」を参照してください</block>
  <block id="0ec3875cf79264e4689a646be2f704b6" category="cell">「ナプショットポリシー」</block>
  <block id="77f69e470b8766d2dc5df4b7f469ed72" category="cell">使用する Snapshot ポリシー</block>
  <block id="84d2c2c768bd1900489bad5fb46b4aac" category="cell">「 QOSPolicy 」</block>
  <block id="54b94bba5d336f4e3d5fd7e88544fad1" category="cell">作成したボリュームに割り当てる QoS ポリシーグループ。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します</block>
  <block id="952e3a12d35e717bf86a6000b0c08976" category="cell">「 adaptiveQosPolicy 」を参照してください</block>
  <block id="036c0eabd455d8a92d350429f2f5747e" category="cell">アダプティブ QoS ポリシーグループ：作成したボリュームに割り当てます。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します</block>
  <block id="4be01095ce6e500084fc427e5dec61ac" category="cell">'plitOnClone</block>
  <block id="6f5c0c94b1a17baffd2c33facaa10db6" category="cell">作成時にクローンを親からスプリットします</block>
  <block id="b091cbafedf94db98f17823d044434bd" category="cell">「暗号化」</block>
  <block id="a463baaf6666da7178b6fc6a3c8a3fee" category="cell">'ecurityStyle'</block>
  <block id="31aa018945eb62580d68d360cba8ba54" category="cell">階層ポリシー</block>
  <block id="2f1534ee8d0c6ec998511ed37cfe0da9" category="image-alt">に、 volume show コマンドの出力を示します。</block>
  <block id="e6e049b4753c744e95db32b0eeed8d5c" category="paragraph">現在、既存のボリュームに対して新しい計算を行うには、サイズ変更だけを使用します。</block>
  <block id="2aae2b6accd04335b3eeceb2193b34d6" category="section-title">最小限の設定例</block>
  <block id="bca36ce39f61ce2d375cbdb66eab5162" category="paragraph">次の例は、ほとんどのパラメータをデフォルトのままにする基本的な設定を示しています。これは、バックエンドを定義する最も簡単な方法です。</block>
  <block id="f00b69018be0961b32ee24ec54fb56d1" category="section-title">バックエンドを StorageClasses にマッピングします</block>
  <block id="ef1161058705470bb877fbce688eea9e" category="summary">ONTAP SAN ドライバを使用して ONTAP バックエンドを設定する方法について説明します。</block>
  <block id="ce8828fc10a926c196951c9bdd0d534d" category="section-title">ユーザ権限</block>
  <block id="821b0ad941ad2559ef18eb8de56a470e" category="summary">Kubernetes クラスタ内のすべてのワーカーノードが、ポッド用にプロビジョニングしたボリュームをマウントできる必要があります。いずれかのバックエンドに ONTAP-NAS 、 ONTAP-NAS-エコノミー 、 ONTAP-NAS-flexgroup ドライバを使用している場合は、ワーカーノードに NFS ツールが必要です。それ以外の場合は iSCSI ツールが必要です。</block>
  <block id="89d83ec6e8ec0c087fbc4aedc555b362" category="doc">ワーカーノードを準備します</block>
  <block id="b7a66d04a41292979004906785008ca9" category="section-title">NFS ボリューム</block>
  <block id="c441ee50c88f6e5e3a7c69fc69dad8b8" category="cell">コマンド</block>
  <block id="29ba980a9e9adedc9414ea868c74ebd5" category="section-title">iSCSI ボリューム</block>
  <block id="12fe03bf2457cc4e4e90af10a2f7092f" category="list-text">Kubernetes クラスタ内の各ノードには一意の IQN を割り当てる必要があります。* これは必須の前提条件です * 。</block>
  <block id="8cd5b262d8d9950185128d052d55f7c8" category="list-text">次のシステムパッケージをインストールします。</block>
  <block id="1a5157a00ea5806f553766d5b3b114fd" category="list-text">iscsi-initiator-utils のバージョンが 6.2.0.874-2.el7 以降であることを確認します。</block>
  <block id="19955b3c2d2c1cfc1c82c2fe0347a065" category="list-text">スキャンを手動に設定：</block>
  <block id="d0b02d407fd5c75d0e7eac549a852191" category="list-text">マルチパスを有効化：</block>
  <block id="8bec0eea71974a9138ccfa96983ddcfc" category="list-text">「 iscsid 」と「 multipathd 」が実行されていることを確認します。</block>
  <block id="8018f5d6ddc4e67678d1659757828deb" category="list-text">'iSCSI' を有効にして開始します</block>
  <block id="a53508e75911225e5de8b5febc82cf12" category="list-text">open-iscsi バージョンが 2.0.874-5ubuntu2.10 以降（ bionic の場合）または 2.0.874-7.1ubuntu6.1 以降（ Focal の場合）であることを確認します。</block>
  <block id="b163c84ad8a4e55a17b51aad8074093e" category="list-text">「 open-iSCSI」 および「マルチパスツール」が有効で実行されていることを確認します。</block>
  <block id="1b757fe9c8a149de349a32b8d21feb54" category="admonition">Ubuntu 18.04 では 'iSCSI デーモンを起動するために 'open-iscsi' を起動する前に 'iscsiadm を持つターゲット・ポートを検出する必要がありますまたは 'iscsid' サービスを 'iscsid' を自動的に開始するように変更することもできます</block>
  <block id="b44c2fd5cefc815abed7e31c0fa8c8ac" category="paragraph">「 TridentBackendConfig 」オブジェクトを作成すると、次のようになります。</block>
  <block id="1efc3a14ca6dc7c90db79e02f3abe7d5" category="paragraph">各「 TridentBackendConfig 」は、「 TridentBackend 」を使用して 1 対 1 のマッピングを維持します。前者はバックエンドの設計と構成をユーザに提供するインターフェイスで、後者は Trident が実際のバックエンドオブジェクトを表す方法です。</block>
  <block id="9c3385530cf6e460576e5f6e7cc1b912" category="paragraph">「 TridentBackendConfig 」 CR の形式については、次の例を参照してください。</block>
  <block id="c84ef67352bb6783ff2881f9f2821c2a" category="inline-link">Trident インストーラ</block>
  <block id="f13a06ff6eab87969a9f96765f31ed9c" category="paragraph">の例を確認することもできます<block ref="6511e50af21389f9e77db56e03f6dd72" category="inline-link-rx"></block> 目的のストレージプラットフォーム / サービスの設定例を示すディレクトリ。</block>
  <block id="06df669f3ef6f929e9b58c9f47b65310" category="inline-link-macro">ストレージドライバのバックエンド設定情報</block>
  <block id="92051c832f01d9070a7ed71d1ce523c5" category="paragraph">「 PEC 」セクションには、「 credentials 」フィールドと「 eleetionPolicy 」フィールドも含まれています。これらのフィールドは、「 TridentBackendConfig 」 CR に新しく導入されました。</block>
  <block id="5ab961de690e071f0dc1c0dabac7fd89" category="list-text">`credentials` ：このパラメータは必須フィールドで、ストレージシステム / サービスとの認証に使用されるクレデンシャルが含まれています。ユーザが作成した Kubernetes Secret に設定されます。クレデンシャルをプレーンテキストで渡すことはできないため、エラーになります。</block>
  <block id="9f11e03722a7b912083c63fc68f4dd7b" category="list-text">`DeleetionPolicy`: 「 TridentBackendConfig 」が削除されたときに何が起こるかを定義します。次の 2 つの値のいずれかを指定できます。</block>
  <block id="d09d50d3f84f9c585492818f491a2497" category="list-text">「削除」 : これにより、「 TridentBackendConfig 」 CR とそれに関連付けられたバックエンドの両方が削除されます。これがデフォルト値です。</block>
  <block id="f0c89ce27bf4c43949ad8f26a4f586bb" category="list-text">「管理」：「 TridentBackendConfig 」 CR を削除しても、バックエンド定義は引き続き表示され、「 tridentctl 」で管理できます。削除ポリシーを「 retain 」に設定すると、ユーザは以前のリリース (21.04 より前 ) にダウングレードし、作成されたバックエンドを保持できます。このフィールドの値は、「 TridentBackendConfig 」が作成された後で更新できます。</block>
  <block id="7f2208582df334d090d35357eb5d6901" category="admonition">バックエンドの名前は 'PEC.backendName' を使用して設定されます指定しない場合、バックエンドの名前は「 TridentBackendConfig 」オブジェクト（ metadata.name ）の名前に設定されます。'PEC.backendName' を使用してバックエンド名を明示的に設定することをお勧めします</block>
  <block id="625cc9b8ccc34496dc2b3fcffb7e384a" category="section-title">手順の概要</block>
  <block id="a867c4bbc8d632a517f22b7377b9b8ed" category="paragraph">kubectl' を使用して新しいバックエンドを作成するには ' 次の手順を実行する必要があります</block>
  <block id="4db4699aa0126dfb06878d7e07c0abdf" category="inline-link">Kubernetes Secret</block>
  <block id="c39d193a9cc4084cc6c7964e1bb5efd8" category="list-text">「 TridentBackendConfig 」オブジェクトを作成します。ストレージクラスタ / サービスの詳細を指定し、前の手順で作成したシークレットを参照します。</block>
  <block id="286b0035cf59742ffe54696b798f2368" category="paragraph">バックエンドを作成したら、「 kubectl get tbc &lt;tbc-name&gt; -n &lt;trident-namespac&gt;` 」を使用してバックエンドのステータスを確認し、詳細を収集できます。</block>
  <block id="494cb787cd1c1f78123323c1006f2081" category="section-title">手順 1 ： Kubernetes Secret を作成します</block>
  <block id="04402bf69acac56c72a55c0e4ac2165c" category="paragraph">次の表に、各ストレージプラットフォームの Secret に含める必要があるフィールドをまとめます。</block>
  <block id="94cec86c6eef229009007e6d00d54ef1" category="cell">ストレージプラットフォームのシークレットフィールド概要</block>
  <block id="1e6947ac7fb3a9529a9726eb692c8cc5" category="cell">秘密</block>
  <block id="c11257eff6563de2c05e353770c514ca" category="cell">Field 概要の略</block>
  <block id="93c5bebdea9c94a0740fe6fd9bb250f0" category="paragraph">ClientID</block>
  <block id="012e85295e2f1f744cfb8757f8dd4830" category="paragraph">アプリケーション登録からのクライアント ID</block>
  <block id="ee64ef6c307cfcfe5c0f085471cd61fa" category="paragraph">private_key_id です</block>
  <block id="1e31c22f827d25c5973eee697baace79" category="paragraph">秘密鍵の ID 。CVS 管理者ロールを持つ GCP サービスアカウントの API キーの一部</block>
  <block id="156a17333e77a3c504018cae5ada8c3b" category="paragraph">private_key を使用します</block>
  <block id="8e0708b67ba6ce0f70a948152e7e7895" category="paragraph">秘密鍵CVS 管理者ロールを持つ GCP サービスアカウントの API キーの一部</block>
  <block id="25de05ab7f10e99b499db62e0b89ad33" category="cell">Element （ NetApp HCI / SolidFire ）</block>
  <block id="2a6ba72e93aa7fa676d07973ed2716bb" category="paragraph">エンドポイント</block>
  <block id="14c4b06b824ec593239362517f538b29" category="paragraph">ユーザ名</block>
  <block id="6e1b40351708d93ce8c387f6f8ca7533" category="paragraph">クラスタ / SVM に接続するためのユーザ名。クレデンシャルベースの認証に使用されます</block>
  <block id="5f4dcc3b5aa765d61d8327deb882cf99" category="paragraph">パスワード</block>
  <block id="4d3fd9a7ab4c84b857fc26b2633237d0" category="paragraph">クラスタ / SVM に接続するためのパスワード。クレデンシャルベースの認証に使用されます</block>
  <block id="19dce7ac7f5290fc8fa218ad0c858df5" category="paragraph">clientPrivateKey</block>
  <block id="8c5e8d4f9acf9295e1a96feef0c0b516" category="paragraph">クライアント秘密鍵の Base64 エンコード値。証明書ベースの認証に使用されます</block>
  <block id="039e9d80fa53ba861c06b590ba3f9d34" category="paragraph">chapUsername のコマンド</block>
  <block id="a7128cd45d4a277fe5c6ed6f6c4238f7" category="paragraph">インバウンドユーザ名。useCHAP = true の場合は必須。「 ONTAP-SAN' 」と「 ONTAP-SAN-エコノミー 」の場合</block>
  <block id="f9d0dc78b203f2c1106dc0c7d58a5397" category="paragraph">chapInitiatorSecret</block>
  <block id="2f573af61fb37b4f1c5e2def2341b7c4" category="paragraph">CHAP イニシエータシークレット。useCHAP = true の場合は必須。「 ONTAP-SAN' 」と「 ONTAP-SAN-エコノミー 」の場合</block>
  <block id="2ebe107bb3bc9551fbb0e5033046931c" category="paragraph">chapTargetUsername のコマンド</block>
  <block id="e945f079b3e50bd5722f056b72282608" category="paragraph">ターゲットユーザ名。useCHAP = true の場合は必須。「 ONTAP-SAN' 」と「 ONTAP-SAN-エコノミー 」の場合</block>
  <block id="4ab84a55744951d967033db9b64f6b27" category="paragraph">chapTargetInitiatorSecret</block>
  <block id="61b50fba255c10a4a2b5f7cf8276849a" category="paragraph">CHAP ターゲットイニシエータシークレット。useCHAP = true の場合は必須。「 ONTAP-SAN' 」と「 ONTAP-SAN-エコノミー 」の場合</block>
  <block id="73d583a1445e1497ec3adaa011e2724c" category="paragraph">このステップで作成されたシークレットは、次のステップで作成された「 TridentBackendConfig 」オブジェクトの「 PEC.credentials 」フィールドで参照されます。</block>
  <block id="3394622f88ed2c82c85e92e908879095" category="paragraph">これで「 TridentBackendConfig 」 CR を作成する準備ができました。この例では 'ONTAP-SAN' ドライバを使用するバックエンドは ' 次に示す TridentBackendConfig オブジェクトを使用して作成されます</block>
  <block id="967688089cfc07a6c8e893bce5186445" category="paragraph">これで「 TridentBackendConfig 」 CR が作成され、ステータスを確認できるようになりました。次の例を参照してください。</block>
  <block id="edc9d2e179d9bd8effd5277699967aff" category="paragraph">バックエンドが正常に作成され、「 TridentBackendConfig 」 CR にバインドされました。</block>
  <block id="ecb5320e6f020f2c2dcad7a6268111ed" category="paragraph">フェーズには次のいずれかの値を指定できます。</block>
  <block id="f2edf590deb30828e48e7290aa78e788" category="list-text">Unbound ： "" を使用して表現されています「 TridentBackendConfig 」オブジェクトはバックエンドにバインドされません。新しく作成されたすべての TridentBackendConfig ’ CRS は、デフォルトでこのフェーズに入ります。フェーズが変更された後、再度 Unbound に戻すことはできません。</block>
  <block id="ffd02eb489e62222a00391567d0bad81" category="list-text">バックエンドに 1 つ以上の PVC が存在する場合は、削除状態になります。次に 'TridentBackendConfig'CR が削除フェーズに入りますバックエンドおよび TridentBackendConfig は、すべての PVC が削除された後にのみ削除されます。</block>
  <block id="39d978e14d4d8c9f19589af0d4e72661" category="list-text">`lost` ：「 TridentBackendConfig 」 CR に関連付けられているバックエンドが誤って削除されたか、意図的に削除されました。「 TridentBackendConfig 」 CR には削除されたバックエンドへの参照があります。「 TridentBackendConfig 」 CR は、「 $eleetionPolicy 」の値に関係なく削除できます。</block>
  <block id="fdf3d4560a801cb64c255cc2790fe9cc" category="inline-link-macro">バックエンドの更新とバックエンドの削除</block>
  <block id="57867491a75119ccf33f6ed8a434ff8e" category="paragraph">この段階では、バックエンドが正常に作成されます。など、いくつかの操作を追加で処理することができます <block ref="9f5a7b55f1a44b55d5336cefd3bf688e" category="inline-link-macro-rx"></block>。</block>
  <block id="4dca0b80562cc590644c1acfada17219" category="section-title">（オプション）手順 4 ：詳細を確認します</block>
  <block id="22f66c61dd35abb0ae1840a7e38ae1b9" category="paragraph">バックエンドに関する詳細情報を確認するには、次のコマンドを実行します。</block>
  <block id="aab3a73056ee2962dff0130da0538454" category="paragraph">さらに、「 TridentBackendConfig 」の YAML ／ JSON ダンプを取得することもできます。</block>
  <block id="7b7587593fc7d381339d450faa35dfa9" category="paragraph">イベントログの詳細を取得するには、「 kubectl -n trident describe describe tbc &lt;tbc -cr-name&gt; 」コマンドを実行します。</block>
  <block id="6dc07da7e54d697726bb349fb693fa8b" category="inline-link-macro">こちらを参照してください</block>
  <block id="c732962a4a01ea5f406ec66e50e98903" category="admonition">tridentctl を使用して ' 関連付けられた TridentBackendConfig' オブジェクトを含むバックエンドを更新または削除することはできません「 tridentctl 」と「 TridentBackendConfig 」の切り替えに関連する手順を理解するには、次の手順に従います。 <block ref="8d6bc70a41f48e3f72c3f5ea8752090b" category="inline-link-macro-rx"></block>。</block>
  <block id="483a5da192f46e3cfe8391d3ef234fc4" category="inline-link-macro">よくある質問です</block>
  <block id="b8f98ceeb9b158e8af3527fce91e9e57" category="list-text">「 ONTAP と SAN の経済性」：プロビジョニングされた各 PV は、 NetApp ONTAP ボリュームの Amazon FSX ごとに構成可能な数の LUN を持つ LUN です。</block>
  <block id="94a834f420b7c21f3a1053e6dc705a31" category="list-text">「 ONTAP-NAS-エコノミー 」：プロビジョニングされた各 PV は qtree であり、 NetApp ONTAP ボリュームの Amazon FSX ごとに設定可能な数の qtree があります。</block>
  <block id="e42b07a9f050ef51ea1211004a50f223" category="list-text">「 ONTAP-NAS-flexgroup 」：プロビジョニングされた各 PV は、 NetApp ONTAP FlexGroup ボリューム用の完全な Amazon FSX です。</block>
  <block id="80d13d3dbe137e8fb646193f275eceeb" category="list-text">既存の Amazon EKS クラスタまたは 'kubectl' がインストールされた自己管理型 Kubernetes クラスタ</block>
  <block id="fe914214000491758957f04647f8da36" category="inline-link">Amazon Machine Images の略</block>
  <block id="cc788b7e72b2a734dd0985bd1e0e9fe3" category="inline-link">Amazon FSX for NetApp ONTAP のドキュメント</block>
  <block id="fd570b75466e2daca21a032e6fd5981c" category="list-text"><block ref="fd570b75466e2daca21a032e6fd5981c" category="inline-link-rx"></block></block>
  <block id="0ef79cb4bb284d3ca9c3e95489919301" category="inline-link">Amazon FSX for NetApp ONTAP に関するブログ記事です</block>
  <block id="3b94214fe5975bca8da92b72f8926be2" category="list-text"><block ref="3b94214fe5975bca8da92b72f8926be2" category="inline-link-rx"></block></block>
  <block id="b42cbc6e68075c106b9faa27e4931091" category="doc">ボリューム操作を実行する</block>
  <block id="3d4635d3cf4f27b0e87f3fe86a84744d" category="inline-link-macro">CSI トポロジを使用します</block>
  <block id="9e325272e7aed7c7bd6c28ff6fa4a90f" category="list-text"><block ref="9e325272e7aed7c7bd6c28ff6fa4a90f" category="inline-link-macro-rx"></block></block>
  <block id="e5879288a130fbd8d0b8682cfc375c4f" category="inline-link-macro">スナップショットを操作します</block>
  <block id="c499fa59a1c9a0f6da195782a581f2e3" category="list-text"><block ref="c499fa59a1c9a0f6da195782a581f2e3" category="inline-link-macro-rx"></block></block>
  <block id="56661e701892ff873e44b62ffeec85e5" category="list-text"><block ref="56661e701892ff873e44b62ffeec85e5" category="inline-link-macro-rx"></block></block>
  <block id="c0417f5bbd54c5dc1c3704d6b566fcf3" category="list-text"><block ref="c0417f5bbd54c5dc1c3704d6b566fcf3" category="inline-link-macro-rx"></block></block>
  <block id="4342473e01edd2e1440b8b76076f4c9e" category="doc">バックエンド管理オプション間を移動します</block>
  <block id="a7b407f571446f9f4a30f63e8160784a" category="list-text">tridentctl を使用して作成したバックエンドは 'TridentBackendConfig' で管理できますか</block>
  <block id="3e1fc11d05c13404995af2b9fda64675" category="list-text">「 TridentBackendConfig 」を使用して作成したバックエンドは、「 tridentctl 」を使用して管理できますか。</block>
  <block id="d6da18e16f248df47ee8e5139ef0156a" category="paragraph">このセクションでは 'tridentBackendConfig' オブジェクトを作成して Kubernetes インターフェイスから直接 'tridentctl を使用して作成されたバックエンドの管理に必要な手順について説明します</block>
  <block id="bee2ae6068ad50344ddb325737434004" category="paragraph">これは、次のシナリオに該当します。</block>
  <block id="8eed1f3ae09f008e2dbfb4280a0c137c" category="list-text">「 tridentctl 」で作成された新しいバックエンドと、その他の「 TridentBackendConfig 」オブジェクトが存在します。</block>
  <block id="95328f21e7a6deb7bb94acb3866753a6" category="list-text">tridentctl を使用して ' バックエンドを使用して作成したバックエンドを管理します</block>
  <block id="82c1dd66573aab904c86b63e2d5486ad" category="list-text">tridentctl を使用して作成されたバックエンドを新しい TridentBackendConfig オブジェクトにバインドしますこれは ' バックエンドが tridentctl ではなく 'kubectl' を使用して管理されることを意味します</block>
  <block id="d12d5022b29f44c340ee55411970fe10" category="paragraph">「 kubectl 」を使用して既存のバックエンドを管理するには、既存のバックエンドにバインドする「 TridentBackendConfig 」を作成する必要があります。その仕組みの概要を以下に示します。</block>
  <block id="b863de09ccfaf2861ead350dd78a9933" category="list-text">「 TridentBackendConfig 」オブジェクトを作成します。ストレージクラスタ / サービスの詳細を指定し、前の手順で作成したシークレットを参照します。同一の構成パラメータ (`PEC.backendName`'`PEC.storagePrefix'`PEC.storageDriverName') を指定するように注意する必要があります'PEC.backendName' は ' 既存のバックエンドの名前に設定する必要があります</block>
  <block id="44411eb1f3a70196b442f0ed4bb62820" category="section-title">手順 0 ：バックエンドを特定します</block>
  <block id="2181a22b3daf7866094f9f0d79da87d0" category="paragraph">次の例に示すように、バックエンドのクレデンシャルを含むシークレットを作成します。</block>
  <block id="276e25c1cf06c603ba2d133ae2e39dde" category="paragraph">次の手順では ' （この例のように）事前に存在する 'ONTAP-NAS-backend' に自動的にバインドされる 'TridentBackendConfig'CR を作成します次の要件が満たされていることを確認します。</block>
  <block id="0cbfd18f16db9afdef577eeddd6a8bee" category="list-text">「 'PEC.backendName' 」に同じバックエンド名が定義されています。</block>
  <block id="f261e4f2fe82344f35f04f9b3813e425" category="list-text">設定パラメータは元のバックエンドと同じです。</block>
  <block id="8f50f98a5b56105263e2f7ab18dc0686" category="list-text">クレデンシャルは、プレーンテキストではなく、 Kubernetes Secret を通じて提供されます。</block>
  <block id="05c8cd2e49ae2ecaee101c9bc5619d49" category="paragraph">この場合、「 TridentBackendConfig 」は次のようになります。</block>
  <block id="63d6f3ce15066b6232a788bb692bf721" category="paragraph">「 TridentBackendConfig 」が作成された後、そのフェーズは「バインド」されている必要があります。また、既存のバックエンドと同じバックエンド名と UUID が反映されている必要があります。</block>
  <block id="d1a75f7c76623350486029378ab164c3" category="paragraph">これで ' バックエンドは 'tbc-ontap/nas-backend`TridentBackendConfig' オブジェクトを使用して完全に管理されます</block>
  <block id="fcea92f3e948217919ca8b4051c2c61e" category="paragraph">tridentBackendConfig を使用して作成されたバックエンドを一覧表示するには 'tridentctl を使用しますまた、管理者は、「 TridentBackendConfig 」を削除し、「 pec.deletionPolicy` 」が「 re 」に設定されていることを確認することで、「 tridentctl 」を使用してこのようなバックエンドを完全に管理することもできます。</block>
  <block id="ab0c73d8e0377b2df5b783d3a76f2249" category="paragraph">たとえば ' 次のバックエンドが TridentBackendConfig を使用して作成されたとします</block>
  <block id="1ad97e0f65ef91102831baaa31630c76" category="admonition">「削除ポリシー」が「再取得」に設定されていない限り、次の手順に進まないでください。</block>
  <block id="8313f77478cb0df464604ae4435acce2" category="paragraph">最後の手順は、「 TridentBackendConfig 」 CR を削除することです。「削除ポリシー」が「取得」に設定されていることを確認したら、削除を続行できます。</block>
  <block id="72a5926b7fb086fe87e93771f6620556" category="summary">tridentctl を使用してバックエンド管理操作を実行する方法について説明します</block>
  <block id="aeeb03235358f0f4bf3be628bed08721" category="section-title">バックエンドを作成します</block>
  <block id="34746f7a1d24170eeebf5510a045d43d" category="inline-link-macro">バックエンド構成ファイル</block>
  <block id="99b7232073a67a8c82304f979e3dc83f" category="paragraph">を作成したら <block ref="03c0b6ed8698193668e92f56e9be3efa" category="inline-link-macro-rx"></block>を使用して、次のコマンドを実行します。</block>
  <block id="1cabe44c722167581b1e219de6c58341" category="paragraph">バックエンドの作成に失敗した場合は、バックエンドの設定に何か問題があります。次のコマンドを実行すると、ログを表示して原因を特定できます。</block>
  <block id="b5f9999463782f0c36ecc89573a90a49" category="paragraph">構成ファイルの問題を特定して修正したら ' 再度 create コマンドを実行します</block>
  <block id="634b471e6af84767e06324552492b533" category="section-title">バックエンドを削除します</block>
  <block id="f6816a6570e6b6097177f9adc1f4805b" category="list-text">バックエンド名を取得します。</block>
  <block id="11f4ccb46eb9afc4b1187c376b53123f" category="list-text">バックエンドを削除します。</block>
  <block id="d694c8966214ec6d0068c0ab2951b65c" category="section-title">既存のバックエンドを表示します</block>
  <block id="a6345aca446812b9124c47b385b33f43" category="paragraph">Trident が認識しているバックエンドを表示するには、次の手順を実行します。</block>
  <block id="cb325bc4dded2aa4744b594966262a99" category="list-text">概要を取得するには、次のコマンドを実行します。</block>
  <block id="9f073deeee70a1418443c3b8379c5c02" category="list-text">すべての詳細を確認するには、次のコマンドを実行します。</block>
  <block id="93dbcf0189ff94d39230d2e3726969ab" category="section-title">バックエンドを更新します</block>
  <block id="27709162cf6b8ffced7bb1da6dd49df3" category="paragraph">新しいバックエンド構成ファイルを作成したら、次のコマンドを実行します。</block>
  <block id="4ca005817e9c882d0ef15d451a97dbf0" category="paragraph">バックエンドの更新が失敗した場合、バックエンドの設定に問題があるか、無効な更新を試行しました。次のコマンドを実行すると、ログを表示して原因を特定できます。</block>
  <block id="20b5ebaa2558437206eb6d1d47577805" category="paragraph">構成ファイルの問題を特定して修正したら 'update コマンドを再度実行できます</block>
  <block id="d47f84a3cda326babf841866ad2326ab" category="section-title">バックエンドを使用するストレージクラスを特定します</block>
  <block id="02fe9d429af25b46c16a1172d735124f" category="paragraph">ここでは ' バックエンド・オブジェクトの tridentctl 出力と同じ JSON を使用して回答で実行できる質問の例を示しますこれには 'jq' ユーティリティが使用されますこのユーティリティをインストールする必要があります</block>
  <block id="e00013adda7b5901ea3e44ae300fd73d" category="paragraph">これは、「 TridentBackendConfig 」を使用して作成されたバックエンドにも適用されます。</block>
  <block id="e8b9c3a9859a62e9a58431c3b61f75d5" category="doc">ストレージクラスを管理する</block>
  <block id="14f4c7abe09c4481722f1fa6563f2604" category="section-title">ストレージクラスを作成する。</block>
  <block id="0fe0aa7b9b7529f66030afb1629507bb" category="section-title">ストレージクラスを削除する</block>
  <block id="4bf50148821c75f616a96daca9255e6f" category="paragraph">Kubernetes からストレージクラスを削除するには、次のコマンドを実行します。</block>
  <block id="65494a0b3404ce637afd88bcb7c82998" category="paragraph">「 &lt;storage-class&gt; 」は、ご使用のストレージクラスに置き換えてください。</block>
  <block id="e606165355271961ba07945766fbf83a" category="section-title">既存のストレージクラスを表示します</block>
  <block id="7c237bc6c124137d25df2dec1cb3e528" category="list-text">既存の Kubernetes ストレージクラスを表示するには、次のコマンドを実行します。</block>
  <block id="4aae22fbb9c0d354d0a9c15c6c126d89" category="list-text">Kubernetes ストレージクラスの詳細を表示するには、次のコマンドを実行します。</block>
  <block id="ce32eb748bd7452bd6ee6d1d7ad6d3a7" category="section-title">デフォルトのストレージクラスを設定する</block>
  <block id="f30a1542c01c3c493f3c01c88dfe5fcd" category="paragraph">Kubernetes 1.6 では、デフォルトのストレージクラスを設定する機能が追加されています。永続ボリューム要求（ PVC ）に永続ボリュームが指定されていない場合に、永続ボリュームのプロビジョニングに使用するストレージクラスです。</block>
  <block id="7c435ae4763642458286cb691812ea55" category="list-text">ストレージクラスの定義でアノテーションの「 torageclass.Kubernetes .io/is-default-class 」を true に設定して、デフォルトのストレージクラスを定義します。仕様に応じて、それ以外の値やアノテーションがない場合は false と解釈されます。</block>
  <block id="61fd76f55d29aaceb4a6ee09a318dc45" category="list-text">次のコマンドを使用して、既存のストレージクラスをデフォルトのストレージクラスとして設定できます。</block>
  <block id="800477137444bec636483de85335cbb5" category="list-text">同様に、次のコマンドを使用して、デフォルトのストレージクラスアノテーションを削除できます。</block>
  <block id="2d2f31c3012657fd7b38b41312d1a0b8" category="paragraph">また、このアノテーションが含まれている Trident インストーラバンドルにも例があります。</block>
  <block id="6c36cb9c072dc4cb9e163c44568f6a91" category="section-title">ストレージクラスのバックエンドを特定します</block>
  <block id="4abea6bac3b0b48d11dd8dcd02a11bf9" category="inline-link">CSI トポロジ機能</block>
  <block id="592af423a2f6a51f57c639ec7f7b245e" category="admonition">CSI トポロジ機能の詳細については、を参照してください<block ref="ff042e7f24bd2adcec09d78466034177" category="inline-link-rx"></block>。</block>
  <block id="bbdcaf9b704dc7a7cf73e6000101b65a" category="paragraph">Kubernetes には、 2 つの固有のボリュームバインドモードがあります。</block>
  <block id="5fca24470d51aa51b0fb2d0f27c25c68" category="list-text">VolumeBindingMode を「 WaitForFirstConsumer 」に設定すると、 PVC の永続ボリュームの作成とバインドは、 PVC を使用するポッドがスケジュールされて作成されるまで遅延されます。これにより、トポロジの要件に応じたスケジュールの制約を満たすようにボリュームが作成されます。</block>
  <block id="3bbc2da928dcf77a048cdd745fe7d208" category="admonition">「 WaitForFirstConsumer 」バインディングモードでは、トポロジラベルは必要ありません。これは CSI トポロジ機能とは無関係に使用できます。</block>
  <block id="edff21c44983aaa85506a3dfe467c494" category="paragraph">CSI トポロジを使用するには、次のものが必要です。</block>
  <block id="0bd58c9826639ac2db106c3b277a7e0f" category="section-title">手順 1 ：トポロジ対応バックエンドを作成する</block>
  <block id="217d95247b26701da7fd823884d84723" category="paragraph">また ' ストレージ・プールごとに 'upportedTopologies を定義することもできます次の例を参照してください。</block>
  <block id="c6c80256ac468b3d88d7b62d8753f192" category="paragraph">この例では、「 re Gion 」および「 zone 」ラベルはストレージプールの場所を表しています。「 topology.efix/region' 」と「 topology.uns.io/zone 」は、ストレージプールの消費元を決定します。</block>
  <block id="54e204e8e05b6eb24d965741eb977e69" category="section-title">手順 2 ：トポロジを認識するストレージクラスを定義する</block>
  <block id="090f70d385b4a21aa6c8f2a0ca558616" category="paragraph">クラスタ内のノードに提供されるトポロジラベルに基づいて、トポロジ情報を含めるように StorageClasses を定義できます。これにより、作成された PVC 要求の候補となるストレージプール、および Trident によってプロビジョニングされたボリュームを使用できるノードのサブセットが決まります。</block>
  <block id="ecb383148a1bc974cba3ac735a79f4c6" category="paragraph">次の例を参照してください。</block>
  <block id="df340fb31051c975afb3518dfd32e07c" category="section-title">ステップ 3 ： PVC を作成して使用する</block>
  <block id="f98be29d352e7c38a6502e76bbfaf34c" category="paragraph">StorageClass を作成してバックエンドにマッピングすると、 PVC を作成できるようになりました。</block>
  <block id="c4b17c8733f9f36fdc682242d2b64ab2" category="paragraph">以下の例「 PEC 」を参照してください。</block>
  <block id="427e01a8fca484c85a1e8e3a672b999a" category="paragraph">このマニフェストを使用して PVC を作成すると、次のような結果になります。</block>
  <block id="e65f170821e3417d48579a28989a9260" category="paragraph">Trident でボリュームを作成して PVC にバインドするには、ポッド内の PVC を使用します。次の例を参照してください。</block>
  <block id="9b8ff27bceb4601d1f866c4cf39fe449" category="paragraph">この podSpec は 'us-east1` 領域に存在するノード上のポッドをスケジュールするよう Kubernetes に指示し 'us-east1-a' または `us-east1-b' ゾーン内に存在する任意のノードから選択します</block>
  <block id="c93345596f9f82deea04d17ef8c6ca89" category="paragraph">次の出力を参照してください。</block>
  <block id="476950aea923438779c9544953093cb9" category="paragraph">既存のバックエンドは 'tridentctl backend update を使用して 'upportedTopologies のリストを含むように更新できますこれは、すでにプロビジョニングされているボリュームには影響せず、以降の PVC にのみ使用されます。</block>
  <block id="ded10f93b9e4453980b7009035c63418" category="inline-link">コンテナのリソースを管理</block>
  <block id="47ea3356a13b3f6644e6c05450e9d5e1" category="list-text"><block ref="47ea3356a13b3f6644e6c05450e9d5e1" category="inline-link-rx"></block></block>
  <block id="6370f866cf64618c026027da41bd248e" category="inline-link">ノードセレクタ</block>
  <block id="2a4ad9fc807789134426a1b2babc5733" category="list-text"><block ref="2a4ad9fc807789134426a1b2babc5733" category="inline-link-rx"></block></block>
  <block id="873bf2b9b61a741ce5b7326a3a053489" category="inline-link">アフィニティと非アフィニティ</block>
  <block id="ec5df0a2adb621359563958138462e34" category="list-text"><block ref="ec5df0a2adb621359563958138462e34" category="inline-link-rx"></block></block>
  <block id="e1e08e40036f927a0e660c22aa837f88" category="inline-link">塗料および耐性</block>
  <block id="66b1e0aa9cd6e46c0b85fdf56a15154a" category="list-text"><block ref="66b1e0aa9cd6e46c0b85fdf56a15154a" category="inline-link-rx"></block></block>
  <block id="2941c38dbb7c39c325787067c0540247" category="summary">kubectl' を使用してバックエンド管理操作を実行する方法について説明します</block>
  <block id="265ab4809f08d248e5045a8638ac7afa" category="paragraph">tridentctl get backend -n trident` または tridentctl get backend -o yaml -n trident` を実行して、存在するすべてのバックエンドのリストを取得することもできます。このリストには 'tridentctl' で作成されたバックエンドも含まれます</block>
  <block id="93700a3ea9dc6d858638cd66cd2f2bfa" category="paragraph">バックエンドを更新する理由はいくつかあります。</block>
  <block id="d38f034e9aa082af3ec19c23caff4b0f" category="paragraph">バックエンドの更新に失敗した場合、バックエンドは最後の既知の設定のまま残ります。ログを表示して原因を確認するには、「 kubectl get tbc &lt;tbc-name&gt; -o yaml -n trident` または「 kubectl describe tbc &lt;tbc-name&gt; -n trident` 」を実行します。</block>
  <block id="5878b59fb3a8430928026b63b5ca336f" category="paragraph">構成ファイルで問題を特定して修正したら、 update コマンドを再実行できます。</block>
  <block id="64dbac0ca36d9b1f6a8cf1e8a0123261" category="list-text">バックエンドの使用状況の情報を調べて、バックエンドでプロビジョニングされているボリュームの数や消費されているスペースなどを確認します。</block>
  <block id="7f6516030964b624d9c71fd9ec7f83dd" category="list-text">利用可能なバックエンドにプロビジョニングされたボリュームの量のマッピングを維持します。</block>
  <block id="efe0d75090a22534acabc936f8669994" category="admonition">デフォルトでは 'Trident のメトリックは '/metrics エンドポイントのターゲットポート 8001' に公開されていますこれらの指標は、 Trident のインストール時にデフォルトで * 有効になります。</block>
  <block id="eb8bfd69bb88378a6f4d987811890ce6" category="inline-link">コンテナ化された Prometheus 環境</block>
  <block id="42ae2e91a939ffa9bbda53c10bf5f89f" category="inline-link">ネイティブアプリケーション</block>
  <block id="050899631250104f17d24b27cc8a12e5" category="list-text">Prometheus インスタンス。これは a である場合もある<block ref="bd5b9e4bd7b88b90afb221fb760a777c" category="inline-link-rx"></block> または、 Prometheus をとして実行することもできます<block ref="3f1d5beaea78c0fd8cb397fbeb1c88bd" category="inline-link-rx"></block>。</block>
  <block id="68276ca40dfbfd36de911402152fa452" category="section-title">手順 1 ： Prometheus ターゲットを定義する</block>
  <block id="c33638e0de87536b08eeb94264671d0f" category="section-title">手順 2 ： Prometheus ServiceMonitor を作成します</block>
  <block id="81a21a88b42cd5c83d149a080a627bad" category="paragraph">Trident のメトリックを使用するには、「 trident-csi 」サービスを監視し、「 m etrics 」ポートを監視する Prometheus ServiceMonitor を作成する必要があります。ServiceMonitor のサンプルは次のようになります。</block>
  <block id="1db2022a8a8de5d612eda8e3be0e1065" category="section-title">ステップ 3 ： PrompQL を使用して Trident 指標を照会する</block>
  <block id="f5142e19a3b1edf809fce9d3b6aefc05" category="paragraph">PrompQL は、時系列データまたは表データを返す式を作成するのに適しています。</block>
  <block id="8c6fb1be2521fd16337c11c626672678" category="paragraph">次に、 PrompQL クエリーのいくつかを示します。</block>
  <block id="b214fd0009b3929347f097bd843f0bfd" category="section-title">Trident の健常性情報を取得</block>
  <block id="f160a52d617adf6e6c5d379a9b8bca89" category="list-text">** 平均体積サイズ **</block>
  <block id="eb978bfe01ec0c72ad231f3953e304a2" category="list-text">** 各バックエンドによってプロビジョニングされた合計ボリューム容量 **</block>
  <block id="5f735ae12eafbe476178928f4645475b" category="section-title">個々のボリュームの使用状況を取得する</block>
  <block id="ee0898e9f0caa503f3eaa39c919f4c53" category="admonition">これは、 kubelet 指標も収集された場合にのみ有効になります。</block>
  <block id="0bc301d2423b2ffaa38a5e275e4ec6f9" category="list-text">** 各ボリュームの使用済みスペースの割合 **</block>
  <block id="ca0f9a86ca33f1d6baa9051bd7f4ed21" category="inline-link">プライバシーポリシー</block>
  <block id="5224919a4ae5ccf610fb0ee74e4e7a94" category="inline-link">Trident AutoSupport の略</block>
  <block id="53084cad3d11df800502598c11e2d10b" category="inline-link">EULA</block>
  <block id="d2ec86f126f845e79aff07e70bf89472" category="list-text">AutoSupport メッセージは、ネットアップの AutoSupport エンドポイントに送信されます。プライベートレジストリを使用してコンテナイメージを格納している場合は '--image_registry' フラグを使用できます</block>
  <block id="86c5a11fba83815412aec79f67f2d276" category="list-text">インストール YAML ファイルを生成してプロキシ URL を設定することもできます。これは 'tridentctl install --generate-custom-yaml を使用して YAML ファイルを作成し 'trident-deployment.yaml の trident-autosupport コンテナに --proxy-url 引数を追加することによって実行できます</block>
  <block id="8ec47dab227d183e0d3ad0cd529d289b" category="paragraph">** メトリックがレポートされないようにするには '--generate-custom-yaml' フラグを使用してカスタム YAML を生成し ' これらを編集して 'trident-main' コンテナに対して --metrics フラグが呼び出されないようにします</block>
  <block id="28b0abcecaf7a63edb46e4e137337018" category="doc">Azure NetApp Files バックエンドを設定します</block>
  <block id="07e7004c50a67a3e4e366b4ca1c28e3d" category="paragraph">を設定して使用します<block ref="24a785881ff1cdf191a2239811dc9597" category="inline-link-rx"></block> バックエンドには次のものが必要です。</block>
  <block id="66d640a9a050b05e6a914cbcd88a1e2e" category="list-text">Azure NetApp Files が有効な Azure サブスクリプションのスクリプト ID 。</block>
  <block id="b12fb354025b3dfa01277964eb72c060" category="inline-link">アプリケーション登録</block>
  <block id="f494e4df0fff53e809d6563f8ec1782f" category="inline-link">委任されたサブネット</block>
  <block id="3e566c45584d66d2ab94c2108f7c3488" category="cell">「 azure-NetApp-files 」</block>
  <block id="9dd18f393b35bf22098cf53e9c1c7fa6" category="cell">ドライバ名 + "_" + ランダムな文字</block>
  <block id="665120e71659a6a32f990a3181688d1b" category="cell">' スクリプト ID' 。</block>
  <block id="e07778d10cef90430253876cba7157e4" category="cell">「 tenantID 」。</block>
  <block id="949ba1045db0d48bd189044e672d8097" category="cell">「 clientID 」。</block>
  <block id="56ef18e84ab36c2bdc4546e6a2756673" category="cell">「 clientSecret 」を入力します。</block>
  <block id="1c65f12b4d30114593cc01384938cb5f" category="cell">「標準」、「プレミアム」、「ウルトラ」のいずれかです</block>
  <block id="b21b08bb55acd409e40e9b45edd3bb34" category="cell">"" （ランダム）</block>
  <block id="fc7dd5b65d21ee7272a067c9404a8498" category="cell">「ロケーション」</block>
  <block id="32ef1af5ccda7c2f6d85e55f5034f105" category="cell">「 virtualNetwork 」</block>
  <block id="10afd0959cfa4a53bce9c8d395c40c48" category="cell">委任されたサブネットを持つ仮想ネットワークの名前</block>
  <block id="ec045173f4df65e5e8951c3ca9579945" category="cell">「サブネット」</block>
  <block id="0b8deda0ecc5080e8c0ed0b475e983ba" category="cell">「 icrosoft.Netapp/volumes` 」に委任されたサブネットの名前</block>
  <block id="e5ac299cc3b14e1fac29518569ca9bb1" category="cell">新しいボリュームのデフォルトサイズ</block>
  <block id="a83f4a534ccef7ac1d209fb0015cd907" category="paragraph">このバックエンド構成は、ボリュームの配置を単一のサブネットにまで適用する手間をさらに削減し、一部のボリュームプロビジョニングのデフォルト設定も変更します。</block>
  <block id="a0f3a965c12688befda99da850903dcb" category="cell">「 autoExportPolicy 」を参照してください</block>
  <block id="b4ad0dff08149092bc3e4b16572af575" category="cell">「 autoExportCI` 」</block>
  <block id="07f6b23cad3d6da54012935ff972affe" category="cell">qtreesPerFlexvol`</block>
  <block id="a13306f726fdf72d2d992a7ebdc63b1b" category="cell">FlexVol あたりの最大 qtree 数。有効な範囲は [50 、 300] です。</block>
  <block id="3e9a232d025270ed6767c385b8291871" category="cell">新しいボリュームのモード</block>
  <block id="c1a0e97f953c948568aed6c134fc9711" category="cell">使用するエクスポートポリシー</block>
  <block id="86ec808b80973d24eadfc617926f534e" category="paragraph">計算は次のとおりです。</block>
  <block id="f35c0fe4b6581c16866c964cef229bfa" category="admonition">ネットアップ ONTAP で Trident を使用している場合は、 IP アドレスではなく LIF の DNS 名を指定することを推奨します。</block>
  <block id="87dc0337d3ded2211d9b01c32e22d90d" category="doc">バックエンドを設定</block>
  <block id="2acbb5dd492d792d00383b0c76ade4ad" category="list-text"><block ref="2acbb5dd492d792d00383b0c76ade4ad" category="inline-link-macro-rx"></block></block>
  <block id="252e63ff646a0204671ca04a26b88e06" category="inline-link-macro">Cloud Volumes Service for Google Cloud Platform バックエンドを設定します</block>
  <block id="c00b6e370d4496e06d2135275a992af5" category="list-text"><block ref="c00b6e370d4496e06d2135275a992af5" category="inline-link-macro-rx"></block></block>
  <block id="b1064b6f7a5906eac23601dc24ba95a8" category="list-text"><block ref="b1064b6f7a5906eac23601dc24ba95a8" category="inline-link-macro-rx"></block></block>
  <block id="24ca391029d6df294c5d5b8f1fe5b4eb" category="summary">ONTAP NAS ドライバを使用した ONTAP バックエンドの設定について説明します。</block>
  <block id="e4c4d344a524d21b898e4d04b6539aa7" category="admonition">インストーラ zip ファイルに含まれている Linux の tridentctl バイナリは ' テスト済みでサポートされているバージョンですzip ファイルの「 /extras 」部分に含まれている「 macos 」バイナリはテストされておらず、サポートされていないことに注意してください。</block>
  <block id="41cf959adc98386b54829d71a6ed5d37" category="section-title">の修正</block>
  <block id="a6e7aa999ba654c6844672ae59f5137a" category="list-text">XFS ボリュームのクローンをソースボリュームと同じノードにマウントできない固定問題（ GitHub 問題 514 ）</block>
  <block id="852acc81ea6fa7363b73c5313002de83" category="list-text">Kubernetes 関連の修正：</block>
  <block id="f94cc5159119c43751041256941deb2c" category="list-text">スナップショットを作成するときに 'ONTAP-NAS' および 'ONTAP-NAS-flexgroup ドライバ（ GitHub 問題 645 ）を使用して ' ボリュームの使用済み領域を最小リストアサイズとして返します</block>
  <block id="742ce2e3c9c8496323bd1176af2838a4" category="list-text">ボリュームのサイズ変更後に 'Failed to expand filesystem エラーがログに記録された問題を修正しました (GitHub 問題 560)</block>
  <block id="9a445ecbad9af70a94bd7558ba95e059" category="list-text">POD が「 Terminating 」状態で停止する可能性がある固定問題（ GitHub 問題 572 ）。</block>
  <block id="4f81c320a621b8c9d81c7334f2cffc71" category="list-text">「 ONTAP-SAN-エコノミー 」問題がスナップショット FlexVol （ GitHub 533 ）でいっぱいになる場合があるという問題を修正しました。</block>
  <block id="169c3be63dd22b315ed7884e246338de" category="list-text">異なるイメージを持つ固定カスタム YAML インストーラ問題（ GitHub 問題 613 ）。</block>
  <block id="1077a1a91a96498c2f56bc630e632eee" category="list-text">Snapshot サイズの計算方法を固定（ GitHub 問題 611 ）。</block>
  <block id="27b76ffa775f907a1fd51f21a669551b" category="list-text">Kubernetes API サーバにアクセスできない場合に、 Trident オペレータが更新を停止するよう修正しました（ GitHub 問題 599 ）。</block>
  <block id="c1748037d10cffabb8e95e4ccf77c613" category="section-title">拡張機能</block>
  <block id="1f9e922b6eff6cb06fca1ed9137eed38" category="list-text">GCP - CVS パフォーマンスボリュームに対する「 unixPermissions 」オプションのサポートが追加されました。</block>
  <block id="294b850a76a040c20913e76c2fe6589a" category="list-text">GCP でのスケール最適化 CVS ボリュームのサポートが 600GiB から 1TiB に追加されました。</block>
  <block id="0333eb54465646b87754facff75fdb5f" category="list-text">Kubernetes 関連の機能拡張：</block>
  <block id="c32aa411caa1ffd0e30a271f5be834d9" category="list-text">Kubernetes 1.22 のサポートが追加されました。</block>
  <block id="fa1fd8841173fa7ccde5059fb7c2f903" category="list-text">Trident の operator と Helm チャートを Kubernetes 1.22 （ GitHub 問題 628 ）と連携させるように設定</block>
  <block id="dbaa551f190105e514f7816811f4b397" category="list-text">tridentctl images コマンドに演算子イメージを追加 (GitHub 問題 570)</block>
  <block id="be575f1ff204f2800114965a5c0d8575" category="section-title">実験的な機能強化</block>
  <block id="29ddf941d9825cc9283521ee90468595" category="list-text">「 ONTAP SAN 」ドライバでのボリューム・レプリケーションのサポートを追加しました。</block>
  <block id="e2f2b85987da5e2397c1e342a6fd9e28" category="list-text">'ONTAP-NAS-flexgroup 'ONTAP-SAN' および 'ONTAP-NAS-エコノミー ' ドライバの 'tech preview* REST サポートを追加</block>
  <block id="95dc0391ce7b396d7dd5622284e8fc3e" category="section-title">既知の問題</block>
  <block id="64a8f71bee95a6635e88bce00f1a2d3c" category="paragraph">ここでは、本製品の正常な使用を妨げる可能性のある既知の問題について記載します。</block>
  <block id="6d791d3b45515fd8619e489b938f39e8" category="inline-link">マウントオプション</block>
  <block id="0821431aba133adbfa7fa0ca1781eedd" category="list-text">FlexGroup では、プロビジョニング要求ごとに一意のアグリゲートセットがないかぎり、同時に複数の ONTAP をプロビジョニングすることはできません。</block>
  <block id="ba09ee47d11962c1ccd13d7e1f10e6c5" category="doc">以前のバージョンのドキュメント</block>
  <block id="89bcbd8e4ba49b7310e9fa748e878c4b" category="inline-link-macro">導入の前提条件</block>
  <block id="88f0ab229fa9d759d74fcf6ab7cc17b1" category="section-title">Docker Managed Plugin メソッド（バージョン 1.13 / 17.03 以降）</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="admonition-title">作業を開始する前に</block>
  <block id="7bf1ee8f4e093050c1cdf1842931af7d" category="list-text">実行中のインスタンスをすべて停止します。</block>
  <block id="47b9ec5c8c4439980c63f4188bad5324" category="list-text">Docker を再起動します。</block>
  <block id="5311ac4d72d5c91dcaa39b896d3b8027" category="list-text">Docker Engine 17.03 （新しい 1.13 ）以降がインストールされていることを確認します。</block>
  <block id="07d6db5e99a0aa19fe76f15efed30ecf" category="inline-link">インストール環境をインストールまたは更新します</block>
  <block id="2c3bc9d0632e0cccc05fdd3c42467df9" category="paragraph">バージョンが最新でない場合は、<block ref="ddebe10ca17c0276898872fa2632e8fb" category="inline-link-rx"></block>。</block>
  <block id="48afbcf494fc19ee409f5aff48ae32c3" category="list-text">構成ファイルを作成し、次のオプションを指定します。</block>
  <block id="9314e9bcd24c80b255fc3e9e697a2ada" category="list-text">`config`: デフォルトのファイル名は 'config.json ですが ' ファイル名に config オプションを指定することで ' 選択した任意の名前を使用できます構成ファイルは ' ホスト・システムの /etc/netappdvp ディレクトリに格納されている必要があります</block>
  <block id="8798dc2a3b5e61873054923c9f170ac7" category="list-text">「 log-level 」：ログレベルを指定します（「 debug` 」、「 info 」、「 warn 」、「 error 」、「 fatal 」）。デフォルトは「 info 」です。</block>
  <block id="45ed67026a1141006588fcc698646141" category="list-text">`ebug`: デバッグログを有効にするかどうかを指定します。デフォルトは false です。true の場合、ログレベルを上書きします。</block>
  <block id="3bed6f89999b483af7f55024d9e7c02a" category="list-text">構成ファイルの場所を作成します。</block>
  <block id="28156615c51d4bad2ee47d0a9f43f404" category="list-text">構成ファイルを作成します</block>
  <block id="a9c521f25a3bacb94ad1dd4705b3585f" category="list-text">「 firstVolume 」という名前のボリュームを作成します。</block>
  <block id="4fbca4f67cbe96bc7d7a16691d2912c2" category="list-text">コンテナの開始時にデフォルトのボリュームを作成します。</block>
  <block id="b8e88709dbc4f2f80a96f53f83862704" category="list-text">ボリューム「 firstVolume 」を削除します。</block>
  <block id="0e68ac1d84bfedf203365a9fb37db9ed" category="section-title">従来の方法（バージョン 1.12 以前）</block>
  <block id="2c1107bda4c1ae7904ab1835c35973b7" category="list-text">バージョン 1.10 以降の Docker がインストールされていることを確認します。</block>
  <block id="b6fdfa2eab3e357687eba5ddec2bea0c" category="paragraph">使用しているバージョンが最新でない場合は、インストールを更新します。</block>
  <block id="45c61654258cfd16ceec15df7df02138" category="inline-link">ご使用のディストリビューションの指示に従ってください</block>
  <block id="07dff22faeb910f375341cfcbd4899fd" category="paragraph">または<block ref="9ce989a7f7f995616a47f5dd291ed229" category="inline-link-rx"></block>。</block>
  <block id="588d2fe1c60271cde75dbeba32e0b25b" category="list-text">NFS または iSCSI がシステムに対して設定されていることを確認します。</block>
  <block id="03fe5b0d58270efa87041677cac72ad7" category="list-text">NetApp Docker Volume Plugin をインストールして設定します。</block>
  <block id="f45f5a64dae951d3e37c9bd382201b06" category="list-text">アプリケーションをダウンロードして開梱します。</block>
  <block id="b255d9e06a4ca8e9f5bc31c9198426ad" category="list-text">ビンパス内の場所に移動します。</block>
  <block id="e3dec3f86b9a3b1be209ab63855ce432" category="list-text">ボリュームを作成します</block>
  <block id="5ff2e3e853922fdb84ef21b85ffdac2e" category="list-text">コンテナの開始時に Docker ボリュームをプロビジョニング：</block>
  <block id="8f6a91f5f21d0478e3fd89095fc28ab9" category="list-text">Docker ボリュームを削除します。</block>
  <block id="5b51496da86e5a2073e0c618390c3d2a" category="list-text">ファイルを正しい場所にコピーします。</block>
  <block id="44103de0a164f687d305ad91e919d8ee" category="paragraph">複数のインスタンスを実行している場合は、ユニットファイルに一意の名前を使用してください。</block>
  <block id="3223aadc84a3ccb4a3473ba01c895184" category="list-text">ファイルを編集し、概要（ 2 行目）を変更してドライバ名と構成ファイルのパス（ 9 行目）を環境に合わせます。</block>
  <block id="1edae3931401a32d7dd7dd6e0a2ad563" category="list-text">変更を取り込むためにシステムをリロードします。</block>
  <block id="db38a93e27eba57d507611d002ad612f" category="list-text">サービスを有効にします。</block>
  <block id="c7e0a4deeebe264aa7d5f7f3ca3ef77f" category="paragraph">この名前は '/usr/lib/systemd/system' ディレクトリ内のファイルの名前によって異なります</block>
  <block id="baa04490a79e9e8de7fa4cd44e2c6fbb" category="list-text">サービスを開始します。</block>
  <block id="93c7574cf83c1f01b04891cf2d826cea" category="list-text">ステータスを確認します。</block>
  <block id="f4f15418284ae7a01b27fccc1af0463a" category="admonition">ユニット・ファイルを変更するときは ' 変更を認識するために 'systemctl daemon-reload コマンドを実行します</block>
  <block id="782bd8949cb40c80fd3f3126eccab35a" category="doc">導入の前提条件</block>
  <block id="b4851e92b19af0c5c82447fc0937709d" category="inline-link-macro">要件</block>
  <block id="d46ecc35447a8c17ef014ff6daf07bba" category="inline-link">インストールまたは更新します</block>
  <block id="1035fa0ac2c3ed19f6ba56cafe7e121f" category="list-text">サポートされているバージョンの Docker がインストールされていることを確認します。Docker のバージョンが最新でない場合は、<block ref="0b011811ae105895ca4da9769d7e6f99" category="inline-link-rx"></block>。</block>
  <block id="0e9e734e557a02db30a20e5ac259cfb9" category="summary">ストレージドライバにはそれぞれ異なるオプションがあり、ボリュームの作成時に指定することで結果をカスタマイズできます。構成済みのストレージシステムに適用されるオプションについては、以下を参照してください。</block>
  <block id="11e1b165c1d718d825f4bb9aaf0b884e" category="doc">ドライバ固有のボリュームオプション</block>
  <block id="bca0712c590c8d3c228bf1044aed730b" category="paragraph">ボリューム作成処理では、これらのオプションを簡単に使用できます。CLI の操作中に '-o' 演算子を使用して ' オプションと値を指定しますこれらは、 JSON 構成ファイルの同等の値よりも優先されます。</block>
  <block id="6021d91bdededf94b8ae37c30e820118" category="section-title">ONTAP ボリュームのオプション</block>
  <block id="054b4f3ea543c990f6b125f41af6ebf7" category="cell">オプション</block>
  <block id="d3a07c97b6050b305c7dda0aea1657be" category="paragraph">ボリュームのサイズ。デフォルトは 1GiB です。</block>
  <block id="69e8c7b4f73d39cea9948875813f7ddd" category="paragraph">ボリュームをシンプロビジョニングまたはシックプロビジョニングします。デフォルトはシンです。有効な値は 'none( シン・プロビジョニング ) と 'volume( シック・プロビジョニング ) です</block>
  <block id="b8a0fde33bd7662b7b9cb4158f04ef52" category="paragraph">これにより、 Snapshot リザーブの割合が希望する値に設定されます。デフォルト値は no で、 Snapshot ポリシーを選択した場合は ONTAP によって snapshotReserve が選択されます（通常は 5% ）。 Snapshot ポリシーがない場合は 0% が選択されます。構成ファイルのすべての ONTAP バックエンドに対して snapshotReserve のデフォルト値を設定できます。また、この値は、 ONTAP-NAS-エコノミー を除くすべての ONTAP バックエンドでボリューム作成オプションとして使用できます。</block>
  <block id="cdaf246fba737b75127faa65456baa30" category="paragraph">ボリュームに使用する階層化ポリシーを設定します。これにより、アクセス頻度の低いコールドデータをクラウド階層に移動するかどうかが決まります。</block>
  <block id="1c46d85ab16f6b373409ad15260b1b0a" category="paragraph">以下は、 NFS * のみ * 用の追加オプションです。</block>
  <block id="ce46e8f3fc6eaddbe03115e0d62090ac" category="cell">「 unixPermissions 」</block>
  <block id="b145a4acc7a577d843f538580013776b" category="paragraph">これにより、ボリューム自体の権限セットを制御できます。デフォルトでは ' アクセス権は '--rwxr-xr-x' または数値表記 0755 に設定され 'root' は所有者になりますテキスト形式または数値形式のどちらかを使用できます。</block>
  <block id="e59001176f4360988f5d774a8405b4b9" category="cell">「 exportPolicy 」と入力します</block>
  <block id="700d608597316c75fc869190f51cff49" category="paragraph">ボリュームで使用するエクスポートポリシーを設定します。デフォルトは「デフォルト」です。</block>
  <block id="6b068a846d408b1d9ccd2c7220326b9d" category="paragraph">ボリュームへのアクセスに使用するセキュリティ形式を設定します。デフォルトは「 unix 」です。有効な値は「 unix 」と「 immimixed 」です。</block>
  <block id="842aac52866a44b40a5733ce352cf6df" category="paragraph">以下の追加オプションは、 iSCSI * のみ * 用です。</block>
  <block id="3184b1a9846944fabb00496c4b6b613a" category="cell">「 filesystemtype 」です</block>
  <block id="56efcdcb9168adcb146b4d86bf55e99d" category="cell">iSCSI ボリュームのフォーマットに使用するファイルシステムを設定します。デフォルトは「 ext4 」です。有効な値は「 ext3 」、「 ext4 」、「 xfs 」です。</block>
  <block id="ff7c0fcd6a31e735a61c001f75426961" category="section-title">例</block>
  <block id="9e6d454a094b92b0132e48d2369debf5" category="paragraph">以下の例を参照してください。</block>
  <block id="297d0d2fcc555e5037c8d251daf5a620" category="list-text">setuid ビットが有効になっているボリュームを作成します。</block>
  <block id="8c05fd71822bf85c290cef86db959f68" category="list-text">Snapshot ポリシーがなく、 Snapshot リザーブがないボリュームを作成します。</block>
  <block id="d15d662af6e4417b0b7c134a84ed577c" category="list-text">Snapshot ポリシーがなく、カスタムの Snapshot リザーブが 10% のボリュームを作成します。</block>
  <block id="52a56a468f11c3298931c8e32c938e15" category="list-text">Snapshot ポリシーを使用し、カスタムの Snapshot リザーブを 10% に設定してボリュームを作成します。</block>
  <block id="f6f813eaaff2b296a27b6bf051485d2b" category="section-title">Element ソフトウェアのボリュームオプション</block>
  <block id="a514753df071ac540af065b659d1c65c" category="paragraph">Element ソフトウェアのオプションでは、ボリュームに関連付けられているサービス品質（ QoS ）ポリシーのサイズと QoS を指定できます。ボリュームが作成されると '-o type=service_level' という命名法を使用して ' ボリュームに関連付けられた QoS ポリシーが指定されます</block>
  <block id="f201e088f13d93e3d12b3c0ef78dece3" category="paragraph">Element ドライバを使用して QoS サービスレベルを定義する最初の手順は、少なくとも 1 つのタイプを作成し、構成ファイル内の名前に関連付けられた最小 IOPS 、最大 IOPS 、バースト IOPS を指定することです。</block>
  <block id="5cb7e4a4b6a51af0b5b09cb230b83422" category="paragraph">Element ソフトウェアのその他のボリューム作成オプションは次のとおりです。</block>
  <block id="d52146098b8ecd83b888289a86e26d19" category="cell">「ブロックサイズ」</block>
  <block id="348ef18ccca06aa29547bd9ad87beebe" category="paragraph">512 または 4096 のいずれかを使用します。デフォルトは 512 または config エントリ DefaultBlockSize です。</block>
  <block id="1daf1c12549d6d3ae75c4d8d5f59d532" category="paragraph">QoS 定義を含む次のサンプル構成ファイルを参照してください。</block>
  <block id="7afe0c73e341cee7c90b4d4dda4600d9" category="paragraph">上記の構成では、 Bronze 、 Silver 、 Gold の 3 つのポリシー定義を使用します。これらの名前は任意です。</block>
  <block id="feabbbf9b5afb31194daf0d8e3ff75dc" category="doc">ボリュームを操作します</block>
  <block id="dc88dce8ec264777b2f90ec0af744f43" category="section-title">ボリュームを作成します</block>
  <block id="a32b09b1335e0afbb640a9412690680d" category="list-text">デフォルトの名前を使用して、ドライバでボリュームを作成します。</block>
  <block id="93da65a9fd0004d9477aeac024e08e15" category="inline-link-macro">オプション（ Options ）</block>
  <block id="593e5c95e1adc19e8d81719c16b57bc1" category="admonition">何も指定しない場合 <block ref="3a0a40f90bfa29e0eb23418c553e5ef5" category="inline-link-macro-rx"></block>、ドライバのデフォルトが使用されます。</block>
  <block id="5149eec9d959a54cf392efaa710541d1" category="admonition">ボリュームサイズは、オプションの単位（ 10G 、 20GB 、 3TiB など）を含む整数値で指定します。単位を指定しない場合、デフォルトは g ですサイズの単位は、 2 の累乗（ B 、 KiB 、 MiB 、 GiB 、 TiB ）または 10 の累乗（ B 、 KB 、 MB 、 GB 、 TB ）のいずれかです。略記単位では、 2 の累乗が使用されます（ G=GiB 、 T=TiB 、…）。</block>
  <block id="9bc129eac7adf7ea5d8ed1c021fab2dc" category="section-title">ボリュームを削除します</block>
  <block id="281a0f40363a276c6ec125244c784112" category="list-text">他の Docker ボリュームと同様にボリュームを削除します。</block>
  <block id="7959e3701f7a7fba7713c7530d496324" category="admonition">「 olidfire -san 」ドライバを使用する場合、上記の例ではボリュームを削除してパージします。</block>
  <block id="d50044469c0bf9ab38eff9cf7243fb25" category="section-title">ボリュームのクローンを作成します</block>
  <block id="9374b766b9dd78063440afd69afabf38" category="list-text">ボリュームを調べて Snapshot を列挙します。</block>
  <block id="2747096689037792fa87de7a0e8440e2" category="list-text">既存のボリュームから新しいボリュームを作成します。その結果、新しい Snapshot が作成されます。</block>
  <block id="31d9b5ed201aa44dbeae6d17d38c0c6f" category="list-text">ボリューム上の既存の Snapshot から新しいボリュームを作成します。新しい Snapshot は作成されません。</block>
  <block id="516b30a46da41c6969cb7249d6567905" category="section-title">外部で作成されたボリュームにアクセス</block>
  <block id="4cfa22b281cbd36e1a275d61ec23a9b4" category="summary">トラブルシューティングに役立つログを収集できます。ログの収集方法は、 Docker プラグインの実行方法によって異なります。</block>
  <block id="fe1786b49549e8e06a89b9c57d7fc514" category="doc">ログを収集します</block>
  <block id="c28722abec5c1daefa02916119bbff91" category="list-text">デバッグロギングをイネーブルにするには、デバッグロギングをイネーブルにしてプラグインをインストールします。</block>
  <block id="b142025dd533fb27bf7df1a93c55e311" category="paragraph">または、プラグインがすでにインストールされている場合にデバッグログを有効にします。</block>
  <block id="2aa0797ce5da04d1c6f027c9b3276483" category="section-title">一般的なトラブルシューティングのヒント</block>
  <block id="94d799ff06bdb0aedb7b64151dac73d7" category="list-text">新しいユーザーが実行する最も一般的な問題は、プラグインの初期化を妨げる構成ミスです。この場合、プラグインをインストールまたは有効にしようとすると、次のようなメッセージが表示されることがあります。</block>
  <block id="fe6b4529e706ebc0f7e3668d3230d029" category="paragraph">「デーモンからのエラー応答 : ダイヤル UNIM/run/docx/plugins/&lt;id&gt;/NetApp/smock: connect: no such file or directory`</block>
  <block id="3d924bd43304301ed127cbbd303a4fa6" category="paragraph">これは、プラグインの起動に失敗したことを意味します。幸い、このプラグインには、発生する可能性の高い問題のほとんどを診断するのに役立つ包括的なログ機能が組み込まれています。</block>
  <block id="79c820c2d64495c47651e58e73f97294" category="list-text">コンテナへの PV のマウントに問題がある場合は 'rpcbind' がインストールされていて実行されていることを確認してくださいホスト OS に必要なパッケージ・マネージャを使用して 'rpcbind' が実行されているかどうかを確認しますrpcbind サービスのステータスは 'systemctl ステータス rpcbind またはそれに相当する処理を実行することで確認できます</block>
  <block id="34e1f7eb303c0a150cd440611b3b5e24" category="doc">ストレージ構成オプション</block>
  <block id="51f834b47bcd78a0f4f40fd8ca40446f" category="section-title">グローバル構成オプション</block>
  <block id="63b276a6c28274ed5e553d4ce3fe7eb1" category="paragraph">構成ファイルのバージョン番号</block>
  <block id="ac5eb8fcbd1ed9c85a98d91e10e26a38" category="paragraph">ストレージドライバの名前</block>
  <block id="0863f9e97e159e3ea1ce46bdb49b1254" category="paragraph">作成するすべてのボリュームでデフォルトのオプションを指定しなくても済むようになっています。「 size 」オプションは、すべてのコントローラタイプで使用できます。デフォルトのボリュームサイズの設定方法の例については、 ONTAP の設定に関するセクションを参照してください。</block>
  <block id="0353522b39b87d54d40d3f09ec668851" category="section-title">ONTAP の設定</block>
  <block id="cd536bce1bed61366e8d17a85fe6678a" category="paragraph">ONTAP を使用する場合は、上記のグローバル構成値に加えて、次のトップレベルオプションを使用できます。</block>
  <block id="464779f3491153dd1e79ddbd8a81e3f0" category="paragraph">ONTAP 管理 LIF の IP アドレス。Fully Qualified Domain Name （ FQDN ；完全修飾ドメイン名）を指定できます。</block>
  <block id="11053eb2b6ac6e8802c67c054cf55ad9" category="paragraph">使用する Storage Virtual Machine （管理 LIF がクラスタ LIF である場合は必須）</block>
  <block id="723a179bbb9fc3c4f12cf296a8841b27" category="paragraph">ストレージデバイスに接続するユーザ名</block>
  <block id="8cf10281cf3b9290d5988c57a7d19693" category="paragraph">ストレージ・デバイスに接続するためのパスワード</block>
  <block id="7e6d207f2b120c6cc9caa98510aa51c6" category="cell">「集約」</block>
  <block id="925060a0c0a15f99ef1bee43f1660ea4" category="paragraph">オプション。使用率がこの割合を超えている場合は、プロビジョニングを失敗させます</block>
  <block id="876885770cf58d20ef5672cc5594e85d" category="inline-link">ここでは、 NFS ホストの設定情報を参照してください</block>
  <block id="3890063556e337d458019437f027030b" category="paragraph">作成するすべてのボリュームでデフォルトのオプションを指定しなくても済むようになっています。</block>
  <block id="b326b5062b2f0e69046810717534cb09" category="paragraph">正しいです</block>
  <block id="90adf331b7868c7af46ad6e035e93844" category="section-title">スケーリングオプション</block>
  <block id="b8f30e4086b754ccaf7bd5d01d8df137" category="paragraph">FlexVol の制限で対応できる容量よりも多くの Docker ボリュームが必要な場合は、「 ONTAP - NAS - エコノミー」または「 ONTAP - SAN - エコノミー」ドライバを選択します。</block>
  <block id="9d83b6d2e2b099e63bf8e2fc8c870893" category="list-text">ONTAP バージョン 9.2 以降が必要です。</block>
  <block id="e7c74973b26ad51b9db42a9c347a8cd4" category="list-text">本ドキュメントの執筆時点では、 FlexGroup は NFS v3 のみをサポートしています。</block>
  <block id="02a100b04add3b90fddef64499e825a2" category="list-text">SVM で 64 ビットの NFSv3 ID を有効にすることを推奨します。</block>
  <block id="0c0f6724044ed44fb85d2ce3193cb7c3" category="section-title">ONTAP 構成ファイルの例</block>
  <block id="ffe54c343031d16e77db73e2d950e277" category="section-title">Element ソフトウェアの設定</block>
  <block id="3afcd136a7bffa20fc39ba6581412cd2" category="paragraph">Element ソフトウェア（ NetApp HCI / SolidFire ）を使用する場合は、グローバルな設定値のほかに、以下のオプションも使用できます。</block>
  <block id="c61f15977fe4efa0866eea87fb740cda" category="paragraph">iSCSI の IP アドレスとポート</block>
  <block id="6a6b63874c664c103982f6d422c6384e" category="paragraph">10.0.0.7 ： 3260</block>
  <block id="72deb2676231ab8e068ef60dd89edd4c" category="paragraph">使用する SolidFire テナント（見つからない場合に作成）</block>
  <block id="d2672389886b173aef703433f7e4b89b" category="paragraph">iSCSI トラフィックをデフォルト以外のインターフェイスに制限する場合は、インターフェイスを指定します</block>
  <block id="5935dcd024929bc7086bb230802bf576" category="paragraph">以下の例を参照してください</block>
  <block id="5e9bf55f849ccc5a31a50d1fa784d28c" category="cell">「 LegacyNamePrefix 」のように入力します</block>
  <block id="36f9c7b615268efec7f4c56c387a55bb" category="paragraph">「 olidfire -san 」ドライバは Docker Swarm をサポートしていません。</block>
  <block id="1059bb8540c48e6b455e802384bad65d" category="section-title">Element ソフトウェア構成ファイルの例</block>
  <block id="1a269fb3ec0496720ca75e984d8de40e" category="cell">「 hostProjectNumber 」</block>
  <block id="1631dca111b8c1a922c7f29d48eb7121" category="cell">「ネットワーク」</block>
  <block id="f683581d3e75f05f9d9215f9b4696cef" category="section-title">アップグレード</block>
  <block id="ed279061e829314cb0dc7a1708ca5e5b" category="list-text">既存のボリュームを表示します。</block>
  <block id="7c256ad076320e18e087b238e9063f3f" category="list-text">プラグインを無効にします。</block>
  <block id="f4ea3e4191f5bda0b91e08059bf9842a" category="list-text">プラグインをアップグレードします。</block>
  <block id="824ba648551a27da6c43705bcd663830" category="list-text">プラグインを有効にします。</block>
  <block id="e4c48899ce42f4eb019f54a1a8e66560" category="list-text">プラグインが有効になっていることを確認します。</block>
  <block id="c4d884c606b57bb6cb43864e3499d5a2" category="list-text">ボリュームが表示されることを確認します。</block>
  <block id="a27dfe771799a09fd55fea73286eb6ab" category="section-title">をアンインストールします</block>
  <block id="867d93c3d1de0e8e75fa408cfadcbba5" category="list-text">プラグインで作成されたボリュームをすべて削除します。</block>
  <block id="4a28a108f39c07ac09218644ca6e9bb0" category="list-text">プラグインを削除します。</block>
  <block id="8f327f2ceda84404290184a7454160ed" category="paragraph">複数のストレージ構成を同時に使用する必要がある場合は、 Trident の複数のインスタンスが必要です。複数のインスタンスの鍵は、コンテナ化されたプラグインでは「 --alias 」オプション、ホストで Trident をインスタンス化する場合は「 --volume-driver 」オプションを使用して、それぞれ異なる名前を指定することです。</block>
  <block id="52ef1c6ffefaba3249f208369424635d" category="section-title">Docker Managed Plugin （バージョン 1.13 / 17.03 以降）の手順</block>
  <block id="547c4a5f7c863aad85f5265c03ed72ea" category="list-text">エイリアスと構成ファイルを指定して、最初のインスタンスを起動します。</block>
  <block id="991ac134f22efa2bb955362d95827ae5" category="list-text">別のエイリアスと構成ファイルを指定して、 2 番目のインスタンスを起動します。</block>
  <block id="aa0dc0ac69e69c434317798e1aa9842b" category="list-text">ドライバ名としてエイリアスを指定するボリュームを作成します。</block>
  <block id="5ae25a45ab76de161f87fc41a84f746d" category="paragraph">たとえば、 gold ボリュームの場合：</block>
  <block id="6dab7c53f6e3de2eae52e928dfe5b861" category="paragraph">たとえば、 Silver ボリュームの場合：</block>
  <block id="67754cb209925946943e297b3a8be344" category="section-title">従来の（バージョン 1.12 以前）の場合の手順</block>
  <block id="cbd128765e82966ed5e454a99b22e688" category="list-text">カスタムドライバ ID を使用して NFS 設定でプラグインを起動します。</block>
  <block id="51c923daa4caf6aea6d24201b73871b6" category="list-text">カスタムドライバ ID を使用して、 iSCSI 構成でプラグインを起動します。</block>
  <block id="dd72ade865d731ba8f6a6fc4c8ccd86f" category="list-text">ドライバインスタンスごとに Docker ボリュームをプロビジョニングします。</block>
  <block id="8e2044cc9d4e8f515ad4809a68d75465" category="paragraph">たとえば、 NFS の場合：</block>
  <block id="d39eb6e4299503c5d451d19b9645be42" category="paragraph">たとえば、 iSCSI の場合：</block>
  <block id="3a3b7ac2e39541ea05707ccd6eb054d4" category="doc">既知の問題および制限事項</block>
  <block id="8bb35988eac5a841d2af092365f1aa42" category="section-title">Trident Docker Volume Plugin を旧バージョンから 20.10 以降にアップグレードすると、該当するファイルエラーまたはディレクトリエラーなしでアップグレードが失敗します。</block>
  <block id="7aebfa1e2291377e040de92d7f7f335f" category="list-title">回避策</block>
  <block id="f49f11bc5398ac13e500d16eac424e77" category="list-text">プラグインを無効にします。</block>
  <block id="cc3dae6dd6670606c41c62b10273605e" category="list-text">プラグインを削除します。</block>
  <block id="6010901b5c4bb6ad671e6f07fcc038d8" category="list-text">追加の 'config' パラメータを指定して ' プラグインを再インストールします</block>
  <block id="e527ab8c1c51767e38a3603d51d2d6e5" category="section-title">ボリューム名は 2 文字以上にする必要があります。</block>
  <block id="45c9df594d13c8a5e5472503d5f14b01" category="inline-link">バグ 25773 を参照</block>
  <block id="c167efd138e06a8ee59885983c5ddf69" category="admonition">これは Docker クライアントの制限事項です。クライアントは、 1 文字の名前を Windows パスと解釈します。<block ref="f082f49b923960d888c1d98a1e9f4fcb" category="inline-link-rx"></block>。</block>
  <block id="a7c3ff464b1ef4364de4df03d66bee5e" category="list-text">Docker Swarm は現在、ボリューム ID ではなくボリューム名を一意のボリューム識別子として使用します。</block>
  <block id="61ab6f5cff8de89cba95d9e3bbc4ff71" category="list-text">ボリューム要求は、 Swarm クラスタ内の各ノードに同時に送信されます。</block>
  <block id="48cbf13b390ff021b130d5f372147af5" category="paragraph">ネットアップは Docker チームにフィードバックを提供しましたが、今後の変更の兆候はありません。</block>
  <block id="29cff148f43bc689eb14447b333f6f83" category="section-title">FlexGroup をプロビジョニングする場合、プロビジョニングする FlexGroup と共通のアグリゲートが 2 つ目の FlexGroup に 1 つ以上あると、 ONTAP は 2 つ目の FlexGroup をプロビジョニングしません。</block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="sidebar">リリースノート</block>
  <block id="93168a8084b3e838d2932c4734bd234e" category="sidebar">以前のバージョン</block>
  <block id="312b0dc38b01ff32c1b2f5f81ee1ab2d" category="sidebar">Trident オペレータとともに導入</block>
  <block id="e0e3d7f1aacdf4a8196132549709430c" category="sidebar">tridentctl を使用して導入します</block>
  <block id="386307d41b3f4169a1e6e046a727cdd2" category="sidebar">Trident のオペレータにアップグレード</block>
  <block id="2a21586f7990f8cb0f8951cd2ef7bc3b" category="sidebar">tridentctl を使用してアップグレードします</block>
  <block id="a8e174c63ac21920b8405ffddc39214a" category="sidebar">kubectl を使用してバックエンドを作成します</block>
  <block id="81a123ccab93cd947289b672b0e50348" category="sidebar">デモチュートリアル</block>
  <block id="813011e2103649bb71f124adedcc10ea" category="sidebar">ブログコミュニティ</block>
  <block id="874d8a5301794a9ca2aba132ac2460f3" category="sidebar">Kubernetes ハブ</block>
  <block id="d59c00abbeaf33a9a094b3a69c563405" category="sidebar">netapp.io のコマンドです</block>
  <block id="63d5049791d9d79d86e9a108b0a999ca" category="sidebar">参照</block>
  <block id="a20f982d79c3dd66d244ffe0f7d940ee" category="sidebar">ベストプラクティスと推奨事項</block>
  <block id="0460583622f03a52d7693094d6fa2452" category="sidebar">概念</block>
  <block id="bbe2bfefd5797bb567e3da92f68ce8d1" category="sidebar">tridentctl 展開をカスタマイズします</block>
  <block id="58eaebf972358f1cf03d386a4ade1a0f" category="sidebar">次の手順</block>
  <block id="bffb766af67c15f14cae35f03dd6f4a9" category="sidebar">kubectl を使用してバックエンド管理を実行します</block>
  <block id="748a22b5f1312291ad55429ba4b809a0" category="sidebar">tridentctl を使用してバックエンド管理を実行します</block>
  <block id="e08bfc79c5202517b3814efd6e82fb2c" category="sidebar">Trident をアップグレードまたはアンインストールする</block>
  <block id="05d68d1b7214c73141ed12aaed0c2ab5" category="list-text">Trident ログに十分な情報がない場合は、インストールオプションに基づいてインストールパラメータに「 -d 」フラグを渡して、 Trident のデバッグモードを有効にしてみてください。</block>
  <block id="bc6de9cad530a57dba08ff711f4a6b5f" category="paragraph">次に './tridentctl logs -n trident` を使用して debug が設定され ' ログ内で 'level=debug msg' を検索していることを確認します</block>
  <block id="8e95ae46f32b05cf983c93e608530e36" category="list-text">オペレータとともにインストールされます</block>
  <block id="79b91d0489c081de6794796638793787" category="list-text">Helm とともにインストールされます</block>
  <block id="d356d628089d439d75e3f85564372658" category="list-text">tridentctl を使用してインストールされます</block>
  <block id="433f174b6e54b889696b2efd4ef40dc6" category="admonition">Trident REST インターフェイスは、 127.0.0.1 （ IPv4 の場合）または [::1] （ IPv6 の場合）のみをリスンして処理するように設定できます。</block>
  <block id="b89df534de66f446ec6482f9d7898bb2" category="cell">controller'PluginNodeSelector</block>
  <block id="8d414af35aeb82413205fa45551a5545" category="cell">デフォルトはありません。オプションです</block>
  <block id="df1f367efe879ec0030f43610e29c5af" category="cell">controllerPluginTolerations</block>
  <block id="47a441037628a3c0f0edb0daccb33f99" category="cell">「 nodePluginNodeSelector 」</block>
  <block id="f297db5a937924105908a365d9d4c4ff" category="cell">「 nodePluginTolerations` 」</block>
  <block id="4352a1b4e004cf57ac04661a18de43aa" category="inline-link-macro">ポッドをノードに割り当てます</block>
  <block id="d13de4a83d7b44c2e65495def8ef1c7b" category="section-title">を参照してください。</block>
  <block id="af7c8216a3289efe1a298a19c00b8b8c" category="section-title">テスト済みのホストオペレーティングシステム</block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">オープンソース</block>
  <block id="29db8b676d0a02f8179869506102c8ce" category="doc">バックエンドに ONTAP または Cloud Volumes ONTAP SAN ドライバを設定します</block>
  <block id="133184f8c608809bdc057abf1397d10d" category="paragraph">ONTAP および Cloud Volumes ONTAP SAN ドライバを使用した ONTAP バックエンドの設定について説明します。</block>
  <block id="60c268e00db3206011b54b01705d7211" category="admonition">「 /etc/multipath.conf 」に「 find _ multipaths no 」が「 defVaults 」に含まれていることを確認します。</block>
  <block id="a3610578ce54198653d7e0b2cc53c05d" category="inline-link-macro">バックエンドに ONTAP または Cloud Volumes ONTAP NAS ドライバを設定します</block>
  <block id="f4f833852bac4217eff92d53c1bd24dc" category="list-text"><block ref="f4f833852bac4217eff92d53c1bd24dc" category="inline-link-macro-rx"></block></block>
  <block id="df7d9b009cdb0a2623872cb3f905e161" category="list-text"><block ref="df7d9b009cdb0a2623872cb3f905e161" category="inline-link-macro-rx"></block></block>
  <block id="4d80e2460d711b841338dfbeea2ca8c1" category="paragraph">ONTAP および Cloud Volumes ONTAP の NAS ドライバを使用した ONTAP バックエンドの設定について説明します。</block>
  <block id="9d4568c009d203ab10e33ea9953a0264" category="cell">""</block>
  <block id="7072ec708b0ea7e3243747d8b79c0d20" category="admonition">以前のリリースの Trident からアップグレードして Azure NetApp Files を使用する場合 ' 現在 'location`config パラメータは ' 必須のシングルトンフィールドになっています</block>
  <block id="851679bec9b3e6c8e6284128fb750b1e" category="list-text">Kubernetes の機能拡張：</block>
  <block id="2767b461b2b49786f390c9e0509d2d12" category="list-text">Kubernetes 1.23 のサポートが追加されました。</block>
  <block id="7f10502f6f15537f180f07f0c89d2642" category="inline-link-macro">GitHub 問題 #651</block>
  <block id="2ff7a365e7c341f8f381cd7c2a4e15f6" category="list-text">Trident Operator または Helm 経由でインストールした場合、 Trident ポッドのスケジュールオプションを追加します。（<block ref="15fbe6dcd60762941b28bc5990803bde" category="inline-link-macro-rx"></block>)</block>
  <block id="90fdd892e78b26eb18a250c9c1bc19ff" category="inline-link-macro">GitHub 問題 #633</block>
  <block id="3ff8e54aa1f3735deb64771c4c65c420" category="list-text">GCP ドライバでリージョン間のボリュームを許可します。（<block ref="efd445659801b6abfdba2997e23e5f4f" category="inline-link-macro-rx"></block>)</block>
  <block id="fef8c75d6cd00955b0f1c84d40af01aa" category="inline-link-macro">GitHub 問題 #666</block>
  <block id="a4233200da50a08b295311036bb03ac1" category="section-title">非推奨</block>
  <block id="de6284c149d2e011da3909f1ef2af627" category="paragraph">Trident REST インターフェイスは、 127.0.0.1 または [::1] アドレスでのみリスンおよびサービスを提供できます</block>
  <block id="cdb544a92bee555749f43046d53ef34e" category="admonition">v21.10.0 リリースには、ノードが削除されてから Kubernetes クラスタに再度追加されたときに、 Trident コントローラを CrashLoopBackOff 状態にすることができる問題があります。この問題は、 v21.10.1 (GitHub 問題 669) で修正されています。</block>
  <block id="cd1bf2431d703fd3c62a278b9c812d56" category="list-text">GCP CVS バックエンドでボリュームをインポートする際の競合状態が修正され、インポートに失敗することがありました。</block>
  <block id="8e1e1dad95de3dc781f25f58483acdf3" category="list-text">ノードを削除してから Kubernetes クラスタ（ GitHub 問題 669 ）に再度追加するときに、 Trident コントローラを CrashLoopBackOff 状態にする問題を修正しました。</block>
  <block id="d7c32cb5ff2be4aaff3a8eaea9d18e0d" category="list-text">SVM 名を指定しなかった場合に問題が検出されないという問題を修正しました（ GitHub 問題 612 ）。</block>
  <block id="94912f7fb206038e8527957b44dfbf25" category="paragraph">すべての Trident ポッドが再起動されます。これには数秒かかることがあります。これを確認するには 'kubectl get pod -n trident' の出力の 'age' 列を確認します</block>
  <block id="08ee53e1d5cefb7967a295e98036598e" category="cell">.snapshot ディレクトリの表示を制御します</block>
  <block id="016a4b469916e37291cfe2f7fab49aaf" category="cell">「 resourceGroups 」</block>
  <block id="66d09fbe1165f3d10b368cbe0cc029f4" category="cell">検出されたリソースをフィルタリングするためのリソースグループのリスト</block>
  <block id="36cbcb8a57112362b05d06b9fe037a6e" category="cell">"[]" （フィルタなし）</block>
  <block id="d4b4343f054233d7d339bb1501425fd4" category="cell">「 netappAccounts 」のように入力します</block>
  <block id="61476ef20a8015760b9cb3c1bd0ea435" category="cell">検出されたリソースをフィルタリングするためのネットアップアカウントのリスト</block>
  <block id="722c7b4409fa4d1fe6aaa2902ae66473" category="cell">「 capacityPools</block>
  <block id="225abbb59bc0bbaa2a5852ada333b31b" category="cell">検出されたリソースをフィルタリングする容量プールのリスト</block>
  <block id="f2a5b99a63a463017b3e5f5848444d9a" category="cell">"[]" （フィルタなし、ランダム）</block>
  <block id="91b3c29beb3641dce2fcf3d2382fac4f" category="cell">トラブルシューティング時に使用するデバッグフラグ。例 : `\{"API":false," メソッド ":true," 検出 ":true}`トラブルシューティングを行って詳細なログダンプが必要な場合を除き、このオプションは使用しないでください。</block>
  <block id="520d0db389f362bf79ef56ca0af3dcab" category="cell">の形式で入力し</block>
  <block id="dde92bca1b59f0db813ef42a2688752e" category="cell">リソースグループ</block>
  <block id="671e72ca3ef632233f4c27dfef1ec109" category="cell">&lt; リソースグループ &gt;</block>
  <block id="ac252743de820aac9183d9f76d4bed67" category="cell">ネットアップアカウント</block>
  <block id="2bf2783c6d0d867a9fe629138b38bd84" category="cell">&lt; リソースグループ &gt;/&lt; ネットアップアカウント &gt;</block>
  <block id="9eea1c08013c37f1499f428378764a08" category="cell">容量プール</block>
  <block id="01c656d6b97f45a90022ee307283ae01" category="cell">&lt; リソースグループ &gt;/&lt; ネットアップアカウント &gt;/&lt; 容量プール &gt;</block>
  <block id="bf76cafc47141522dca89c4d6e25b822" category="cell">仮想ネットワーク</block>
  <block id="8c9309282517a29ad09b10443d825c7c" category="cell">&lt; リソースグループ &gt;/&lt; 仮想ネットワーク &gt;</block>
  <block id="9770c6469e9d27585d6c0c389ede7bc3" category="cell">サブネット</block>
  <block id="7addf9faaab78a084548d05b695cd2e2" category="cell">&lt;resource group&gt;/&lt; 仮想ネットワーク &gt;/&lt; サブネット &gt;</block>
  <block id="976a6dc52dbcabb541efa0a91e922604" category="cell">"" （プレビュー機能、サブスクリプションでホワイトリスト登録が必要）</block>
  <block id="6add71a247c8f4513060920be14857bc" category="cell">allowVolumeExpansion の略</block>
  <block id="84e2c64f38f78ba3ea5c905ab5a2da27" category="cell">ブール値</block>
  <block id="675e3f37a9adfd7ab6433906c490fa06" category="cell">PVC サイズの拡張のサポートをイネーブルまたはディセーブルにします</block>
  <block id="c791531450eeeb073b30215d9c306a00" category="cell">1.11 以上</block>
  <block id="086b513e7d83c4cf32a8bd3550679276" category="cell">volumeBindingMode のようになりました</block>
  <block id="fd656a4f359aa12808a6d0ceb5792342" category="cell">即時、 WaitForFirstConsumer</block>
  <block id="5e7777e1f9cfa3a93159ee44cf3f1f5a" category="cell">ボリュームバインドと動的プロビジョニングを実行するタイミングを選択します</block>
  <block id="8264769021597389583b0a7d1fa7e076" category="inline-link-macro">Kubernetes ：ポッドまたはコンテナのセキュリティコンテキストを設定します</block>
  <block id="6dd29ca7439e52dcf2fbc569066b3d67" category="list-text">「 fsType 」はストレージクラスで設定されます。</block>
  <block id="45d2174daba36b76955e69d2eddf26ca" category="list-text">PVC アクセスモードは RWO です。</block>
  <block id="ba5b62efad4f90a8f4bb806cba4a3ea4" category="paragraph">NFS ストレージドライバの場合、 NFS エクスポートにはファイルシステムがすでに存在します。fsGroup を使用するには ' ストレージ・クラスで fsType を指定する必要がありますこの値は 'NFS' に設定することも ' ヌル以外の任意の値に設定することもできます</block>
  <block id="a98b2ebbcbb381d3abc81e2ecfb2054c" category="inline-link-macro">GitHub 問題 #691</block>
  <block id="61465c1d4383dd4afdf168925e15e767" category="list-text">削除したノードでボリュームを非公開にする問題 を修正しました。（<block ref="5fee6ab43e8008edba54375694a29266" category="inline-link-macro-rx"></block>)</block>
  <block id="e50f1057ba4b67b255c98fa09c5ba6f8" category="list-text">ONTAP API 応答でアグリゲートスペースを確保するために nil フィールドにアクセスすると、パニックが修正されました。</block>
  <block id="3c72f47eeb46270dd13a77b32ec10dd3" category="list-text">* Kubernetes ：大規模なクラスタのノード登録バックオフ再試行時間を延長します。</block>
  <block id="0ef48234390855900384d0bc8a0a8a24" category="list-text">azure-NetApp-files ドライバが、同じ名前の複数のリソースによって混乱することがあるという解決済みの問題 。</block>
  <block id="404cef2e43cb97ccef52692419ad6f6b" category="inline-link-macro">GitHub 問題 #489</block>
  <block id="7213ed07f5b718aa66cfac350f023a77" category="list-text">すでにインポートされているボリュームをインポートしようとすると、 EOF 問題 が返され、 PVC は保留状態になります。（<block ref="b9a2290d6389b9a605883cda4e717749" category="inline-link-macro-rx"></block>)</block>
  <block id="d0aaca968285d0d47ea0c5a0f7b9bab5" category="list-text">SSL 証明書の作成時に SHA-1 を SHA-256 に置き換えました。</block>
  <block id="997cff957213b9212a22d7cac2b4275d" category="list-text">生成された証明書を使用して認証をテストONTAP 管理 LIF &gt; と &lt;vserver name&gt; は、管理 LIF の IP アドレスおよび SVM 名に置き換えてください。LIF のサービスポリシーが「 default-data-management 」に設定されていることを確認する必要があります。</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="paragraph">著作権に関する声明、商標、特許などにアクセスできます。</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">著作権</block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商標</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp 、 NetApp のロゴ、および NetApp の商標ページに記載されているマークは、 NetApp, Inc. の商標です。その他の会社名および製品名は、それぞれの所有者の商標である場合があります。</block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">特許</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">ネットアップが所有する特許の最新リストは、次のサイトで入手できます。</block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">プライバシーポリシー</block>
  <block id="25c11af81bf0b01ce7b0f24ddc9f7136" category="section-title">その他の既知の設定オプション</block>
  <block id="8ded34c5caad3971bb6d0a2b202d7b32" category="list-text">クラスタが特権ワークロードをサポートしている必要があります。</block>
  <block id="dbe38f4f0d856b41827e6e4531720a5e" category="list-text">--kubbelet-dir` フラグは kubelet ディレクトリの場所に設定する必要があります。デフォルトでは、これは /var/vcap/data/kubelet` です。</block>
  <block id="4dc3529fbf05312075f0aa52f9c0908e" category="paragraph">--kubbelet-dir' を使用して kubelet の場所を指定することは、 Trident Operator 、 Helm 、および tridentctl の展開で動作することが知られています。</block>
  <block id="986d46700a93c1b67573285912b2a857" category="paragraph">Cloud Volumes ONTAP は、ファイル共有や NAS および SAN プロトコル（ NFS 、 SMB / CIFS 、 iSCSI ）を提供するブロックレベルストレージなど、さまざまなユースケースでデータ制御とエンタープライズクラスのストレージ機能を提供します。Cloud Volume ONTAP の互換性のあるドライバは、「 ONTAP-NAS' 」、「 ONTAP-NAS-エコノミー 」、「 ONTAP-SAN' 」、「 ONTAP-SAN-エコノミー 」です。Cloud Volume ONTAP for Azure と Cloud Volume ONTAP for GCP に該当します。</block>
  <block id="62e0abd2d56d565a2b31e85b446fa800" category="paragraph">Volume Import では、既存のストレージボリュームを Kubernetes 環境にインポートできます。これは現在、「 ONTAP-NAS」 、「 ONTAP-NAS-flexgroup 」、「 solidfire-san-」 、「 azure-netapp-files 」、「 gcp-cvs` ドライバ」でサポートされています。この機能は、既存のアプリケーションを Kubernetes に移植する場合や、ディザスタリカバリシナリオで使用する場合に便利です。</block>
  <block id="cca7544fa2044ea81b43c1e0896bf58e" category="cell">ontap - NAS 、 ontap - san 、 solidfire-san-files 、 gcvs 、 ONTAP - SAN - 経済性</block>
  <block id="870594bba77423ccae9ad70861e02951" category="cell">ONTAP-NAS 、 ONTAP-NAS-flexgroup 、 ONTAP-SAN 、 GCP-cvs</block>
  <block id="33dece0bdda0f88a645c739f3714c038" category="cell">ONTAP-NAS, ONTAP-SAN, solidfire-san-, gcvs</block>
  <block id="2e647c10640a301eccdc45d7ad72507d" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup 、 ONTAPSAN 、 ONTAP-SAN-エコノミー 、 solidfire-san-, gcvs, azure-netapp-files</block>
  <block id="051fb2c3f62667c87a197ae412a4dbeb" category="cell">ONTAP （ NAS 、 SAN ） &amp; SolidFire - * ：クローン元のボリュームの名前</block>
  <block id="c12963ed77d398c8f97e09be58a20fed" category="paragraph">Trident は ' ボリュームの作成時に internalName を生成しますこの構成は 2 つのステップで構成されます。最初に、ストレージプレフィックス（デフォルトの「 trident 」またはバックエンド構成のプレフィックス）をボリューム名の前に付加し、「 &lt;prefix&gt; - &lt;volume-name&gt; 」という形式の名前を付けます。その後、名前の完全消去が行われ、バックエンドで許可されていない文字が置き換えられます。ONTAP バックエンドでは、ハイフンをアンダースコアで置き換えます（つまり、内部名は「 &lt;prefix&gt;_&lt;volume-name&gt;` 」になります）。Element バックエンドの場合、アンダースコアはハイフンに置き換えられます。</block>
  <block id="804a6c22698fe4782c44f1e8d446964e" category="paragraph">現在のところ ' オンデマンドスナップショットのサポートは 'ONTAP-NAS'`ONTAP-NAS-flexgroup 'ONTAP-SAN`'ONTAP-SANエコノミー ''solidfire-san-SAN'''solidfire-san-''''solidfire-san-'''solidfire-san-''''' で利用できます 「 gcp-cvs` 」と「 azure-NetApp-files 」バックエンドドライバ。</block>
  <block id="723b30bcece2d0d47914a6eaf0c550cc" category="list-text">Trident では、セキュアなエンドポイントからの応答に HSTS ヘッダーが追加されました。</block>
  <block id="621b9733ee07089711b96dd6b0b7861a" category="list-text">Trident では、 Azure NetApp Files の UNIX 権限機能が自動的に有効化されるようになりました。</block>
  <block id="3f39a3207529d5f8129199a33e60ef87" category="section-title">削除します</block>
  <block id="3d0d8392962843a02a6fa979f76b5a91" category="paragraph">E シリーズドライバ（ 20.07 以降無効）が削除されました。</block>
  <block id="72387bfdb0acfd8a27877f000a3abeac" category="section-title">22.01.1 の変更</block>
  <block id="135c438d01a49275c458e22005e39c6e" category="section-title">22.01.0 の変更</block>
  <block id="58a2e8c17107cc1ca9cb1317cd0c1ee9" category="section-title">21.10.1 の変更点</block>
  <block id="43e92857220d1a7ea1da88250ea5e2e3" category="section-title">21.10.0 の変更点</block>
  <block id="9c87569b835a8f66b7490390d350d9a4" category="paragraph">KubernetesディストリビューションにスナップショットコントローラとCRDが含まれていない場合は、次のように導入できます。</block>
  <block id="469f7ca16938508b5dcb777767828b70" category="list-text">ボリュームのSnapshot作成</block>
  <block id="5a333b18a215ecfd4457ba0e1732654b" category="section-title">Tridentは、負荷共有ミラーが設定されているSVMでボリュームをプロビジョニングできますか。</block>
  <block id="0e7629426b9d7596800cd5d72f558a7f" category="paragraph">負荷共有ミラーは、NFS経由でデータを提供するSVMのルートボリューム用に作成できます。ONTAP は、Tridentによって作成されたボリュームの負荷共有ミラーを自動的に更新します。ボリュームのマウントが遅延する可能性があります。Tridentを使用して複数のボリュームを作成する場合、ボリュームをプロビジョニングする方法は、負荷共有ミラーを更新するONTAP によって異なります。</block>
  <block id="7d3f46589c43a64fd040e4f0e0691a86" category="inline-link-macro">Helmチャート</block>
  <block id="1ea1b160621872df5909653ebde1bf7f" category="paragraph">既存のバックエンドを更新して、クレデンシャルベースの方式と証明書ベースの方式を切り替えることができます。ただし、一度にサポートされる認証方法は1つだけです。別の認証方式に切り替えるには、バックエンド設定から既存の方式を削除する必要があります。</block>
  <block id="7335992f174c029a990442aca68aacbd" category="admonition">クレデンシャルと証明書の両方を*指定しようとすると、バックエンドの作成が失敗し、構成ファイルに複数の認証方法が指定されているというエラーが表示されます。</block>
  <block id="d1914bc190cdc3bc9eee6db0c81021bc" category="section-title">ノードサービスの検出</block>
  <block id="2b6ab5193160f5eaca51526b15f27e3a" category="admonition">ノードサービス検出で検出されたサービスが特定されますが、サービスが適切に設定されていることは保証されませ逆に、検出されたサービスがない場合も、ボリュームのマウントが失敗する保証はありません。</block>
  <block id="412427d9207c4cc4b01539aff3c50e7c" category="cell">「ネットワーク機能」</block>
  <block id="6adbf3424e5de1b4e2baad3b4d632c4a" category="paragraph">既存のバックエンドを更新して、別の認証方法を使用したり、クレデンシャルをローテーションしたりできます。これはどちらの方法でも機能します。ユーザ名とパスワードを使用するバックエンドは証明書を使用するように更新できますが、証明書を使用するバックエンドはユーザ名とパスワードに基づいて更新できます。これを行うには、既存の認証方法を削除して、新しい認証方法を追加する必要があります。次に'必要なパラメータを含む更新されたbackend.jsonファイルを使用して'tridentctl backend updateを実行します</block>
  <block id="bc3c69459955aa51e6720ee4098db2c2" category="doc">PODセキュリティ標準（PSS）およびセキュリティコンテキストの制約（SCC）</block>
  <block id="80af9ab2cf8f28973d329b09a2aa3bf3" category="inline-link-macro">Kubernetes：セキュリティ</block>
  <block id="92699490afddc06ebad285ff002fc80d" category="section-title">必須のKubernetes Security Contextと関連フィールド</block>
  <block id="ed5dea09095f671b801bee34ea28a319" category="cell">アクセス権</block>
  <block id="b315e1c68490baab38c1a28e00fe0f5a" category="cell">権限があります</block>
  <block id="62868c5d24fd89e2fd8046454e18b6c4" category="inline-link-macro">Kubernetes：マウントの伝播</block>
  <block id="92a5c8ffa6bee2a9377f18499950da23" category="cell">ホストネットワーク</block>
  <block id="154cdce0e5451a5578085caa8a7e7a3e" category="cell">iSCSIデーモンに必要です。「iscsiadm」はiSCSIマウントを管理し、ホストネットワークを使用してiSCSIデーモンと通信します。</block>
  <block id="2ff982b19c53a275ae05f015dafe166d" category="cell">ホストIPC</block>
  <block id="eac6730a7bdbb0156f167d1a073b4a7c" category="cell">NFSは'IPC（プロセス間通信）を使用して'nfsdと通信します</block>
  <block id="b25a60a6190808e0d6e849ca6325b91c" category="cell">ホストPID</block>
  <block id="82ec2cd6fda87713f588da75c3b1d0ed" category="cell">機能</block>
  <block id="4aeb7a1484240b8d479aee0a012de3a4" category="cell">SYS_Admin'機能は'特権コンテナのデフォルト機能の一部として提供されますたとえば、Dockerは特権コンテナにこれらの機能を設定します。「CapPrm：0000003ffffffffffffff`Capff：0000003ffffffffff'」</block>
  <block id="b2dbe899d8bf9b4c25f337efe8b1ce7c" category="cell">Seccom</block>
  <block id="1a3d8802d280d4ec910f54042cd62998" category="cell">SELinux</block>
  <block id="52a8b954485e8bf8ebe32865d17563a6" category="cell">DAC</block>
  <block id="6ddc0f1aebd745677bb51e725f080883" category="cell">特権コンテナは、ルートとして実行する必要があります。CSIに必要なUNIXソケットにアクセスするために、非特権コンテナはrootとして実行されます。</block>
  <block id="479f0a2e760ff0014bb53fcbe4b5dfbf" category="section-title">PODセキュリティ標準（PSS）</block>
  <block id="b021df6aac4654c454f46c77646e745f" category="cell">ラベル</block>
  <block id="ede4d9142f78c8313ce1ea912023214a" category="cell">'pod -security.esvus.io/enforce `po-security.Kubernetes io/enforce-version</block>
  <block id="0ccd226f7ad098ef19857dcf15eed611" category="cell">Tridentコントローラとノードをインストールネームスペースに登録できるようにします。ネームスペースラベルは変更しないでください。</block>
  <block id="0634b3cd8d233df0b38fe73154f03a86" category="cell">「enforce：特権」「enforce-version：」は、現在のクラスタのバージョンまたはテストされたPSSの最新バージョンです</block>
  <block id="830d087702172a8173337c2f014f24b3" category="admonition">名前空間ラベルを変更すると、ポッドがスケジュールされず、「Error creating：...」または「Warning：trident-csi-...」が表示される場合があります。この場合は'Privilegedの名前空間ラベルが変更されていないかどうかを確認してくださいその場合は、Tridentを再インストールします。</block>
  <block id="a2e4b41e2525b6345ec43bbfe91c66fb" category="section-title">PoDセキュリティポリシー（PSP）</block>
  <block id="6f16a5f8ff5d75ab84c018adacdfcbb7" category="cell">フィールド</block>
  <block id="0c3c80a8b192c50af55549addaec04e9" category="cell">'allowPrivilegeEscalation'</block>
  <block id="13d1281eff2b6a57e6fe877e0379a8f0" category="cell">特権コンテナは、特権昇格を許可する必要があります。</block>
  <block id="22cfef4d87bd251ba39dd92d08a6b0bb" category="cell">「真」</block>
  <block id="f3acfbe4d2b93ab163024b31a31b1a6e" category="cell">allowedCSIDrivers</block>
  <block id="e4938c724a08c7ba91677f8cb5e069f0" category="cell">TridentはインラインCSIエフェメラルボリュームを使用しません。</block>
  <block id="ce2c8aed9c2fa0cfbed56cbda4d8bf07" category="cell">空です</block>
  <block id="2eb7a988516ab2e49fd1dd1d0f505ba4" category="cell">「allowedCapabilities」を参照してください</block>
  <block id="7f18f0f8e3ec21ef031ae007e78292f1" category="cell">権限のないTridentコンテナにはデフォルトよりも多くの機能が必要ないため、特権コンテナには可能なすべての機能が付与されます。</block>
  <block id="577f713a1a3fd5fe6851754c1e780b62" category="cell">「allowedFlexVolumes」を参照してください</block>
  <block id="5a40ff04e0748fc5c56343bfccb1bf43" category="inline-link-macro">FlexVolドライバ</block>
  <block id="117394bda9c12e1ab1e0ddefda7340f6" category="cell">Tridentはを利用しません <block ref="5cf2fb2d9c4de828b06e030ea5b9ff75" category="inline-link-macro-rx"></block>そのため、これらのボリュームは許可されるボリュームのリストに含まれていません。</block>
  <block id="e26fd3e84b999df4093d0b9f1cf8bbdb" category="cell">「allowedHostPaths」を参照してください</block>
  <block id="87c065485525cde8c75f60bd233a546b" category="cell">Tridentノードポッドでノードのルートファイルシステムがマウントされるため、このリストを設定してもメリットはありません。</block>
  <block id="88e5e12dbdeac08e751e562ed902d6af" category="cell">allowedProcMountTypes</block>
  <block id="b989e7796e7fe01d9a48795f499ee3e8" category="cell">Tridentでは'ProcMountTypes'は使用しません</block>
  <block id="6784c364453355e4499a625166f9d76e" category="cell">Tridentには安全でないsysctls'は必要ありません。</block>
  <block id="43dbe35647dc1ec91f9ab70bb9c67eb7" category="cell">defaultAddCapabilities</block>
  <block id="21b6f9c280cf0efb8619e386208ee181" category="cell">特権コンテナに追加する機能は必要ありません。</block>
  <block id="782434a33bb3747f8aa86293dc2ae86c" category="cell">defaultAllowPrivilegeEscalation`</block>
  <block id="4e1db4d4f52542bf76625bb1724050ca" category="cell">権限の昇格は、各Tridentポッドで処理されます。</block>
  <block id="249091efa412cf5e332461c484b979d0" category="cell">「偽」</block>
  <block id="7b18008579516cbef313996f0c7a3f5e" category="cell">「forbiddenSysctls」と入力します</block>
  <block id="1507e7ba036aa98fd30589e618a7a4eb" category="cell">sysctlsは許可されません</block>
  <block id="042337cb48219589a279b3bf0ba9107a" category="cell">「fsGroup」と入力します</block>
  <block id="07556f620d0b827238e3ef0142c49b78" category="cell">Tridentコンテナはrootとして実行されます。</block>
  <block id="ac0f2e366ea63da20af91efebbac6563" category="cell">「RunAsAny」</block>
  <block id="0041ceee5434032966a8b03eae8738ac" category="cell">「hostIPC」</block>
  <block id="41c30833eb5d5997e9b7a31ee0c66616" category="cell">NFSボリュームをマウントするには'nfsdと通信するためにホストIPCが必要です</block>
  <block id="9bffb5bb38918d1a1d3ae47e97dfc0c4" category="cell">「ホストネットワーク」</block>
  <block id="42a138ad382896646a09fac2eb0167c6" category="cell">iscsiadmには、iSCSIデーモンと通信するためのホストネットワークが必要です。</block>
  <block id="13135fc0519a6dd0521fa0c0e2445184" category="cell">「hostPID」</block>
  <block id="608c4a2fdcf8e14356058df9005ae8ad" category="cell">ノードでRPC-statdが実行されているかどうかを確認するには'ホストPIDが必要です</block>
  <block id="7d820b24ee2bfd41495fba608bfe1fb0" category="cell">「hostPorts」</block>
  <block id="7afcaaf2763ecc0e6dee9f0b63026a58" category="cell">Tridentはホストポートを使用しません。</block>
  <block id="cb8c6f5ff29df99724d3704d1af54bbd" category="cell">「特権」</block>
  <block id="aadb34687d099e9a40c9ad3bbaca9b52" category="cell">Tridentノードのポッドでは、ボリュームをマウントするために特権コンテナを実行する必要があります。</block>
  <block id="cd8e4b4bb856b53433b1d0369136d7c3" category="cell">「readOnlyRootFilesystem」</block>
  <block id="7621dbe4e923ccb1331f44e5fc326954" category="cell">Tridentノードのポッドは、ノードのファイルシステムに書き込む必要があります。</block>
  <block id="7214fd778499c002452dfa1de7a63694" category="cell">DDropCapabilitiesが必要です</block>
  <block id="0a687403dd751d7bcf9d36eb39b73187" category="cell">Tridentノードのポッドは特権コンテナを実行するため、機能をドロップすることはできません。</block>
  <block id="56d058c51fcd79545706c62569ba5a19" category="cell">「 NONE 」</block>
  <block id="e0cfa7f1a22bfc61e3c23d9b472cb229" category="cell">runAsGroup`</block>
  <block id="72a9e1b9b252e5cf0980f359420147d4" category="cell">runAsUser</block>
  <block id="0be043db3067cfba9e355c71f0d47963" category="cell">runAsany`</block>
  <block id="2b13c797fbca116e0445fe9ed04aa753" category="cell">runtimeClass'</block>
  <block id="90eaf8074aef1d40fdd4ebb096ba3445" category="cell">Tridentは'RuntimeClasses'を使用しません</block>
  <block id="af697e6f277a737b01025e1b3ac8fd44" category="cell">SELinux</block>
  <block id="b2fe00f20eadde0a1ed6fcbd7f899a41" category="cell">Tridentは'seLinuxOptions'を設定していませんこれは'コンテナランタイムとKubernetesディストリビューションがSELinuxを処理する方法には現在のところ違いがあるためです</block>
  <block id="07b8b968ede124e1134951b502139223" category="cell">「supplementalGroups」を参照してください</block>
  <block id="707325d27093188691659cc218115f02" category="cell">「ボリューム」</block>
  <block id="fd284b15eb12231bdce65744e6704677" category="cell">Tridentポッドには、このボリュームプラグインが必要です。</block>
  <block id="c28fb07c7c2463112f74e84cdea6df77" category="cell">「hostPath」、「projected」、「emptyDir」</block>
  <block id="12ed56c889a6b18b5fce1be5bd30b1c8" category="section-title">セキュリティコンテキストの制約（SCC）</block>
  <block id="3ad6cb6100190c8f81e99fd52debf7ef" category="cell">ラベル</block>
  <block id="244a3eb95cc1438e96d275b17eaa5bca" category="cell">allowHostDirVolumePlugin</block>
  <block id="bdf1cf802b14a9ec8b930e1603663b2a" category="cell">Tridentノードのポッドは、ノードのルートファイルシステムをマウントします。</block>
  <block id="bb46f3196a53f2e3664f53addee28df1" category="cell">"allowHostIPC"</block>
  <block id="040a3e4977d39efd21138ca276545e91" category="cell">NFSボリュームをマウントするには'nfsdと通信するためにホストIPCが必要です</block>
  <block id="75a4305006cbe99edf6e6ec43424a3f9" category="cell">「allowHostNetwork」を参照してください</block>
  <block id="3dc9b606cf3a7a8fc44c8489687131d1" category="cell">「allowHostPID」を参照してください</block>
  <block id="31773567f0268170ecfa4c74f91c5b74" category="cell">"allowHostPorts`</block>
  <block id="606a5f1c705c363af0a1f97e60feaddc" category="cell">allowPrivilegeContainer]を参照してください</block>
  <block id="2cc90cbcd409b90ed2d4270b587b4611" category="cell">"allowedUnsafeSysctls"</block>
  <block id="5be47a456f397efee757d8dd4e0c8726" category="cell">「グループ」</block>
  <block id="c2ca437ef2abb914a8fc2ebb1b926ef6" category="cell">このSCCはTridentに固有で、ユーザにバインドされています。</block>
  <block id="fae56626a2743154c04411ee3d701833" category="cell">「seLinuxContext」</block>
  <block id="5987c8a1437c5254a436c29c94220b55" category="cell">「seccompProfiles」</block>
  <block id="2c8f9f1b9abdfa728b8f5d50686e4da0" category="cell">特権のあるコンテナは常に「閉鎖的」な状態で実行されます。</block>
  <block id="f94a437fb7858e092079378f93ef2c71" category="cell">「ユーザー」</block>
  <block id="402b7d2d5aea5e79576f9a964df89a32" category="cell">このSCCをTridentネームスペースのTridentユーザにバインドするエントリが1つあります。</block>
  <block id="274b68192b056e268f128ff63bfcd4a4" category="cell">該当なし</block>
  <block id="50af2a553c2117ddd78da33865c6e35b" category="cell">「hostPath」, downwardAPI, projected , emptyDir</block>
  <block id="6386b0f17b85463db72887bca8ae2bb7" category="inline-link-macro">バックエンドの設定</block>
  <block id="253c5669d0ddb02485528df359bfb37d" category="paragraph">デフォルトのリソース割り当ておよび優先クラスをより詳細に制御する必要がある場合は'custom.yamlを生成するか'Helmチャートを使用してResourceQuotaオブジェクトを構成します</block>
  <block id="b6ba871f235b09a3d76844b7b5901586" category="paragraph">次に示すのは'ResourceQuota'オブジェクトがTridentのデマ作用を優先する例です</block>
  <block id="4f4b1cca8d1c78f8ba309694d46d80f2" category="inline-link-macro">Kubernetes：リソースクォータ</block>
  <block id="222924a66611c61f2a2192a2bab92ecf" category="inline-link-macro">アンインストール中です</block>
  <block id="dbcf7f603282c175a634104f7dbd55f2" category="paragraph">まれに'ResourceQuotaオブジェクトが作成された後にインストールが失敗する場合は'最初に実行します <block ref="3bd802fb95da78515b3c3d98916ee73c" category="inline-link-macro-rx"></block> を再インストールします。</block>
  <block id="c4af59b1638f70f51816423f72df4dba" category="paragraph">それでも解決しない場合は'ResourceQuotaオブジェクトを手動で削除します</block>
  <block id="702fa57eedc6ee8490a7294016f8b14f" category="list-text">trident-resourcesequota.yaml</block>
  <block id="6b51834314ece904405eb0ce1a6e6bd8" category="list-text">NetApp HCI / Elementソフトウェア11以降</block>
  <block id="05759468b045fc55d22e8e6881dca01f" category="paragraph">** Kubernetes **</block>
  <block id="a885c202ff7951e3ed11491edbe869b2" category="inline-link-macro">GitHub問題 #700</block>
  <block id="b649490c5687c23484f5e4043e17b9c5" category="list-text">HelmまたはTrident OperatorでTridentを設定する際に、ノードセレクタのブール値と数値を処理するように問題 を修正しました。（<block ref="4be853b49b0a07556a73959d38037d90" category="inline-link-macro-rx"></block>)</block>
  <block id="0ae28ee1c5edfd4bee3e296a8261ed8b" category="inline-link-macro">GitHub問題 #736</block>
  <block id="69ce5488c3078e15fc6e51116d1d17ba" category="list-text">非CHAPパスのエラーを処理する問題 を修正したため、失敗した場合kubeletが再試行されるようになりました。 <block ref="a21b5d75e3a2341288a5ed769d7d4ca2" category="inline-link-macro-rx"></block>)</block>
  <block id="701ba87ab75dde70f4604769defc7d00" category="list-text">CSIイメージのデフォルトレジストリとして、k8s .gcr.ioからregistry.k8s .ioに移行します</block>
  <block id="90e3cd7cff1c9f6f4b8d2a509b127d44" category="list-text">TridentのインストールにResourceQuotaが含まれ、PriorityClassの消費がデフォルトで制限されたときにTrident DemonSetがスケジュールされるようになりました。</block>
  <block id="838a6d7e89b7c366cfc25d3b2115b901" category="inline-link-macro">GitHub問題 #717</block>
  <block id="cab6f6f91105d87aa3f65650df43c553" category="inline-link-macro">GitHub問題 #228</block>
  <block id="00ea108f36897d9ed3523b970b09e6ea" category="list-text">ONTAP ドライバにTech Previewの自動MetroCluster スイッチオーバー検出機能を追加。（<block ref="0c9c84232975bfb33d3481050e5ef924" category="inline-link-macro-rx"></block>)</block>
  <block id="0b4fe975279063a2d1790cd061a8b8d1" category="list-text">**Kubernetes：**サポートされる最小Kubernetes数が1.19に更新されました。</block>
  <block id="108e9d089b04380952a04c1021cdad80" category="list-text">バックエンド構成では、単一の構成で複数の認証タイプを使用できなくなりました。</block>
  <block id="de278730ee66ed696db3f71d20aa30a5" category="list-text">AWS CVSドライバ（22.04以降で廃止）が削除されました。</block>
  <block id="16cbbf51150ac75556b3850ff4a5a013" category="list-text">ノードのポッドから不要なSYS_Admin機能を削除。</block>
  <block id="9f0be62f4bbebd42af8782e0151af649" category="list-text">nodeprepを単純なホスト情報とアクティブなサービス検出に減らし、作業者ノードでNFS / iSCSIサービスが利用可能になったことをベストエフォートで確認します。</block>
  <block id="5b6cf869265c13af8566f192b4ab3d2a" category="section-title">ドキュメント</block>
  <block id="d3889fc650fa47326b5f1d0c56f50970" category="inline-link-macro">PODセキュリティ標準</block>
  <block id="278dc4a29aa2b881b9dc4b45a82929c5" category="section-title">2004年10月22日の変更</block>
  <block id="cb60f101c87f3def78d0fef168389244" category="inline-link-macro">GitHub問題 #681</block>
  <block id="2901fba3b85d37ea6000d90e72366ba6" category="list-text">iSCSI イニシエータ名の解析が改善されました。（<block ref="3947f141b94c1867221790f45a6ee173" category="inline-link-macro-rx"></block>)</block>
  <block id="8804e61e26be921d78a1632ad8607a4c" category="inline-link-macro">GitHub問題 #598</block>
  <block id="d0aad022e470a22fe71fa5616ce002f8" category="list-text">CSI ストレージクラスのパラメータが許可されていない問題 を修正しました。（<block ref="032ea6b8f2fceffcd025bdcae99652ae" category="inline-link-macro-rx"></block>)</block>
  <block id="34fb36c5e51f4530848bc5114cf29aa7" category="inline-link-macro">GitHub問題 #671</block>
  <block id="951995417edc5c2968955384b925b27e" category="list-text">Trident CRD での重複キー宣言が修正されました。（<block ref="6e73ffca3c5d1dc68cd639612845812c" category="inline-link-macro-rx"></block>)</block>
  <block id="55cd7443e4a1278a57f612df28b8eee3" category="inline-link-macro">GitHub問題 #629</block>
  <block id="ec74c645b7b5f9d3051f68de156927d9" category="list-text">不正確な CSI スナップショットログを修正しました。（<block ref="9b20149e8d36c115b9349e728abebd54" category="inline-link-macro-rx"></block>）を選択します</block>
  <block id="28341d7630f486a1b72b5b97d39ce589" category="list-text">削除したノードでボリュームを非公開にする問題 を修正しました。（<block ref="439c8b5253b3b0fa8d2ddb79f44cd784" category="inline-link-macro-rx"></block>)</block>
  <block id="fbb82269f3871bc5751dda6ade9cd9ea" category="inline-link-macro">GitHub問題 #656</block>
  <block id="e02171b3da303c0d6b9bd3102650bb07" category="list-text">ブロックデバイスでのファイルシステムの不整合の処理が追加されました。（<block ref="b6c419ed0f79d6957e3796ca0e0742cb" category="inline-link-macro-rx"></block>)</block>
  <block id="1bae87f1c9d9a094dce218672331de02" category="inline-link-macro">GitHub問題 #715</block>
  <block id="4aeb6a7748e689a0ce92c16344bb6285" category="list-text">インストール時に「 imageRegistry 」フラグを設定するときに、自動サポートイメージをプルする問題 を修正しました。（<block ref="5f789d3f3d58c42cfbeb0b6394bac993" category="inline-link-macro-rx"></block>)</block>
  <block id="70703300e76c51632e4ea22ce53c74af" category="inline-link-macro">GitHub問題 #698</block>
  <block id="99df1eeec5b67fac5a47fb610c720712" category="list-text">Trident のセキュアエンドポイントへのインバウンド接続には、 TLS 1.3 以上が必要です。（<block ref="5ab4d3faf45db0d93ac1a5f7438f1c62" category="inline-link-macro-rx"></block>)</block>
  <block id="3786cba0bc294f586b13783c69b08371" category="inline-link-macro">GitHub問題 #694</block>
  <block id="c0f60be70f5b8a5bc6c7c8071f4481fb" category="list-text">* Kubernetes * ： Trident のデプロイ機能は、システムノードに不可欠な優先度クラスで実行されるようになりました。（<block ref="b04869f92878b510e393bc41361c825d" category="inline-link-macro-rx"></block>)</block>
  <block id="a7cfd917113a9ee9c1e789887d1d809f" category="inline-link-macro">チャネルを外します</block>
  <block id="c217b0ac2dd5504f79ba78b220a9c358" category="summary">ネットアップでは、さまざまな方法で Trident をサポートしています。ディスコード・チャネルなど、24時間365日利用可能な広範な無料セルフ・サポート・オプションをご用意しています。</block>
  <block id="8f5cc6430613f1c12f36965050bb7197" category="sidebar">切断</block>
  <block id="a1142049a82a11e90102d655bb7e234d" category="inline-link-macro">GitHubの_Assets_sectionを参照してください</block>
  <block id="756909f99bc1a720d318a5f5b94eb094" category="section-title">トラブルシューティング用にログを収集する</block>
  <block id="3d945423f8e9496c429a5d8c65b4604f" category="paragraph">Ubuntu</block>
  <block id="134bf17c90c90b5aeed99dde262bf14d" category="admonition">すでにTridentの名前空間を作成している場合'--create-namespaceパラメータは追加の名前空間を作成しません</block>
  <block id="c638f77e97a62d0d11f775816222d62a" category="inline-link-macro">NetApp Volume Encryption の設定の概要</block>
  <block id="b65b10bf779c45e4940c255ecf83bdc3" category="paragraph">NetApp ONTAP は、保管データの暗号化を提供し、ディスクが盗難、返却、転用された場合に機密データを保護します。詳細については、を参照してください <block ref="e0b51490e5d435c82abc702d0a4ca15c" category="inline-link-macro-rx"></block>。</block>
  <block id="1bb1c0791a9e9cff8de216ed44b1de31" category="list-text">Tridentバックエンド構成でNVE暗号化フラグを「true」に設定すると、NAE暗号化をオーバーライドし、ボリューム単位で特定の暗号化キーを使用できます。</block>
  <block id="b6c7fef7b7bcf035a4f4ad02ff8808c2" category="paragraph">バックエンド構成オプションの詳細については、以下を参照してください。</block>
  <block id="06c4db929b729ddf158ceb5cc15b122b" category="inline-link-macro">ONTAP のSAN構成オプション</block>
  <block id="911675212835161abe9bce3f33c70af0" category="paragraph">新しいボリュームでNetApp Volume Encryption（NVE）を有効にします。デフォルトは「false」です。このオプションを使用するには、クラスタで NVE のライセンスが設定され、有効になっている必要があります。</block>
  <block id="2bc97a247278d92f5552529c55ab7f0d" category="paragraph">新しいボリュームでNetApp Volume Encryption（NVE）を有効にします。デフォルトは「false」です。このオプションを使用するには、クラスタで NVE のライセンスが設定され、有効になっている必要があります。</block>
  <block id="ee3d8ea22d8bf88f2f7fcd6d6dbf26d2" category="paragraph">この指標サービスは、 OpenShift クラスタのステータス、リソース利用率、可用性に関する重要な情報を管理者に提供します。ポッドの自動拡張機能にも必要であり、多くの組織では、チャージバックやショーバックのアプリケーションに指標サービスのデータを使用しています。</block>
  <block id="676ad90ce2543d29917d8a5a6fc02e01" category="inline-link-macro">ONTAP NASの構成オプション</block>
  <block id="a44b6b00e5eebd7494e1fd00658685e2" category="inline-link-macro">NIST</block>
  <block id="83188252104d97bbc732f23aa3b26ae2" category="inline-link-macro">Gitlab: cryptsetup</block>
  <block id="0520b57116af979714f913239aa512a5" category="inline-link-macro">Intel：Advanced Encryption Standard Instructions（AES-NI）</block>
  <block id="64e4c9865ee7451edfc34d72da12ee7d" category="paragraph">何も返されない場合、お使いのプロセッサはAES-NIをサポートしていません。AES-NIの詳細については、以下を参照してください。 <block ref="e77f47a78a9c4677daf14d5366b503b4" category="inline-link-macro-rx"></block>。</block>
  <block id="227eef96675ec0e7595951c060437608" category="list-text">使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> LUKS暗号化を使用してストレージプールを定義する方法。例：</block>
  <block id="e646e16bee8b32e6ea29e30d01970a6c" category="section-title">制限</block>
  <block id="7b9eed191ce5e7cc8c8d1cb8cfe2d8c8" category="paragraph">非マルチパス構成またはを使用<block ref="a3a1d5b95e345a3db24a5a30e349f699" prefix=" " category="inline-code"></block> または<block ref="e82e6d155396541f07f7347c984444ea" prefix=" " category="inline-code"></block> multipath.confファイルの値が原因でマウントが失敗します。Tridentはの使用を推奨しています<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> 21.07リリース以降</block>
  <block id="84ec6afbbe3e33afb3eba2b0375718b1" category="inline-link-macro">問題 #759</block>
  <block id="e07bc583b0f70b05fdbb1008303e8f85" category="list-text">を使用して作成されたONTAP バックエンドに固有の修正済み問題<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block> 22.07.0アップグレード時にフィールドがオンラインにならない（<block ref="294e408500bc8358b70c680986c23bdb" category="inline-link-macro-rx"></block>）。</block>
  <block id="958424a347179b6856de7610a2b99b8d" category="inline-link-macro">問題 #548</block>
  <block id="9663034bca37c0603d813726d885503d" category="inline-link-macro">問題 #760</block>
  <block id="26d08c0516dec92a4420f06d4da4fcf1" category="list-text">**Docker：**一部の環境でDockerボリュームプラグインが起動しないという問題 が修正されました（<block ref="78b7b57a86c570439562f2c638103de5" category="inline-link-macro-rx"></block> および <block ref="968dd574470c019c42c32878b5799fe9" category="inline-link-macro-rx"></block>）。</block>
  <block id="8f9d66f5cbbd4fc027dbd00d46032c8e" category="list-text">ボリュームの接続時にiSCSI LUNの不要なスキャンが発生するというパフォーマンス問題 の問題が修正されました。</block>
  <block id="08e9e62a917aaf944b6ff85929a9f1dd" category="list-text">対応するマルチパスデバイスがすでにフラッシュされている場合にiSCSIデバイスのフラッシュ時にエラーが返される修正問題 。</block>
  <block id="bc5611c731b034c5f323419d0258aa44" category="list-text">Kubernetes：</block>
  <block id="98f7f8fbd26f9272ad6a29f2fb6c930b" category="list-text">Trident Deployment and DemonSet用に別々のServiceAccount、ClusterRole、ClusterRoleBindingを追加して、今後の権限の強化を可能にしました。</block>
  <block id="609df46dff884c3eec4386eb8db4e358" category="inline-link-macro">ネームスペース間ボリューム共有</block>
  <block id="09065204259df86d4fe38c35ea23f5af" category="list-text">すべてTrident<block ref="aa44e980d222d5134b5e0d8a062e1543" prefix=" " category="inline-code"></block> ストレージドライバがONTAP REST APIで機能するようになりました。</block>
  <block id="8485ea08789af7b6b7b44e024b526f9b" category="list-text">新しい演算子YAMLを追加しました <block ref="5a02ebff4889c2de0379a0fb10bed282" prefix="(" category="inline-code"></block>）を使用しない場合<block ref="316707d12484dd3afede08839dee49bc" prefix=" " category="inline-code"></block> Kubernetes 1.25をサポートするため。</block>
  <block id="26e871bef43095263845143b043aee4f" category="inline-link-macro">LUKS暗号化ボリュームをサポートします</block>
  <block id="30b044636a9c63ab4b202192eec30c1c" category="list-text">Windows Server 2019ノードのサポートが追加されました。</block>
  <block id="38b9dc57f44121e6d970b34eede9ad0d" category="inline-link-macro">WindowsノードでのSMBボリュームのサポート</block>
  <block id="af8a9d07c7391207db96957ab59cb459" category="list-text">**Kubernetes：**サポートされている最小Kubernetesを1.20に更新。</block>
  <block id="d667cfc8e8d6ec0c2352fe97b0f09e40" category="list-text">Astraデータストア(Aads )ドライバを削除</block>
  <block id="9b363ea2db99fe0dc5e9b43f47a37f20" category="list-text">のサポートが削除されました<block ref="a6105c0a611b41b08f1209506350279e" prefix=" " category="inline-code"></block> および<block ref="8c319f28d81d1527a9428e9a5c2195f5" prefix=" " category="inline-code"></block> のオプション<block ref="19b30dc119e514235b739e076be9b3cc" prefix=" " category="inline-code"></block> iSCSI用にワーカーノードのマルチパスを設定する場合。</block>
  <block id="1407cfeeb5e3916e1435ddea0f1c0a28" category="section-title">2007年22月の変更</block>
  <block id="071d9becf308917b53d70c09e7da51b6" category="list-text">サポートされているネットアップストレージシステムへのアクセス。</block>
  <block id="19eb712f406fc64109f96d9cf4055cb9" category="list-text">Kubernetesワーカーノードすべてからボリュームをマウントできます。</block>
  <block id="5f35b91e200cda68bf700d65b89c2c73" category="list-text">を搭載したLinuxホスト<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> （または<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>OpenShiftを使用している場合）Kubernetesクラスタを管理するようにインストールおよび設定します。</block>
  <block id="50f33d14f129e4548c1c270fd6725a78" category="section-title">設定オプション</block>
  <block id="05f901da7fdacb9ca59e3d7e2d40f98d" category="cell"><block ref="0f4137ed1502b5045d6083aa258b5c42" prefix="" category="inline-code"></block></block>
  <block id="a3ff66cf5848a34d56915c8e879a5d52" category="section-title">構成例</block>
  <block id="5f82f4ab2783617b6e62bdd43d4a4e49" category="doc">バックエンドにONTAP SANドライバを設定する準備をします</block>
  <block id="19eb1a22d8687def5fb4904d3402728a" category="doc">ネームスペース間でNFSボリュームを共有します</block>
  <block id="6b456f0abe4c4d2f0beb62e5985136cf" category="list-text">セキュリティを確保するために、複数のレベルのアクセス制御が可能です</block>
  <block id="6e5d93bf8e8aaaa4795a50f012bc8fea" category="list-text">すべてのTrident NFSボリュームドライバで動作</block>
  <block id="0ece56dd58b5aabac15e0d0a30553bc0" category="list-text">tridentctlやその他の非ネイティブのKubernetes機能に依存しません</block>
  <block id="b6fcfcfd30bda2a77ebc74f23270f581" category="paragraph">この図は、2つのKubernetesネームスペース間でのNFSボリュームの共有を示しています。</block>
  <block id="45208a2cac11f33c3e6af84d444ac7c5" category="image-alt">ネームスペース間共有の概念図。</block>
  <block id="06ad314b340900d226b1196e1fe289e9" category="section-title">クイックスタート</block>
  <block id="f5b36cc36c8381e7577788dd4db2019d" category="paragraph">NFSボリューム共有はいくつかの手順で設定できます。</block>
  <block id="88b05b42d60719619c24f6101bcd381a" category="paragraph">ソースネームスペースの所有者は、ソースPVCのデータにアクセスする権限を付与します。</block>
  <block id="7037976663710169f00563675ffd3f91" category="paragraph">クラスタ管理者が、デスティネーションネームスペースの所有者にTridentVolumeReference CRを作成する権限を付与します。</block>
  <block id="46374486db0641fa4a3fc8e9c73766ed" category="paragraph">宛先名前空間の所有者は、送信元PVCを参照するためにTridentVolumeReference CRを作成します。</block>
  <block id="33fefc8d535df49d886c4bc78a08e3e5" category="paragraph">宛先名前空間の所有者は、送信元PVCからのデータソースを使用する下位PVCを作成します。</block>
  <block id="7238deab481379c03df561ea7c9b0e2e" category="section-title">ソースネームスペースとデスティネーションネームスペースを設定します</block>
  <block id="b23d212300860aa39d44f8fad02636a1" category="paragraph">セキュリティを確保するために、ネームスペース間共有では、ソースネームスペースの所有者、クラスタ管理者、および宛先ネームスペースの所有者によるコラボレーションとアクションが必要です。ユーザロールは各手順で指定します。</block>
  <block id="aae019fccb9b3ffee1ee77e9e5f2377a" category="list-text">*ソース名前空間の所有者：* PVCを作成します <block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block>）をソースネームスペースに追加し、デスティネーションネームスペースとの共有権限を付与します <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>)を使用します<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> アノテーション</block>
  <block id="365b452a5b5d2d01e1f193fc8bd9bf2c" category="list-text">カンマ区切りリストを使用して、複数の名前空間にPVCを共有できます。例：<block ref="6b31015528f67fe4ce10b7c81957f601" prefix=" " category="inline-code"></block>。</block>
  <block id="fefd0d1f7e80bb8a4657265696b66694" category="list-text">を使用して、すべてのネームスペースに共有できます<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>。例：<block ref="e06421e15aa316addc52dd6c697027b7" prefix=" " category="inline-code"></block></block>
  <block id="bac5e1b9773b73b6702dfe25c8a61a05" category="list-text">PVCを更新してを含めることができます<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> アノテーションはいつでも作成できます。</block>
  <block id="5f560764a361bf1159f8a6c8cbd15dad" category="list-text">*デスティネーションネームスペース所有者：*ソースネームスペースを参照するデスティネーションネームスペースにTridentVolumeReference CRを作成します<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>。</block>
  <block id="d9bb6497cda089fc4a386c685a97cffa" category="list-text">*宛先名前空間の所有者：* PVCを作成します <block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block>）をデスティネーションネームスペースに展開します <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>)を使用します<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block> 送信元PVCを指定する注釈。</block>
  <block id="e22f320aefbf1cdb3ccd68c26b050060" category="admonition">宛先PVCのサイズは、送信元PVCのサイズ以下である必要があります。</block>
  <block id="a5ddf1dcee266e65795efb120a45d2cb" category="section-title">共有ボリュームを削除</block>
  <block id="9f2f83b0c97d84774c1d61107283bb68" category="paragraph">を使用する<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ユーティリティを使用すると、を実行できます<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block> コマンドを使用して下位のボリュームを取得します。詳細については、リンク:./trident-reference/tridentctl.htmlを参照してください<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="[" category="inline-code"></block> コマンドとオプション]。</block>
  <block id="b1cc54ad6906d5f41516543bae01e46f" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>：ボリュームのヘルプ。</block>
  <block id="20668f390d13376c8d13ab4b20a53b5d" category="list-text"><block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix="" category="inline-code"></block>：クエリを下位のソースボリュームに制限します。</block>
  <block id="92c22bb3853554f94f513a2d2f36e8ef" category="list-text"><block ref="aed2a4a749284f757648f1057abf44cd" prefix="" category="inline-code"></block>:クエリをボリュームの下位に制限します。</block>
  <block id="3908892c437778f8b161a2ca006782cd" category="list-text">Snapshot、クローン、およびミラーリングは下位のボリュームでは実行できません。</block>
  <block id="aec47cf6a0cb83824b504b756eb4b71c" category="doc">Azure NetApp Files バックエンドを設定する準備をします</block>
  <block id="97d64245613ba751b698ce77fd51779a" category="inline-link">Azure：Azure NetApp Files をセットアップし、NFSボリュームを作成します</block>
  <block id="caa7dc98c21b44b17c214508b9b0fa3c" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>および<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> から <block ref="63405c89f422580946169fa59c41e7ae" category="inline-link-macro-rx"></block> Azure Active Directory で、 Azure NetApp Files サービスに対する十分な権限がある。アプリケーション登録では、次のいずれかを使用します。</block>
  <block id="ee495045d2c4c5131217a0248a404b4d" category="inline-link-macro">Azureで事前定義</block>
  <block id="2fbc632d5939633cc9c3b254d116080f" category="inline-link-macro">カスタム投稿者ロール</block>
  <block id="b0ee19cc46a4fb3df97c1c676c0a5d57" category="inline-link-macro">Azureポータルを使用してロールを割り当てます</block>
  <block id="77a4a369d552f7d3be163bda86f9113f" category="section-title">SMBボリュームに関するその他の要件</block>
  <block id="7595de66780a622cdd37b4823afebc07" category="inline-link-macro">GitHub: CSIプロキシ</block>
  <block id="c680a0c023a6d45186b9752a07e9938c" category="inline-link-macro">GitHub: Windows向けCSIプロキシ</block>
  <block id="2d6b406e65ac91f2af09f4228e3efe4f" category="list-text">Windowsサービスとして設定されたCSIプロキシ。を設定します<block ref="0f8126c17871ed45f2a848f15d96a1bb" prefix=" " category="inline-code"></block>を参照してください <block ref="3ca23c6eadaac7aa23a492aef5e5d012" category="inline-link-macro-rx"></block> または <block ref="0b56a9ad79a8fef177779e7d3d856994" category="inline-link-macro-rx"></block> Windowsで実行されているKubernetesノードの場合。</block>
  <block id="eb89f16d07a93fa10a31ec6309045fe9" category="doc">ONTAP のSAN構成オプションと例</block>
  <block id="b8ae61dc50cf8e8b79e68bc4a8d36393" category="cell"><block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix="" category="inline-code"></block></block>
  <block id="a56dcba8eacdac67fb510e1434d560d8" category="inline-link-macro">Linux Unified Key Setup（LUKS；統合キーセットアップ）を使用</block>
  <block id="fd05c90de484dbc1cb963df796886af4" category="doc">ONTAP NASドライバを使用してバックエンドを設定する準備をします</block>
  <block id="17a48ec106d5505e674ccdf56fce1058" category="doc">Azure NetApp Files バックエンド構成のオプションと例</block>
  <block id="55eaeeb515ba1b8a42eb736b0e58f41f" category="cell">ボリューム用のVNet機能のセットです。の場合もあります<block ref="972e73b7a882d0802a4e3a16946a2f94" prefix=" " category="inline-code"></block> または<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block>。ネットワーク機能は一部の地域では使用できず、サブスクリプションで有効にする必要がある場合があります。を指定します <block ref="b0fdc9c7b96e4249152c61b506703142" prefix=" " category="inline-code"></block> この機能を有効にしないと、ボリュームのプロビジョニングが失敗します。</block>
  <block id="cc3d42de123c784e8d8e3c8404b943be" category="cell">NFS マウントオプションのきめ細かな制御。SMBボリュームでは無視されます。NFSバージョン4.1を使用してボリュームをマウントするには、を参照してください <block ref="c72da907ddca73ee114d92e5e098ce0e" prefix=" " category="inline-code"></block> カンマで区切って複数のマウントオプションリストを指定し、NFS v4.1を選択します。ストレージクラス定義で設定されたマウントオプションは、バックエンド構成で設定されたマウントオプションよりも優先されます。</block>
  <block id="f0873081464f48da27a1068215270c60" category="cell"><block ref="296026821ada2ab8aebcf13547a63df5" prefix="" category="inline-code"></block></block>
  <block id="c0a4a0396978d1ad8816d2e358a2f05e" category="cell">NFSボリュームまたはSMBボリュームの作成を設定オプションはです<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> またはnull。nullに設定すると、デフォルトでNFSボリュームが使用されます。</block>
  <block id="71e598dd105d32592243532b55392c55" category="cell"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block></block>
  <block id="8cacf42dcc11f9e7779267100d4fd305" category="inline-link-macro">Azure NetApp Files ボリュームのネットワーク機能を設定します</block>
  <block id="4ace77649689419cf09eed38ddf4e74c" category="admonition">ネットワーク機能の詳細については、を参照してください <block ref="d4c16e3034c39d54544a2d5f2b2953d9" category="inline-link-macro-rx"></block>。</block>
  <block id="d37198994935307f0e4a95505678642e" category="section-title">必要な権限とリソース</block>
  <block id="1860dce26ad531b08f4b17950bbda6a7" category="paragraph">の値<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>、<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>、<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block>、<block ref="a88edbe6cce8d8f180d87bef83408312" prefix=" " category="inline-code"></block>および<block ref="4f556606ab1f7cb51dd23811407facbd" prefix=" " category="inline-code"></block> 短縮名または完全修飾名を使用して指定できます。ほとんどの場合、短縮名は同じ名前の複数のリソースに一致する可能性があるため、完全修飾名を使用することを推奨します。</block>
  <block id="8771cfaef1f991e1642d0a1ece8dcfa3" category="paragraph">。<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>、<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>および<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block> 値は、検出されたリソースのセットをこのストレージバックエンドで使用可能なリソースに制限するフィルタであり、任意の組み合わせで指定できます。完全修飾名の形式は次のとおりです。</block>
  <block id="be1b9ef68f31ecee991e2282c1f24f0f" category="section-title">ボリュームのプロビジョニング</block>
  <block id="6154de53659ccfe0ba0733effdb2da13" category="paragraph">構成ファイルの特別なセクションで次のオプションを指定することで、デフォルトのボリュームプロビジョニングを制御できます。を参照してください <block ref="c850cc933797a5d4472ae11f15a5ef5e" category="inline-xref-macro-rx"></block> を参照してください。</block>
  <block id="ea221277b2f168f5e17d112765f4a1c0" category="cell">新しいボリュームに対するエクスポートルール<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> CIDR表記のIPv4アドレスまたはIPv4サブネットの任意の組み合わせをカンマで区切って指定する必要があります。SMBボリュームでは無視されます。</block>
  <block id="21590b83460bd480131384ef53bdccc4" category="cell">新しいボリュームのUNIX権限（8進数の4桁）。SMBボリュームでは無視されます。</block>
  <block id="10c0eb6973453da95b4ef937f19ddb6c" category="section-title">構成例</block>
  <block id="cad675ae3fb846705512fe460e615ac3" category="paragraph">次のようになります<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 定義は、上記のストレージプールを参照してください。</block>
  <block id="1abbfd87ab307af55b755fd27ce60191" category="paragraph">を使用します<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> を指定できます<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> ボリュームをホストするために使用される仮想プール。ボリュームには、選択したプールで定義された要素があります。</block>
  <block id="4b7db799aa8307d15835ff36beb1b97c" category="section-title">SMBボリュームの定義例</block>
  <block id="82b60bb483328d8efe9240dc8aa4a600" category="paragraph">を使用します<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>、<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>および <block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>を使用して、SMBボリュームを指定し、必要なActive Directoryクレデンシャルを指定できます。</block>
  <block id="c51cc3b801a879870aea846bdde1c7a3" category="section-title">バックエンドを作成します</block>
  <block id="7d8058d93ec1d95c673d83bf303326ff" category="doc">ONTAP NASの設定オプションと例</block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">考慮事項</block>
  <block id="d041a310ba7cc2599250e64801594107" category="list-text">のサポートが追加されました <block ref="ca184a2eda203b6d98158bdf24e5cf7d" category="inline-link-macro-rx"></block>。</block>
  <block id="adbfe36f6399f2846983b2901604a962" category="list-text">を追加しました <block ref="40be42d37bc6014716dcd0a1d368ffb5" category="inline-link-macro-rx"></block> を使用する<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> ストレージドライバ。</block>
  <block id="f18a50f02f48551895d57b81dd288142" category="sidebar">ネームスペース間でNFSボリュームを共有します</block>
  <block id="66f2c42a4ca561f5472459301bc7d096" category="list-text">ONTAP ドライバの自動MetroCluster スイッチオーバー検出機能が一般提供されるようになりました。</block>
  <block id="e87ded5ef8bc8adbc3c135528636f4f2" category="list-text"><block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block></block>
  <block id="fce586d9f649fb529d0a1846495ba259" category="list-text"><block ref="fce586d9f649fb529d0a1846495ba259" category="inline-link-macro-rx"></block></block>
  <block id="ecd7650a65b79124ad23fb7eed8faa7e" category="paragraph">ネットアップポートフォリオの各ストレージプラットフォームには、コンテナ化されたアプリケーションやそうでないアプリケーションに役立つ独自の機能があります。</block>
  <block id="e6dc22cf3c59dda6e09524b2b133f336" category="section-title">プラットフォームの概要</block>
  <block id="050fb8b0306d7532dbf8c15b8cba9745" category="paragraph">Trident は ONTAP や Element と連携1 つのプラットフォームが他のプラットフォームよりもすべてのアプリケーションとシナリオに適しているわけではありませんが、プラットフォームを選択する際には、アプリケーションのニーズとデバイスを管理するチームを考慮する必要があります。</block>
  <block id="31b1d21fc5180ec9a5b3d9d7d5ce3295" category="paragraph">\ https://&lt;login&gt;:&lt;password&gt;@&lt;mvip&gt;/json-rpc/&lt;element-version&gt;</block>
  <block id="8eadd25d5b4b5d0637cc13cd7349ce5d" category="paragraph">\ https://admin:admin@192.168.160.3/json-rpc/8.0</block>
  <block id="88825f48aa3e053d7df66897e8b63e38" category="section-title">要件を確認します</block>
  <block id="6bee7851f8606d588c9122b234c202e3" category="list-text">の導入がすべてを満たしていることを確認します <block ref="6fc1811f5f9a8ae54793544600e2dff7" category="inline-link-macro-rx"></block>。</block>
  <block id="0dabff490bbf6c7e308950959cc5a024" category="section-title">インストーラの詳細を確認してください</block>
  <block id="99c850b82f45e568828f2a8c5ab8f94d" category="section-title">ボリュームアクセスグループについて学習する</block>
  <block id="7c14ddfe8f627e4786f4da7cd4cea9ba" category="section-title">ストレージクラスの関連付け</block>
  <block id="ab4589eca69db942d79a0dbbd9ec8399" category="section-title">ボリュームの作成</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">概要</block>
  <block id="a6fbed601c3d014f6d8342990aeee0b5" category="section-title">ボリュームSnapshotの作成方法について説明します</block>
  <block id="7a72a102c2990b674624e8b6ec834e4d" category="section-title">REST APIを使用する状況</block>
  <block id="eee97547fb40d9c4df018377ac6478bb" category="section-title">REST APIを使用する</block>
  <block id="ee656aff7dc78e280efdea39a682afbb" category="section-title">アップグレード前の考慮事項</block>
  <block id="4e9ac50b8f51023570ef0b0a0a827912" category="inline-link-macro">サポートされるKubernetesバージョン</block>
  <block id="c27e444dab3a08bf8ec59794897c1a27" category="inline-link-macro">サポートされるKubernetesバージョン</block>
  <block id="4f0e7dc30ffb3e25e75331c9afb2243a" category="cell">ボリュームモード</block>
  <block id="28c142639a9bbdd526b8eb986c13907d" category="paragraph">ファイルシステムなし。rawブロックデバイスです</block>
  <block id="98f770b0af18ca763421bac22b4b6805" category="section-title">の機能</block>
  <block id="8ff961668c6784e84b25c265cbb629d7" category="paragraph">ネームスペース間のボリュームアクセスの詳細については、次の資料を参照してください。</block>
  <block id="f1cfea5f1444de607dfa549b3aa57010" category="inline-link-macro">ネームスペース間でのボリュームの共有：ネームスペース間のボリュームアクセスを許可する場合は「Hello」と入力します</block>
  <block id="2780f690b7670efc296ac19ef3029d0c" category="list-text">にアクセスします <block ref="b0d29f1b2abb2cc552e4cc47177582ef" category="inline-link-macro-rx"></block>。</block>
  <block id="96e1384807331548bf745acde0fe1b73" category="inline-link-macro">ネットアップTV</block>
  <block id="bd2cc8575fe69c7f775292759380c838" category="inline-link-macro">Bundle_pre_1_25.yaml</block>
  <block id="5a02ebff4889c2de0379a0fb10bed282" category="inline-link-macro">bundle_post_1_25.yaml</block>
  <block id="d59db7846bd10b6d60d21543df9faa9e" category="paragraph-title">必要なもの</block>
  <block id="6c6e605e09d47da14693d106977b6eb0" category="section-title">管理<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> を使用してバックエンドを<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="78fb4311dea625690d7fb6274025625a" category="section-title">手順2：を作成します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="d6f4b4bedc693acd49ad08c1cf0cdad5" category="section-title">手順3：のステータスを確認します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="a035fed1dd97545349b5fffbd9e3e88f" category="section-title">管理<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> を使用してバックエンドを<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="0901a332c26ed210204bad23d45c8b6d" category="section-title">手順1：確認します<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> がに設定されます<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block></block>
  <block id="2f1beb23541bc11eb53ca6b33485d4f8" category="section-title">手順2：を削除します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="06c2cea18679d64399783748fa367bdd" category="inline-image-macro">1つ</block>
  <block id="32ec9b4824220f8ae03a723da009cd54" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block> ボリュームを共有するようにソースPVCを設定します</block>
  <block id="aada29daee1d64ed0fe907043855cb7e" category="inline-image-macro">2 つ</block>
  <block id="82a9b6c32a91a1f4a714d648f5d3260f" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block> デスティネーションネームスペースにCRを作成する権限を付与します</block>
  <block id="ca8a2087e5557e317599344687a57391" category="inline-image-macro">3つ</block>
  <block id="311a877e773f97b1e237db665a868dd9" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block> デスティネーションネームスペースにTridentVolumeReferenceを作成します</block>
  <block id="981b8fcee42e1e726a67a2b9a98ea6e9" category="inline-image-macro">4.</block>
  <block id="fb16fc9d34d26a8e74ba1a7180766513" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block> 宛先名前空間に下位PVCを作成します</block>
  <block id="fd69c5cf902969e6fb71d043085ddee6" category="paragraph-title">結果</block>
  <block id="3f8e335666124e3b7f5db07f03fef0b1" category="section-title">使用<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block> 下位のボリュームを照会する</block>
  <block id="260817022a7340fc89eae3e7dbed8f6a" category="section-title">を使用した定義の例<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> フィールド</block>
  <block id="19ef07597f79648211dbed100709836b" category="section-title">バックエンドを更新して追加<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block></block>
  <block id="891d26d5e7410db6c0a971245c6025c0" category="section-title">例1：のバックエンド構成<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 3種類のボリュームを備えたドライバ</block>
  <block id="454631312fab234fc91bb2f85a751fac" category="section-title"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block></block>
  <block id="e892fda55ead7e15eed753e850d35f12" category="section-title">手順2：を作成します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="74257eabdceb63f8522f7c68b103da3a" category="section-title">無効にします<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block> アプリケーションSVM用</block>
  <block id="e49cf31f5ed35f0eb694c7714e8c3234" category="section-title"><block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix="" category="inline-code"></block></block>
  <block id="3649b15e31d22a1e2210f014d843b9fa" category="section-title"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block></block>
  <block id="a4027ed0f56ae6ac2cbb7605a519932b" category="section-title"><block ref="b5eda0a74558a342cf659187f06f746f" prefix="" category="inline-code"></block></block>
  <block id="7920cf9e1a990d156e390321c1d5efeb" category="section-title"><block ref="59b514174bffe4ae402b3d63aad79fe0" prefix="" category="inline-code"></block></block>
  <block id="cc27cfd3259c2299d8dece590d5f6985" category="section-title"><block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix="" category="inline-code"></block></block>
  <block id="2acfb4ba14a6f33d7e82e8d1dda6542f" category="section-title"><block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix="" category="inline-code"></block></block>
  <block id="9ce837bc2492d4ed390bc5d1ea9d1437" category="section-title"><block ref="2541d938b0a58946090d7abdde0d3890" prefix="" category="inline-code"></block></block>
  <block id="30cf71e674825d319eb0406032c1a80b" category="section-title"><block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix="" category="inline-code"></block></block>
  <block id="c4e2f712f33e39883cdadc27311ff798" category="section-title">Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="40f23ed795a1a88d4da7ac2ef847ff7f" category="section-title">Kubernetes<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="7df5b64daec466033329296995f05735" category="section-title">Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="db36743614e87531d560fe8ae0bc6c7d" category="section-title">Kubernetes<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="63f2f0978770be469911c5f1722d82ca" category="section-title">Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="1ca312948dba5b1321da24bc362f4148" category="section-title">Kubernetes<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="4171707fb2a131f0fae96196310c5e3b" category="section-title">Kubernetes<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="4f89992961c018acecad7b373dcce336" category="section-title">クリーンアップ<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> インストールが失敗した場合</block>
  <block id="b9984d1eca39b86eb39cedf7db8f8c62" category="section-title">取り外します<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="a3edb76d25dfeb8d67e4711eafd2b5ca" category="paragraph">ストレージシステム用のバックエンドドライバを選択して導入します。</block>
  <block id="a57628924f909d4edd5cb81ee4f10896" category="section-title">ONTAP バックエンドドライバ</block>
  <block id="4ea57c8a88545a4fc2039131bc6fd74d" category="paragraph">ONTAP バックエンドドライバは、使用されるプロトコルと、ストレージシステムでのボリュームのプロビジョニング方法によって異なります。そのため、どのドライバを展開するかを決定する際には、慎重に検討する必要があります。</block>
  <block id="642b59503457da90c85cbb7a35e02089" category="paragraph">使用可能なONTAP バックエンドドライバは次のとおりです。</block>
  <block id="e44e590e4645ab9ef08fb84f61cede17" category="section-title">Cloud Volumes ONTAP バックエンドドライバ</block>
  <block id="fdde450e1a16aa1461e62c6fa5ac621f" category="section-title">ONTAP バックエンドドライバ用のAmazon FSX</block>
  <block id="d079959bb7c738f4e1704de5ff69b897" category="section-title">NetApp HCI / SolidFireバックエンドドライバ</block>
  <block id="64648abd6d020446c9c8d556a1584d71" category="section-title">Azure NetApp Files バックエンドドライバ</block>
  <block id="0dceb918cb4a4d7dcbe5af26d08e7657" category="section-title">特定のバックエンド使用率</block>
  <block id="ebaf90f7386ae95e7960a2fc0084116e" category="section-title">QoSポリシーをエミュレートします</block>
  <block id="125ad0610423d53866d257eb097320e4" category="section-title">特定の機能に基づいてバックエンドを利用する</block>
  <block id="b6e026d8066036cf2628237905a58384" category="section-title">さまざまなサービスレベル/QoSのエミュレート</block>
  <block id="628fd4af2a4e2fce014efbf03b84bb71" category="section-title">特定の一連の側面を割り当てます</block>
  <block id="a599393b295f7ad56a8c7f1d327290de" category="paragraph">次に、既存のPVCのスナップショットを作成する例を示します。</block>
  <block id="f6bd0d7447ff66cc6b859603a88fbde9" category="section-title">関連リンク</block>
  <block id="35aa4a2a819e526c2e930e487df8d423" category="list-text"><block ref="35aa4a2a819e526c2e930e487df8d423" category="inline-link-macro-rx"></block></block>
  <block id="19476662cd814e0aa085eca121de89b8" category="inline-link-macro">ボリュームSnapshotクラス</block>
  <block id="d63cadc96caf4b05f8fa532b08e889da" category="list-text"><block ref="d63cadc96caf4b05f8fa532b08e889da" category="inline-link-macro-rx"></block></block>
  <block id="3b64653c97a388d828849314b6a1b383" category="cell">プールのラベル値は次のとおりです。</block>
  <block id="6da89265a9a8b0b28eb4946bb2ec0c6d" category="cell">一致</block>
  <block id="ecf92052d55345fee4602d9eb8c22063" category="cell">一致しません</block>
  <block id="c6c1caf73b0f83d807abe5a717014ab7" category="cell">値のセットに含まれています</block>
  <block id="8daf6b016f4033d59900c23f162c0f73" category="cell">値のセットに含まれていません</block>
  <block id="c6bfba38b789fec8271d1d1496a9ee59" category="cell"><block ref="42538adbdb6240b2b083a000a615d5bd" prefix="" category="inline-code"></block></block>
  <block id="152f5dc0f7ac734f8e8ee17d4a482462" category="cell">保護</block>
  <block id="7b532e697a35209f3df3956577cc3d9c" category="cell">任意の値で存在します</block>
  <block id="eb0254f1d0a82e646c239d4d2e2f83ac" category="cell"><block ref="f65e5ff2a1bb1af969dccabe7dcd5cdd" prefix="" category="inline-code"></block></block>
  <block id="67a3b723b2d9024808eb2c6e686d00a0" category="cell">!保護</block>
  <block id="1fde97909b90bb329db2062f7744bd45" category="cell">存在しません</block>
  <block id="5eb07a7cb7d445ef6bbb17270c65cf52" category="list-text">RHCOSバージョン4.5以降またはRHEL互換のその他のLinuxディストリビューションをで使用している場合は、を使用します<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> DriverおよびElement OS 12.5以前。CHAP認証アルゴリズムがMD5 inに設定されていることを確認します<block ref="104f48adc29dc1e1d7c9bbe7b5dd3f8d" prefix=" " category="inline-code"></block>。Element 12.7では、FIPS準拠のセキュアなCHAPアルゴリズムSHA1、SHA-256、およびSHA3-256が提供されています。</block>
  <block id="18c20e5d2e368f36f420dd39019d460f" category="list-text">を使用する場合<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> OpenShift 4.5を搭載したドライバ。基になるワーカーノードがMD5をCHAP認証アルゴリズムとして使用するようにします。Element 12.7では、FIPS準拠のセキュアなCHAPアルゴリズムSHA1、SHA-256、およびSHA3-256が提供されています。</block>
  <block id="5896cc977dd7b9854957e18a2a5bf072" category="cell">アダプティブ QoS ポリシーグループ：作成したボリュームに割り当てます。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します。経済性に影響する ONTAP - NAS ではサポートされません。</block>
  <block id="19ab49765cdd2c8ab592eb40eeff08cf" category="cell">ONTAP-SAN、solidfire-san-エコノミー 構成、solidfire-san-SAN間にあるSolidFireを実現します</block>
  <block id="054b5072368dea4f8748909c16c7de98" category="cell">シック：All ONTAP ；thin：All ONTAP &amp; solidfire-san-SAN</block>
  <block id="dbdc06f8742b98dcacdf7fdb1af111ea" category="paragraph">ONTAPNAS、ONTAPNASエコノミー、ONTAP-NAS-flexgroup、ONTAPSAN、solidfire-san-SAN、solidfire-san-SAN、GCP-cvs、azure-NetApp-files、ONTAP-SAN-bエコノミー</block>
  <block id="f888aa18c19e41f8c1263fa99ca8b94c" category="cell">solidfire-san-group、ontap/nas、ontap -nas-エコノミー、ontap -nas-flexgroup、ontap -san、ONTAP - SAN -経済性</block>
  <block id="05a2712653dfbf7d695c18242d9848e6" category="paragraph">RHEL 8以降</block>
  <block id="bba4e1b8d8614fe9da2d67e2dcef4b52" category="paragraph"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="c95cada2a569592345ebc18e5ef4c7aa" category="paragraph">プロトコル LIF の IP アドレス。</block>
  <block id="25edde63e4922bb316018c25888e64a6" category="inline-link-macro">ONTAP の選択的LUNマップ</block>
  <block id="0350980c728940d67af063bb5d711f0f" category="paragraph">システムベースのシステムのサンプルユニットファイルは、から入手できます<block ref="50a97f9b0dec64cc53ca48406c60fe4d" prefix=" " category="inline-code"></block> Gitリポジトリで実行します。RHELでファイルを使用するには、次の手順を実行します。</block>
  <block id="2f6c694f9d016c7193ece4853c402d96" category="doc">Tridentオペレータのインストールをカスタマイズ</block>
  <block id="79445b5dba623a55ad4d974712853c2f" category="cell"><block ref="2b8b5018006a800ae06485c3aacfa08d" prefix="" category="inline-code"></block></block>
  <block id="cbea7dc9eb2c3c926a86130b0be6368f" category="cell">Tridentオペレータのイメージプルポリシーを設定します。有効な値は次のとおりです。<block ref="68eec46437c384d8dad18d5464ebc35c" prefix=" " category="inline-code"></block> 常にイメージをプルする。<block ref="7803982c6b845094275e8e83f0fad3a6" prefix=" " category="inline-code"></block> ノード上にイメージが存在しない場合にのみ取得します。<block ref="6e7b34fa59e1bd229b207892956dc41c" prefix=" " category="inline-code"></block> 画像を絶対に引き出さないでください。</block>
  <block id="ac7c98af4f51cc4b20acafb785a53284" category="cell"><block ref="7803982c6b845094275e8e83f0fad3a6" prefix="" category="inline-code"></block></block>
  <block id="2f74d18d1c9959832fc00b898fa2417e" category="doc">Helm（標準モード）を使用してTridentを導入</block>
  <block id="6852076d7b753ee3ea825ae4af1375ac" category="inline-link-macro">オフライン導入のプロセス</block>
  <block id="2f5480efe7a0a4b0cffbf110abec11c2" category="paragraph">Tridentの使用 <block ref="cdacb2b0d49176a3c0d8cc9d693de833" category="inline-link-macro-rx"></block> Tridentオペレータを導入し、Tridentを一度にインストールできます。</block>
  <block id="3342f1a2f74c6062a39d3076c35c5a5b" category="inline-link-macro">インストールの概要</block>
  <block id="6657de3ab3deaeef939684c50d5310e3" category="paragraph">レビュー <block ref="17128a3e349370ba21c9ca13ca0bc297" category="inline-link-macro-rx"></block> インストールの前提条件を満たし、環境に適したインストールオプションを選択していることを確認します。</block>
  <block id="8f3958d59b8da100a4663b1cace112b7" category="inline-link-macro">導入の前提条件</block>
  <block id="64d2af40480a5cebf7e64939f6253bf3" category="paragraph">に加えて <block ref="c7282b7e52e27c635b613335e59bf436" category="inline-link-macro-rx"></block> 必要です <block ref="fc0cdbd8defe0c7175199dd05a0f8e76" category="inline-link-macro-rx"></block>。</block>
  <block id="d75fdc8e85ddcd7e9dc9f367168dec11" category="paragraph">を使用できます<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> 名前、ネームスペース、グラフ、ステータス、アプリケーションバージョンなどのインストールの詳細を確認するには、次の手順を実行します。とリビジョン番号。</block>
  <block id="4c5ab57df808d08e9978671e7e81bb2a" category="section-title">インストール中に設定データを渡す</block>
  <block id="c2bae6a1b11b371647052979113c2b7c" category="cell"><block ref="2c1d18b300e96c797f390483b0c6acdb" prefix="" category="inline-code"></block> （または<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>)</block>
  <block id="0bfab21a3b7a34a60173df3f165eda9c" category="paragraph">オーバーライドを使用してYAMLファイルを指定します。これは複数回指定でき、右端のファイルが優先されます。</block>
  <block id="ef136231fb37749162723573d36b19c9" category="cell"><block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix="" category="inline-code"></block></block>
  <block id="7595b6387dfaf9307f563edc4d951a0d" category="paragraph">コマンドラインでオーバーライドを指定します。</block>
  <block id="ef911ad0da9f5477ca7ec7af0ba4181a" category="paragraph">インストールパスに関係なく、次のものが必要です。</block>
  <block id="3f2851ece89063ca1615062ac2117a4e" category="list-text">サポートされているバージョンのKubernetesと機能の要件を有効にして実行されている、サポートされるKubernetesクラスタに対するすべての権限。を確認します <block ref="3675fd04b78685cacd6e23511ab11d10" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="f6f19569d16b2b36f137e3df3e315626" category="list-text">。<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> Kubernetesクラスタ構成を参照するように設定された環境変数。</block>
  <block id="a24b4ef46f44c1b54b99e62f49bef9af" category="section-title">インストール方法を選択します</block>
  <block id="dcb987a2d08ee1a9198d1183b1a63a96" category="inline-link-macro">メソッド間を移動しています</block>
  <block id="e11c9248bc5d43c6663f67955adbc53b" category="paragraph">適切なインストール方法を選択します。また、に関する考慮事項についても確認しておく必要があります <block ref="e6ce874bf5f421a383109cc222a74763" category="inline-link-macro-rx"></block> 決定する前に。</block>
  <block id="bd1cc9ebdb33ed22a54815219f97af08" category="section-title">Trident演算子を使用する</block>
  <block id="b2ad529645b5bea51c4bcd516a5c5c8f" category="inline-link-macro">Tridentのオペレータ環境をカスタマイズ</block>
  <block id="9d2c1d92b0ecb606394b40e3553d07d2" category="paragraph">Tridentオペレータには次のようなメリットがあります。</block>
  <block id="9bb09894435f05fa667865ab4c45ace7" category="paragraph">Tridentオペレータが、Kubernetesのバージョンに応じて次のオブジェクトを自動的に作成します。</block>
  <block id="839be275cd4b0f32a2c3e0278ce6d568" category="list-text">オペレータのサービスアカウント</block>
  <block id="f330ead337ce41659c5526de118cdac3" category="list-text">ClusterRoleおよびClusterRoleBindingをサービスアカウントにバインドする</block>
  <block id="02c7e9dd319d7284e2200c673387dfdc" category="list-text">専用のPodSecurityPolicy（Kubernetes 1.25以前用）</block>
  <block id="504dabdcc3051fc4c1b7a92eb22fad82" category="example-title">&lt;strong&gt; 自己回復機能&lt;/strong&gt;</block>
  <block id="0bfe7abd2878a67d5ff26746df309f8c" category="example-title">&lt;strong&gt; は、インストール済みの既存の&lt;/strong&gt; を簡単に更新できます</block>
  <block id="cbbeebc91e4ea4f1960f7a74b5b14c23" category="paragraph">既存の展開をオペレータと簡単に更新できます。を編集するだけで済みます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRを使用してインストールを更新します。</block>
  <block id="f72ba1a3a498489a96fd8774bfa9ea9d" category="example-title">&lt;strong&gt; Kubernetesの自動アップグレード処理&lt;/strong&gt;</block>
  <block id="4c24a3b9facf2ea9fc7ed2ca52dab45d" category="inline-link-macro">&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; のインストールをカスタマイズします</block>
  <block id="84721e18f913ae71c91ded91f5eb0ccc" category="section-title">インストールモードを選択します</block>
  <block id="ecafb217c7f4e740b9f654a4f2d90d83" category="paragraph">組織で必要な_インストールモード_（標準、オフライン、またはリモート）に基づいて導入プロセスを決定します。</block>
  <block id="e0090e5eeb1da23a2924e8a8913a9bf8" category="open-title">標準インストール</block>
  <block id="ca02732ace7c24d10b82abb835861fa8" category="list-text">インターネット経由でコンテナイメージを取得します</block>
  <block id="6c09f957f6dd5f1b3287dacfabe8711a" category="open-title">オフラインインストール</block>
  <block id="559e73031b36e6693dcd5724b5ec9488" category="paragraph">オフラインインストールモードは、エアギャップまたは安全な場所で必要になる場合があります。このシナリオでは、必要なTridentイメージとCSIイメージを格納するために、1つのプライベートなミラーリングされたレジストリ、または2つのミラーリングされたレジストリを作成できます。</block>
  <block id="37f28a5a50507d5cf12665008632572f" category="admonition">CSIイメージは、レジストリ設定に関係なく、1つのレジストリに存在する必要があります。</block>
  <block id="8e9a94c9655a1b4aac478f836ff8dde6" category="open-title">リモートインストール</block>
  <block id="3937570b6000a2f24b3066af230f4546" category="paragraph">次に、リモートインストールプロセスの概要を示します。</block>
  <block id="8be61d7ba452354892142828445281d0" category="section-title">メソッドとモードに基づいてプロセスを選択します</block>
  <block id="667af34faf4c2e74b377bbe7608ca481" category="paragraph">決定が終わったら、適切なプロセスを選択します。</block>
  <block id="4c3880bb027f159e801041b1021e88e8" category="cell">メソッド</block>
  <block id="f8a17e31b9d98082aa01aa0b41f63a01" category="cell">インストールモード</block>
  <block id="e633d636fff46ea0b0998da525b2fba2" category="cell">Tridentのオペレータ（手動）</block>
  <block id="8f923c676fa6a52b7729476fc0d5f245" category="paragraph"><block ref="8f923c676fa6a52b7729476fc0d5f245" category="inline-link-macro-rx"></block></block>
  <block id="d295bad40364c9511c0d7b6a18e9557b" category="paragraph"><block ref="d295bad40364c9511c0d7b6a18e9557b" category="inline-link-macro-rx"></block></block>
  <block id="b9267203f04d91a5fcda0041ad2b3b64" category="cell">Tridentオペレータ（Helm）</block>
  <block id="c197c2a4864a9d7a8190b1988d1e5885" category="paragraph"><block ref="c197c2a4864a9d7a8190b1988d1e5885" category="inline-link-macro-rx"></block></block>
  <block id="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="paragraph"><block ref="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="inline-link-macro-rx"></block></block>
  <block id="0b9d702360fb60f9b8b477339ca03a7b" category="cell"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block></block>
  <block id="be686de0390e44f3981b994e059dfcb7" category="inline-link-macro">標準インストールまたはオフラインインストール</block>
  <block id="9e244fc5020d1137289c0c34c2944ac4" category="paragraph"><block ref="9e244fc5020d1137289c0c34c2944ac4" category="inline-link-macro-rx"></block></block>
  <block id="dd341f866eaefb939dc86608773c909d" category="section-title">インストール方法を切り替える</block>
  <block id="84dfae02381a00cf11d01c571e3e3e0f" category="paragraph">インストール方法を変更することもできます。その前に、次の点を考慮してください。</block>
  <block id="f36d25716a4b2c466ddcb8065bef3ae6" category="paragraph"><block ref="f36d25716a4b2c466ddcb8065bef3ae6" category="inline-link-macro-rx"></block></block>
  <block id="50823ee9226376c44bfb71c334ee2f3f" category="paragraph"><block ref="50823ee9226376c44bfb71c334ee2f3f" category="inline-link-macro-rx"></block></block>
  <block id="44e21d73aa8bd7200fceac6671723524" category="doc">Tridentオペレータを手動で導入（オフラインモード）</block>
  <block id="11ad6eeb0e6095efdbf4599d71303b0e" category="inline-link-macro">標準的な導入のプロセス</block>
  <block id="8ff1bc8a7ac69f081f871e9e2a8c0d0f" category="section-title">Tridentオペレータを手動で導入し、Tridentをインストール</block>
  <block id="bcc71769dd00af93bb067088094d9b0b" category="paragraph">Linuxホストにログインして、管理が機能していることとを確認します <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block> 必要な権限があることを確認します。</block>
  <block id="92e83bca2bb40324de35154f8c95083d" category="list-text">Kubernetesのバージョンを確認します。</block>
  <block id="b17eef151a74252395aad7db4b148b57" category="list-text">クラスタ管理者の権限を確認します。</block>
  <block id="987c560d773c81bc59f0fa11370626f5" category="list-text">Docker Hubのイメージを使用してポッドを起動し、ポッドネットワーク経由でストレージシステムにアクセスできることを確認します。</block>
  <block id="d868f4f0026c532dcfdb417dde3174c2" category="section-title">手順1：Tridentのインストーラパッケージをダウンロード</block>
  <block id="e0755e6cf0a80c2d8535ac3b7eae0b4b" category="section-title">手順2：を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRD</block>
  <block id="ad9aaefb573cd08d43c2b039449b1f0e" category="section-title">手順3：オペレータのレジストリの場所を更新します</block>
  <block id="7e1c8354fb2b2ecb65abfa6a63e08970" category="section-title">手順3：Tridentのオペレータを導入する</block>
  <block id="05cb480f9344b60f5eeaed25c5e230d1" category="list-text">リソースを作成し、オペレータを配置します。</block>
  <block id="78f538d1739cfd8c70698ec72269da17" category="inline-link-macro">Tridentのインストールをカスタマイズ</block>
  <block id="9c0f95d6de9186b24cce94c1c19ad0bb" category="section-title">インストールを確認します。</block>
  <block id="f33407040f00668c9fe98aa95119654b" category="paragraph">インストールを確認するには、いくつかの方法があります。</block>
  <block id="1ee1b78e8a634a10be54657432d990c0" category="section-title">を使用します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> ステータス</block>
  <block id="59331c774767b9695025c001ca75a1f6" category="inline-link-macro">ログをチェックしてください</block>
  <block id="4b3e10870e70ff689f8c7d5c4470bb56" category="paragraph">のステータス<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> インストールが正常に完了したかどうかを示し、インストールされているTridentのバージョンが表示されます。インストール中、のステータス<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> からの変更<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block> 終了：<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>。を確認した場合は<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block> ステータスとオペレータは単独で回復できません。 <block ref="b02c5b645df4a829ba2f9c98296d4b15" category="inline-link-macro-rx"></block>。</block>
  <block id="474d9cf1b4e7f826154b0e1f35c59f5a" category="section-title">ポッドの作成ステータスを使用する</block>
  <block id="8492a795a07bc459d58808ef0ab73c36" category="section-title">を使用します<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="3c70f31b6cfd2fccfef3e715c4c4cabb" category="doc">tridentctlのインストールをカスタマイズします</block>
  <block id="3e8935de45b1559e2ec2b01c1bbb06c2" category="doc">Helm（オフラインモード）を使用したTridentのオペレータの導入</block>
  <block id="3d289dfc040026f9fd5fd0d307821b6c" category="doc">tridentctlを使用してインストールします</block>
  <block id="953aeeea088f5f969f2eba121ae81f15" category="paragraph">インストールを開始する前に、Linuxホストにログインして、管理が機能していることを確認します。 <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block> 必要な権限があることを確認します。</block>
  <block id="53c512e9599c71e1a585d636a5229820" category="open-title">標準モード</block>
  <block id="ca5380881d4e3b38f359d5d05acd6163" category="paragraph">インストールステータスは次のようになります。</block>
  <block id="c5e8fc3926c956e64487a70aa036ec8c" category="paragraph">ポッドの作成ステータスまたはを使用して、インストールを確認できます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="5ba19178fb1b2111306714e923b35945" category="inline-link-macro">デバッグモードをオンにします</block>
  <block id="43e7d51a6323aabe7af3d192e157f5ed" category="admonition">インストーラが正常に完了しない場合、または<block ref="ce3abad3e11d6a43c5178e20a0c7d64b" prefix=" " category="inline-code"></block> <block ref="2903817a25b5de1e17a06122d71c5cf9" prefix="(" category="inline-code"></block> 23.01より前のバージョンでは、* RUNNING *ステータスがありません。プラットフォームはインストールされませんでした。使用<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block> 終了： <block ref="82f062b46969132d4baf9d002395a676" category="inline-link-macro-rx"></block> および問題 のトラブルシューティングを行います。</block>
  <block id="5d8f25140dde9344f1318b1319929306" category="doc">Tridentオペレータを手動で導入（標準モード）</block>
  <block id="c35c65e4cd4cef23559781ed63709eb0" category="section-title">手順4：を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Tridentをインストール</block>
  <block id="a24e915be64ce870d285c6e28a6df3f5" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> および<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> ONTAP NASバックエンドの場合：</block>
  <block id="fb250da700173f245f4c10d2970cfba8" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> ONTAP SANバックエンドの場合：を指定することはできません<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> ONTAP SANバックエンドの場合：</block>
  <block id="741970ef3d523752ab543427956bb1b8" category="cell">1.19～1.26</block>
  <block id="2a531c1a1d290bb0e5f5a511bb48ad45" category="admonition">活性/レディネスプローブポートは、を使用して設置するときに変更できます<block ref="d2090696319f15a4c659a414db8cd2cd" prefix=" " category="inline-code"></block> フラグ。このポートがワーカーノード上の別のプロセスで使用されていないことを確認することが重要です。</block>
  <block id="1a87abd79c966e67f73bbe738ffa4e59" category="inline-link-macro">問題#783、#794</block>
  <block id="3e45ffbc961fc6c429b6e91f16331ee5" category="list-text">Kubernetes：Helm（<block ref="f91cf268a0811064670bc9d51a6e2016" category="inline-link-macro-rx"></block>）。</block>
  <block id="a47f012619aa18f9e2c0fbb53d5878d9" category="list-text">Kubernetes 1.26のサポートを追加。</block>
  <block id="d87b63603588c1795f58658ee14e505f" category="inline-link-macro">問題 番号757</block>
  <block id="8e3bb4ae68afca021f39502f7954a450" category="list-text">Trident RBACのリソース利用率が全般的に向上（<block ref="92a5fe29b2be509e7db5f2091f236ee0" category="inline-link-macro-rx"></block>）。</block>
  <block id="2508a7d2b2da760ab909b40a284aff9f" category="list-text">ホストノードで解除されたiSCSIセッションや古いiSCSIセッションを自動で検出して修正できるようになりました。</block>
  <block id="80a9d5ab26eec41d6d6967415e991c91" category="list-text">LUKS暗号化ボリュームの拡張のサポートが追加されました。</block>
  <block id="1e209dc1ac5964d0a9b1f9c2e9f2fc83" category="list-text">Kubernetes：LUKS暗号化ボリュームのクレデンシャルローテーションのサポートを追加しました。</block>
  <block id="8ce5e316405255bac435287fc5b61f0e" category="list-text">SMBボリュームの使用時のNTFS権限のサポートが追加されました。</block>
  <block id="e67f9f12d1f7c510d94da478c87b7d19" category="list-text">CVSサービスレベルを使用したGCPボリュームのストレージプールのサポートが追加されました。</block>
  <block id="493569102442ea9186ac1061bb527388" category="list-text">FlexGroupをONTAP-NAS-flexgroupストレージドライバで作成する際のflexgroupAggregateListのオプション使用がサポートされるようになりました。</block>
  <block id="c26c6c796afe3b5c10e0c830715daf3a" category="list-text">すべてのONTAP NASストレージドライバに対してデータLIFの更新を有効にしました。</block>
  <block id="56f71deb4744b8ffc7a92bde36d3f4d4" category="list-text">Trident DeploymentとDemonSetの命名規則を更新し、ホストノードOSを反映させました。</block>
  <block id="6ea33f83a7d973b1fa7de807364662d4" category="list-text">Kubernetes：サポートされる最小Kubernetes数を1.21に更新</block>
  <block id="562840ed450b90bfe87c70479237a8da" category="section-title">22.10の変更</block>
  <block id="816cf1fb2aa5f808ab09b4740f8ec199" category="list-text">を追加しました <block ref="d387032e9d71b36f3d6219f60f33a659" category="inline-link-macro-rx"></block> の場合<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ストレージドライバ。</block>
  <block id="74652b96889938fdef1037f82abf39b0" category="inline-link-macro">インストール方法を切り替えます</block>
  <block id="441b9a0ce7113f17c0021f9922b1c865" category="inline-link-macro">Tridentオペレータを使用してアップグレード</block>
  <block id="bdae3121e140e5325fd05919c86dd97f" category="list-text">を使用して初期インストールをカスタマイズした場合<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 属性を編集できます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> インストールパラメータを変更するオブジェクト。これには、ミラーリングされたTridentおよびCSIイメージレジストリをオフラインモードに指定したり、デバッグログを有効にしたり、イメージプルシークレットを指定したりするための変更が含まれます。</block>
  <block id="3d0107bfa0874592e9dc04f9869b604b" category="list-text">を実行します<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> グラフとアプリのバージョンが両方ともアップグレードされていることを確認します。を実行します<block ref="3e725291d4b17065fdcd321172fcfae3" prefix=" " category="inline-code"></block> デバッグメッセージを確認します。</block>
  <block id="d7f3ab8ebe0633127c883b84d0b2bc4a" category="section-title">Google Cloudバックエンドドライバ上のCloud Volumes Service</block>
  <block id="b8777f333c4d18731d4e5746513dc8eb" category="cell">Cloud Volumes Service for Google Cloudドライバ</block>
  <block id="e8257e01d592104a99a17c192f84e86a" category="cell">CVS -パフォーマンスサービスタイプでのみ利用できます。</block>
  <block id="e6f7c10d8c16eee55f72ce71c4b10a2f" category="list-title">レプリケーションに関する注意事項</block>
  <block id="706c8ebf7645c5a984d080882f157905" category="list-text">クローンは、ソースボリュームと同じストレージプールに作成されます。</block>
  <block id="aa3a2f2908114304b0a2fa7847f52c52" category="section-title">仮想プール</block>
  <block id="46eefe0a9f18e4edef4d602d3868ad26" category="section-title">仮想プールの設計</block>
  <block id="e531eef4bc68547759b647c917ac2567" category="admonition">仮想プールを定義する場合は、バックエンド定義で既存の仮想プールの順序を変更しないことをお勧めします。また、既存の仮想プールの属性を編集または変更したり、新しい仮想プールを定義したりしないことを推奨します。</block>
  <block id="f274bdd304a8c3825a2766a1f8ff8fa7" category="paragraph">特定の側面を持つ複数の仮想プールは、単一のストレージバックエンドから設計できます。そのためには、バックエンドに複数のラベルを設定し、各ラベルに必要な側面を設定します。を使用して、さまざまなKubernetesストレージクラスを作成します<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 異なる仮想プールにマッピングされるフィールド。バックエンドでプロビジョニングされるボリュームには、選択した仮想プールに定義された設定が適用されます。</block>
  <block id="b6969fa89b54a37ee3628194aebbbea3" category="doc">Linux Unified Key Setup（LUKS；統合キーセットアップ）</block>
  <block id="525588be7f6bc2cf7b3b257ced2b19c7" category="list-text">ワーカーノードにはcryptsetup 2.1以上（3.0よりも下位）がインストールされている必要があります。詳細については、を参照してください <block ref="39c06d5570d5dfd5c63abe15a0d8d2fb" category="inline-link-macro-rx"></block>。</block>
  <block id="83f59a8c99f92feae93c90d4f7bd0d68" category="section-title">LUKS暗号化を有効にします</block>
  <block id="b9a97083b1f9ee5d9d6fd1ec4025a836" category="paragraph">ONTAP SANおよびONTAP SANエコノミーボリュームでは、Linux Unified Key Setup（LUKS；Linux統合キーセットアップ）を使用して、ボリューム単位のホスト側暗号化を有効にできます。</block>
  <block id="d197aff07a41df5dbefcace33058435c" category="list-text">バックエンド構成でLUKS暗号化属性を定義します。ONTAP SANのバックエンド構成オプションの詳細については、を参照してください <block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block>。</block>
  <block id="a99f022d7515cf14d9d2e49a72198c5c" category="list-text">LUKSパスフレーズを含むシークレットを作成します。例：</block>
  <block id="6d8e596656bc0dc6684415f94bee7e6a" category="paragraph">LUKSで暗号化されたボリュームは、ONTAP の重複排除と圧縮を利用できません。</block>
  <block id="f9d3cd939395358ac0f0bd3a1043656c" category="section-title">LUKSパスフレーズをローテーションします</block>
  <block id="5173c14a913aecabc2aa4a398abfd3a1" category="paragraph">LUKSのパスフレーズをローテーションしてローテーションを確認できます。</block>
  <block id="870809044094847738d2e3b2d3490240" category="admonition">パスフレーズは、ボリューム、Snapshot、シークレットで参照されなくなることを確認するまで忘れないでください。参照されているパスフレーズが失われた場合、ボリュームをマウントできず、データが暗号化されたままアクセスできなくなることがあります。</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="paragraph-title">このタスクについて</block>
  <block id="a09edd6ec72e24ea93fe0643001ce09b" category="list-text">ボリュームのパスフレーズがシークレットでアクティブなパスフレーズと一致しない場合、ローテーションが実行されます。</block>
  <block id="85341a765feac19c14ddb5733a16bb0f" category="list-text">ボリュームのパスフレーズがシークレットのアクティブなパスフレーズと一致する場合は、を参照してください<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> パラメータは無視されます。</block>
  <block id="e11fe3d05d72f7812c946ac80ae339ed" category="list-text">を追加します<block ref="c774c2255b7e3b1f75cd200c366d4148" prefix=" " category="inline-code"></block> および<block ref="59ab79bfd6177f0b40d74d58d4a94d89" prefix=" " category="inline-code"></block> StorageClassパラメータ。例：</block>
  <block id="7fe288bcd08368971a3839f1de636c7c" category="list-text">ボリュームまたはSnapshotの既存のパスフレーズを特定します。</block>
  <block id="bd7a9717d29c5ddcab1bc175eda1e298" category="listing-title">ボリューム</block>
  <block id="d4e2713d1b1725a1592f9268589f990d" category="listing-title">スナップショット</block>
  <block id="c0526adc9b28d758d8fab9d4a5b998ef" category="list-text">ボリュームのLUKSシークレットを更新して、新しいパスフレーズと前のパスフレーズを指定します。確認します <block ref="119d124de86f53dbdf015ff1809c10e1" prefix=" " category="inline-code"></block> および<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> 前のパスフレーズと同じにします。</block>
  <block id="4f8a79fea6c3cc09f49769b8473808f7" category="list-text">ボリュームをマウントする新しいポッドを作成します。これはローテーションを開始するために必要です。</block>
  <block id="bcf837455c951c49bd9138ead166c489" category="list-text">パスフレーズがローテーションされたことを確認します。</block>
  <block id="0c7eac961f50eef2d0c82d382fdd18b3" category="paragraph">パスフレーズは、ボリュームとSnapshotに新しいパスフレーズのみが返されたときにローテーションされました。</block>
  <block id="6ff457ceee4568584dc3fd66c1ae658a" category="admonition">たとえば、2つのパスフレーズが返された場合などです<block ref="b5b0f81d5dbb45d3dd031f1b02af8bf3" prefix=" " category="inline-code"></block>回転が不完全です。回転を完了するために、新しいポッドをトリガできます。</block>
  <block id="b3f9d5f1e12f2ba5ecd2ece1e9084f3f" category="section-title">ボリュームの拡張を有効にします</block>
  <block id="e5307495a3aec6528b42d3f3e835a761" category="paragraph">LUKS暗号化ボリューム上でボリューム拡張を有効にできます。</block>
  <block id="aeec1a5a7dc7624995570096ce8156ef" category="inline-link-macro">Kubernetes 1.25：CSIボリュームのノードベースの拡張にシークレットを使用します</block>
  <block id="1282398415278cc77bc47970640d4188" category="list-text">を有効にします<block ref="b0e105de2a2f0820528649fee8d2e331" prefix=" " category="inline-code"></block> 機能ゲート（ベータ1.25+）。を参照してください <block ref="35e3bd84b2522e04fd4ead86130c9227" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="e4de718025be845e2dec22064bb4eece" category="list-text">を追加します<block ref="91985ce21cd787a6ab2a13cc97f58968" prefix=" " category="inline-code"></block> および<block ref="641c8d6753dd78e60ebb61a20e6a2742" prefix=" " category="inline-code"></block> StorageClassパラメータ。例：</block>
  <block id="e718558948d1441cf3873df6fb7b10c3" category="paragraph">ストレージのオンライン拡張を開始すると、ドライバに適切なクレデンシャルが渡されます。</block>
  <block id="8a6112da5167fe6f44136715f1d86c36" category="paragraph">専用のインフラノード（OpenShiftなど）や、ユーザアプリケーションをスケジュールできない他のノードを導入する場合は、ストレージリソースへのアクセスをさらに制限するために別 々 のエクスポートポリシーを使用する必要があります。これには、これらのインフラノードに導入されているサービス（ OpenShift Metrics サービスや Logging サービスなど）のエクスポートポリシーの作成と、非インフラノードに導入されている標準アプリケーションの作成が含まれます。</block>
  <block id="c395d1a6e14d73fb73663b1198b0b134" category="section-title">仮想プールについて説明します</block>
  <block id="6293784c303cb134632b85dc06f372df" category="image-alt">に、仮想プールの概念図を示します。</block>
  <block id="e26346b2afab61526141ea7275a77ba3" category="list-text">仮想プールを定義する場合は、バックエンド定義内の既存の仮想プールの順序を変更しないでください。</block>
  <block id="92aa2031bb642a0c5c916142f725400d" category="list-text">既存の仮想プールの属性を変更しないことをお勧めします。変更を行うには、新しい仮想プールを定義する必要があります。</block>
  <block id="43d41b472d09879b85f78a3b8e487fd1" category="paragraph">ほとんどの項目はバックエンド固有の用語で指定されます。アスペクト値は、バックエンドのドライバの外部には表示されず、での照合には使用できません<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。代わりに、管理者が各仮想プールに 1 つ以上のラベルを定義します。各ラベルはキー：値のペアで、ラベルは一意のバックエンド間で共通です。側面と同様に、ラベルはプールごとに指定することも、バックエンドに対してグローバルに指定することもできます。名前と値があらかじめ定義されている側面とは異なり、管理者は必要に応じてラベルキーと値を定義する完全な裁量を持っています。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="e084f7ea866c7ad616e67a911925c850" category="paragraph">A<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> セレクタパラメータ内のラベルを参照して、使用する仮想プールを指定します。仮想プールセレクタでは、次の演算子がサポートされます。</block>
  <block id="0b62778604e11f72525f5a82bbd26c6a" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> は、NetApp ONTAP ストレージオペレーティングシステムを基盤とするファイルシステムの起動や実行を可能にする、フルマネージドのAWSサービスです。FSX for ONTAP を使用すると、使い慣れたネットアップの機能、パフォーマンス、管理機能を活用しながら、AWSにデータを格納するためのシンプルさ、即応性、セキュリティ、拡張性を活用できます。FSX for ONTAP は、ONTAP ファイルシステムの機能と管理APIをサポートしています。</block>
  <block id="9b85b10750f4b0e98b7853ee468d8bd5" category="list-text">SMBボリューム：</block>
  <block id="cf201a9e802aa6e35997590206919b1a" category="list-text">SMBボリュームは、を使用してサポートされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ドライバーのみ。</block>
  <block id="994eaa47aad78cae857818e1655e2800" category="paragraph">認証を有効にする方法の詳細については、使用しているドライバタイプの認証を参照してください。</block>
  <block id="57e00ef3eabad47fc79d0ef1319f989c" category="inline-link-macro">ONTAP NAS認証</block>
  <block id="840db27e4fe9967e908b8b101ca72198" category="list-text"><block ref="840db27e4fe9967e908b8b101ca72198" category="inline-link-macro-rx"></block></block>
  <block id="562276ffa617658595d5e6df35ef971c" category="inline-link-macro">ONTAP SAN認証</block>
  <block id="4a5e4254b1862ddbff7f81ed84e87125" category="list-text"><block ref="4a5e4254b1862ddbff7f81ed84e87125" category="inline-link-macro-rx"></block></block>
  <block id="d2aae26c4b1e25027872b1df4cee2081" category="paragraph">Azure NetApp Files バックエンドを設定する前に、次の要件を満たしていることを確認する必要があります。</block>
  <block id="53ba532dfa04fe29152221a3efb3e98f" category="doc">Google Cloudバックエンド用にCloud Volumes Service を設定します</block>
  <block id="3671a5060127094ad405aad9295e6609" category="inline-link-macro">3つのサービスレベル</block>
  <block id="1b3b34a1280074ca8311ff50bbacac6c" category="list-text"><block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix="" category="inline-code"></block></block>
  <block id="3f27980baf5bae9c9c40df09c54f6f23" category="list-text"><block ref="a288195832f8717bca4671416014a464" prefix="" category="inline-code"></block></block>
  <block id="091d891c1f040cef1072e2593b7f1f3b" category="list-text"><block ref="287e9593819b2fcdf9945e7ccacd637d" prefix="" category="inline-code"></block></block>
  <block id="1048ee58172376b84dda9c7505d858ea" category="inline-link-macro">2つのサービスレベル</block>
  <block id="6c62a8c68facf167a61fbd54e9cceb5f" category="list-text">* CVS *：CVSサービスタイプは、中程度のパフォーマンスレベルに制限された高レベルの可用性を提供します。CVSサービスタイプは、ストレージプールを使用して1GiB未満のボリュームをサポートするソフトウェアオプションです。ストレージプールには最大50個のボリュームを含めることができ、すべてのボリュームでプールの容量とパフォーマンスを共有できます。のいずれかを選択できます <block ref="21d52e1e64b94d45bea308be30f5a76a" category="inline-link-macro-rx"></block>：</block>
  <block id="277d5dd64fbcc2dbcd79252b41d6113e" category="list-text"><block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix="" category="inline-code"></block></block>
  <block id="4bfd77bf3278584b71bc8c9deef39ca9" category="list-text"><block ref="75b65576cc4a19f0836b73610ad5957a" prefix="" category="inline-code"></block></block>
  <block id="66d7ad821e261a4b5099f37ced19ebb1" category="list-text">NetApp Cloud Volumes Service で設定されたGoogle Cloudアカウント</block>
  <block id="f56a3add505b7e123b55b814f7acc26b" category="list-text">Cloud Volumes Service アカウントのAPIキーファイル</block>
  <block id="5782f9a9357b5678058d6d3ceed21988" category="cell"><block ref="c614017642b6cfd9e6a25c7df122d917" prefix="" category="inline-code"></block></block>
  <block id="4efa10ec47c98c5ed67e1a72f7515240" category="cell">CVSサービスタイプのみ。ボリューム作成用のストレージプールを指定するオプションのパラメータ。</block>
  <block id="4149383e1cf45a36b373c5bded2ff6ba" category="cell">Google Cloud アカウントのプロジェクト番号。この値は、Google Cloudポータルのホームページにあります。</block>
  <block id="f0559497c76611a262c1a6fa93592cd7" category="cell">共有VPCネットワークを使用する場合は必須です。このシナリオでは、<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block> は、サービスプロジェクトです<block ref="b5caf2c58446baec75b83bf637a98d1b" prefix=" " category="inline-code"></block> は、ホストプロジェクトです。</block>
  <block id="665f1a07bc016a07fdc13ef823fcdb03" category="cell">を使用したGoogle CloudサービスアカウントのAPIキー<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block> ロール。このレポートには、 Google Cloud サービスアカウントの秘密鍵ファイルの JSON 形式のコンテンツが含まれています（バックエンド構成ファイルにそのままコピーされます）。</block>
  <block id="3430995d97c2d987bf88dfb93ddb34f7" category="cell">CVSアカウントへの接続にプロキシサーバが必要な場合は、プロキシURLを指定します。プロキシサーバには、 HTTP プロキシまたは HTTPS プロキシを使用できます。HTTPS プロキシの場合、プロキシサーバで自己署名証明書を使用するために証明書の検証はスキップされます。認証が有効になっているプロキシサーバはサポートされていません。</block>
  <block id="4d9239a7fce916964ba8529021ab535f" category="cell">要求されたボリュームサイズがこの値を超えている場合はプロビジョニングが失敗します。</block>
  <block id="c4105759a421b56f4e5aa47752aa6812" category="cell">新しいボリュームのCVS -パフォーマンスレベルまたはCVSサービスレベル。CVS -パフォーマンスの値はです<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block>、<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block>または<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block>。CVSの値はです<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block> または<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block>。</block>
  <block id="5c3d9364df4807427e3297a90edf2831" category="cell">CVS -パフォーマンスのデフォルトは「Standard」です。CVSのデフォルトは"standardsw"です。</block>
  <block id="5715e76155b75e9062107ef13c0576ed" category="cell">Cloud Volumes Service ボリュームに使用するGoogle Cloudネットワーク。</block>
  <block id="ad438db80cb3bcd5f6fccdb1010b02f1" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：<block ref="9b8710f6da218ae915e4ba2ae63f23d0" prefix=" " category="inline-code"></block>。トラブルシューティングを行って詳細なログダンプが必要な場合を除き、このオプションは使用しないでください。</block>
  <block id="a5f4597012dd7af2b717fd4cc2f687fe" category="cell"><block ref="df6ccab784b5892507a7d11443254dc8" prefix="" category="inline-code"></block></block>
  <block id="d2e98deb07632de971600ae032776fe8" category="cell">クロスリージョンアクセスを有効にするには、のStorageClass定義を使用します<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block> すべてのリージョンを含める必要があります。例：<block ref="3e7c75911911d149520dd40104fd92d7" prefix=" " category="inline-code"></block></block>
  <block id="eb60cd2c0cff094ad0ecbe9d6fededcf" category="section-title">ボリュームのプロビジョニングオプション</block>
  <block id="afe8445a326424c54dfec7cc20994e8f" category="paragraph">では、デフォルトのボリュームプロビジョニングを制御できます<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> 構成ファイルのセクション。</block>
  <block id="fdcd5d79603b7f7c0f9b4525dd19b6ab" category="cell">新しいボリュームのエクスポートルール。CIDR 表記の IPv4 アドレスまたは IPv4 サブネットの任意の組み合わせをカンマで区切って指定する必要があります。</block>
  <block id="d5c8102144978e060556ba194e006d1e" category="cell">新しいボリュームのサイズ。CVS -パフォーマンス最小値は100GiBです。CVS最小値は1GiBです。</block>
  <block id="400f2f53e7d26564783ac50a601d32cb" category="cell">CVS -パフォーマンスサービスのタイプはデフォルトで「100GiB」です。CVSサービスのタイプではデフォルトが設定されませんが、1GiB以上が必要です。</block>
  <block id="94e5c486f56b72f4237fe801615b4406" category="section-title">CVS -パフォーマンスサービスの種類の例</block>
  <block id="dea6ff4202a54251e04f7b84647690b6" category="paragraph">次の例は、CVS -パフォーマンスサービスタイプの設定例を示しています。</block>
  <block id="ae174742813090d1ddbc3ed75d27f7f2" category="paragraph">これは、デフォルトの「標準」サービスレベルでデフォルトのCVSパフォーマンスサービスタイプを使用する最小バックエンド構成です。</block>
  <block id="8228a8de88271b4a6a07d5021ae4ff7c" category="example-title">例2：サービスレベルの設定</block>
  <block id="38a24bdf59c77f7705c407c60f3ea81e" category="paragraph">この例は、サービスレベルやボリュームのデフォルトなど、バックエンド構成オプションを示しています。</block>
  <block id="4565a2282ee3312eddd091b3a3f6a263" category="example-title">例3：仮想プールの構成</block>
  <block id="ed7c2c2093c7c8deca88a6580c82633a" category="paragraph">この例では、を使用します<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> 仮想プールおよびを設定します<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> それはそれらを再度参照する。を参照してください <block ref="f986c11e10e5f3c768f256080a1f3f99" category="inline-xref-macro-rx"></block> をクリックして、ストレージクラスの定義方法を確認します。</block>
  <block id="935927e4b464388790a08251e1c2254d" category="paragraph">ここでは、すべての仮想プールに対して特定のデフォルトが設定され、すべての仮想プールに対してが設定されます<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> 5%およびである<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> を0.0.0.0/0に設定します。仮想プールは、で定義されます<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> セクション。個 々 の仮想プールにはそれぞれ独自の定義があります<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block>をクリックすると、一部のプールでデフォルト値が上書きされます。プールを区別するために、仮想プールのラベルを使用しました<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> および<block ref="152f5dc0f7ac734f8e8ee17d4a482462" prefix=" " category="inline-code"></block>。</block>
  <block id="857fa84eb2e850753da87c8599addab3" category="section-title">ストレージクラスの定義</block>
  <block id="5b797cdb3913e416eaea99109620eb0d" category="paragraph">次のStorageClass定義は、仮想プールの構成例に適用されます。を使用します<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>では、ボリュームのホストに使用する仮想プールをストレージクラスごとに指定できます。ボリュームには、選択したプールで定義された要素があります。</block>
  <block id="ea7cdbae94b0329e6731e1f3ae9fc4fc" category="example-title">ストレージクラスの例</block>
  <block id="48bbf2b27d410d92674b0f8f5d3447a0" category="list-text">最初のストレージクラス <block ref="d3b08f69c5bb5aadd45b7ba9391c7447" prefix="(" category="inline-code"></block>）を最初の仮想プールにマッピングします。スナップショット予約が 10% の非常に高いパフォーマンスを提供する唯一のプールです。</block>
  <block id="d371b8466ee11b2a14782e343e3ed344" category="section-title">CVSサービスタイプの例</block>
  <block id="f7a4e685ebf6839fc43b3bbaeff96c33" category="paragraph">次の例は、CVSサービスタイプの設定例を示しています。</block>
  <block id="96899a80429985fe87db6dedf997357e" category="example-title">例1：最小構成</block>
  <block id="2bab01748045e624b36f643d0a50b1c2" category="paragraph">これは、を使用するバックエンドの最小構成です<block ref="78ec9b60245b46a4f05158076962ace9" prefix=" " category="inline-code"></block> CVSサービスタイプとデフォルトを指定するには<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block> サービスレベル：</block>
  <block id="d1f5fcc31a1c5bb592600c9f986af71c" category="example-title">例2：ストレージプールの構成</block>
  <block id="879b7d1da5135e7d94358584a7245e33" category="paragraph">このバックエンド設定の例では、を使用して<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> ストレージプールを設定します。</block>
  <block id="288b1cbb87d08c32abf3084c28636e5c" category="inline-link-macro">NFSまたはiSCSI</block>
  <block id="d7481875afa061fb651628b2597d52ec" category="list-text">準備されているワーカーノード <block ref="966ed3bab2d39ae1014ad2eb34527e0f" category="inline-link-macro-rx"></block>。</block>
  <block id="d0341760d873a30f82a310a6eab0ba9c" category="admonition">Amazon LinuxおよびUbuntuで必要なノードの準備手順を実行します<block ref="70013ee128d5437b3d9579d66ece4066" category="inline-link-rx"></block> （ AMIS ） EKS の AMI タイプに応じて異なります。</block>
  <block id="9303b8f40cf82f5e37702c7a6387e725" category="section-title">ONTAP SANとNASドライバの統合</block>
  <block id="fc4e16be02eac62a40d8ba5714cbeda1" category="section-title">SMBボリュームをプロビジョニングする準備をします</block>
  <block id="fbf3304d2358758ea71475804b2cbeae" category="paragraph">を使用してSMBボリュームをプロビジョニングできます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ドライバ。をクリックしてください <block ref="24f26185e00986318dc562523d4edbf6" category="inline-xref-macro-rx"></block> 次の手順を実行します。</block>
  <block id="d98f239eeb5789a80cb4b247e5be144d" category="inline-link-macro">Microsoft管理コンソール</block>
  <block id="8e6249724e4eef8026e47829f03f9e67" category="list-text">SMB共有を作成SMB管理共有は、のいずれかの方法で作成できます <block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block> 共有フォルダスナップインまたはONTAP CLIを使用します。ONTAP CLIを使用してSMB共有を作成するには、次の手順を実行します</block>
  <block id="c9e9c2bb32e43693c4687ec082488811" category="list-text">必要に応じて、共有のディレクトリパス構造を作成します。</block>
  <block id="8a19300a396203718795b4620552b59c" category="paragraph">。<block ref="293a1aaca0a542f4f1b1dc1a3ad95728" prefix=" " category="inline-code"></block> コマンドは、共有の作成時に-pathオプションで指定されているパスを確認します。指定したパスが存在しない場合、コマンドは失敗します。</block>
  <block id="a968d0620b250ca44da661cadac02e42" category="list-text">指定したSVMに関連付けられているSMB共有を作成します。</block>
  <block id="e172e0c83051eb537305571585af294a" category="list-text">共有が作成されたことを確認します。</block>
  <block id="a6e62ff657f01a7df2d91d1ea0d3e76c" category="inline-link-macro">SMB 共有を作成</block>
  <block id="39026ea2687a8de2a318f8245aceb992" category="admonition">を参照してください <block ref="2b8c6fb4597e9bb000d4d88db3769c9a" category="inline-link-macro-rx"></block> 詳細については、</block>
  <block id="e4f84f59067aa8e22119bf499379385a" category="inline-link-macro">FSX（ONTAP の構成オプションと例）</block>
  <block id="ca088cbb36bbab4b23e57d63d95a628c" category="list-text">バックエンドを作成する際に、SMBボリュームを指定するように次の項目を設定する必要があります。ONTAP バックエンド構成オプションのすべてのFSXについては、を参照してください <block ref="dd05fa371cf4b2c8377b8b4b261a8edd" category="inline-link-macro-rx"></block>。</block>
  <block id="7bb910e3cf11d0b34ca215aa399d3f23" category="cell"><block ref="5910159ef86741f119f7574a9064b5b0" prefix="" category="inline-code"></block></block>
  <block id="3b84c7b88317953423192c633a83db9f" category="cell">*をに設定する必要があります<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>.* nullの場合、デフォルトはです<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>。</block>
  <block id="1928bae58ae496b53ef1a163c3dbeeb4" category="cell">新しいボリュームのモード。* SMBボリュームは空にしておく必要があります。*</block>
  <block id="3418e818bbbe397a49b7096a5ed87929" category="cell">SVMの派生物です</block>
  <block id="2da9f60cc5b99a5987580c38e6db0842" category="cell">信頼された CA 証明書の Base64 エンコード値。任意。証明書ベースの認証に使用されます。</block>
  <block id="394d848f17683e31e21f6cde5fd9e3e4" category="cell">ONTAP クラスタとの通信に必要なユーザ名。クレデンシャルベースの認証に使用されます。</block>
  <block id="6f0acf4836d44b03512e1caa0d774777" category="cell">ONTAP クラスタとの通信にパスワードが必要です。クレデンシャルベースの認証に使用されます。</block>
  <block id="a0de2cc0c77c388210e1f48423eea29c" category="cell">SVM で新しいボリュームをプロビジョニングする際に使用するプレフィックスを指定します。あとから変更することはできません。このパラメータを更新するには、新しいバックエンドを作成する必要があります。</block>
  <block id="c59183b2f668b355e81e7bb1256f92b3" category="paragraph">これらのオプションを使用して、のデフォルトプロビジョニングを制御できます<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> 設定のセクション。例については、以下の設定例を参照してください。</block>
  <block id="e62f5d0a5a95571e25197caafe78cd98" category="section-title">ボリュームプロビジョニングの例</block>
  <block id="1b9ef354b22d8a8b125247fd538da4b2" category="section-title">仮想プールを使用するバックエンドの例</block>
  <block id="615c9f89b360c50cfba2b2de02584387" category="paragraph">次のStorageClass定義は、上記の仮想プールを参照しています。を使用する<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 各ストレージクラスは、ボリュームのホストに使用できる仮想プールを呼び出します。ボリュームには、選択した仮想プール内で定義された要素があります。</block>
  <block id="c632eed28bf53466df8b8a33aedab3af" category="list-text">仮想プール（存在する場合）は、元のバックエンドと同じ順序である必要があります。</block>
  <block id="87a522ecb9df14bf978f6f1da8a654a8" category="list-text">を削除しても、送信元PVCへのアクセスを取り消すことはできません<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> または<block ref="11650d25d20af47978d85fd6e19c89aa" prefix=" " category="inline-code"></block> 注釈またはを削除します<block ref="d6995f631b22fb3f8e94aad1b40d1280" prefix=" " category="inline-code"></block> CR。アクセスを取り消すには、下位PVCを削除する必要があります。</block>
  <block id="ae8df8316f5c485b7db4e7141e899701" category="cell">指定されたアドレス、または指定されていない場合はSVMから取得されるアドレス（非推奨）</block>
  <block id="0275de02c3bba722f4540469d23cc535" category="paragraph">この例は、を示しています<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> IPv6アドレスを使用している。</block>
  <block id="0bd54df5242a2a2e9eca045fc695b41f" category="section-title">更新<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 初期設定後</block>
  <block id="76b4586b7207f884c66397194b773e14" category="summary">Amazon FSX for ONTAP のバックエンド構成オプションについて説明します。ここでは、バックエンドの設定例を示します。</block>
  <block id="b8c7e19ba614c29878588409008e29c6" category="cell">クラスタまたはSVMに接続するためのユーザ名。クレデンシャルベースの認証に使用されます。たとえば、vsadminのように指定します。</block>
  <block id="9a2486a943ad2a4c99f2797d6984f3d0" category="cell">クラスタまたはSVMに接続するためのパスワード。クレデンシャルベースの認証に使用されます。</block>
  <block id="6018b4c39d938c6589decae81b54c6f0" category="cell">SVM管理LIFが指定されている場合に生成されます。</block>
  <block id="4cba35e041b22828be7c835295ee9102" category="cell">SVM で新しいボリュームをプロビジョニングする際に使用するプレフィックスを指定します。作成後に変更することはできません。このパラメータを更新するには、新しいバックエンドを作成する必要があります。</block>
  <block id="86f4c9647fe8f4c500055c772753cc6f" category="cell">使用しないでください。</block>
  <block id="bd4c4a75acd87c86694e9aca1e4050e2" category="cell">FlexVol あたりの最大LUN数。有効な範囲は50、200です。SANのみ。</block>
  <block id="e939be085c2babe4ff0f08e09d0cdfd2" category="cell">NFSボリュームまたはSMBボリュームの作成を設定オプションはです<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>、またはnull。*をに設定する必要があります<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> SMBボリューム。*をnullに設定すると、デフォルトでNFSボリュームが使用されます。</block>
  <block id="a8fe789c9febc6b76736fb83c90df2b7" category="cell">アダプティブ QoS ポリシーグループ：作成したボリュームに割り当てます。ストレージプールまたはバックエンドごとに、QOSPolicyまたはadaptiveQosPolicyのいずれかを選択します。経済性に影響する ONTAP - NAS ではサポートされません。</block>
  <block id="8336fb38c3b943161d5d6e73af8f4a12" category="cell">LUKS暗号化を有効にします。を参照してください <block ref="3646c7a69a11bdd94c010bf856bda313" category="inline-link-macro-rx"></block>。SANのみ。</block>
  <block id="8ba802b52dc84f4e82bfbbf2e2d4a807" category="cell">新しいボリュームのモード。* SMBボリュームは空にしておきます。*</block>
  <block id="88b0b88c998957f004af42563d5e5b40" category="paragraph">を使用します<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>、<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>および<block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>を使用して、SMBボリュームを指定し、必要なActive Directoryクレデンシャルを指定できます。SMBボリュームは、を使用してサポートされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ドライバーのみ。</block>
  <block id="262309361fe5b6dcda3a2eae08a48c2d" category="section-title">適切なツールを選択する</block>
  <block id="2cb4ed05fbad97efb755e294c572862d" category="paragraph-title">NFSツール</block>
  <block id="0172151d0fbf6ae973feaaaf8a2c1b3a" category="paragraph-title">iSCSIツール</block>
  <block id="6a9c3f120f628091afbdc5343cbbe0e1" category="paragraph-title">イベントを確認します</block>
  <block id="70db3e5b82bc8c7ce4389fe8a025df28" category="paragraph-title">検出されたサービスを確認</block>
  <block id="eeacf148d8ecc80cfae337218dd81f43" category="paragraph">オペレーティングシステム用のコマンドを使用して、NFSツールをインストールします。ブート時にNFSサービスが開始されていることを確認します。</block>
  <block id="7b05c6f5db7b1690970d79c209e667fc" category="admonition">NFSツールをインストールしたあとにワーカーノードをリブートして、コンテナにボリュームを接続する際の障害を回避します。</block>
  <block id="e81b5ef34c686914f0cc58204241cace" category="section-title">iSCSIの自己回復機能</block>
  <block id="432fa9215202553559f7b2d4d10ef5ee" category="list-text">*希望するiSCSIセッションの状態と現在のiSCSIセッションの状態を識別します</block>
  <block id="587fcf25ecbc5ff7cf19f7b1a159b5e9" category="list-text">*現在のiSCSIセッションの状態を希望するiSCSIセッションの状態に戻すために必要な修復*を実行します。</block>
  <block id="39460cb84da78b4a87c2014972b2f901" category="admonition">たとえば、ストレージコントローラでCHAPシークレットがローテーションされた場合にネットワークが接続を失うと、古い（_stale_）CHAPシークレットが保持されることがあります。自己修復では、これを認識し、自動的にセッションを再確立して、更新されたCHAPシークレットを適用できます。</block>
  <block id="9e9d382760025434fdf113f91e894cf4" category="list-text">iSCSIセッションがありません</block>
  <block id="3f7bf0ef305a15c68efdc95a50750bd0" category="list-text">LUNが見つかりません</block>
  <block id="15ffa30c3d1ab6322e5ff52935a86a50" category="section-title">iSCSIツールをインストール</block>
  <block id="10ff9e1b33974d06317ff739498154ce" category="paragraph">使用しているオペレーティングシステム用のコマンドを使用して、iSCSIツールをインストールします。</block>
  <block id="baca3a42ff523348689308c7bd411b38" category="paragraph">このバックエンド構成では、 1 つのファイルに複数のストレージプールを定義します。これは、異なるサービスレベルをサポートする複数の容量プールがあり、それらを表すストレージクラスを Kubernetes で作成する場合に便利です。プールを区別するために、仮想プールのラベルを使用しました<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block>。</block>
  <block id="bfd7bf04b3d28a42267e8d1b30a05f01" category="section-title">例2：のバックエンドとストレージクラスの設定<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 仮想プールを備えたドライバ</block>
  <block id="418ff75ccabac38370cc8570721746a3" category="paragraph">この例は、仮想プールとともに、それらを参照するStorageClassesとともに構成されているバックエンド定義ファイルを示しています。</block>
  <block id="7ac6994e44af62a9075fd956e72ee6fb" category="paragraph">バックエンド定義は、クレデンシャルがプレーンテキストで保存される唯一の場所であることに注意してください。バックエンドが作成されると、ユーザ名とパスワードが Base64 でエンコードされ、 Kubernetes シークレットとして格納されます。クレデンシャルの知識が必要なのは、バックエンドの作成または更新だけです。この処理は管理者専用で、 Kubernetes / ストレージ管理者が実行します。</block>
  <block id="46921a75e8534ad7d1c379a9e3aec033" category="sidebar">インストールの概要</block>
  <block id="3183dc3907c0b67930b221a316c94cb2" category="sidebar">Tridentオペレータを使用してインストール</block>
  <block id="ca19905e19a036badc8a33897130382d" category="sidebar">Tridentオペレータを手動で導入（標準）</block>
  <block id="ef39c7f15f2671234f3264999cce5679" category="sidebar">Tridentオペレータを手動で導入（オフライン）</block>
  <block id="0f441bb0252fa34f85fc82a08f2db0c7" category="sidebar">Trident Helmチャートを使用（標準）</block>
  <block id="70eb578fbddf25c465d8f4886be750b7" category="sidebar">Trident Helmチャートを使用（オフライン）</block>
  <block id="71f5771dab663d80ba4dad1627e3386a" category="sidebar">アップグレードの概要</block>
  <block id="301ebdf8067a213d5a55c65fbb488290" category="sidebar">セキュリティに関する推奨事項</block>
  <block id="58834b137fd6fa7a9ca23468a5c91fd6" category="sidebar">設定を準備</block>
  <block id="6fc0b7515ecca271c88eae4a685da613" category="sidebar">NetApp HCI またはSolidFire</block>
  <block id="df7dec428425115b59101028bbebe58c" category="list-text">使用しないでください<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> データ保護、ディザスタリカバリ、モビリティのニーズが予想される場合。</block>
  <block id="f5d176b3de4662ca3603a69ab08bc166" category="paragraph">プロビジョニングされたNFSボリュームにアクセスするためのNASオプション。</block>
  <block id="053b422d907cb55ac105c173adde1080" category="paragraph">NFSのサポート<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> および<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> セキュリティ形式デフォルトはです<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。</block>
  <block id="69f25314e2d927ebcaa0f19c9f2a57da" category="paragraph"><block ref="4913a9178621eadcdf191db17915fbcb" prefix="" category="inline-code"></block></block>
  <block id="2bd69c3354973375e1abed3c9beb1eff" category="cell"><block ref="f777ab485270937cd9b9efc63021484f" prefix="" category="inline-code"></block></block>
  <block id="767b06b78582b463da02281e05c82e45" category="cell"><block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix="" category="inline-code"></block></block>
  <block id="11d7f0efe30199fc66cbc43c427e147d" category="cell">新しいボリュームのセキュリティ形式。*をに設定する必要があります<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> または<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> SMBボリューム*</block>
  <block id="e76ea7f2be658dc914f9c95fe8d14fcf" category="cell"><block ref="68e98b83f5bd746f1468dff89f529d1b" prefix="" category="inline-code"></block> または<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> SMBボリュームの場合</block>
  <block id="375aa0b790f300787cdecf0f896b97f5" category="cell">新しいボリュームのセキュリティ形式。NFSのサポート<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> および<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> セキュリティ形式SMBはをサポートします<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> および<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> セキュリティ形式</block>
  <block id="4a359bdcdb3ce547581bdea3ce6c5bd7" category="cell">NFSのデフォルトはです<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。SMBのデフォルトはです<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>。</block>
  <block id="b3735f022036728c24121c449da97183" category="inline-link-macro">TridentとCSIの画像</block>
  <block id="c4ffea098f78924a9b9331b8f5e9c8b4" category="open-title">1つのレジストリ内のイメージ</block>
  <block id="4847c552b2ff9251806e41c8fa907e19" category="open-title">異なるレジストリ内の画像</block>
  <block id="7a79f435dcaa0ca2322cde1d80c13868" category="section-title">ステップ4：Tridentオペレータを導入</block>
  <block id="579b44412770c0d6b65bc3fd9bf7c61c" category="section-title">手順5:でイメージレジストリの場所を更新します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block></block>
  <block id="d0ebde94f92d8c1bae0c6660a5847bba" category="paragraph">。 <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 1つのレジストリまたは別のレジストリに配置できますが、すべてのCSIイメージは同じレジストリに配置する必要があります。更新<block ref="7b4b81fb05ca7f2a09fe73526ac95482" prefix=" " category="inline-code"></block> レジストリ設定に基づいて追加の場所の仕様を追加します。</block>
  <block id="5295ac8fb520b71deb8a1b57857b2562" category="section-title">手順6：を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Tridentをインストール</block>
  <block id="43e6c0a141c1737a96917c56c7e22a73" category="inline-link-macro">&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; を使用したインストール</block>
  <block id="19466ff921af5aa01da62b42cdaaf617" category="list-text">Tridentのオペレータが、仕様で指定されている場合にインストールにIPv6 localhostを使用するように修正しました。</block>
  <block id="5b313836498a7a26e99e4f084ee1baec" category="inline-link-macro">問題 #799</block>
  <block id="b2fc842cefdc715af09b8d184e09db56" category="list-text">Trident Operatorクラスタロールの権限が、バンドルの権限と同期されるように修正されました <block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>。</block>
  <block id="97848233b9fe6ae43be1728a4e603020" category="list-text">外部プロセスを完了まで実行できるようにする修正を追加しました。</block>
  <block id="3a35c66b59df0fa02e2490983b964261" category="list-text">RWXモードで複数のノードにrawブロックボリュームを接続することで問題 を修正。</block>
  <block id="21b2b5bca26be7b23af4468b85c68b34" category="list-text">SMBボリュームのFlexGroup クローニングのサポートとボリュームインポートが修正されました。</block>
  <block id="190a9f9a8311c8a23bff1fd7a5693342" category="section-title">23.01の変更点</block>
  <block id="a5199cf0d9f113491f9efa18f3bee2e1" category="section-title">コントローラポッドとノードポッドについて</block>
  <block id="30735a308956ec6de6caa328d0d5b43b" category="inline-link-macro">ノードセレクタ</block>
  <block id="1db653cf6745dd1e6aa8d6e843ea5e96" category="inline-link-macro">寛容さと汚れ</block>
  <block id="0897b2b75e3d0217c2f6994605a2cae7" category="paragraph">Kubernetes <block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block> および <block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block> は、特定のノードまたは優先ノードで実行されるようにポッドを制限するために使用されます。「ControllerPlugin」およびを使用します<block ref="96687552cc4dff10038a1b07a8bf3bd3" prefix=" " category="inline-code"></block>を使用すると、拘束とオーバーライドを指定できます。</block>
  <block id="e3826c3aea0bf8502f2ba8ff27eeef19" category="list-text">コントローラプラグインは、Snapshotやサイズ変更などのボリュームのプロビジョニングと管理を処理します。</block>
  <block id="361d997e700d422835e56b644784bb7e" category="list-text">ノードプラグインによって、ノードへのストレージの接続が処理されます。</block>
  <block id="a739aa7f082abebdf65f4b114dd3ad7d" category="paragraph">このテーブルの詳細<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 属性。</block>
  <block id="d90582d42d65d5af05c3d40ad0eb4987" category="admonition">Azure NetApp Files を初めてまたは新しい場所で使用する場合は、Azure NetApp Files をセットアップしてNFSボリュームを作成するためにいくつかの初期設定が必要です。を参照してください<block ref="b6e93c3bfc36cf835c63e42e55586d97" category="inline-link-rx"></block>。</block>
  <block id="84444089b52eed627a838de74ae8d652" category="section-title">NFSボリュームとSMBボリュームの前提条件</block>
  <block id="99c7065ab76131a7b7763287bb5b6735" category="inline-link-macro">Microsoft：Azure NetApp Files 用の容量プールを作成します</block>
  <block id="ee59ecaa79882c8dc8f7f897c113094a" category="list-text">容量プール。を参照してください <block ref="96caced282b604468ab13f86483cd9f6" category="inline-link-macro-rx"></block>。</block>
  <block id="7ed0731ff411d37210b51a78b95c1fc3" category="inline-link-macro">Microsoft：サブネットをAzure NetApp Files に委任します</block>
  <block id="c896cfae248dc2b000cc04c39d8a8de6" category="list-text">Azure NetApp Files に委任されたサブネット。を参照してください <block ref="795b5e8f62d2267a0996a3b260968048" category="inline-link-macro-rx"></block>。</block>
  <block id="856955b6cbc3fe2168b2dcd43fb0a5dd" category="list-text">オーナーまたは寄与者のロール <block ref="76b3209c91e1786a477c35a6e91cf55f" category="inline-link-macro-rx"></block>。</block>
  <block id="227e516e7258b6dcab3e7bcb4148f7f1" category="paragraph">SMBボリュームを作成するには、以下が必要です。</block>
  <block id="d8c74c31c4550aed073521ba0fb8984a" category="inline-link-macro">Microsoft：Azure NetApp Files のActive Directory接続を作成および管理します</block>
  <block id="6bb7e9dc5268dcbdde1a91b151d9a94b" category="list-text">Active Directoryが設定され、Azure NetApp Files に接続されています。を参照してください <block ref="2f3bcda54aaf4e8e45316bb04708293f" category="inline-link-macro-rx"></block>。</block>
  <block id="d924b4945b9cee37e07a2c601d1081be" category="paragraph">このテーブルと<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block> Helmチャートの一部であるファイルには、キーとそのデフォルト値のリストが表示されます。</block>
  <block id="e0e228e32d97e1461cf4492bd5366550" category="cell"><block ref="6370f866cf64618c026027da41bd248e" prefix="" category="inline-code"></block></block>
  <block id="f54139bbd014c510ee9fa277241d4666" category="cell">ポッド割り当てのノードラベル</block>
  <block id="b7f663c63859fec6f7d2f1ecd891de73" category="cell"><block ref="6e0bd2b3fba01f3f74634cfc6fcc31d6" prefix="" category="inline-code"></block></block>
  <block id="6b164b6efa957c912428e089b86ecd45" category="cell">ポッドの注釈</block>
  <block id="4e3c35024b2d124aa9ab33a254e2545c" category="cell"><block ref="7c73e8c8cba054b3164d0b641ef36a41" prefix="" category="inline-code"></block></block>
  <block id="1a6308fa062d92acbff3b1304615d1db" category="cell">配置のアノテーション</block>
  <block id="716c09bbd59aa99d3932f73b7f517b2c" category="cell"><block ref="d6c26478ca41a23cc9741a4e92576269" prefix="" category="inline-code"></block></block>
  <block id="1147c70db6b1e5ac87df9b1ef26ea59a" category="cell">ポッド割り当ての許容値</block>
  <block id="ed550d998ef1de0c69744fb5f7f7173c" category="cell"><block ref="1474047fb00b2d8d95646f7436837ed0" prefix="" category="inline-code"></block></block>
  <block id="064fd06fa9edd7a1e29b4da6fd9a1688" category="cell">ポッド割り当てのアフィニティ</block>
  <block id="b81e781314c37667d0eae6eeba5f0468" category="cell"><block ref="d525dcbea000b0429493d47a891b5ad9" prefix="" category="inline-code"></block></block>
  <block id="85e06bb6e03e71b7708d9d4b6f4967ea" category="cell">ポッド用の追加のノードセレクタ。を参照してください <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> を参照してください。</block>
  <block id="0ccd4d74122ec81d149bc2bb132524d6" category="cell"><block ref="e8c1183eadfdb38078a7bd66bfa038ac" prefix="" category="inline-code"></block></block>
  <block id="74f3be1a07b1f65cef69ac77defaff4b" category="cell">ポッドに対するKubernetesの許容範囲を上書きします。を参照してください <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> を参照してください。</block>
  <block id="c5387f0fc94f27d79519bb1299916e0f" category="cell"><block ref="bc0951b6e57a04c942fe6054649bb323" prefix="" category="inline-code"></block></block>
  <block id="7923027736f9cc9bbc6f6914e020e8a2" category="cell"><block ref="85dec10eb608a93a9febb24b39f5dae5" prefix="" category="inline-code"></block></block>
  <block id="7211a1f37ce0f92a2727e11de77a5256" category="cell">のイメージプルポリシーを設定します<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="f19aec010e48d5133114e8de96e071cd" category="cell">のイメージプルシークレットを設定します<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>、<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>、およびその他の画像。</block>
  <block id="b8ef31ad215c14ea7ac3aa4744f3b42f" category="cell">kubeletの内部状態のホスト位置を上書きできます。</block>
  <block id="5e2907912eaee9094910d428b8f01073" category="cell"><block ref="2d9583aa0b2422324be870c86f92540f" prefix="" category="inline-code"></block></block>
  <block id="a580f5edb0407fe7fc07e03adb88d2be" category="cell">Tridentオペレータのログレベルを次のように設定できます。<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>、<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>、<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>、<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block>、<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block>または<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>。</block>
  <block id="17b455f4f77262089207347508d91156" category="cell"><block ref="94b4515f09a2cc099780cd762366bc78" prefix="" category="inline-code"></block></block>
  <block id="0b401c459e3ff134b1e0ef7924967db5" category="cell"><block ref="844aa3cc935c46477e308955f84504e9" prefix="" category="inline-code"></block></block>
  <block id="0d1fd401e197635acbe814b44cbbe0f0" category="cell">Tridentオペレータのログレベルをdebugに設定できます。</block>
  <block id="e6e859881d25cceaf35be98ff2b495e5" category="cell"><block ref="225eb420f27fc1614025e3e94f1dbcd4" prefix="" category="inline-code"></block></block>
  <block id="3e23960e7162cfc391ab62ee009d09b5" category="cell">のイメージを完全に上書きできます<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="586d412183efcbc76c2b206c73911009" category="cell"><block ref="5a50bd404d515b199254e69f83732c55" prefix="" category="inline-code"></block></block>
  <block id="87a9d5d1548b0e39b7cfe5115c686d2d" category="cell">のタグを上書きできます<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block> イメージ（Image）：</block>
  <block id="ba6229139ac12ca183160040964cdaae" category="cell"><block ref="c185b55e62d1fe703eb97b2a31b6c2a3" prefix="" category="inline-code"></block></block>
  <block id="aacf685d031cae06a5c158144296d071" category="cell"><block ref="b958a6de9ca123713491252f2ab02f59" prefix="" category="inline-code"></block></block>
  <block id="f8d2c273db74b394820e68a59b18bfff" category="cell">ほとんどのKubernetes API処理でデフォルトの30秒タイムアウトを上書きします（0以外の場合は秒単位）。</block>
  <block id="2911e600bbad981e24b3e2a2b3a03f82" category="cell"><block ref="cfcd208495d565ef66e7dff9f98764da" prefix="" category="inline-code"></block></block>
  <block id="fbf0a4141bdac5821d271a6c1de1f483" category="cell"><block ref="70b0324e2a65a29bea1b014606caba39" prefix="" category="inline-code"></block></block>
  <block id="d74c6fe1792f46d6c929a448fd8b99cd" category="cell">HTTP要求のデフォルトの90秒タイムアウトをで上書きします<block ref="bb61fa2850d04f4e5e34449de13febe4" prefix=" " category="inline-code"></block> タイムアウトの期間は無限です。負の値は使用できません。</block>
  <block id="ab7c61393023df91a4271d09e26bda15" category="cell"><block ref="558c8a41e3e5c9a0f109be6e60efce8d" prefix="" category="inline-code"></block></block>
  <block id="b2ffdfaa5c81870c0fb113956a7244aa" category="cell"><block ref="141d9fad9dd7e4fec852d6e55f414373" prefix="" category="inline-code"></block></block>
  <block id="22ca6470a16bcd1b3a0fd7b7dc456b4c" category="cell"><block ref="9626ee86c83efe1de7c3f5e2669b4a04" prefix="" category="inline-code"></block></block>
  <block id="dfdc01cf8fa557986d9b3e8702b6ff1b" category="cell"><block ref="3d689bd3819ead35ed794427bd12f459" prefix="" category="inline-code"></block></block>
  <block id="8639f9efa7d4198eba06690d4a1f0d16" category="cell"><block ref="c370bb44f26914bb0c965f35a89a42f7" prefix="" category="inline-code"></block></block>
  <block id="b081a6c6ed5931a2b55e31e706aae502" category="cell"><block ref="5836094432fed0c547c18869122bbf9a" prefix="" category="inline-code"></block></block>
  <block id="db8e1facb8efde48ce50388e2dc9cfcc" category="cell"><block ref="20cd815523e5806aec29a57282b0d49f" prefix="" category="inline-code"></block></block>
  <block id="4d165b964c1ea4708882da42c3ef5194" category="cell"><block ref="0be533d5261bfa202a27dd6f4a2ff4da" prefix="" category="inline-code"></block></block>
  <block id="c7bc9c0edf4b3f771388feb15b8ad592" category="cell"><block ref="cd4906de65bd0389fcc62105f05b77d6" prefix="" category="inline-code"></block></block>
  <block id="c97f5436c3ba56768a7996ac0a152830" category="cell"><block ref="efc1e9e3a120c20b12e892ce2f230ff8" prefix="" category="inline-code"></block></block>
  <block id="3e52a0855ea502bd31c48eb02424ee67" category="cell"><block ref="aaeab2a659f3d6ac5063b6d8a4e7c24a" prefix="" category="inline-code"></block></block>
  <block id="66468bda18a84578afccd8255efa1845" category="cell"><block ref="d5c1386f335f8df3cd920142f8ee23b7" prefix="" category="inline-code"></block></block>
  <block id="a74941f6c96a1995cbfb438419467c32" category="cell"><block ref="fdd0820bbfc488d6a2ccba8ba0f74e73" prefix="" category="inline-code"></block></block>
  <block id="50c1c44df91bb9f35aaa04b0157d6136" category="cell"><block ref="60c65b849dbb837618645b7860aa608e" prefix="" category="inline-code"></block></block>
  <block id="74b30241e61b88d42e066d77a638a568" category="cell">Kubernetesの活性/準備プローブに使用されるデフォルトポートを上書きできます。</block>
  <block id="b4f36de9fda080c1fd1d9edb1e60e36b" category="cell"><block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix="" category="inline-code"></block></block>
  <block id="0a08ed3de9d17e8644d3e57dc374c3ea" category="cell">強制切り離し機能を有効にできます。</block>
  <block id="632a46acdaa26f30f25b11d5c83eaa58" category="cell"><block ref="94ef2a130a825358ab3002442d6e5145" prefix="" category="inline-code"></block></block>
  <block id="ad77b466842808c8dce5116073a3e52b" category="cell">オペレータポッドのセキュリティポリシーを作成から除外します。</block>
  <block id="31aae55e68bb5034f8f948ec526b9ff3" category="paragraph">既存のバックエンドを更新して、別の認証方法を使用したり、クレデンシャルをローテーションしたりできます。これはどちらの方法でも機能します。ユーザ名とパスワードを使用するバックエンドは証明書を使用するように更新できますが、証明書を使用するバックエンドはユーザ名とパスワードに基づいて更新できます。これを行うには、既存の認証方法を削除して、新しい認証方法を追加する必要があります。次に、更新されたbackend.jsonファイルに必要なパラメータが含まれたものを使用して実行します<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>。</block>
  <block id="bd4b2f0d545a83fd434f5ba1f17dd087" category="paragraph">バックエンド定義の例を次に示します。</block>
  <block id="9463f87bbed1fcdacfb8d40e185ca2bc" category="open-title">YAML</block>
  <block id="0ecd11c1d7a287401d148a23bbd7a2f8" category="open-title">JSON</block>
  <block id="4bf283d1d1c781fbb7e90b237dc80ac4" category="paragraph">を作成します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 既存のバックエンドにバインドする場合は、バックエンド設定を取得する必要があります。この例では、バックエンドが次の JSON 定義を使用して作成されているとします。</block>
  <block id="2043559d67ba802541907de326b5ecdd" category="paragraph">デフォルトが定義されている例を次に示します。</block>
  <block id="2fc042d3545f5ad7df1999c9e5486176" category="paragraph"><block ref="c4ca4238a0b923820dcc509a6f75849b" prefix="" category="inline-code"></block></block>
  <block id="7ff5348ddee6132fe7c166b8b7917cc0" category="paragraph">ボリューム名のオプションのプレフィックス。デフォルト：<block ref="689ee6510c7f9ef9df1c263a08823d96" prefix=" " category="inline-code"></block>。</block>
  <block id="81998bdb6c3f52ba69dbecf0ec513180" category="paragraph"><block ref="46fa46eed970046d03e2dedc95cdc83b" prefix="" category="inline-code"></block></block>
  <block id="5d8040f7ca409e3993359a877f675e59" category="paragraph"><block ref="75da9d6de91e782eca4fa00341367135" prefix="" category="inline-code"></block></block>
  <block id="9548d4d33e26f6bbe564b4eb47a52e4b" category="paragraph">新しいボリュームのオプションのデフォルトサイズ。デフォルト：<block ref="7d0f45b4b1cf6603762c74ca39c833dd" prefix=" " category="inline-code"></block></block>
  <block id="dfda6aac7ee732ec79153da76a0e963a" category="paragraph"><block ref="08aa1584c9a5791fb64b0f7f1453f9eb" prefix="" category="inline-code"></block></block>
  <block id="b6d628512c1127da9adb6c459c9f7c95" category="paragraph"><block ref="190dafab69706a67221c1226360de7dc" prefix="" category="inline-code"></block></block>
  <block id="251296d0166ace97771b155156985b38" category="paragraph"><block ref="98a2cd7efa1ba950d42e42af495c4248" prefix="" category="inline-code"></block></block>
  <block id="9fcbfb18564773bb1604cf400912944c" category="paragraph"><block ref="b26399fddd6473c150b4e7528fb04fdc" prefix="" category="inline-code"></block></block>
  <block id="8131d179a4284fbb0ed410bbbbcf1eb6" category="paragraph"><block ref="6173aa5206484b5224450952747c7148" prefix="" category="inline-code"></block></block>
  <block id="c4dc9cb5606cc8c0597a5c8f1f77b005" category="paragraph"><block ref="5ebe2294ecd0e0f08eab7690d2a6ee69" prefix="" category="inline-code"></block></block>
  <block id="fc3424ba1777889d0d49ea7f5a675c9e" category="paragraph"><block ref="70d2c7701d2837552c0a38c02a326592" prefix="" category="inline-code"></block></block>
  <block id="e84b7103384d0a3393c0847330716669" category="paragraph"><block ref="f819de81247be4a5428dc0e169de28b8" prefix="" category="inline-code"></block></block>
  <block id="7dd39afeb1c0b05aac5f4bf6fbd94990" category="paragraph"><block ref="301c869c551e12d862ab0291837102a0" prefix="" category="inline-code"></block></block>
  <block id="98ce75f2128e52057c9dbf00a9eb2736" category="paragraph"><block ref="f07e606cfe25ac6fb07d9c4af941d9a2" prefix="" category="inline-code"></block></block>
  <block id="1ae6e291c93a6d5962af8004aecd9c4c" category="paragraph"><block ref="94f6d7e04a4d452035300f18b984988c" prefix="" category="inline-code"></block></block>
  <block id="af2bffb136dd0c22342ad9cb06187197" category="paragraph">スペースリザベーションモード<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> （シンプロビジョニング）または<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block> （シック）</block>
  <block id="7f0d015762fc8e2b44f0ad1cd5429af5" category="paragraph">使用するSnapshotポリシー。デフォルトはです<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="11663b17d5bcea48dbfb36b13965663b" category="paragraph"><block ref="d3d9446802a44259755d38e6d163e820" prefix="" category="inline-code"></block></block>
  <block id="871c12a80dbc519da4b71b3ea166cdc4" category="paragraph">作成時に親からクローンをスプリットします。デフォルトはです<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="290cc6c07ae2ba0a638720a38f1356ed" category="paragraph">プロビジョニングされたNFSボリュームのNASオプション。デフォルトはです<block ref="f1c1592588411002af340cbaedd6fc33" prefix=" " category="inline-code"></block></block>
  <block id="8dfb6d491cffb51a17396f993c195d8b" category="paragraph"><block ref="f1c1592588411002af340cbaedd6fc33" prefix="" category="inline-code"></block></block>
  <block id="1667ea9b715250d5f295353e97cde10e" category="paragraph">NFSエクスポートポリシーで使用するNASオプション。デフォルトはです<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block></block>
  <block id="980ef1c1aa7d1456ee087df02119341e" category="paragraph"><block ref="c21f969b5f03d33d43e04f8f136e7682" prefix="" category="inline-code"></block></block>
  <block id="19d28ffef37322622a55f9d7f1f9fa59" category="paragraph">ファイルシステムタイプを選択するためのSANオプション。デフォルトはです<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="c90caaafbe0da0287b6a84f0894fa40b" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block></block>
  <block id="c1fd85851a162222ab0690383666bd47" category="paragraph"><block ref="05b6053c41a2130afd6fc3b158bda4e6" prefix="" category="inline-code"></block></block>
  <block id="bf0a8b77dbb95465376fb2cfec90b422" category="paragraph"><block ref="76bb7251da6a3c88e629c03a402b9d15" prefix="" category="inline-code"></block></block>
  <block id="1dedbfd605df8b562acc8f759a8e9acc" category="list-text">を実行するKubernetesクラスタ <block ref="229e1052bb9ecd8cf2680d6f44691174" category="inline-link-macro-rx"></block></block>
  <block id="17c5eeb01739643b5aef94fe18b6c849" category="paragraph">バージョンセレクタを使用して、最新バージョンと以前の4つのバージョンを切り替えることも、以下のリンクを使用することもできます。</block>
  <block id="2122a8acb599837078e6b76436e892c4" category="list-text">TridentでKubernetes 1.27がサポートされるようになりました。Kubernetesをアップグレードする前にTridentをアップグレード</block>
  <block id="a3460163c4a2854c79a419dda57ac917" category="list-text">RHEL 8+（AMD64およびARM64）</block>
  <block id="f51a58a0cffb9f9953edce6411578b53" category="list-text">Ubuntu 22.04以降（AMD64およびARM64）</block>
  <block id="c5b5b00ff1b3a892c8694ab932cbf9ca" category="paragraph">強制切り離しの詳細については、を参照してください <block ref="63cac71755fb6ef1f1fea34cf4037121" category="inline-link-macro-rx"></block>。</block>
  <block id="38a0b9f59e6fe23e1617dc0e78498afe" category="section-title">フォースデタッチの詳細</block>
  <block id="20c0c9efee2da2645ec0eefaf3c75d8c" category="inline-link-macro">Kubernetes：正常なノードシャットダウンではありません</block>
  <block id="5a46bcb638ad3abfd754aecfb450a781" category="list-text">そのノードにマウントされたボリュームのバックエンドI/Oアクセスを停止します。</block>
  <block id="8f57f52b7233aecf56728bcd48d3a51c" category="list-text">ノード上の古い公開パスを特定してクリーンアップします。</block>
  <block id="beee3e754bb36e7321f32ad13d4ac60a" category="paragraph">すべてのKubernetesワーカーノードに適切なiSCSIツールをインストールしておく必要があります。を参照してください <block ref="9e8cf70fcb465bf1907b585f74e9e1a6" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="37225474f75e9da42c0f924ba87b113a" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="56d1e7863190cbf5e7689e2821d0959e" category="cell"><block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="" category="inline-code"></block></block>
  <block id="3bc2d9079510db6d0570883494bc5984" category="cell"><block ref="f899139df5e1059396431415e770c6dd" prefix="" category="inline-code"></block></block>
  <block id="06daeb0fdb584c4694891d290310e1ed" category="cell"><block ref="3644a684f98ea8fe223c713b77189a77" prefix="" category="inline-code"></block></block>
  <block id="58c09f2c9581bc7c58c32116266b6d8f" category="cell">使用する階層化ポリシー<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="6792aad2d8c086a9d25f5ad8ec090f35" category="paragraph">Elementバックエンドを作成する前に、次の情報が必要になります。</block>
  <block id="690b3c7311638da5eef87f5e07aa1258" category="section-title">ボリュームの管理</block>
  <block id="51e6d748c5af856ade589011dc2c7e85" category="cell"><block ref="37a6259cc0c1dae299a7866489dff0bd" prefix="" category="inline-code"></block></block>
  <block id="ddbd2735bfb88c5da807f77f6fe5f6c8" category="doc">ONTAP NASドライバの概要</block>
  <block id="5cc1e28c0d7b6c40ca94aacb554b31ca" category="doc">ONTAP SANドライバの概要</block>
  <block id="4ba6a75e6aacbc3737630ba55916cd27" category="section-title">バックエンドを管理するためのオプション</block>
  <block id="798f4548a52b3c91b25609a82ff6a12e" category="paragraph">を導入しました<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>管理者は現在、バックエンドを2つの方法で管理できるようになっています。これには、次のような質問があります。</block>
  <block id="0ee19d4be17e297cfb39c398cb268b5e" category="paragraph">この値は変更したり省略したりすることはできません。</block>
  <block id="07d41595da50d0c332f22902db2f76d8" category="paragraph">*でのみ使用できます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ドライバ*。</block>
  <block id="684a16b15a51568bcdd546607176bd57" category="paragraph"><block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix="" category="inline-code"></block></block>
  <block id="ab946346d7b6ebd4a84d96bb78dcd833" category="section-title">LUKSボリュームをインポートするためのバックエンド構成</block>
  <block id="490414e0366b091220802d406e52c076" category="doc">新機能</block>
  <block id="3317f97754f7308b6a0e2a12c0241d39" category="admonition">ONTAP-SAN-*ボリュームの強制的なボリューム接続解除は、非グレースフルノードシャットダウン機能のゲートが有効になっているKubernetesバージョンでのみサポートされます。[Force detach]は、インストール時にを使用して有効にする必要があります<block ref="d75e90115a6343745df96039920422fc" prefix=" " category="inline-code"></block> Tridentインストーラのフラグ。</block>
  <block id="8743cc1328bba53ea356fd3e593a3f9c" category="list-text">Trident Operatorクラスタロールの権限が固定され、バンドルの権限（<block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>）。</block>
  <block id="c16e7ed05955f3a772cc5e37988626a6" category="inline-link-macro">問題 #811</block>
  <block id="c8b742414af3be73bd16e0c1ed978ae5" category="list-text">Tridentコントローラがすぐにシャットダウンできない問題を修正問題 しました（<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>）。</block>
  <block id="e82b00f6dda8d75f6267522d6e8e21b3" category="list-text">ONTAP-SAN-*ドライバでプロビジョニングされた指定したLUNに関連付けられているすべてのigroup名を一覧表示する修正を追加しました。</block>
  <block id="3f32e3199847516d3773942171a3320e" category="inline-link-macro">問題 #537</block>
  <block id="8ac5248178b612abfaaec81ca7b06c94" category="list-text">s390アーキテクチャ（<block ref="a2e3737cce03fa6e94f8357a427b1da2" category="inline-link-macro-rx"></block>）。</block>
  <block id="70d039054d2873e8b0f28587cb19086a" category="inline-link-macro">問題 #781</block>
  <block id="48b91d8b8b87d6d8c95cbc34bbae12e7" category="list-text">ボリュームマウント処理中の誤ったログレベルを修正しました（<block ref="8bb65f034421623db4038f879681c20b" category="inline-link-macro-rx"></block>）。</block>
  <block id="6c85ef6d99d7dc6999989d8228ad56d9" category="inline-link-macro">問題 #802</block>
  <block id="6edadfcf2d991f369cdf934677bb161a" category="list-text">固定電位タイプアサーションエラー（<block ref="e6bc1d779eb6c87e7246c3841e50b482" category="inline-link-macro-rx"></block>）。</block>
  <block id="afcf8fa41398f15ad38c5874372e9b4c" category="list-text">Kubernetes 1.27のサポートを追加。</block>
  <block id="67db0e94c8905c93eda71f86cb532e07" category="list-text">LUKSボリュームのインポートのサポートが追加されました。</block>
  <block id="6de845032edacfacdf7599428fce6ce3" category="list-text">ReadWriteOncePod PVCアクセスモードのサポートが追加されました。</block>
  <block id="9297bb6ec4e523b7875643c53cc9f528" category="list-text">ノードの正常でないシャットダウン時にONTAP-SAN-*ボリュームで強制的に接続解除がサポートされるようになりました。</block>
  <block id="bf75c88234d165d6aa37891adda4465a" category="inline-link-macro">問題 #758</block>
  <block id="8ba74f6fd31160a630f1dc4eeb7d2e20" category="list-text">すべてのontap-san-*ボリュームでノード単位のigroupを使用するようになりました。LUNはigroupにマッピングされるだけで、それらのノードにアクティブにパブリッシュされるため、セキュリティ体制が強化されます。アクティブなワークロードに影響を与えることなく既存のボリュームを安全であるとTridentが判断した場合、必要に応じて新しいigroupスキームに切り替えます（<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>）。</block>
  <block id="79e79d7d8fe825308bd0e601daaa1131" category="list-text">Tridentで管理されていないigroupをONTAP-SAN-*バックエンドからクリーンアップし、Tridentのセキュリティを強化</block>
  <block id="18596399dedf47a387f514e9c9862876" category="list-text">ストレージドライバontap-nas-economyとontap-nas-flexgroupに、Amazon FSxによるSMBボリュームのサポートが追加されました。</block>
  <block id="42bbebea36c49138518f54240583f571" category="list-text">ontap-nas、ontap-nas-economy、ontap-nas-flexgroupストレージドライバでSMB共有のサポートが追加されました。</block>
  <block id="4332590e7a6bcbdc2a06dc0e18c0731b" category="inline-link-macro">問題 #732</block>
  <block id="5a8fc8277a0f6ed003c225aa1e7c48b6" category="list-text">arm64ノードのサポートを追加しました<block ref="c2778c70230759cdeecc0357ca334a05" category="inline-link-macro-rx"></block>）。</block>
  <block id="69ef45b431e1a60332ee3ce7e1a67645" category="list-text">最初にAPIサーバを非アクティブ化することで、Tridentが手順 をシャットダウンできるようになりました<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>）。</block>
  <block id="be70537c794b0fc1d909e1bf6ffbbc59" category="list-text">Windowsおよびarm64ホストのクロスプラットフォームビルドサポートをMakefileに追加しました。build.mdを参照してください。</block>
  <block id="6f03549bdf867b6dbabec83da444ffcf" category="paragraph">** Kubernetes：** ONTAP-SANおよびONTAP-SAN-economyドライバ（<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>）。</block>
  <block id="7558c614baceb6010756b848dd26325e" category="section-title">23.01.1の変更点</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">新機能</block>
  <block id="ffd4000c9e43a23d97e231d47f99dcd4" category="list-text">複数のドライバを実行し、どちらか一方を参照するストレージクラスを作成できます。たとえば、を使用するGoldクラスを設定できます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ドライバとを使用するBronzeクラス<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 1つ。</block>
  <block id="a571dbb3887a364b4b4dcb82a5fa6ec9" category="list-text">スナップショットコントローラを作成します。</block>
  <block id="ae3ba2e438847d5fb2abc16b3c73ccab" category="admonition">必要に応じて、を開きます<block ref="31a2c725707ce238c3eb4dd82c7e3af9" prefix=" " category="inline-code"></block> およびを更新します<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block> に移動します。</block>
  <block id="c48edc45b9266a1f0d1869ac35615605" category="section-title">Snapshotを使用してボリュームデータをリカバリします</block>
  <block id="4714f3cf4c41291cc2dae88a7150cbe5" category="paragraph">snapshotディレクトリは、を使用してプロビジョニングされるボリュームの互換性を最大限に高めるため、デフォルトでは非表示になっています<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> および<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ドライバ。を有効にします<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> スナップショットからデータを直接リカバリするディレクトリ。</block>
  <block id="8f580d002ee0bbc67930846839d50dbe" category="paragraph">ボリュームを以前のSnapshotに記録されている状態にリストアするには、ボリュームSnapshotリストアONTAP CLIを使用します。</block>
  <block id="f84dc17e0595ca9097097e70b9b927e1" category="admonition">Snapshotコピーをリストアすると、既存のボリューム設定が上書きされます。Snapshotコピーの作成後にボリュームデータに加えた変更は失われます。</block>
  <block id="03c39d763ca15978d9ef16c2ba5fe98a" category="doc">データ保護とディザスタリカバリ</block>
  <block id="082510018437a15b6d42065dfe5a5384" category="inline-link-macro">Kubernetes：etcdクラスタのバックアップ</block>
  <block id="ec3558916e2679d1a4b592e0ade35471" category="list-text">を使用してKubernetesクラスタetcdをバックアップします  <block ref="901b02918d705c0966dae4033c132965" category="inline-link-macro-rx"></block>。</block>
  <block id="b30057689f3e745e5feeb142585ff30b" category="list-text">デスティネーションSVMから、Kubernetes etcdデータファイルと証明書が格納されているボリュームを、マスターノードとしてセットアップするホストにマウントします。</block>
  <block id="5fefcae3a4602913a273a904829295ce" category="list-text">Kubernetesクラスタに関連する必要な証明書をすべてのにコピーします<block ref="890b0e4d98741eac800c616b757217cb" prefix=" " category="inline-code"></block> およびの下のetcdメンバーファイル<block ref="3fa01691da932f6c45bf424027ffabb8" prefix=" " category="inline-code"></block>。</block>
  <block id="51fa31507539ecf10c55d8cc513269d0" category="inline-link-macro">Kubernetes：etcdクラスタをリストアします</block>
  <block id="3167e8459c0d46545dc7978a60ef4978" category="list-text">を使用して、etcdバックアップからKubernetesクラスタをリストアします <block ref="c87a91d2cf6358248ae560cfa802edf4" category="inline-link-macro-rx"></block>。</block>
  <block id="54d0429fea223af0d32d9f061ed733c9" category="list-text">を実行します<block ref="1ec8e1992e296a9bdb691f1931d391fe" prefix=" " category="inline-code"></block> Tridentのカスタムリソースがすべて稼働していることを確認し、Tridentオブジェクトを読み出してすべてのデータが利用可能であることを確認します。</block>
  <block id="c87c1a25aa5e2ef1af216bc50d1fd391" category="section-title">SVMのレプリケーションとリカバリ</block>
  <block id="0d3b37ff5855bf299f3c4a154373c1e2" category="inline-link">ONTAP SnapMirrorの略</block>
  <block id="9299ebdcbaefed4a9ea27b355bb0f75e" category="paragraph">災害が発生した場合は、 SnapMirror デスティネーション SVM をアクティブ化してデータの提供を開始できます。システムがリストアされたら、プライマリに戻すことができます。</block>
  <block id="1de93d4bf941bc79aec631023559b9e7" category="paragraph">SnapMirror SVMレプリケーション機能を使用する場合は、次の点を考慮してください。</block>
  <block id="1868906f3a3fbcf756260737545805d6" category="list-text">SVM-DRを有効にしたSVMごとに、個別のバックエンドを作成する必要があります。</block>
  <block id="f9f808f1692cabf1bf803e07da9adbe7" category="list-text">SVM-DRをサポートするバックエンドにレプリケーション不要のボリュームをプロビジョニングしないように、必要な場合にのみレプリケートされたバックエンドを選択するようにストレージクラスを設定します。</block>
  <block id="6fa2f5991a9e2ee7d4668899f94e78e4" category="list-text">アプリケーション管理者は、レプリケーションに伴う追加コストと複雑さを理解し、このプロセスを開始する前にリカバリプランを慎重に検討する必要があります。</block>
  <block id="2b5ffe73affd6d09b3b5e160e117e5c9" category="section-title">SVMレプリケーション</block>
  <block id="9f4b9999b69320b559438c600d724ff9" category="inline-link-macro">ONTAP：SnapMirrorレプリケーション</block>
  <block id="d628a099db3505c9d0435e12076d8a61" category="paragraph">を使用できます <block ref="89150b9d328c8330200fceb39b37760e" category="inline-link-macro-rx"></block> をクリックしてSVMレプリケーション関係を作成します。</block>
  <block id="524218dc9ff1ef52c9a0404971525b21" category="inline-link-macro">-identity-preserve trueを指定します</block>
  <block id="8dc4e22513bbb97acc41295bfe46d5fe" category="list-text"><block ref="c758ffe020dc40d00c9a9c46ecbdd824" category="inline-link-macro-rx"></block> SVMの設定全体をレプリケートします。</block>
  <block id="d18f05a5c35a5a7d999263600f0356bf" category="inline-link-macro">-discard-configs network</block>
  <block id="97c20c3eb8c7569982dc9f84e7f31ba3" category="list-text"><block ref="afa9da8af32f091c8328b13559d456b1" category="inline-link-macro-rx"></block> LIFと関連ネットワークの設定を除外します。</block>
  <block id="224ea277d21a44b59b0fa43747b4f6a6" category="inline-link-macro">-identity-preserve false</block>
  <block id="471621652d0597dca59f266effb8f90f" category="list-text"><block ref="1faf7e0b3f51b53ae01a4f860a9ed344" category="inline-link-macro-rx"></block> ボリュームとセキュリティ設定のみをレプリケートします。</block>
  <block id="da29de46c3a7d3e66fc701b2781fcbce" category="list-text">スケジュールされた実行中のSnapMirror転送をキャンセルし、レプリケーション関係を解除し、ソースSVMを停止してからSnapMirrorデスティネーションSVMをアクティブ化します。</block>
  <block id="98bdea55e26fba2494cc5f163b6f8076" category="list-text">を指定した場合<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> または<block ref="e932330dd004e680ebd1a75db84b73ce" prefix=" " category="inline-code"></block> SVMレプリケーションを設定する場合は、を更新します<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> および<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> をTridentバックエンド定義ファイルに追加します。</block>
  <block id="6141984e8f91176bd3a76175b02c1a09" category="list-text">確認します<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> は、Tridentバックエンド定義ファイルに含まれています。このパラメータは変更できません。省略しています<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> バックエンドの更新が失敗するように原因します。</block>
  <block id="51589b18e320f20306c944a08241dac1" category="list-text">次のコマンドを使用して、必要なすべてのバックエンドを更新して新しいデスティネーションSVM名を反映します。</block>
  <block id="d980e1fdfa951088567e6d057ba7dc9c" category="list-text">を指定した場合<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> または<block ref="89680afd09991bc3d4db985c40c861c1" prefix=" " category="inline-code"></block>、すべてのアプリケーションポッドをバウンスする必要があります。</block>
  <block id="cceb49886fed38f241928d51abab95a2" category="section-title">ボリュームのレプリケーションとリカバリ</block>
  <block id="815f28e53ebfb423dfe835a845095bf6" category="inline-link-macro">ONTAP SnapMirrorのレプリケーションとリカバリ</block>
  <block id="c3c343b5a84229bd5095fd09f2afc5f5" category="inline-link-macro">tridentctlボリュームインポート</block>
  <block id="d8d9dfeae772da34290b750d0f848a26" category="admonition">ではインポートはサポートされていません<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、 <block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>または<block ref="70d5dbddc55e3700ddbc8d21f0de22a3" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="b489b293d6cbe8b86835d3cac8c315fb" category="section-title">Snapshotデータの保護</block>
  <block id="f332d72a4b78e34e31131f3a98c98053" category="paragraph">次のコマンドを使用してデータを保護およびリストアできます。</block>
  <block id="97fb495fd3b6672c40bb0092ca102eca" category="list-text">永続ボリューム（PV）のKubernetesボリュームSnapshotを作成するための外部のSnapshotコントローラとCRD。</block>
  <block id="83cd672b9742ba621e93a8b69c4ab2d4" category="list-text">ONTAP Snapshot：ボリュームの内容全体のリストア、または個 々 のファイルまたはLUNのリカバリに使用します。</block>
  <block id="ad336d1fccea3e918d07055edac855a3" category="inline-link-macro">ONTAPスナップショット</block>
  <block id="0cb949d1baa06577db93328185a8f24d" category="paragraph"><block ref="0cb949d1baa06577db93328185a8f24d" category="inline-link-macro-rx"></block></block>
  <block id="2e77d5277311f3a9232a73cdbbcd754b" category="section-title">概要と考慮事項</block>
  <block id="88541191ec5fe50ba0d21b4300401b85" category="list-text">アプリケーションをコンテナ化し、既存のデータセットを再利用する</block>
  <block id="77d782125cafbbf0fe1c5c95755d143f" category="list-text">一時的なアプリケーションにはデータセットのクローンを使用</block>
  <block id="d265b515faaf05e2c32727d8b9742a78" category="list-text">障害が発生したKubernetesクラスタを再構築します</block>
  <block id="6766ef9d5b11abf03ee72b55c5745f4b" category="list-text">ディザスタリカバリ時にアプリケーションデータを移行</block>
  <block id="4c321a56c9c030449cd3315863de525b" category="paragraph">ボリュームをインポートする前に、次の考慮事項を確認してください。</block>
  <block id="e47be4dcc849b534107f57afd92f801f" category="list-text">アクティブな接続がないボリュームをインポートすることを推奨します。アクティブに使用されているボリュームをインポートするには、ボリュームのクローンを作成してからインポートを実行します。</block>
  <block id="e4618ea9b1ae23e5ed30f6f19e6a77e8" category="admonition">Kubernetesは以前の接続を認識せず、アクティブなボリュームをポッドに簡単に接続できるため、これはブロックボリュームで特に重要です。その結果、データが破損する可能性があります。</block>
  <block id="a31db9efd829f01dd21fdc97db2d29e4" category="list-text">既存のボリュームサイズはPVCで決定され、設定されます。ストレージドライバによってボリュームがインポートされると、 PV は ClaimRef を使用して PVC に作成されます。</block>
  <block id="604eea1f3df98285b6887ff059258827" category="list-text">再利用ポリシーは、最初にににに設定されています<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block> PVにあります。Kubernetes が PVC と PV を正常にバインドすると、再利用ポリシーがストレージクラスの再利用ポリシーに合わせて更新されます。</block>
  <block id="5d24684cf5054f53b1e945be75b37f69" category="list-text">ストレージクラスの再利用ポリシーがの場合<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>にすると、PVが削除されるとストレージボリュームが削除されます。</block>
  <block id="be303acf01bc566d5d211f228131bee4" category="admonition">このオプションは、コンテナ化されたワークロードに Kubernetes を使用するが、 Kubernetes 以外でストレージボリュームのライフサイクルを管理する場合に便利です。</block>
  <block id="db31dcd83fd57b294fb0340ea975015f" category="section-title">ボリュームをインポートします</block>
  <block id="61a1adebea5e6a017b4bd4b405ae4f52" category="paragraph">を使用できます<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block> をクリックしてボリュームをインポートします。</block>
  <block id="8feb5f647cb423db7fa8a957ae4ef075" category="list-text">Persistent Volume Claim（PVC；永続的ボリューム要求）ファイルを作成します（例：<block ref="88bf8ee4d993e535425148da6a64c1c2" prefix=" " category="inline-code"></block>）をクリックします。PVCファイルには、が含まれている必要があります<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>、<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block>、<block ref="1963d17f24888bdf1f22d7ea7f72f607" prefix=" " category="inline-code"></block>および<block ref="ee822781a3bd0ae0f8f6331dc4865d9c" prefix=" " category="inline-code"></block>。必要に応じて、を指定できます<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block> 定義されています。</block>
  <block id="7f745c89a2e8fd59353bab523e12eb77" category="paragraph">最小仕様の例を次に示します。</block>
  <block id="a9e31569460a0b133fdd97c5f482c04e" category="admonition">PV名やボリュームサイズなどの追加のパラメータは指定しないでください。これにより原因、インポートコマンドが失敗する可能性があります。</block>
  <block id="37c0e0081d2fa3ebdf688df7e37ecd7a" category="paragraph">サポートされているドライバについて、次のボリュームインポートの例を確認してください。</block>
  <block id="b8cd11aae04b2508e6cf401f43cdb4f9" category="section-title">ONTAP NASおよびONTAP NAS FlexGroup</block>
  <block id="6551d29114ca8e4ced094b1f68242124" category="list-text">。<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ドライバでqtreeをインポートおよび管理できない。</block>
  <block id="15f21f5d1f84f4b986a4db037c57333d" category="list-text">。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> および<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ドライバでボリューム名の重複が許可されていません。</block>
  <block id="3fa3bc64b029b88f42b842bb7dc4e52d" category="paragraph-title">ONTAP NASの例</block>
  <block id="77fe25c67ee05760d58e91a98e3ff055" category="paragraph">次の例は、管理対象ボリュームと管理対象外ボリュームのインポートを示しています。</block>
  <block id="865c1a701e3847de9fbff4a375ac7177" category="open-title">管理対象ボリューム</block>
  <block id="9baac1fff2f93c6aa6f2205921fe6b32" category="paragraph">次の例は、という名前のボリュームをインポートします<block ref="b61fdc0d7fc5d08e674f3891a91d3116" prefix=" " category="inline-code"></block> という名前のバックエンドで<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block>：</block>
  <block id="ed12f17a6dc2e65dfdf289eb64d258ae" category="open-title">管理対象外のボリューム</block>
  <block id="30690ec57cb4844d007f7d2e2c9393a2" category="paragraph">次に、をインポートする例を示します<block ref="60d9e6d88af815fe67aed90572f53184" prefix=" " category="inline-code"></block> をクリックします<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block> バックエンド：</block>
  <block id="548fedaf4074fe2826e3c53dfd92a19e" category="section-title">ONTAP SAN</block>
  <block id="854d516b7e1eddbead5cbea0b17dac88" category="paragraph-title">ONTAP SANの例</block>
  <block id="d172829ee06c1c52828b60f0544b2f06" category="paragraph">次に、をインポートする例を示します<block ref="a5c0fa75ec8cf92d22eadab558660dda" prefix=" " category="inline-code"></block> をクリックします<block ref="2dec4fe0d108047546d031f48f4073f7" prefix=" " category="inline-code"></block> バックエンド：</block>
  <block id="58f7692a8b6ce5b3fa31b6daec3259fe" category="paragraph">次の例に示すように、KubernetesノードのIQNとIQNを共有するigroupにLUNをマッピングすると、エラーが表示されます。<block ref="4524d417d10c9cf90c4a674da76c4964" prefix=" " category="inline-code"></block>。ボリュームをインポートするには、イニシエータを削除するか、LUNのマッピングを解除する必要があります。</block>
  <block id="5ccef908ed30c9dac1afd0a7f3dc5e7f" category="inline-image-macro">iqnおよびクラスタiqnにマッピングされたLUNのイメージ。</block>
  <block id="81238a539b4fc11fb20c6d27db1e5d33" category="paragraph"><block ref="81238a539b4fc11fb20c6d27db1e5d33" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d12ef9e4a047861afd11513bde147f35" category="paragraph-title">要素の例</block>
  <block id="e91134286ebcca5f894ca859ce6e6527" category="paragraph">次に、をインポートする例を示します<block ref="ce9d6be888db333d9f15ad3ca22aab5c" prefix=" " category="inline-code"></block> バックエンドのボリューム<block ref="54034d50b7e92e0dd9d45b9be754d7bd" prefix=" " category="inline-code"></block>。</block>
  <block id="5c9ef0d871938dccceb29ee63fad8ddb" category="section-title">Google Cloud Platform の 1 つです</block>
  <block id="b83141d187ef372685e66e6dfe4cabd9" category="admonition">NetApp Cloud Volumes Serviceから作成されたボリュームをGoogle Cloud Platformにインポートするには、ボリュームパスでボリュームを特定します。ボリュームパスは、ボリュームのエクスポートパスののに続く部分です<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>。たとえば、エクスポートパスがの場合などです<block ref="3bbe8dafc880d124219c1e4f73d41cf9" prefix=" " category="inline-code"></block>、ボリュームのパスはです<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>。</block>
  <block id="9dfa04a9ad04eba811811f2fbd0f5f0e" category="paragraph-title">Google Cloud Platformの例</block>
  <block id="dd8d0b5581c0eb32a23d802032124024" category="paragraph">次に、をインポートする例を示します<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> バックエンドのボリューム<block ref="b242744397b7d8bc9391b3e836628c5e" prefix=" " category="inline-code"></block> を指定します<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>。</block>
  <block id="7501988e9549daa8c2fcd13e55b9fc78" category="admonition">Azure NetApp Filesボリュームをインポートするには、ボリュームパスでボリュームを特定します。ボリュームパスは、ボリュームのエクスポートパスののに続く部分です<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>。たとえば、マウントパスがの場合などです<block ref="a88065dde27cea3a008a18172c5a9c9e" prefix=" " category="inline-code"></block>、ボリュームのパスはです<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>。</block>
  <block id="1cfd9b4e20d41cdca62f758d3b0cb58b" category="paragraph-title">Azure NetApp Filesの例</block>
  <block id="bd46b0a8c2c4c89a60ee85052ad2dd0e" category="paragraph">次に、をインポートする例を示します<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> バックエンドのボリューム<block ref="d8dd89ab9d39f5487714722f9becb468" prefix=" " category="inline-code"></block> を指定します<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>。</block>
  <block id="0b8ca2be5f4fe564fb8e843cbc53703d" category="admonition">GKE環境でオンデマンドボリュームスナップショットを作成する場合は、スナップショットコントローラを作成しないでください。GKEでは、内蔵の非表示のスナップショットコントローラを使用します。</block>
  <block id="ad90b7d29d0d8a9c746868fe1f38ca90" category="paragraph">RWO、ROX、RWX、RWOP</block>
  <block id="33966eba1ed0cde6afda5a97ffaffb09" category="inline-link">セキュリティコンテキスト</block>
  <block id="326aae224b3bbcf4b9eb8fc0a262fc24" category="list-text">これは、強制の ** 要件 ** です<block ref="cafe4c6014d8c45aaac70e49318f1a2a" category="inline-link-rx"></block> SAN ボリュームの場合。</block>
  <block id="87459c33b1692755deb4b22c7eaa864c" category="section-title">ステップ1：バージョンを選択します</block>
  <block id="6d2d3a9fb621ba23b0f8ec56dc8b0a24" category="section-title">ステップ2:元のインストール方法を決定します</block>
  <block id="dccfb2ce978b2c73d6a7308a124d0043" category="section-title">ステップ3：アップグレード方法を選択します</block>
  <block id="d6b7a42c6c41b071d2c80b3e4c2a7edf" category="inline-link-macro">アップグレード方法を選択します</block>
  <block id="ab639a35db468f671d4a76735e801015" category="paragraph">レビュー <block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block> を使用してアップグレードする前に<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="1d2d1200e759d67b259f843be2270f71" category="admonition">アップグレードプロセスを中断しないでください。インストーラが完了するまで実行されることを確認します。</block>
  <block id="053bfc722ec4b4805e32c307458f8ea5" category="paragraph">を実行しているKubernetesクラスタを使用していることを確認します <block ref="d502dc64864e79085bee32826e6fe213" category="inline-link-macro-rx"></block>。</block>
  <block id="71530aef1814290453dc7add3bdae349" category="list-text">クラスタを対象としたオペレータを同じネームスペースに導入します。</block>
  <block id="8d23be098d49e797284393a4c1479c53" category="list-text">Tridentが目的のバージョンにアップグレードされたことを確認</block>
  <block id="e4941fda44f66f353885d1a37ca63e2b" category="list-text">クラスタでKubernetes 1.25以降を実行している場合は、を使用します<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>。</block>
  <block id="dacbfb309aa16cb942510c02c224fdbc" category="example-title">証明書ベースの認証の例</block>
  <block id="60eac39d4383fedcc1df436a2d0e856d" category="paragraph">この基本的な設定例では、<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block>、<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block>および<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block> （信頼されたCAを使用している場合はオプション）がに入力されます<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> およびは、クライアント証明書、秘密鍵、信頼されたCA証明書のbase64エンコード値をそれぞれ取得します。</block>
  <block id="71b79981e733eabd769324fa40c8fa6d" category="paragraph">以下に示すサンプルのバックエンド定義ファイルでは、次のような特定のデフォルトがすべてのストレージプールに設定されています。<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> 「なし」の場合は、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> との誤り<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> 実行されます。仮想プールは、ストレージセクションで定義します。</block>
  <block id="71fcdf20b31ca43f6ef64c06530f313d" category="paragraph">これらの例では、一部のストレージプールが独自の<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block>、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block>および<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> 値、および一部のプールはデフォルト値よりも優先されます。</block>
  <block id="574e53d92fdeaac37ba2d879a9b88f12" category="example-title">ONTAP NASの例</block>
  <block id="bdb252122df8a6e68a54782628d1944f" category="example-title">ONTAP NAS FlexGroupの例</block>
  <block id="9561077d9ef091b88a253b8593eb8bfb" category="example-title">ONTAP NASエコノミーの例</block>
  <block id="eb2e955f1a984e2be0e3fa8cdbe6667c" category="paragraph">次のStorageClass定義は、を参照してください。 <block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>。を使用する<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> フィールドでは、各StorageClassがボリュームのホストに使用できる仮想プールを呼び出します。ボリュームには、選択した仮想プール内で定義された要素があります。</block>
  <block id="01eacb47d802acac83a7e60311768055" category="list-text">。<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> StorageClassは、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> バックエンド：ゴールドレベルの保護を提供する唯一のプールです。</block>
  <block id="6b35cdd98b7f7e55e698a6d0628e18e0" category="list-text">。<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block> StorageClassは、内の3番目と4番目の仮想プールにマッピングされます。<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> バックエンド：金色以外の保護レベルを提供する唯一のプールです。</block>
  <block id="535efa214445261dfda5d5edc613e56b" category="list-text">。<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block> StorageClassは内の4番目の仮想プールにマッピングされます。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> バックエンド：これは、mysqldbタイプアプリ用のストレージプール構成を提供する唯一のプールです。</block>
  <block id="d0c5a28c77fc4e37f7271d37f7372724" category="list-text">[t]<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block> StorageClassは、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> バックエンド：シルバーレベルの保護と20000クレジットポイントを提供する唯一のプールです。</block>
  <block id="0191eea3640b05213a7522d6581a2fd5" category="list-text">。<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block> StorageClassは、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> バックエンドと内の2番目の仮想プール<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> バックエンド：これらは、5000クレジットポイントを持つ唯一のプールオファリングです。</block>
  <block id="cd5dd52b9f0bba70b1336e13afe05818" category="paragraph">これは、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="31089bb4131b18ca65c3d384cdd49644" category="example-title">双方向CHAPの例</block>
  <block id="17baa03e9287aee400bc2e606d247156" category="paragraph">次の例では、<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> をに設定します<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="7a4c6868ec70d1fbee3cb3a7483e21d0" category="listing-title">ONTAP SAN CHAPの例</block>
  <block id="a0c1c7f21916f2a4fb0f0d56732adc90" category="listing-title">ONTAP SANエコノミーCHAPの例</block>
  <block id="6b743d9085f7f94d7a334c4386fbe239" category="paragraph">これらのサンプルバックエンド定義ファイルでは、次のような特定のデフォルトがすべてのストレージプールに設定されています。<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> 「なし」の場合は、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> との誤り<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> 実行されます。仮想プールは、ストレージセクションで定義します。</block>
  <block id="4930386ddaad825d64732ee9ec5e65b8" category="example-title">ONTAP SANの例</block>
  <block id="8a10ba8eb41944c10648f18ba7e16239" category="example-title">ONTAP SANの経済性の例</block>
  <block id="50543d5d423c4c1a0b4fdd41383189e5" category="paragraph">次のStorageClass定義は、 <block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>。を使用する<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> フィールドでは、各StorageClassがボリュームのホストに使用できる仮想プールを呼び出します。ボリュームには、選択した仮想プール内で定義された要素があります。</block>
  <block id="514e71168790374132badc1258ee5136" category="list-text">。<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> StorageClassは、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> バックエンド：ゴールドレベルの保護を提供する唯一のプールです。</block>
  <block id="a9c41ef671a6da4ed0f439f86683b714" category="list-text">。<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block> StorageClassは、内の2番目と3番目の仮想プールにマッピングされます。<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> バックエンド：これらは、ゴールド以外の保護レベルを提供する唯一のプールです。</block>
  <block id="910ed65246d7ee240ec166f94b1fd5c9" category="list-text">。<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block> StorageClassは内の3番目の仮想プールにマッピングされます<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> バックエンド：これは、mysqldbタイプアプリケーション用のストレージプール構成を提供する唯一のプールです。</block>
  <block id="fa03c7de8b1b7b7061bb536c211f3aaf" category="list-text">。<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block> StorageClassは内の2番目の仮想プールにマッピングされます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> バックエンド：シルバーレベルの保護と20000クレジットポイントを提供する唯一のプールです。</block>
  <block id="ac996ac8e4442d8a2791ba8b1e301a02" category="list-text">。<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block> StorageClassは内の3番目の仮想プールにマッピングされます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> バックエンドと内の4番目の仮想プール<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> バックエンド：これらは、5000クレジットポイントを持つ唯一のプールオファリングです。</block>
  <block id="b003731e1d339366ed065ffe5a0f50ca" category="paragraph">以下に示すバックエンド定義ファイルの例では、すべてのストレージプールに対して特定のデフォルトが設定されています。これにより、が設定されます<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block> シルバー。仮想プールは、で定義されます<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> セクション。この例では、一部のストレージプールが独自のタイプを設定し、一部のプールが上記のデフォルト値を上書きします。</block>
  <block id="622bbef04f6f2121d92777cd7c59cc83" category="list-text">デフォルトでは、Tridentのインストーラによって<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> ネームスペース：状況に応じて<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> ネームスペースが存在しません。次を使用して作成してください：</block>
  <block id="5bb66df6f3cd1e022e0cb84d5ef9e8e6" category="list-text">オペレータを以外のネームスペースに配置する場合<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 名前空間、更新<block ref="8610cac3beb01fb0b43bc94c587a807d" prefix=" " category="inline-code"></block>、<block ref="a3df76a4fb69b2a5e9ec42d242e90ea3" prefix=" " category="inline-code"></block> および<block ref="9fa80de5781893b057ff1d535201893b" prefix=" " category="inline-code"></block> を使用してバンドルファイルを生成します<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block>。</block>
  <block id="806742cccf8380250ffb871d582a0a03" category="list-text">operator、deployment、およびReplicaSetsが作成されたことを確認します。</block>
  <block id="9b800ce65251b771d0eb86610e11f6b0" category="list-text">クラスタのワーカーノードから到達可能な既存のAmazon FSx for NetApp ONTAPファイルシステムおよびStorage Virtual Machine（SVM）。</block>
  <block id="f55c34459cf261d1102750bcbde548d8" category="paragraph">SMBボリュームをプロビジョニングする前に<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ドライバー、あなたは以下を持っている必要があります。</block>
  <block id="78e5b29e139db71ceb7ca6bc99b5e228" category="paragraph">これは、バックエンドの最小限の設定例です。<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block>、<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block>および<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block> （信頼されたCAを使用している場合はオプション）がに入力されます<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> およびは、クライアント証明書、秘密鍵、信頼されたCA証明書のbase64エンコード値をそれぞれ取得します。</block>
  <block id="33ef55e82416e2c1c4beb9cba9560b02" category="paragraph">。<block ref="5910159ef86741f119f7574a9064b5b0" prefix=" " category="inline-code"></block> SMBボリュームを使用するFSx for ONTAPの場合、パラメータは必須です。</block>
  <block id="ef0e40b987d8b9ad523bdde2bba5157a" category="summary">ONTAP NASドライバでONTAPバックエンドを設定するための要件、認証オプション、およびエクスポートポリシーを理解します。</block>
  <block id="c63609aba869239be30364b58d99b1a3" category="section-title">ONTAPバックエンドの認証</block>
  <block id="e5fdb627c170dc14e3873b3da32f3aa5" category="paragraph">多少の準備が必要な場合は、次のツールを使用してSMBボリュームをプロビジョニングできます。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="8de0a7910b914d44521684fe2a3a28c6" category="paragraph">SMBボリュームをプロビジョニングする前に、以下を準備しておく必要があります。</block>
  <block id="6a402202521e2168a911181e81c72faf" category="admonition">Amazon FSx for ONTAPにはSMB共有が必要です。</block>
  <block id="7f7041fc0ca0e00f3d3e39e4ce4a5149" category="paragraph">SMB管理共有は、のいずれかの方法で作成できます <block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block> 共有フォルダスナップインまたはONTAP CLIを使用します。ONTAP CLIを使用してSMB共有を作成するには、次の手順を実行します</block>
  <block id="7d159230ccaa721872f31bf9be31afeb" category="paragraph">ONTAP内でTridentドライバが使用できる、より制限の厳しいロールを作成することは可能ですが、推奨しません。Trident の新リリースでは、多くの場合、考慮すべき API が追加で必要になるため、アップグレードが難しく、エラーも起こりやすくなります。</block>
  <block id="37a679c38162162811d93d22ba8f5b4a" category="paragraph">ONTAP SANドライバでONTAPバックエンドを構成するための要件と認証オプションを理解します。</block>
  <block id="3262251091b863054cfabf046c0e3493" category="paragraph">NFS
SMB</block>
  <block id="e8a058c8c47f6e4976a9fc5b5c00ec92" category="summary">設定したKubernetes StorageClassを使用してPVへのアクセスを要求するPersistentVolume（PV）とPersistentVolumeClaim（PVC）を作成します。その後、PVをポッドにマウントできます。</block>
  <block id="a3b7bd8edd528214a68ac3ceb5c9935c" category="doc">ボリュームをプロビジョニングする</block>
  <block id="2d63b64b84c821bc810927f7ca7fa993" category="inline-link">PersistentVolumeClaim_</block>
  <block id="d948cda211eadd3a86a406b43ee0d5fa" category="paragraph">PVCは、特定のサイズまたはアクセスモードのストレージを要求するように設定できます。クラスタ管理者は、関連付けられているStorageClassを使用して、PersistentVolumeのサイズとアクセスモード（パフォーマンスやサービスレベルなど）以上を制御できます。</block>
  <block id="35e98ba80f6254a33de7a37ab113316e" category="section-title">マニフェストの例</block>
  <block id="cdeec5159e0548de993d76d7d1dcc992" category="paragraph">次の例は、という名前のStorageClassに関連付けられた、RWOアクセスが設定された基本的なPVCを示しています。<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block>。</block>
  <block id="e1f83bd8f580cc9a48311142d551b3cf" category="list-text">PVC を作成します。</block>
  <block id="150f6f248f009f461b84862124e2b499" category="list-text">PVCステータスを確認します。</block>
  <block id="6a308a8072d1cf8c73629852d7f0b1af" category="list-text">ボリュームをポッドにマウントします。</block>
  <block id="b5450caedb9c7aa352b9fb0427aee784" category="admonition">進捗状況は次を使用して監視できます。<block ref="6abdceb61753f298491e021c4da24ddd" prefix=" " category="inline-code"></block>。</block>
  <block id="8118780a1733b73d43c1042889af94bd" category="list-text">ボリュームがマウントされていることを確認します。<block ref="9f5298598b1aa26f257834220853cb05" prefix=" " category="inline-code"></block>。</block>
  <block id="6604c85c599768bb970b37e590ef79fe" category="list-text">ポッドを削除できるようになりました。Podアプリケーションは存在しなくなりますが、ボリュームは残ります。</block>
  <block id="95d4f411b57eb8201e27fa4636c30816" category="section-title">Kubernetes StorageClassオブジェクトの設定</block>
  <block id="b8d89cc8455fbb137550c0819b7813c8" category="inline-link">Kubernetes StorageClassオブジェクト</block>
  <block id="d955a256e02907c43d2afd5bfdb671ea" category="paragraph">StorageClassオブジェクトを作成したら、ストレージクラスを作成できます。 <block ref="1310ad9d78b8b659f76828400b5d8126" category="inline-xref-macro-rx"></block> に、使用または変更できる基本的なサンプルを示します。</block>
  <block id="a221a060125881c2027807248f8302a2" category="list-text">これはKubernetesオブジェクトなので、<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> をクリックしてKubernetesで作成します。</block>
  <block id="f31a577daf927c7edc5555c9ceabc983" category="section-title">ストレージクラスノサンプル</block>
  <block id="64c314ed1bd24115a72a8a4284115a5c" category="inline-link">特定のバックエンド向けのシンプルなストレージクラス定義</block>
  <block id="d9ab9b10b2101546e16eeab0b981d10c" category="paragraph">または、<block ref="9a35c6080acd99f860d0c669b1a980f9" prefix=" " category="inline-code"></block> インストーラに付属しており、<block ref="9c9a0798e59f3f4d7b08e45faef1e131" prefix=" " category="inline-code"></block> ストレージドライバの名前を指定します。</block>
  <block id="ff87ac5778183437377f5f963a3dccac" category="paragraph">StorageClass定義を編集して<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block> フィールドからに移動します<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="efe0663b3e4eed08a4a1b30c3f3a2aac" category="paragraph">PVC定義を編集し、<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> 新たに必要となったサイズを反映するには、元のサイズよりも大きくする必要があります。</block>
  <block id="9d384cd22f1c9bc6a23136fe35d2a51c" category="paragraph">サイズを変更するポッドにPVを接続します。iSCSI PV のサイズ変更には、次の 2 つのシナリオがあります。</block>
  <block id="a22a8450047f7b7aea2c76b348f6ba43" category="summary">既存のストレージクラスを表示したり、デフォルトのストレージクラスを設定したり、ストレージクラスバックエンドを識別したり、ストレージクラスを削除したりできます。</block>
  <block id="e372af4ebeb99af557aa13609f47f47c" category="admonition">クラスタ内のデフォルトのストレージクラスは一度に1つだけにしてください。Kubernetes では、技術的に複数のストレージを使用することはできますが、デフォルトのストレージクラスがまったくない場合と同様に動作します。</block>
  <block id="c1ec7161e63fe862aeb30466f8f3f3b8" category="paragraph">スナップショットを操作するには、外部スナップショットコントローラとカスタムリソース定義（CRD）が必要です。Kubernetesオーケストレーションツール（例：Kubeadm、GKE、OpenShift）の役割を担っています。</block>
  <block id="d0838c5cbd45cca11f4f53eb773d017d" category="paragraph">KubernetesディストリビューションにスナップショットコントローラとCRDが含まれていない場合は、を参照してください <block ref="048c22f74eff12037af96b48becdf135" category="inline-xref-macro-rx"></block>。</block>
  <block id="c4f5303a406f47eb87bf815d986165ee" category="section-title">ボリューム Snapshot を作成します</block>
  <block id="86690b5147c7d6867042b834d17ef28b" category="list-text">を作成します<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>。詳細については、を参照してください <block ref="0ad6a602adca2b32136ef84f7518b131" category="inline-link-macro-rx"></block>。</block>
  <block id="eea37fbd5872936b77e1e2e8a4af0cea" category="list-text"><block ref="98e7d6463271d7848db255ae6467817a" prefix="" category="inline-code"></block> は、です<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> または<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>。に設定すると<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>を使用すると、ストレージクラスタの基盤となる物理Snapshotが、の場合でも保持されます<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> オブジェクトが削除された。</block>
  <block id="0c9cf2ac15a6b5c5324b08e91b840fa4" category="list-text">既存のPVCのスナップショットを作成します。</block>
  <block id="8f72fd9aa081cd83550f8e13086b8967" category="list-text">次の例は、という名前のPVCのボリュームSnapshotオブジェクトを作成します。<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block> Snapshotの名前はに設定されます<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>。ボリュームSnapshotはPVCに似ており、に関連付けられています<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 実際のスナップショットを表すオブジェクト。</block>
  <block id="4a2834678b378c24001efcc2f1ca5238" category="list-text">次の情報を確認できます。<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> のオブジェクト<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block> ボリュームSnapshot。ボリュームSnapshotの詳細を定義します。。<block ref="25fb031d6a134e0fb5a240d6d4c12b01" prefix=" " category="inline-code"></block> このSnapshotを提供するVolumeSnapshotContentオブジェクトを特定します。。<block ref="a701d928aada0f89c8ad0abc16ccdfcc" prefix=" " category="inline-code"></block> パラメータは、スナップショットを使用して新しいPVCを作成できることを示します。</block>
  <block id="a7fab4013a8993c3310ee07c7e101fc1" category="section-title">ボリュームSnapshotからPVCを作成</block>
  <block id="698ebb07855a850e7bcbd189f9322e21" category="paragraph">を使用できます<block ref="d9d448f70687a1aa1f12b2f5ddaa4977" prefix=" " category="inline-code"></block> という名前のVolumeSnapshotを使用してPVCを作成するには<block ref="38741d2dca753415660b08a54f8ad3a9" prefix=" " category="inline-code"></block> データのソースとして。作成された PVC は、ポッドに接続して、他の PVC と同様に使用できます。</block>
  <block id="8d9f716dc04d23bb9af0a64fef3bbbd9" category="paragraph">次に、を使用してPVCを作成する例を示します。<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block> をデータソースとして使用します。</block>
  <block id="c2d480d58505386b1609d69c842aaf44" category="section-title">ボリュームSnapshotのインポート</block>
  <block id="868f2cc6f424bbd531c3ac4f053a8125" category="inline-link-macro">Kubernetesの事前プロビジョニングされたSnapshotプロセス</block>
  <block id="f6e6b6f8bbabf2b4d61efaa16f96f7c7" category="list-text">Tridentのリターン<block ref="0253f5e864e2646df8eab03ca4f066ee" prefix=" " category="inline-code"></block>。</block>
  <block id="2fae3f8997b56adf73a63fcf9e10a75d" category="list-text">*任意のユーザー：*<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> 新しい<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>を参照してください<block ref="be455c19a1930c91806853db05c277d9" prefix=" " category="inline-code"></block> （または<block ref="43cbd4bd62b601d2f5e0b618220b0f44" prefix=" " category="inline-code"></block>）nameは<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 名前。</block>
  <block id="35d57da577b5f55299f7644e8b2de091" category="section-title">Snapshotが関連付けられているPVを削除する</block>
  <block id="b1bc7c11251b98a19ba1fc0ad08275ed" category="section-title">ボリュームSnapshotコントローラの導入</block>
  <block id="66cbadc48d2dbe3accb93937a8d42d1e" category="paragraph">2 つの設定オプションを使用する必要があります。バックエンド定義の例を次に示します。</block>
  <block id="a03c5f2c1a3d118d44bc3e92d52663bb" category="paragraph">Tridentが提供するのも<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block> および<block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix=" " category="inline-code"></block> クローンを作成するためのアノテーションこれらの注釈を使用して、CSI実装を使用せずにPVCのクローンを作成できます。</block>
  <block id="5f117d85f5b23527c781bb26a4b15109" category="paragraph">。<block ref="75e4a0ceb294a9d74374c938e4e8ddc8" prefix=" " category="inline-code"></block> Directoryには、Tridentで使用するPVC定義の例が含まれています。を参照してください <block ref="62155edb2842dfbdb69802620baa3865" category="inline-xref-macro-rx"></block> をクリックして、Tridentボリュームに関連付けられているパラメータと設定の完全な概要を確認します。</block>
  <block id="a5fd2691a6a5df653970895b1c5045ed" category="inline-link-macro">Helmインストールのアップグレード</block>
  <block id="26ad893be275d6f4dd0e2992250c147f" category="inline-link-macro">Kubernetes CSIサイドカーコンテナ</block>
  <block id="7457022455b6a26d17766b38200639d9" category="section-title">Tridentコントローラポッド</block>
  <block id="8268d8b8723783972c959e76371dd7df" category="paragraph">Tridentコントローラポッドは、CSIコントローラプラグインを実行する単一のポッドです。</block>
  <block id="4d52310e56906c6b51b5691f5aca1a86" category="list-text">NetAppストレージ内のボリュームのプロビジョニングと管理を担当</block>
  <block id="64ebc3b44b9bf9706d440310d6edc2a9" category="list-text">Kubernetes環境で管理</block>
  <block id="77dde6100b9c974d6b8f13a2c5a5d91f" category="list-text">インストールパラメータに応じて、コントロールプレーンノードまたはワーカーノードで実行できます。</block>
  <block id="c8d85d76462b8224e3b823eec9636faa" category="image-title">Tridentコントローラポッドの図</block>
  <block id="bea45d305fedae15441ab438c3abf9a6" category="image-alt">CSIコントローラプラグインを実行しているTridentコントローラポッドと、該当するCSIサイドカーの図。</block>
  <block id="7ac36fe121832c95b5cc692aac2d42e9" category="section-title">Tridentノードポッド</block>
  <block id="cb5b3335d8639110c33aa74ae67f7ec2" category="paragraph">Tridentノードポッドは、CSIノードプラグインを実行する特権ポッドです。</block>
  <block id="23b09b316e4e6d2ab77e24ae85097f4f" category="list-text">ホストで実行されているPodのストレージのマウントとアンマウントを担当します。</block>
  <block id="5d6469c46b1f411571e059e13a5fe826" category="list-text">Kubernetesデーモンセットで管理</block>
  <block id="723997cd24cc1452bfa6efd9349f4262" category="list-text">NetAppストレージをマウントするすべてのノードで実行する必要がある</block>
  <block id="ffc3cbdd80c8b7dee840511d7c7b2cce" category="image-title">Tridentノードのポッド図</block>
  <block id="8f29ef239c0926132689374fc142a732" category="image-alt">CSI NodeプラグインとCSIサイドカーを実行しているTrident Node Podの図。</block>
  <block id="58095fffdb6c13585af5e47e876f7afe" category="inline-link-macro">Kubernetesの概念とツール</block>
  <block id="1bc6462cd59612636c72620a6a67410b" category="admonition">Kubernetesを初めて使用する場合は、 <block ref="41eecc10f74d492dbf2a2c207d5acb1b" category="inline-link-macro-rx"></block>。</block>
  <block id="aba4bc9d3bde7d18b07c23d5c7d0f495" category="paragraph">Kubernetesクラスタ内のすべてのワーカーノードが、ポッド用にプロビジョニングしたボリュームをマウントできる必要があります。</block>
  <block id="f3b066024fd8e2699d194d41d5e46a5d" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block> バックエンドを作成します</block>
  <block id="2865195658f1488af43d46690ad5826e" category="inline-link-macro">バックエンドの設定</block>
  <block id="079428cf070b5e0039780f2cb4a5a962" category="paragraph"><block ref="8be76aeedec602130bcedf5acbf56030" category="inline-link-macro-rx"></block> ストレージシステム</block>
  <block id="eda4708b025e26e5f9759856f4f88876" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block> Kubernetesストレージクラスの作成</block>
  <block id="abf99adee0d47955ab8c148a0937ce6e" category="paragraph"><block ref="abf99adee0d47955ab8c148a0937ce6e" category="inline-link-macro-rx"></block></block>
  <block id="e5d9de39f7ca1ba2637e5640af3ae8aa" category="inline-image-macro">5 つ</block>
  <block id="b625988ee18e5f1370f9b328cfa197b7" category="paragraph-title"><block ref="99e8b2f00e172bfcff96afdce69907bc" category="inline-image-macro-rx" type="image"></block> ボリュームをプロビジョニングする</block>
  <block id="185cde3c1e3ef64c59eaee8662d4048a" category="paragraph">A_PersistentVolume_（PV）は、Kubernetesクラスタ上のクラスタ管理者がプロビジョニングする物理ストレージリソースです。_PersistentVolumeClaim_（PVC）は、クラスタ上のPersistentVolumeへのアクセス要求です。</block>
  <block id="7646000ea978570e919e657f5ec9aa57" category="paragraph"><block ref="7646000ea978570e919e657f5ec9aa57" category="inline-link-macro-rx"></block></block>
  <block id="abefc87b0c4c459aa6fdb12d98caf984" category="paragraph">バックエンドの追加、ストレージクラスの管理、バックエンドの管理、ボリューム処理の実行が可能になりました。</block>
  <block id="ca3c25915a30bef4ec583f6082477acf" category="paragraph">デフォルト設定を使用している設定から変更する場合<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 他のユーザも使用するアクセスグループには、のIDを追加します<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> リスト内のアクセスグループ。</block>
  <block id="b2edeceecc054572188ee3b08cd58c64" category="list-text">バイナリを配置して構成ファイルを作成したら、目的の構成ファイルを使用してTridentデーモンを起動します。</block>
  <block id="b4f83b03956523a39e8bbbd0895f0f29" category="inline-link-macro">Cloud Insights の機能です</block>
  <block id="63bfc0691d397470e5b0b05f2a9bcbe4" category="inline-link-macro">問題#740</block>
  <block id="c8af8b49eb3be9ce411280db66de8a12" category="list-text">Tridentのアップグレードを修正し、古いポッドが終了状態で停止（<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block>）。</block>
  <block id="cf182305f6f941fa317842399de1ca4a" category="inline-link-macro">問題#795</block>
  <block id="4f2f189f428da83c5c5d7e21123fb37a" category="list-text">「transient-trident-version-pod」の定義に公差を追加（<block ref="cc0c8d3c31e9e289114ade0ef394e90b" category="inline-link-macro-rx"></block>）。</block>
  <block id="d5d58a85f5f4a2ac889804742dd7cbb0" category="inline-link-macro">問題#816</block>
  <block id="057a4c7c1e2ca8cd3deafe12ee9f2083" category="list-text">ストレージドライバコード（<block ref="9862a2577d865ba18fdd2c972f46545b" category="inline-link-macro-rx"></block>）。</block>
  <block id="97327b29ec21422eaecf8ba479782331" category="list-text">use-rest = trueを指定してONTAPドライバを使用すると、クォータのサイズが修正されました。</block>
  <block id="4e6566ec95776d26fcd04a8b88c3e2bc" category="list-text">ONTAP-SAN-EconomyでLUNクローンを固定作成</block>
  <block id="dcfc8521cd4d3b29941e756366e00988" category="list-text">パブリッシュ情報フィールドを元に戻す<block ref="380d41b2be72ecdeb109d9d8bf377a97" prefix=" " category="inline-code"></block> 終了：<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block>;データの取り込みとリカバリのためのロジックを追加(場合によっては)<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block> フィールド。</block>
  <block id="4f2d668b01cf06eca683c287dd7e5082" category="list-text">事前プロビジョニングされたSnapshotのインポートのサポートが追加されました。</block>
  <block id="c47a181e80e553128675166326adecf7" category="inline-link-macro">問題#817</block>
  <block id="5f595b574bc00c971991f9f665431b60" category="list-text">最小限の導入とデーモン設定のLinux権限（<block ref="aef28cf398bf45d3657483afbc3d3240" category="inline-link-macro-rx"></block>）。</block>
  <block id="62dcabbe3f6dc07f213482f5acada256" category="list-text">「online」ボリュームおよびSnapshotの状態フィールドが報告されなくなりました。</block>
  <block id="4ff2bb4ecc0b6d51be0477f9d63d5273" category="inline-link-macro">問題#801</block>
  <block id="9fde208cd399f14480a57fc99b20d291" category="inline-link-macro">#543</block>
  <block id="0696447eb82cdf62dcb8b6c916f35746" category="list-text">ONTAPバックエンドがオフラインの場合は、バックエンドの状態を更新します（<block ref="961e04dd6eabff35abb325a6607994ca" category="inline-link-macro-rx"></block>、 <block ref="fc57c79b0b6691b508ed06011d9f5581" category="inline-link-macro-rx"></block>）。</block>
  <block id="277ca88d500a9627118781ff85088e70" category="list-text">LUNシリアル番号は、ControllerVolumePublishワークフロー中に常に取得および公開されます。</block>
  <block id="810ba7b767989fc4c733ae7e9e3460cd" category="list-text">iSCSIマルチパスデバイスのシリアル番号とサイズを確認するロジックが追加されました。</block>
  <block id="76ba5d25ded4cc29f1dbfeb16ad652f4" category="list-text">正しいマルチパスデバイスがステージングされていないことを確認するための、iSCSIボリュームの追加検証。</block>
  <block id="3f46c22d346dcb4ef51b664a9e105030" category="section-title">実験的強化</block>
  <block id="866a2a7036f4701ef7fe25f161516e81" category="paragraph">ONTAP-SANドライバでのNVMe over TCPのテクニカルプレビューのサポートを追加。</block>
  <block id="8e2ae59abc43c08fd49c55abd4da0925" category="paragraph">組織とフォーマットの多くの改善が行われました。</block>
  <block id="fbfae4e9fcac672dd7f5304651cd7713" category="list-text">v1beta1スナップショットのサポートが削除されました。</block>
  <block id="662d0c4b0dab9a3aa7e86162000ad383" category="list-text">CSI以前のボリュームとストレージクラスのサポートが削除されました。</block>
  <block id="8c20e8f4703bb12917ce6ae87f5c65a1" category="list-text">サポートされるKubernetesの最小要件を1.22に更新。</block>
  <block id="30e50aa1d9f8718f34cb0ecbef4ec9ea" category="section-title">23.04の変更点</block>
  <block id="2ae7281d275fb0db889e8ad073e94629" category="paragraph">バックエンド定義で CHAP イニシエータとターゲットのユーザ名とパスワードを指定し、 Trident を使用して SVM で CHAP を有効にすることができます。を使用する<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> バックエンド構成のパラメータであるTridentは、CHAPを使用してONTAP バックエンドのiSCSI接続を認証します。</block>
  <block id="8f971d8f40dd91f1f3041a0d7faf5f85" category="paragraph">Kubernetes クラスタ内のノードへのアクセスのみを許可するエクスポートポリシーが各バックエンドに存在することを確認する必要があります。Tridentはエクスポートポリシーを自動的に作成、管理できます。これにより、 Trident はプロビジョニング対象のボリュームへのアクセスを Kubernetes クラスタ内のノードに制限し、ノードの追加や削除を簡易化します。</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="7b0d9f7412b27b7678fe3c1e9ecd655d" category="example-title">&lt;strong&gt;リソースアカウンタビリティ&lt;/strong&gt;</block>
  <block id="33ab2c3f94452baf7f17dab03982edfb" category="paragraph">実行後<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> が更新され、オペレータが既存のインストールの更新とパッチを処理します。これにより、新しいポッドが作成され、それに応じてインストールが変更される可能性があります。</block>
  <block id="ac0482b416d6b2d907db760f79e018a7" category="example-title">&lt;strong&gt;クリーン再インストール&lt;/strong&gt;</block>
  <block id="34c1edfb4ac8581528c3791be680aeb3" category="inline-link-macro">CVS サービスタイプ</block>
  <block id="5797c3891863b81173e1bb10d6488a72" category="inline-link-macro">CVSサービスタイプのサンプル</block>
  <block id="6429305365094c29848a93a6d17a7f53" category="list-text">https://github.com/NetApp/trident/tree/master/trident-installer/sample-input[sample input^]ディレクトリには、https://github.com/NetApp/trident/blob/master/trident-installer/sample-input/storage-class-samples/storage-class-basic.yaml.templなどの例が含まれています<block ref="9abb8c7777ddb413820ee07d5d93aa4a" prefix="[" category="inline-code"></block>^）とリンク：https://github.com/NetApp/trident/blob/master/trident-installer/sample-input/storage-class-samples/storage-class-bronze-default.yaml<block ref="69ae2d9a6d831af7488e53fec053b77e" prefix="[" category="inline-code"></block>^]をクリックします。</block>
  <block id="2251733916a92fc0c61d943165128928" category="inline-link-macro">以前のバージョン</block>
  <block id="7bd3bf704987c7c25848acd94f0e499d" category="list-text">使用<block ref="8dd3e3fab389d3d56b4dbea697d52e91" prefix=" " category="inline-code"></block> ポッドを検査するために。</block>
  <block id="672218727121432fb7209f42c6a00514" category="list-text"><block ref="672218727121432fb7209f42c6a00514" category="inline-link-macro-rx"></block></block>
  <block id="a81c3a8630da0b8548245caae368a3c2" category="inline-link-macro">オペレータのアップグレードワークフローについて理解する</block>
  <block id="14d76a1fc05dcace5308e48b3d9bad49" category="admonition">レビューすることをお勧めします <block ref="4185c20447fb5f0bb4f33698bfd20d27" category="inline-link-macro-rx"></block> オペレータでアップグレードする前に。</block>
  <block id="a18aa1b83c1605570c9c2911c5180a7b" category="inline-link-macro">&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; を使用してアップグレードする</block>
  <block id="3b2fa532fe7cebc94d245316f8af8ab4" category="list-text"><block ref="fd3f4a100d968c915adb11c8797ef5d2" category="inline-link-macro-rx"></block></block>
  <block id="3d40f2a5a694e68fd88105fc4f5ee0d4" category="section-title">Tridentオペレータのアップグレード処理</block>
  <block id="74e51c48d68796e06830c062f5c955c1" category="inline-link-macro">Tridentオペレータを使用するメリット</block>
  <block id="1a1508da73374db3dd227799f48fdf63" category="list-text">Trident Controller環境とノードデーモンセットを削除して再作成します。</block>
  <block id="88b9e59609789e4bf00d72c8be9dd376" category="list-text">TridentコントローラポッドとTridentノードポッドを新しいバージョンに置き換えます。</block>
  <block id="6d3156de6583a452ead75c70c186fcb8" category="list-text">更新されていないノードは、残りのノードの更新を妨げません。</block>
  <block id="e232b75d1eb891caededece68ccba4bd" category="list-text">ボリュームをマウントできるのは、Trident Node Podを実行しているノードだけです。</block>
  <block id="672bc0defc3e808ff4066a5bb35984ff" category="section-title">オペレータのアップグレードワークフロー</block>
  <block id="09fca30aacc5af8d0afe600848776412" category="paragraph">Tridentオペレータを使用してアップグレードを開始すると、次の処理が実行されます。</block>
  <block id="de1c3bc7b6551ded8e26b3c59f25fd6a" category="list-text">Trident演算子*：</block>
  <block id="95c09f4a69ddcda8ea23efaa0892e31f" category="list-text">CRD、RBAC、Trident SVCなど、すべてのKubernetesオブジェクトを更新</block>
  <block id="fa5496466c33ad47156dabe9b4b7a83d" category="list-text">version_n_用のTrident Controller環境を削除します。</block>
  <block id="de4c5e6acc990d98e3ed3412db367a33" category="list-text">version_n+1_用のTrident Controller環境を作成します。</block>
  <block id="55a86ba64e45e0262aa7012299b6e1a5" category="list-text">* Kubernetes *は、_n+1_用にTridentコントローラポッドを作成します。</block>
  <block id="9fcab903d35527e73aa8c9b8d55e4f02" category="list-text">_n_のTridentノードデーモンセットを削除します。オペレータは、Node Podが終了するのを待たない。</block>
  <block id="a532235f4c82e61844620f45083fb82c" category="list-text">_n+1_のTridentノードデーモンセットを作成します。</block>
  <block id="5075af00f3f40cf13822f5863cc71c39" category="list-text">* Kubernetes * Trident Node Pod_n_を実行していないノードにTridentノードポッドを作成します。これにより、1つのノードに複数のTrident Node Pod（バージョンに関係なく）が存在することがなくなります。</block>
  <block id="298619534d23da6e9389fd113bb13495" category="section-title">元のインストール方法を決定する</block>
  <block id="426346b94737adca6c2d979d911464ef" category="section-title">Tridentオペレータのインストールをアンインストールする</block>
  <block id="253ead25988bfe2dee06d2227693e39d" category="paragraph">Tridentオペレータのインストールは手動でアンインストールすることも、Helmを使用してアンインストールすることもできます。</block>
  <block id="2985edaba812b8b31d08cc8513fee0a3" category="section-title">手動インストールのアンインストール</block>
  <block id="55f6e2744208ccefe34f3e05ced2c988" category="section-title">Helmインストールのアンインストール</block>
  <block id="99dec4df69ba043a5eb3118e1e0b364e" category="section-title">のアンインストール<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> インストール</block>
  <block id="3ef75911ec16a9d0ba70cfd4e68dcb71" category="section-title">手動インストールのアップグレード</block>
  <block id="b0e74afe1fdeb605b5c47b501c43b71b" category="inline-link-macro">インストールされているバージョン</block>
  <block id="eb7a4fa3d9aff7ec5b23abb8b82d516b" category="paragraph">Tridentにはバンドルファイルが用意されています。このファイルを使用して、オペレータをインストールしたり、Kubernetesバージョンに対応する関連オブジェクトを作成したりできます。</block>
  <block id="613909529798c8a2543da8e954e5d742" category="section-title">からのアップグレード<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> Tridentオペレータへのインストール</block>
  <block id="9142b40107d9c5a0b86ef0ce8c25a88b" category="paragraph">からTridentの最新リリースにアップグレードできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> インストール：既存のバックエンドとPVCは自動的に使用可能になります。</block>
  <block id="8327052a054aaa112ecf4f19369899c9" category="inline-link-macro">定義に対するNetAppソフトウェアバージョンのサポート</block>
  <block id="34678ee868eeabce720fc4a0fd60c17a" category="list-text">フルサポート</block>
  <block id="d397c85f7e5c9820b73839b4255bab4e" category="list-text">限定サポート</block>
  <block id="57b81b24dfc6e0b0f8ce342d0f7250d3" category="list-text">セルフサポート</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">バージョン</block>
  <block id="217af7d1776d22530d98be04d104fd49" category="inline-link-macro">23.07</block>
  <block id="928f12ce7e1197fe962e09f979b98d0d" category="cell">2025年7月</block>
  <block id="a257f7f4b2f6e07845ce567df142ad00" category="cell">2026年7月</block>
  <block id="1a3a2b5e6c52142797bb5c00594e2a3c" category="inline-link-macro">23.04</block>
  <block id="4f00a05b361ef580687832a6a48984db" category="paragraph"><block ref="4f00a05b361ef580687832a6a48984db" category="inline-link-macro-rx"></block></block>
  <block id="42ce83dc3f5ef22d986311b267a5ac20" category="cell">2025年4月</block>
  <block id="fc7d05f9009e90b92a15aad926bca249" category="cell">2026年4月</block>
  <block id="8dfda84fc7f59655e20a770603bf9231" category="inline-link-macro">23.01</block>
  <block id="e0ed61e44672f0b6193055dd0719d240" category="paragraph"><block ref="e0ed61e44672f0b6193055dd0719d240" category="inline-link-macro-rx"></block></block>
  <block id="7022ed6df71cc12fbd0576cef4df23fd" category="cell">2026年1月</block>
  <block id="775d4bb28d257a6aa23992563a82c458" category="inline-link-macro">22.10</block>
  <block id="1d064e71d708bc66779c604db1339850" category="paragraph"><block ref="1d064e71d708bc66779c604db1339850" category="inline-link-macro-rx"></block></block>
  <block id="99dfa28920a40a7be0858c50f989a3e5" category="cell">2025年10月</block>
  <block id="b321f6c1ada34a3fa850996d673e01ca" category="inline-link-macro">22.07</block>
  <block id="295e1f077ca9f1e68f56c558741bad74" category="paragraph"><block ref="295e1f077ca9f1e68f56c558741bad74" category="inline-link-macro-rx"></block></block>
  <block id="cfab1ba8c67c7c838db98d666f02a132" category="cell">--</block>
  <block id="1cf7168782187634fbc408c66b895dbc" category="section-title">コミュニティサポート</block>
  <block id="965b11d07d6acceebc9efec23e5e74a9" category="section-title">NetAppテクニカルサポート</block>
  <block id="8f4c1b75985ff2903107b7115115ea58" category="list-text"><block ref="8f4c1b75985ff2903107b7115115ea58" category="inline-link-macro-rx"></block></block>
  <block id="0adc03eac86772ad2c75c8f140be417e" category="sidebar">知識とサポート</block>
  <block id="fabfc25ef8996fd90836e58a4c0b26b6" category="sidebar">ヘルプを表示します</block>
  <block id="5248a0897439d95866d14416e307c927" category="sidebar">バックエンドの構成と管理</block>
  <block id="af5d3eba040f5bcf3d3f037b574766c8" category="sidebar">バックエンドの管理</block>
  <block id="bcca457a84376733a80b2dfad749e939" category="sidebar">kubectlでバックエンドを管理</block>
  <block id="e9e5f94eb04c1889f891ad75fd929b4b" category="sidebar">tridentctlによるバックエンドの管理</block>
  <block id="95408f23568d6e604d1f49a1bf3ff238" category="sidebar">ストレージクラスの作成と管理</block>
  <block id="76114b40ddbaf2bf18e9aee694563b40" category="sidebar">ボリュームのプロビジョニングと管理</block>
  <block id="62486fa65fc31c383ace8989549632ad" category="sidebar">スナップショットの使用</block>
  <block id="475fb21c20bb54ea8ac6cb1756aba565" category="inline-link-macro">KB：Trident PVCスナップショットからPVCを作成することは代替バックエンドではできない</block>
  <block id="18051638f30f342b517379b11f0442f9" category="admonition">PVCはソースボリュームと同じバックエンドに作成されます。を参照してください <block ref="0d4d7e7a69b413699039bc9b916a37d5" category="inline-link-macro-rx"></block>。</block>
  <block id="7ba8d326bd3ffe1308f04d8ab5bf3d1a" category="paragraph">バックエンドのアクセスクレデンシャルを含むシークレットを作成します。ストレージサービス / プラットフォームごとに異なる固有の機能です。次に例を示します。</block>
  <block id="afad9414d1bc420e58e3a72442b8f495" category="list-text"><block ref="685d1f2146dd079015e81918414e8971" prefix="" category="inline-code"></block>:<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CRはバックエンドに関連付けられており、そのバックエンドにはが含まれています<block ref="217026e5af08bfde5815657113dbfc82" prefix=" " category="inline-code"></block> をに設定します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> crのuid</block>
  <block id="5008913e7135c645ebbfbd67112d3184" category="list-text"><block ref="ffbb410a55bb31f801dea6387e2745ac" prefix="" category="inline-code"></block>:<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> が削除対象に設定されました。をクリックします<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CRが削除され、削除状態に移行します。</block>
  <block id="88512325ffcc13fbee60f3ca0669f67e" category="list-text">既存のバックエンドには<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> を使用して作成されたためです<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="4cfeb5a9099082a66a720c90a50036af" category="paragraph">出力からはそのことがわかります<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> は正常に作成され、バックエンドにバインドされています（バックエンドのUUIDを確認してください）。</block>
  <block id="54ad97548183fc7d802b6db88573701f" category="paragraph">ONTAPは、NetAppのマルチプロトコルユニファイドストレージオペレーティングシステムで、あらゆるアプリケーションに高度なデータ管理機能を提供します。ONTAP システムには、オールフラッシュ、ハイブリッド、オール HDD のいずれかの構成が採用されており、自社開発のハードウェア（ FAS と AFF ）、ノーブランド製品（ ONTAP Select ）、クラウドのみ（ Cloud Volumes ONTAP ）など、さまざまな導入モデルが用意されています。</block>
  <block id="f8869dc9dbb397ea76e820ae99f70217" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> は、NetApp ONTAPストレージオペレーティングシステムを基盤とするファイルシステムを起動して実行できる、フルマネージドのAWSサービスです。FSx for ONTAPを使用すると、使い慣れたNetAppの機能、パフォーマンス、管理機能を活用しながら、AWSにデータを保存する際のシンプルさ、即応性、セキュリティ、拡張性を活用できます。FSx for ONTAPは、ONTAPのファイルシステム機能と管理APIの多くをサポートしています。</block>
  <block id="5d4b9bc562ebe88c39d0e521b90fc54b" category="list-text">をクリックします<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ドライバ、各永続ボリューム（PV）はFlexGroup にマッピングされます。その結果、ボリューム Snapshot は NetApp FlexGroup Snapshot として作成されます。NetAppのスナップショット・テクノロジーは'競合するスナップショット・テクノロジーよりも安定性'拡張性'リカバリ性'パフォーマンスを提供しますSnapshot コピーは、作成時とストレージスペースの両方で非常に効率的です。</block>
  <block id="14b63ea5b97502ca2d75e85bee96b8b4" category="paragraph">ボリュームをクローニングすると、そのクローンが原因 ONTAP によって親から即座にスプリットされます。デフォルトはです<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。クローンボリュームのクローニングは、作成直後に親からクローンをスプリットする方法を推奨します。これは、ストレージ効率化の効果がまったくないためです。たとえば、空のデータベースをクローニングしても時間は大幅に短縮されますが、ストレージはほとんど削減されません。そのため、クローンはすぐにスプリットすることを推奨します。</block>
  <block id="6d70e81198809f9c160f10b05a430ab1" category="paragraph">これをに設定します<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> がを作成します<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> ボリュームにアクセスしているクライアントから認識できるディレクトリ。デフォルト値はです<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>の可視性を意味します<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> ディレクトリはデフォルトで無効になっています。一部のイメージ（公式のMySQLイメージなど）が、<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> ディレクトリが表示されます。</block>
  <block id="284899fef89b0b2e358229a40cbaa53e" category="cell">これをに設定します<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> LUNのスペース割り当て機能を無効にします。デフォルト値はです<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>つまり、ボリュームのスペースが不足し、ボリューム内のLUNに書き込みを受け付けられなくなったときに、ONTAP からホストに通知されます。また、このオプションで ONTAP 、ホストでデータが削除された時点での自動スペース再生も有効になります。</block>
  <block id="40c7465c2468fd6e890691f6cb612731" category="paragraph">アップグレードされた Trident インストールのプレフィックス。1.3.2より前のバージョンのTridentを使用していて、既存のボリュームでアップグレードを実行した場合は、volume-nameメソッドでマッピングされた古いボリュームにアクセスするためにこの値を設定する必要があります。</block>
  <block id="7f86daacf34c67c042470fa9d926ba49" category="paragraph">標準的なロギングレベルでは、ほとんどの問題を診断できます。十分でない場合は、デバッグロギングを有効にすることができます。</block>
  <block id="6bdfdbfc466bb6d93222dbf7b3a374fe" category="list-text">ホストでバイナリ自体を実行している場合、ログはホストの<block ref="849fc2421f236e9c9b49a9d3fed2c404" prefix=" " category="inline-code"></block> ディレクトリ。デバッグロギングを有効にするには、を指定します<block ref="9b945915b0cddbee22047fd529d642f6" prefix=" " category="inline-code"></block> プラグインを実行すると、</block>
  <block id="a988578d4c176cf950a2211099db7d92" category="paragraph">バックエンドのパスワードを<block ref="00a81aa9b1d406861879017de885e0fb" prefix=" " category="inline-code"></block>。交換してください<block ref="3d9fd17a5232cc24eeeaec2b07af5417" prefix=" " category="inline-code"></block> この例では、バックエンド名にとを指定しています<block ref="27ab7e8dbd45daf638f3144d4891ef3b" prefix=" " category="inline-code"></block> と入力します<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> ファイル。</block>
  <block id="8cb93d7a514e5569b46cba45dedc7daf" category="paragraph">Trident ポッドが削除されても、データは失われません。TridentのメタデータはCRDオブジェクトに格納されます。Trident によってプロビジョニングされた PVS はすべて正常に機能します。</block>
  <block id="7844c41fb05be5427418dbab3d0bdc49" category="paragraph">Amazon FSx for NetApp ONTAPを使用すると、AWSにデータを格納する際のシンプルさ、即応性、セキュリティ、拡張性を活用しながら、使い慣れたNetAppの機能、パフォーマンス、管理機能を活用できます。FSx for ONTAPは、多くのONTAPファイルシステム機能と管理APIをサポートしています。Cloud Volume ONTAP の互換性のあるドライバはです<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>。</block>
  <block id="7439c9a99660382e94c16c5272b9bfb0" category="paragraph">永続ボリュームとは、 Kubernetes で変更不可のオブジェクトを 2 つだけ除いてです。再利用ポリシーとサイズは、いったん作成されると変更できます。ただし、これにより、ボリュームの一部の要素がKubernetes以外で変更されることが防止されるわけではありません。特定のアプリケーション用にボリュームをカスタマイズしたり、誤って容量が消費されないようにしたり、何らかの理由でボリュームを別のストレージコントローラに移動したりする場合に便利です。</block>
  <block id="3e01fdf7f18117c92347492814d988ee" category="admonition">Red Hat OpenShift バージョン 3.9 以降、データ破損に関する懸念があるため、記録サービスに NFS を使用しないことを公式のドキュメントで推奨しています。これは、 Red Hat 製品のテストに基づいています。ONTAP NFSサーバにはこのような問題がないため、ロギング環境を簡単にバックアップできます。ロギングサービスには最終的にどちらかのプロトコルを選択する必要がありますが、両方のプロトコルがネットアッププラットフォームを使用する場合に適していることと、 NFS を使用する理由がないことを確認してください。</block>
  <block id="643f15e2581a728cb2a6d66953a357d7" category="paragraph">基盤となるサービスで正しいストレージが使用されるようにするには、導入方法に応じてAnsible変数を設定することが重要です。それぞれの導入方法のオプションを見てみましょう。</block>
  <block id="b8e4ea2ed30f2f3a9f05ef8e1cc243db" category="paragraph">ロギングサービスや OpenShift 全体と同様に、 Ansible を使用して指標サービスを導入します。また、ロギングサービスと同様に、メトリクスサービスは、クラスタの初期セットアップ中、またはコンポーネントのインストール方法を使用して運用後に導入できます。次の表に、指標サービスに永続的ストレージを設定する際に重要となる変数を示します。</block>
  <block id="8198f2a0f41303e214bcb5ab7d9e9ef4" category="section-title">ONTAP NASドライバの詳細</block>
  <block id="2b5fc47d5a68b6070472f3a239fc77f3" category="paragraph">""、<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="f353c2f2ba62c120d68a9fde333ef59f" category="summary">Azure NetApp FilesのNFSおよびSMBバックエンド構成オプションについて説明し、構成例を確認します。</block>
  <block id="b9acebca540d60eef74f6ffc3e4aa2e7" category="paragraph">Azure NetApp Filesバックエンドには、次の設定オプションがあります。</block>
  <block id="639aa44ce5a6709a5719b427993c9657" category="paragraph">この構成は、Azure NetApp Filesの使用を開始して試している段階で、実際にはプロビジョニングするボリュームに対して追加の範囲を設定することが必要な場合に適しています。</block>
  <block id="a493eb50acc1b5a276034b914c4ce10d" category="section-title">ONTAP SANドライバの詳細</block>
  <block id="fcd147679464b9eda6367f4e90e16ff8" category="paragraph">RWO、RWOP</block>
  <block id="94188b3f68e7baf5ef4a1f721857e77c" category="paragraph">ROXおよびRWXは、ファイルシステムボリュームモードでは使用できません。</block>
  <block id="2f73efb41160e66d2e4f5b500c984de8" category="section-title">Azure NetApp Filesドライバの詳細</block>
  <block id="7e7d2470a40e817070cd42bd81713c7b" category="paragraph"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="4e7d6286f837d54a4e4154d4b21b0659" category="section-title">Elementドライバの詳細</block>
  <block id="f5aa1832e32f2b8d7a7f22d8e36a4617" category="inline-link-macro">NASドライバ</block>
  <block id="de9e7e8f2c463ef15bebdbf8d2d1aa6d" category="inline-link-macro">SANドライバ</block>
  <block id="8126e96f64b1a5de24d4cf6e4b09b986" category="section-title">Google Cloudドライバの詳細</block>
  <block id="9aa82da0cffe247b84587c1cc8e32746" category="cell">デフォルト</block>
  <block id="dfb6135042da6e8fbf367d9cf13431ef" category="paragraph">ボリュームサイズに関するオプションの制限。デフォルト：""（強制なし）</block>
  <block id="4846d107d8ddb5051591d14dcbddba8c" category="admonition">指定されていない場合、ボリュームドライバのデフォルト名は「NetApp」です。</block>
  <block id="5ab207578468b7bbc201024492654253" category="list-text">Azure NetApp Filesドライバにネットワーク機能のサポートが追加されました。（<block ref="e0e89f8bd936a5eb3adce74cac88eab0" category="inline-link-macro-rx"></block>)</block>
  <block id="302e5f91d375f03821f8fd6340563539" category="list-text">Azure NetApp Filesドライバが複数のエクスポートルールを含むボリュームのクローンを作成できない問題を修正しました問題。</block>
  <block id="1d61f4e1411b6940bc918fb56346f64d" category="list-text">リソース名の重複を許可し、操作を単一の場所に制限するためのAzure NetApp Filesドライバを修正しました。</block>
  <block id="409ee85d2342bf416b29a45a7b9c4e59" category="list-text">Azure NetApp Filesボリュームに「unixPermissions」オプションがサポートされるようになりました。（<block ref="b2ee1a79cce917ad1d60b3bec442914a" category="inline-link-macro-rx"></block>)</block>
  <block id="9f65455ce006fe56e7588e4e14f1edb8" category="paragraph">サービスクラスをエミュレートするための仮想プールを設計できます。Cloud Volume Service for Azure NetApp Files の仮想プール実装を使用して、さまざまなサービスクラスをセットアップする方法を見ていきましょう。Azure NetApp Filesバックエンドには、異なるパフォーマンスレベルを表す複数のラベルを設定します。設定<block ref="28277e44c5db61612accdf326d137e96" prefix=" " category="inline-code"></block> 適切なパフォーマンスレベルを考慮し、各ラベルの下にその他の必要な側面を追加します。次に、異なる仮想プールにマッピングするさまざまなKubernetesストレージクラスを作成します。を使用する<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 各StorageClassは、ボリュームのホストに使用できる仮想プールを呼び出します。</block>
  <block id="42f3b65b98b18c792b7b5534e40d2646" category="section-title">FSx for ONTAPドライバの詳細</block>
  <block id="629ac35dda697ad18f8fef7094213871" category="list-text">以前のバージョンのTridentにダウングレードする場合は、<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block> Tridentを削除するコマンド。必要なをダウンロードします<block ref="f3d78353f8dac3e49bbefeb5f6a2383b" category="inline-link-rx"></block> を使用してをインストールします<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> コマンドを実行します</block>
  <block id="4f5dbc74e3448e08fe0e7bfd62876fc8" category="open-title">Trident オペレータ</block>
  <block id="152090ff5e9a05ea7e1cf0c248449638" category="open-title">Helm</block>
  <block id="fed6290ac938ca603cf5f4f680802954" category="open-title">&lt;code&gt;tridentctl&lt;/code&gt;</block>
  <block id="19611c32e434019e356af9e0da999936" category="cell">使用する Storage Virtual Machine

* MetroClusterの場合は省略してください。* <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="16d35233bf6aa04a2ff7b9ec19d64661" category="example-title">MetroClusterの例</block>
  <block id="fd9313829353096dad83775c55ce66f8" category="paragraph">スイッチオーバーやスイッチバックの実行中にバックエンド定義を手動で更新する必要がないようにバックエンドを設定できます。 <block ref="6ffda35fd03109cc0d7cf7a1f79d2c30" category="inline-link-macro-rx"></block>。</block>
  <block id="abc765e949697f25e96670a5cab132f3" category="paragraph">シームレスなスイッチオーバーとスイッチバックを実現するには、<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> を省略します。<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> および<block ref="924ff83ff1e671bacfb07ff12b845703" prefix=" " category="inline-code"></block> パラメータ例：</block>
  <block id="d1cc287cede970a7472833938f39b940" category="list-text">パラメータ（使用する ONTAP SVM の名前など）を更新する必要があります。</block>
  <block id="bb5c9e20ecc2d96bd9d91107161bf89b" category="list-text">更新できます<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 次のコマンドを使用して、Kubernetesから直接オブジェクトを作成します。</block>
  <block id="ccec41e7609b17a7fe58691b5cbf68ea" category="list-text">または、既存の<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 次のコマンドを使用してCRを実行します。</block>
  <block id="d24ddd1da817847ede47979e6e68c60e" category="example-title">ONTAP NAS FlexGroupの例</block>
  <block id="8788fe54575b03d9b62dbb1a38a7a277" category="example-title">SMBボリュームの例</block>
  <block id="1ce00ab507a065e4febc57b244e25d18" category="example-title">自動エクスポートポリシーの例</block>
  <block id="5ef13a507a243e20eb0469a9d7670527" category="example-title">IPv6アドレスの例</block>
  <block id="ee8af8063e9ea3725931d232730b8a8e" category="example-title">SMBボリュームを使用したAmazon FSx for ONTAPの例</block>
  <block id="99c73e527698ab76b32674b7e9dd4708" category="inline-link-macro">ローリング更新</block>
  <block id="06918a8f55f386d79e64a70ca217b501" category="paragraph">* Kubernetes：*ダウンタイムゼロのアップグレードをサポートするためのデーモンセットの削除を修正（<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block>）。</block>
  <block id="ca6a658f1db1af30f178530c90cbe8fc" category="section-title">23.07の変更点</block>
  <block id="57154d2dcf591aaa3d4dcbfbba196075" category="inline-link-macro">サポートされるONTAPの制限</block>
  <block id="7fe76f1189ac93d41118f7ba3e36e3ab" category="list-text">使用<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 永続的ボリュームの使用数が次の値よりも多いと予想される場合のみ <block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block>。</block>
  <block id="a6b18abf4de4d534121b0cca3b164d74" category="list-text">使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 永続的ボリュームの使用数が次の値よりも多いと予想される場合のみ <block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block> および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ドライバは使用できません。</block>
  <block id="44ce6c838becb17913e38bbe2b0096fe" category="list-text">バックエンドスナップショットの名前を<block ref="4ab6864fc58ecd8b598ee10dfe2ac311" prefix=" " category="inline-code"></block> として<block ref="d42b3f1355513faa92e8e6b438dffc73" prefix=" " category="inline-code"></block>。</block>
  <block id="e0668acdd6b1e131a130998184f4f7fc" category="admonition">。<block ref="8773ea16ee304585aa1da2afd8f25434" prefix=" " category="inline-code"></block> CRの命名規則のため、バックエンドスナップショット名が常に一致するとは限りません。</block>
  <block id="90a9b62f2d9107ff002b3ffcff75c334" category="paragraph">次の例では、<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> バックエンドスナップショットを参照するオブジェクト<block ref="82645407d5a235bd775551b0a8455cd1" prefix=" " category="inline-code"></block>。</block>
  <block id="b385a638aafc60dc851702d7207b1460" category="list-text">*クラスタ管理者：*<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> を参照するCR<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> オブジェクト。これにより、<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 指定された名前空間内。</block>
  <block id="4fd027fecd2883c25a41ecd68536b1d6" category="paragraph">次の例では、<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> CR名<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block> を参照しています。<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 名前付き<block ref="ae79a6ea6405531b451963557819c96a" prefix=" " category="inline-code"></block>。</block>
  <block id="92aa04a2cf75f40187ef422ef48baa9f" category="list-text">外部スナップショットは、<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 終了：<block ref="bdc3aa73b1bbfc0b0212a8f6a8bb2077" prefix=" " category="inline-code"></block> および<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 終了：<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="5581736d9cc57d1f1193e52f799c03b2" category="paragraph">次に、を参照するPVCを作成する例を示します。<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 名前付き<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block>。</block>
  <block id="a288b0971f8f6c63f5e6510bcebf421b" category="cell">ドライバ名+"_"+ dataLIF</block>
  <block id="280a6a6866847c57b1a98bbcdc929268" category="cell">""（デフォルトでは適用されません）</block>
  <block id="3eeb940d8060411516e1578a9fd70a15" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：｛"api"：false、"method"：true｝

トラブルシューティングを行い、詳細なログダンプが必要な場合を除き、は使用しないでください。</block>
  <block id="ebc576222020c2a2ae2fc769169f1d2a" category="cell">"正しい"</block>
  <block id="c41b872c22969c2098a0056121589349" category="cell">スペースリザベーションモード：「none」（シン）または「volume」（シック）</block>
  <block id="f6d62a8e69201d3806ac1ef24ec64c4d" category="cell">"なし"</block>
  <block id="6b3e1a8dae111668b3e4e13c5949a7c0" category="cell">次の場合は「0」<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> は「none」、それ以外の場合は「」です。</block>
  <block id="7639141e9ab9cd89ef8bc0b16fd34e6a" category="cell">「none」を使用する階層化ポリシー</block>
  <block id="e50e8adc0d4818a8ed496eb95b3aea51" category="cell">["0.0.0.0/0","::/0"]'</block>
  <block id="86780ad6247dfbcd90ca1455ee592852" category="cell">"トライデント"</block>
  <block id="7e6a32bd8074b1aa2c8c0d2529140ae4" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：｛"api"：false、"method"：true｝

使用しないでください<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> トラブルシューティングを実行していて、詳細なログダンプが必要な場合を除きます。</block>
  <block id="89ffa293e05655bd6be9d422345be38a" category="cell">"200"</block>
  <block id="3eda001907760c018e29ddf4cb7aa3c8" category="cell">NFSボリュームの場合は「777」、SMBボリュームの場合は空（該当なし）</block>
  <block id="7e8aabb1dc00b7d4aac6d0876f6507f4" category="cell">にアクセスする権限を管理します。<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> ディレクトリ</block>
  <block id="aea10b5a282698ad4477a7113234ae65" category="inline-link-macro">ボリュームSnapshotのインポート</block>
  <block id="6418f8ccde0bb975a1ad82cf1d5250c6" category="list-text">**編集<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRを実行し、アンインストールフラグを設定します**：</block>
  <block id="30abd17d4913fab8af9d1efd63c15f9c" category="paragraph">をクリックします<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block> フラグはに設定されています<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>は、TridentオペレータがTridentをアンインストールしますが、TridentOrchestrator自体は削除されません。Trident を再度インストールする場合は、 TridentOrchestrator をクリーンアップして新しい Trident を作成する必要があります。</block>
  <block id="f3f30d479f6e3b393d917a3b2f88c770" category="cell"><block ref="89801e9e98979062e84647433a8ed3e9" prefix="" category="inline-code"></block></block>
  <block id="fbbd7b4b14060c4fdb02f92c4c08e702" category="cell">をに設定します<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> Windowsワーカーノードへのインストールを有効にします。</block>
  <block id="077e99fe42ced522b462656cffffe09c" category="cell"><block ref="d5276bb17ae062102e883a18454c2f1b" prefix="" category="inline-code"></block></block>
  <block id="42cf123e93ecc5c0297652edbc547fc0" category="cell"><block ref="2fac1659431903a30e063d49b3effb9d" prefix="" category="inline-code"></block></block>
  <block id="4a213b7c3b997ffb0794b25909381d16" category="cell">AutoSupportバンドルをNetAppに送信しない
自動</block>
  <block id="7f54ca385f028308d19e228ce0534a47" category="cell">AutoSupportを送信するためのプロキシのアドレス/ポート
テレメータ</block>
  <block id="cad060d2f14dbf08315c20014ed31daa" category="cell"><block ref="0b19d236934f609fe765b504a36b637e" prefix="" category="inline-code"></block></block>
  <block id="4f25f4cca5c1939f4a728d2678e719f7" category="cell">形式の内部レジストリへのパス<block ref="d2ce1f53a5f0e84f4f1b5e28836eb05b" prefix=" " category="inline-code"></block></block>
  <block id="31aad37dce0c28e12908582a0d63736a" category="cell">ホスト上の kubelet ディレクトリへのパス</block>
  <block id="b6e0e2c4168573f0ed61c842470342ba" category="cell"><block ref="c13a52521693f799a16fd56a35c77a04" prefix="" category="inline-code"></block></block>
  <block id="f73bb4a0bc9913e7fc6db5f9e5f2afeb" category="cell">内部レジストリからイメージをプルするシークレット</block>
  <block id="d64d0e5bb5a552ae4986a713f41c8fc3" category="cell">ポッド用の追加のノードセレクタ。	の形式はと同じです<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>。</block>
  <block id="875ce721843c20d7f9aae240673ed68b" category="cell">ポッドに対するKubernetesの許容範囲を上書きします。はと同じ形式です<block ref="f1fa64fcf5077601cb803e995a51fa4f" prefix=" " category="inline-code"></block>。</block>
  <block id="00e8e1706119ce5300bdc9141ececc37" category="cell">ポッド用の追加のノードセレクタ。の形式はと同じです<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>。</block>
  <block id="4227c1b28cc9c04bf3552b7aae57fc3c" category="paragraph"><block ref="4227c1b28cc9c04bf3552b7aae57fc3c" category="inline-link-macro-rx"></block></block>
  <block id="d293f031e5664526b25f3a65012401b7" category="cell"><block ref="fdb7cb8f657426e7c409bfd6d1a36ce4" prefix="" category="inline-code"></block></block>
  <block id="0b9fb37ad5573b24cf369ec73caffe42" category="list-text">を作成します<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block> 次のコマンドを使用して、_&lt;bundle.yaml&gt;_ is<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block> または<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block> 使用しているKubernetesのバージョンに基づきます。</block>
  <block id="3d886aa354247002acbb6642625843d1" category="list-text">次のコマンドを使用してバンドルをコンパイルします。WHERE_STORE_IS &lt;bundle.yaml&gt;<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block> または<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block> 使用しているKubernetesのバージョンに基づきます。</block>
  <block id="fdb5bcd69c8617adc24a528d074b060b" category="list-text">プロトコルの前提条件がホストにインストールおよび設定されていることを確認します。</block>
  <block id="dc3c80fe7e62048ec7f179f78dd1d918" category="paragraph">オペレーティングシステム用のコマンドを使用して、NFSツールをインストールします。</block>
  <block id="b00fd28ef92c5c525d66d12aa0d5e4dd" category="section-title">NVMeツール</block>
  <block id="cfd4e84c111973cbf00e30acfd3af3b1" category="paragraph">オペレーティングシステムに対応したコマンドを使用してNVMeツールをインストールします。</block>
  <block id="c5c04ab13d0b9dcc3187f7e5cdfb7a00" category="list-text">NVMeにはRHEL 9以降が必要です。</block>
  <block id="f961ae7e5a407c3c3df6f5facf3c1ef3" category="list-text">Kubernetesノードのカーネルバージョンが古すぎる場合や、使用しているカーネルバージョンに対応するNVMeパッケージがない場合は、ノードのカーネルバージョンをNVMeパッケージで更新しなければならないことがあります。</block>
  <block id="38aef0bc7cf230dfcf5476915774aa95" category="open-title">RHEL 9</block>
  <block id="99d7b353753f3b80388b5ab7e69a4a28" category="paragraph">FlexVol あたりの最大 qtree 数は [50 、 300] の範囲で指定する必要があります。デフォルトは 200 です。</block>
  <block id="3e00ac0f228180d0a5a3756df9a5bca3" category="paragraph">*のため<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ドライバ。このオプションを使用すると、FlexVol あたりの最大qtree数をカスタマイズできます。</block>
  <block id="89149296a9e0c36d8eb5e9c82e71155b" category="cell"><block ref="5b08b7c4c720db1d75c8c76a920fd99a" prefix="" category="inline-code"></block></block>
  <block id="053b2e680c58724dc4bdd83223136c48" category="cell"><block ref="39eea648dab96b0ee6022dabb38bc420" prefix="" category="inline-code"></block> 空白の場合</block>
  <block id="9dbc2be9eae595ee555b36e2d5464473" category="example-title">&lt;code&gt;ontap-nas&lt;/code&gt; ドライバのNFSの例</block>
  <block id="e5fdbcee018644d221f382b1d5b8f41a" category="example-title">&lt;code&gt;ontap-nas-flexgroup&lt;/code&gt; ドライバのNFSの例</block>
  <block id="80640d18e28e0ebe180f21ae5d3a563f" category="example-title">&lt;code&gt;ontap-nas-economy&lt;/code&gt; ドライバのNFSの例</block>
  <block id="cf156eb50f8332673b89dc95a2cbbd82" category="example-title">&lt;code&gt;ontap-san&lt;/code&gt; ドライバのiSCSIの例</block>
  <block id="d5a757f0fabce17fc0eb2e1d3d308b05" category="example-title">&lt;code&gt;ontap-san-economy&lt;/code&gt; ドライバのNFSの例</block>
  <block id="fc3afabf3465382a1844a56a3fd55417" category="example-title">&lt;code&gt;ontap-san&lt;/code&gt; ドライバのNVMe/TCPの例</block>
  <block id="c966bdf80a661ce3909786b6f622340b" category="section-title">オペレータを使用したTridentの導入に失敗</block>
  <block id="ccfca578972ee86c982797bc2898fe5b" category="section-title">Tridentの導入に失敗しました<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="35f748582b65670a3f27a7f93c685560" category="section-title">RWX rawブロックネームスペースo Kubernetes 1.26でNVMeノードのステージング解除が失敗する</block>
  <block id="02c0c037ba3f051d21fbf3a2f370eb72" category="paragraph">Kubernetes 1.26を実行している場合、RWX rawブロックネームスペースでNVMe/TCPを使用すると、ノードのステージング解除が失敗することがあります。次のシナリオは、障害に対する回避策を提供します。または、Kubernetesを1.27にアップグレードすることもできます。</block>
  <block id="14b443235c9f911289e8e2d0bad3eaf2" category="section-title">ネームスペースとポッドが削除されました</block>
  <block id="31accf88e60e15e200ac055e6344c912" category="paragraph">該当するノードから永続的ボリューム（そのネームスペースに対応するボリューム）をアンマウントして削除します。</block>
  <block id="5d84bf099896e3a304a067d7c5f71db1" category="section-title">ブロックされたデータLIF</block>
  <block id="e80aabfb35c98e66a71baf6a3c90a7df" category="paragraph">すべての機能を復元するには、dataLIFSを起動します。</block>
  <block id="5afe86ac983ac04ac6d9268beb2bc024" category="section-title">ネームスペースマッピングが削除され</block>
  <block id="9b0dbff182f270b33423b281f92bddc2" category="paragraph">を追加します<block ref="a564a902c12941efa27c1d2ea4a19f8e" prefix=" " category="inline-code"></block> サブシステムに戻ります。</block>
  <block id="4771a9c521a7d39c2dcf6ee71d0ef032" category="section-title">NVMe/TCPホリユウム</block>
  <block id="b15a013c4977a2a96afedafe316664b2" category="section-title">インストールを確認します</block>
  <block id="d777ba5e4b1ff43d3668b14ef7200bad" category="paragraph">インストールが完了したら、次のコマンドを使用して、Kubernetesクラスタ内の各ノードに一意のNQNが割り当てられていることを確認します。</block>
  <block id="eea342529fcf22d8fbdaf58545a9c617" category="section-title">AKSの管理対象ID</block>
  <block id="a57ed56fc7ee91a9263e1c2ae851ac11" category="inline-link-macro">管理対象ID</block>
  <block id="9586e9fc5ee74b6ceeab5ab5484c95b6" category="list-text">AKSを使用して導入されるKubernetesクラスタ</block>
  <block id="4dca0f5a5f78322a0f3bfa9c6b8f54ad" category="list-text">AKS Kubernetesクラスタに設定された管理対象ID</block>
  <block id="213e4b0f68f673550c1154cabddf4142" category="cell">Azure サブスクリプションのサブスクリプション ID

AKSクラスタで管理IDが有効になっている場合はオプションです。</block>
  <block id="938c7b48cad00c77e1900399388741e8" category="cell">新しいボリュームを作成する Azure の場所の名前

AKSクラスタで管理IDが有効になっている場合はオプションです。</block>
  <block id="91644df8bfaf55210374666164ee92c9" category="example-title">最小限の構成</block>
  <block id="943aa8ce869cfeaf7f72cc41df7f891c" category="paragraph">このバックエンド構成では、<block ref="8c443e170595ba0feac007ffb92cb49a" prefix=" " category="inline-code"></block>、<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>および<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>は、管理対象IDを使用する場合はオプションです。</block>
  <block id="f961873909dcbbea92f3791e505cd3cf" category="example-title">容量プールフィルタを使用した特定のサービスレベル構成</block>
  <block id="119dd5a342e981b13bf0024d5c6a6933" category="example-title">高度な設定</block>
  <block id="d61a62faa23948cd42b53cf6de97e445" category="example-title">仮想プール構成</block>
  <block id="67c909cf936115be1012171c5c38b8cf" category="example-title">デフォルトネームスペースの基本設定</block>
  <block id="17903b7c199529a65f8f0b36aa084d2e" category="example-title">ネームスペースごとに異なるシークレットを使用する</block>
  <block id="6cb4c0cee2d8e6992a3a10d346015761" category="example-title">ボリュームごとに異なるシークレットを使用する</block>
  <block id="5c766f1444b8b25e9f55f0dc6400b77e" category="admonition"><block ref="1023eff0970e3a4277fcde214fad86ef" prefix="" category="inline-code"></block> SMBボリュームをサポートするプールでフィルタリングします。<block ref="d71f62a5b903ebd8681263d310db1d6d" prefix=" " category="inline-code"></block> または<block ref="9c8ff3d34f58e4965d72fb9c8a993707" prefix=" " category="inline-code"></block> NFSプールに対してフィルタを適用します。</block>
  <block id="8b7c42123642e2e4ea7dd426aeb2de58" category="paragraph">NVMe/FC</block>
  <block id="2ee381348973cd50c3668eadbccdc328" category="paragraph">を参照してください <block ref="2d7d4515af7fd5f414df696a804f30f7" category="inline-xref-macro-rx"></block>。</block>
  <block id="15486153db4ff26b2d984b22c9eb7ace" category="section-title">NVMe/TCPに関するその他の考慮事項</block>
  <block id="fdb7cb8f657426e7c409bfd6d1a36ce4" category="list-text">IPv6</block>
  <block id="a2a1cb8bb035902e151c429dda457eb0" category="list-text">NVMeボリュームのSnapshotとクローン</block>
  <block id="b007331c632038b88752b849045335eb" category="list-text">NVMeボリュームのサイズ変更</block>
  <block id="86f6f50234041fd09b320314dc781273" category="list-text">NVMeネイティブマルチパス</block>
  <block id="6c1177e2fd33f2482514b2156d1e62b6" category="list-text">Device Mapper（DM；デバイスマッパー）マルチパス</block>
  <block id="fa633dab256a2884e7cd048147d7171c" category="list-text">LUKS暗号化</block>
  <block id="4e92a2addd95bd2076226bce70449f6d" category="admonition"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block>、<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>、<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block>および<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> AKSクラスタで管理対象IDを使用する場合はオプションです。</block>
  <block id="28389c00d52ebc3b9610c591613894a1" category="example-title">カスタムコントリビュータロール</block>
  <block id="569dfd7a9483b050d1e076a318f0fccc" category="example-title">PersistentVolumeClaimサンプルマニフェスト</block>
  <block id="526596809db1b7644a7637cfa05fcf8a" category="paragraph">次に、基本的なPVC設定オプションの例を示します。</block>
  <block id="992728eeb1163799bd688cfe5e57035b" category="paragraph-title">RWOアクセスを備えたPVC</block>
  <block id="75c7c68d9eb17c22ec8df28a1e23f275" category="paragraph-title">NVMe / TCP対応PVC</block>
  <block id="ed463de3671571836f800949d75f3af8" category="paragraph">この例は、という名前のStorageClassに関連付けられたNVMe/TCPの基本的なPVCとRWOアクセスを示しています。<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block>。</block>
  <block id="973fab696ba8e345f617c87c4de97607" category="example-title">PODマニフェストのサンプル</block>
  <block id="15f15289009d52be4af3e9951853eee5" category="paragraph">次の例は、PVCをポッドに接続するための基本的な設定を示しています。</block>
  <block id="416206518e27ed2ec8b8e0876078af35" category="listing-title">キホンセツテイ</block>
  <block id="b9fa7c201e2dc76fe12c8bb436c212ee" category="listing-title">NVMe/TCPの基本構成</block>
  <block id="a242dbcec09373d25c5fb582f9f2cfc6" category="example-title">NVMe/TCPの例</block>
  <block id="3a3347de03ef37c1eb5eb525619ff905" category="paragraph">ONTAPバックエンドでNVMeを使用するSVMを設定しておく必要があります。これはNVMe/TCPの基本的なバックエンド構成です。</block>
  <block id="1b931baab9ca74be94af72763666c941" category="list-text">。<block ref="33aacad9b122abfdfadc06e3e7fa5f59" prefix=" " category="inline-code"></block> StorageClassはにマッピングされます<block ref="11e89beb13d19bf6e3ab7ed65673b27d" prefix=" " category="inline-code"></block> 内の仮想プール<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ドライバ<block ref="6fa083b88d05083e680071073d06c3af" prefix=" " category="inline-code"></block>。これは唯一のプールサービスです。<block ref="5ca85ebb1d881fde490deaa5817c4ca5" prefix=" " category="inline-code"></block>。</block>
  <block id="497769c5c03818fffe81b6190ec47c82" category="section-title">コマンドとグローバルフラグ</block>
  <block id="66fa8a46aff90f5c8507c33a1cdc3e3f" category="paragraph">走れ<block ref="d7948c15bebd1e81a58fa7c99888c9c6" prefix=" " category="inline-code"></block> 使用可能なコマンドのリストを取得するには<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> または、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block> 特定のコマンドのオプションとフラグのリストを取得するには、任意のコマンドにフラグを付けます。</block>
  <block id="c6a354ad100a80a11b5358549fa08956" category="list-text"><block ref="657f8b8da628ef83cf69101b6817150a" prefix="" category="inline-code"></block></block>
  <block id="b6886cb9d8320f0522485af2d7b5e732" category="list-text">任意のコマンドに関するヘルプ。</block>
  <block id="99ff05be0d0e797b4814ab264d1555b7" category="list-text"><block ref="93473a7344419b15c4219cc2b6c64c6f" prefix="" category="inline-code"></block></block>
  <block id="1f46b6519384cf9cc5d7893457ab6e9c" category="list-text"><block ref="2424c0d4857ddcc30f1aabda7294d84f" prefix="" category="inline-code"></block></block>
  <block id="92cde4054a93fe29af6357539b327494" category="list-text">バックエンド処理を一時的に中断します。</block>
  <block id="238000b5c5df1cc446f5ba823c01807c" category="list-text"><block ref="ae26b3d8e556703291282149e3ae894f" prefix="" category="inline-code"></block></block>
  <block id="12d9bb0959755423ba2fc4a4d349ee90" category="example-title">グローバルフラグ</block>
  <block id="a54f86a6d882e5b4c1560087bb3d23fe" category="list-text"><block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="" category="inline-code"></block>、<block ref="b47e5fb843a641159b90a001a614119c" prefix=" " category="inline-code"></block></block>
  <block id="f984c283566ffcc330d2055e568c2bc4" category="list-text">デバッグ出力。</block>
  <block id="aa8575d70709b06761f70e7aa773dccd" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block></block>
  <block id="cbaa0d88e3069707dc20abca170c009e" category="list-text">ヘルプ<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="6e25615e543a74d4a5ea9c21cda4b604" category="list-text"><block ref="9cefd96d40d0ee1256c8eff1def0312d" prefix="" category="inline-code"></block>、<block ref="3be3a69890f8609a06ed69c980bdf3ed" prefix=" " category="inline-code"></block></block>
  <block id="e9fe902fae54aee02c0226a1cd4ef93e" category="list-text"><block ref="b2ed43620b7fff2689035f1e99c24ded" prefix="" category="inline-code"></block>、<block ref="fde021f6d95feede78ab3d390365d552" prefix=" " category="inline-code"></block></block>
  <block id="fc070ca332d823236f678c78abc58ee2" category="list-text">出力形式。JSON の 1 つ | yaml | name | wide | ps （デフォルト）。</block>
  <block id="51b3c65bb68baeb2ef94eb128afdc270" category="list-text"><block ref="406381251d2d4637ebfac7f24cc49c6f" prefix="" category="inline-code"></block>、<block ref="b59778b847581570efb244355a6aa704" prefix=" " category="inline-code"></block></block>
  <block id="1c36a7e67198ff73665408726652a4c3" category="section-title">コマンドオプションとフラグ</block>
  <block id="dae8ace18bdcbcc6ae5aece263e14fe8" category="list-text">オプション（ Options ）</block>
  <block id="4ea7801f17a4e5485e8b050c052fb443" category="list-text">フラグ</block>
  <block id="26cdb30fb70d63515b796135d1481235" category="paragraph">を使用します<block ref="2424c0d4857ddcc30f1aabda7294d84f" prefix=" " category="inline-code"></block> バックエンド処理を一時停止または再開するコマンド。</block>
  <block id="ff5f39bc4c620c3b1ca6b0811177f14c" category="paragraph">使用<block ref="2af72f100c356273d46284f6fd1dfc08" prefix=" " category="inline-code"></block> のバージョンを印刷するためのフラグ<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 実行中のTridentサービス</block>
  <block id="cfc01756266d8d0e43eb3a9f2753f472" category="paragraph">TridentではKubernetesに対応するストレージクラスが作成されます<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> を指定するオブジェクト<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block> プロビジョニング担当者のフィールドに入力します。ストレージクラス名がKubernetesの名前と一致していること<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 表すオブジェクト。</block>
  <block id="8554748be67b956e550de942edae807d" category="admonition">NVMe/TCPにはRHEL 9以降が必要です。</block>
  <block id="e379ebca8f2245b4a0c32803c6d7f845" category="paragraph">Kubernetesクラスタ内のすべてのワーカーノードが、ポッド用にプロビジョニングしたボリュームをマウントできる必要があります。ワーカーノードを準備するには、ドライバの選択に基づいてNFS、iSCSI、またはNVMeのツールをインストールする必要があります。</block>
  <block id="2564a762d021b4beae21f01627773c0f" category="inline-link-macro">問題#834</block>
  <block id="e53ddb8a6947ad5b93f8c82a86836f16" category="list-text">要求された新しいサイズがontap-nasおよびontap-nas-flexgroupストレージドライバの合計ボリュームサイズよりも小さい場合、ボリュームの拡張が修正されました（<block ref="6140c2bc2ecfc555b47da5841f5fd8ae" category="inline-link-macro-rx"></block>）。</block>
  <block id="d52fe9ebb96cf9ce91bf00e0caa773de" category="inline-link-macro">問題#722</block>
  <block id="676394929bfe922b6aff300499cef5a9" category="list-text">ontap-nasおよびontap-nas-flexgroupストレージドライバのインポート時にボリュームの使用可能なサイズのみを表示するための固定ボリュームサイズ（<block ref="1ec6a9e212fa13524af3f3c296d6bb72" category="inline-link-macro-rx"></block>）。</block>
  <block id="c2b105e6592336c26afd4f39319a222e" category="list-text">ONTAP-NAS-EconomyのFlexVol名変換が修正されました。</block>
  <block id="b680f5ddc32b78c78329f3f15a836381" category="paragraph">Kubernetes 1.28のサポートを追加。</block>
  <block id="be1e775eed9a7023c7facbd3f3cd32cd" category="list-text">ONTAP-SANドライバでNVMe over TCPのサポートが追加されました。</block>
  <block id="24a3b687404991a8b5d83740bfde9f9c" category="inline-link-macro">問題#558</block>
  <block id="86826a04ec735c436222d55949b27e52" category="list-text">ユーザによってバックエンドがSuspended状態に設定されている場合に、ボリュームのプロビジョニングを一時停止する機能が追加されました（<block ref="4ad3a18b49b4979346d26b5940c21a0f" category="inline-link-macro-rx"></block>）。</block>
  <block id="d4eb6933e70b3c49a70e1d8427489044" category="section-title">23.07.1の変更点</block>
  <block id="2f6b7b0c1002ad67f4e455a17d784c94" category="cell"><block ref="9d4568c009d203ab10e33ea9953a0264" prefix="" category="inline-code"></block></block>
  <block id="a55d315d1b8f8342158866cd0f4acf4f" category="cell"><block ref="df8f3af91e96fe841267201ed450cd6b" prefix="" category="inline-code"></block></block>
  <block id="3f5dc9ae5f538d3ce4d0cc20e7762671" category="cell"><block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix="" category="inline-code"></block></block>
  <block id="d5999fd61d148b96e54f154a54ffead5" category="example-title">Windowsノオト</block>
  <block id="ecb7d1d46da3859c69f45b619ace746a" category="example-title">強制的に切り離し</block>
  <block id="f393555b01f0bafc5bd6a63db97bac1d" category="example-title">AKSクラスタ上の管理対象ID</block>
  <block id="90a731f9a8a983f7cf3905960d8146ec" category="cell"><block ref="9aa82da0cffe247b84587c1cc8e32746" prefix="" category="inline-code"></block></block>
  <block id="fca9ec6d50035c840a58bdecab9e25b1" category="cell"><block ref="256acfe307251e7444859851d87d5735" prefix="" category="inline-code"></block></block>
  <block id="cb970ba92f64074cb0c13138a539851d" category="paragraph">次の属性を使用できます： <block ref="289efe9665b12a9f791f1897f30c1a0b" category="inline-xref-macro-rx"></block> テイギスルバアイ<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> をクリックして、インストールをカスタマイズします。</block>
  <block id="0f63a7a4873a5bae5060bde9fd1009af" category="example-title">基本的なカスタム設定</block>
  <block id="a144d1a554ec741f701e87c26360c28e" category="example-title">ノードセレクタ</block>
  <block id="de5aefa11fe3836b4b8d0769b09b21eb" category="example-title">Windowsワーカーノード</block>
  <block id="766995a062c6503acd7ac4752fbb865d" category="inline-link-macro">23.10</block>
  <block id="78c875172f37f031a2632dc008815ee1" category="cell">2026年10月</block>
  <block id="0cd8d0588cd2b20face3a0379d38f777" category="admonition">ダイナミックエクスポートポリシーを使用する場合は、Network Address Translation（NAT;ネットワークアドレス変換）を使用しないでください。NATを使用すると、ストレージコントローラは実際のIPホストアドレスではなくフロントエンドのNATアドレスを認識するため、エクスポートルールに一致しない場合はアクセスが拒否されます。</block>
  <block id="7528035a93ee69cedb1dbddb2f0bfcc8" category="section-title">取得</block>
  <block id="943c9b081b44587d874271006286d321" category="list-text"><block ref="22b708d2eccf39e1774f3e179bc6aee0" prefix="" category="inline-code"></block></block>
  <block id="0211fd9d40454137caed274c8b3d6054" category="list-text">そのタイプのすべてのオブジェクトを一覧表示します。</block>
  <block id="a1ed61bb0432fb6b25e4789166744818" category="list-text"><block ref="57e9ee33b6310b193ba789f5dada20cc" prefix="" category="inline-code"></block></block>
  <block id="aa5aa416edde45fdd91bf4eff5a47d7f" category="list-text">指定したオブジェクトの詳細を取得します。</block>
  <block id="a02439ec229d8be0e74b0c1602392310" category="section-title">投稿（ Post ）</block>
  <block id="fe25634ce7a9cad53e5d4b1d7a3039a6" category="list-text"><block ref="bb2b5a5fa2bc8d2525063f1afa7571a5" prefix="" category="inline-code"></block></block>
  <block id="777bb10b09d21c1e8001a8a8aa5767d8" category="list-text">指定したタイプのオブジェクトを作成します。</block>
  <block id="32f68a60cef40faedbc6af20298c1a1e" category="section-title">削除</block>
  <block id="7f43e795c3bf1beb79462cd9164057e4" category="list-text"><block ref="051be5ede889caf3958ca683df6f8d5f" prefix="" category="inline-code"></block></block>
  <block id="99e18f16be02084849198b503c3e3c29" category="list-text">指定したリソースを削除します。</block>
  <block id="9b9ef5337f7c7fbad5389e8b34d3fb1f" category="list-text"><block ref="9b945915b0cddbee22047fd529d642f6" prefix="" category="inline-code"></block></block>
  <block id="f4078e4654ff3cac1121079492b0c3f4" category="list-text">デバッグ出力を有効にします。</block>
  <block id="ca4acdfba197b4053e99386e85bf4cc4" category="list-text"><block ref="818bc08a4822af612b7904cc24a4d3bf" prefix="" category="inline-code"></block></block>
  <block id="5c8767809eb386e1ab0473de8292544f" category="list-text">ロギングレベル（debug、info、warn、error、fatal）を設定します。デフォルトは info です。</block>
  <block id="4da29764ff4997096420f0ae6861b27c" category="list-text"><block ref="4012723fd7948507761ae4f00f8a6ce5" prefix="" category="inline-code"></block></block>
  <block id="7db7db05fbaa2896d81a59e8f38fc27a" category="list-text">このオプションまたは<block ref="b88c1426ddf914ab0ed819649aed75fc" prefix=" " category="inline-code"></block> をクリックしてKubernetesのサポートを有効にしこれを設定すると、 Trident はポッドの Kubernetes サービスアカウントのクレデンシャルを使用して API サーバに接続します。これは、サービスアカウントが有効になっている Kubernetes クラスタで Trident がポッドとして実行されている場合にのみ機能します。</block>
  <block id="1d0a1baeeb99a2ab2b62995cd2ca3fc7" category="list-text"><block ref="b9d0a374603a1c8cc2464bf870d134f0" prefix="" category="inline-code"></block></block>
  <block id="4248fc4f101e2b3fe6bdb19065701fa5" category="list-text"><block ref="5cc3c48cd4a7b7c28609e7cad16a63c6" prefix="" category="inline-code"></block></block>
  <block id="fc3445d927bff3ae43a549a8e6534c5c" category="list-text">Dockerプラグインの登録時に使用するドライバ名。デフォルトはです<block ref="16dfba14481ba8b67fd1c1d9e0f32d2a" prefix=" " category="inline-code"></block>。</block>
  <block id="fc9918a81547fe43ace70de85a7bebac" category="list-text"><block ref="3c296b703ef0b6971051fafa0adeec00" prefix="" category="inline-code"></block></block>
  <block id="65ec7391e16f9bd6e659149b86819a17" category="list-text">UNIXドメインソケットではなく、このポートでリッスンします。</block>
  <block id="9489e1104464d83e0ce20703b6791e94" category="list-text"><block ref="5fe5cde67e990859d4973ee6fedbf6f0" prefix="" category="inline-code"></block></block>
  <block id="edd29d0afafb06480d68d40a7a22ffa5" category="list-text">必須。バックエンド構成ファイルへのパスを指定する必要があります。</block>
  <block id="668ae2bb5fbfb42f8d89e94482a4de47" category="list-text"><block ref="786783eafb02594c9668a3cbbc65d473" prefix="" category="inline-code"></block></block>
  <block id="46fedf27957de15ad13ad14b25adb901" category="list-text">TridentのRESTサーバがリスンするアドレスを指定します。デフォルトは localhost です。localhost で聞いて Kubernetes ポッド内で実行しているときに、 REST インターフェイスにポッド外から直接アクセスすることはできません。使用<block ref="dfbd0635d992733a865e819be2cf08be" prefix=" " category="inline-code"></block> RESTインターフェイスにポッドのIPアドレスからアクセスできるようにするため。</block>
  <block id="99f1d9ee8daaf03f69217b44950e3442" category="list-text"><block ref="ca77c8464c642146b691455db7a16df6" prefix="" category="inline-code"></block></block>
  <block id="33be5112b1ca3c0147264576f7d2e571" category="list-text">TridentのRESTサーバがリスンするポートを指定します。デフォルトは 8000 です。</block>
  <block id="a2714fafd1caea03119590a34bc711c6" category="list-text"><block ref="79d400f844e73cb6e88dabddc36edc38" prefix="" category="inline-code"></block></block>
  <block id="14d37f351bc2789fc70a93a3114308f0" category="list-text">RESTインターフェイスを有効にします。デフォルトは true です。</block>
  <block id="ad989553d20159458528f9cbeec280ac" category="section-title">KubernetesとNetApp製品の統合</block>
  <block id="c15968f29ef9905b44c7b9f373e75568" category="paragraph">NetAppのストレージ製品ポートフォリオは、Kubernetesクラスタのさまざまな要素と統合されているため、高度なデータ管理機能が提供され、Kubernetes環境の機能、機能、パフォーマンス、可用性が強化されます。</block>
  <block id="5051760a43d66d77d01c7a8eb030e7e1" category="paragraph"><block ref="c3736e0f766925817ef4f34af9c72365" category="inline-link-macro-rx"></block> は、NetApp ONTAPストレージオペレーティングシステムを基盤とするファイルシステムを起動して実行できる、フルマネージドのAWSサービスです。</block>
  <block id="29ec7bd31b1a1379b78d9898d947d73d" category="paragraph"><block ref="c5e53d3a8d8d3c363071213b1e4da969" category="inline-link-rx"></block> は、ネットアップが提供するエンタープライズクラスの Azure ファイル共有サービスです。要件がきわめて厳しいファイルベースのワークロードも、ネットアップが提供するパフォーマンスと充実のデータ管理機能を使用して、 Azure でネイティブに実行できます。</block>
  <block id="047d03a544a1cc3e86aff90177fbd63a" category="paragraph"><block ref="003ebe68b90d9dc2aab9b61b702f9f9b" category="inline-link-macro-rx"></block> は、クラウドで ONTAP データ管理ソフトウェアを実行するソフトウェア型ストレージアプライアンスです。</block>
  <block id="7630fd61eebe4d79cfa82d81963940d7" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block> ストレージ管理者は、パフォーマンスを保証し、ストレージの設置面積を合理化することで、ワークロードを統合できます。</block>
  <block id="d2a67136c7c7e990d18b8e71635d0395" category="paragraph"><block ref="59c437b3f3e5b14b78b208acb3b663e2" category="inline-link-macro-rx"></block> 日常業務を自動化し、インフラ管理者がより重要な業務に集中できるようにすることで、データセンターの管理と拡張を簡易化します。</block>
  <block id="7b02ea300aef2e0bff0d7f6111053284" category="example-title">NetApp ONTAP</block>
  <block id="c034280f677ad8e09361e26a1f0d8b2e" category="paragraph"><block ref="8c73590b5c61238f85244f0e29214d94" category="inline-link-macro-rx"></block> は、NetAppのマルチプロトコルユニファイドストレージオペレーティングシステムで、あらゆるアプリケーションに高度なデータ管理機能を提供します。</block>
  <block id="ee4805b45f3a791791c675c82c73c1b6" category="paragraph"><block ref="081bcd7924bd528b9799fd1b1389158c" prefix="" category="inline-code"></block></block>
  <block id="301f920ee13f1cef29f1c14dacf94c4b" category="list-text"><block ref="ff2bddd61609f26dc3255408781890ad" prefix="" category="inline-code"></block>、<block ref="a4b374188b5bbba3f37deccc51421bd4" prefix=" " category="inline-code"></block></block>
  <block id="4927d7c110c03787d6a128bc5245a451" category="list-text">を指定します。<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> コマンドをローカルまたはKubernetesクラスタ間で実行するパス。</block>
  <block id="9858b15df593f3960e8b74b5eb680bf0" category="admonition">または、<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> 特定のKubernetesクラスタと問題をポイントする変数<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> そのクラスタにコマンドを送信します。</block>
  <block id="76ea0bebb3c22822b4f0dd9c9fd021c5" category="section-title">作成</block>
  <block id="1183069eacde609c309c6652f2abbc57" category="paragraph"><block ref="4bf60056ad290949d881334e46fe9fc1" prefix="" category="inline-code"></block></block>
  <block id="099af53f601532dbd31e0ea99ffdeb64" category="section-title">削除</block>
  <block id="28b6c04534d74299209efef5ba8ed0e0" category="paragraph"><block ref="f8e353bd7af0b2adee08bd2cfca86ee4" prefix="" category="inline-code"></block></block>
  <block id="b5eda0a74558a342cf659187f06f746f" category="section-title">取得</block>
  <block id="3880097e6e3ace364060bd1a3502034a" category="paragraph"><block ref="5af35d698576fbd6e910714628ae9a91" prefix="" category="inline-code"></block></block>
  <block id="fbb9ff314555260bd6ce75e7fefe007a" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：ボリュームのヘルプ。<block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix=" " category="inline-code"></block>：クエリを下位のソースボリュームに制限します。<block ref="aed2a4a749284f757648f1057abf44cd" prefix=" " category="inline-code"></block>:クエリをボリュームの下位に制限します。</block>
  <block id="59b514174bffe4ae402b3d63aad79fe0" category="section-title">イメージ</block>
  <block id="15e57263073fbab8a5c17df2199514fa" category="paragraph"><block ref="1a4565f84c3ef7acc3e88c3af0bf4b12" prefix="" category="inline-code"></block></block>
  <block id="8373216d773ee6fe75393fa84e1e92c6" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>:画像のヘルプ。<block ref="47fa03ef5536c5573b137cec5adc2d39" prefix=" " category="inline-code"></block>、<block ref="afb81ccdb6e6d78674d516ee32b89981" prefix=" " category="inline-code"></block>: Kubernetesクラスタのセマンティックバージョン。</block>
  <block id="f6c534966bc7687e0c87134d025f8837" category="section-title">ボリュームをインポートします</block>
  <block id="7627836f99f91110fe4d92a0cf45f490" category="paragraph"><block ref="9fe05f98df27b42476862d09511bd0d7" prefix="" category="inline-code"></block></block>
  <block id="9ab81f57823f6aeb02362291f23883e6" category="list-text">エイリアス</block>
  <block id="501eadc7c3c034b710e1a4d2a417bbce" category="list-text"><block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix="" category="inline-code"></block>、<block ref="9e3669d19b675bd57058fd4664205d2a" prefix=" " category="inline-code"></block></block>
  <block id="346218c412dda8bcf2f8fc06030abee5" category="list-text"><block ref="5338b151154663bac9980b0f044518f2" prefix="" category="inline-code"></block>、<block ref="33781a1644c3eb60bb229660536cb79b" prefix=" " category="inline-code"></block>: YAMLまたはJSON PVCファイルへのパス。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：ボリュームのヘルプ。<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>：PV/PVCのみを作成します。ボリュームのライフサイクル管理を想定しないでください。</block>
  <block id="19ad89bc3e3c9d7ef68b89523eff1987" category="section-title">をインストールします</block>
  <block id="1adc393db1e6b77c875ecd4c669772ec" category="paragraph"><block ref="190ae106b0b18c5bb8b5f3bdc39dacb9" prefix="" category="inline-code"></block></block>
  <block id="2165e4fa5bddb65a31f6a0c495c2fa37" category="section-title">ログ</block>
  <block id="0fc4d21e21006115d42b2d6aa4451ffa" category="paragraph"><block ref="8815a52aa2be7be3d51559b2366dc8e1" prefix="" category="inline-code"></block></block>
  <block id="2541d938b0a58946090d7abdde0d3890" category="section-title">送信</block>
  <block id="6faa54b930cd3447550e2f6a2be621bb" category="paragraph"><block ref="c68774a474a551b5788d1c1e26d3dcd0" prefix="" category="inline-code"></block></block>
  <block id="48df24d35784c5df52ab82ba6f257549" category="list-text"><block ref="ee64de1ad50d8209e64ee58b23e27986" prefix="" category="inline-code"></block>：ネットアップにAutoSupport アーカイブを送信します。</block>
  <block id="fe98497efedbe156ecc4b953aea77e07" category="section-title">をアンインストールします</block>
  <block id="bab5bdd673e8007bb1451ff83f2d7fbf" category="paragraph"><block ref="f74e9b644f442240b768be80cfac9840" prefix="" category="inline-code"></block></block>
  <block id="ba491d35780f4d2becc7847117f59c9d" category="list-text"><block ref="60072fc2fad0d30fc656850e04c7433f" prefix="" category="inline-code"></block>:アンインストールのヘルプ。<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block>:アンインストール中のほとんどの出力を無効にします。</block>
  <block id="3ac340832f29c11538fbe2d6f75e8bcc" category="section-title">更新</block>
  <block id="8020758b80cef903a0b06e0083b2a43b" category="paragraph"><block ref="8894c4db9cf5d5ac9d439434e0994407" prefix="" category="inline-code"></block></block>
  <block id="2424c0d4857ddcc30f1aabda7294d84f" category="section-title">バックエンドの状態を更新</block>
  <block id="a8692aa823f016402f6459f92e2c343c" category="paragraph"><block ref="1327c48297ec159839f95302f8885592" prefix="" category="inline-code"></block></block>
  <block id="0e43bd2bbbbfb114e0df26c0544f5608" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>:バックエンド状態のヘルプ。<block ref="2be951e4c83b3373b0b76554fd93bb4a" prefix=" " category="inline-code"></block>:に設定<block ref="735fda5d72b5c650f3f0435195a211bd" prefix=" " category="inline-code"></block> バックエンド処理を一時停止します。をに設定します<block ref="fea087517c26fadd409bd4b9dc642555" prefix=" " category="inline-code"></block> バックエンド処理を再開します。に設定すると<block ref="735fda5d72b5c650f3f0435195a211bd" prefix=" " category="inline-code"></block>：</block>
  <block id="4301e504ec5591a4c51fe93e446a7a35" category="paragraph"><block ref="dca46ba7b3ffeb9b51e10f54acbd826d" prefix="" category="inline-code"></block></block>
  <block id="e6e32acf4d56921ac92540101fe00fc9" category="list-text"><block ref="db0e9588c0d46e16e0aea5c50287a54f" prefix="" category="inline-code"></block>:クライアントバージョンのみ(サーバは不要)。<block ref="60072fc2fad0d30fc656850e04c7433f" prefix=" " category="inline-code"></block>:バージョンのヘルプ。</block>
  <block id="34c5f2f84f16f23213713a6adc11c319" category="admonition">初期インストール時にカスタムオプションを設定した場合（TridentイメージとCSIイメージのプライベートなミラーレジストリの指定など）は、<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> コマンド<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block> これらのオプションがupgradeコマンドに含まれるようにするため、それらのオプションの値をdefaultにリセットします。</block>
  <block id="ee68e5b99222bbc29a480fcb0d1d6ee2" category="section-title">前提条件</block>
  <block id="56ae1c25c84da104d5678975802dd9b7" category="list-text">アドオンサブスクリプションがあるAmazon EKSクラスタアカウント</block>
  <block id="3f597c2b0d86deed94c99ef3d5fa4932" category="list-text">AWS MarketplaceへのAWS権限：<block ref="8047af5c1ca81290342558a545113f6e" prefix=" " category="inline-code"></block></block>
  <block id="8ac2d15830983d69c7c62c4d8a69266c" category="list-text">AMIタイプ：Amazon Linux 2（AL2_x86_64）またはAmazon Linux 2 Arm（AL2_ARM_64）</block>
  <block id="68437d1104a05b71c1c25548a95ad946" category="list-text">ノードタイプ：AMDまたはARM</block>
  <block id="63ac2242cb63194d25dd17c30c89f80d" category="list-text">既存のAmazon FSx for NetApp ONTAPファイルシステム</block>
  <block id="46fd403fb7788c53f0de4aa06ccc89d9" category="image-alt">AWS EKS 01</block>
  <block id="153bbcd55aded817c5a331d5acae54eb" category="list-text">[AWS Marketplace add-ons]*にアクセスし、_storage_categoryを選択します。</block>
  <block id="2b1131719d4d8198515b53a0132411fb" category="image-alt">AWS EKS 02</block>
  <block id="5bab8196b750f3260d005a4548bc5de0" category="list-text">必要なアドオンのバージョンを選択します。</block>
  <block id="92f63954b2feb520d9a85c6ac6087ad8" category="image-alt">AWS EKS 03</block>
  <block id="b64079b8570f34f88bca59be352b20e2" category="image-alt">AWS EKS 04</block>
  <block id="bf18811faac9b8e4fcaebab51afd1113" category="list-text">「 * Create * 」を選択します。</block>
  <block id="fa883f8fcd252ea2995457cd82515d03" category="list-text">アドオンのステータスが_Active_であることを確認します。</block>
  <block id="2af6474930eac7fe47a45b3658bef5bf" category="image-alt">AWS EKS 05</block>
  <block id="f3554362e5b550c58586036685aca0f6" category="list-text">Credential-based：このモードでは、ONTAPバックエンドに十分な権限が必要です。事前定義されたセキュリティログインロールに関連付けられたアカウントを使用することを推奨します。例：<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> または<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> ONTAP のバージョンとの互換性を最大限に高めるため。</block>
  <block id="ad8deb3ead6fe765f774fdb1b4d51494" category="list-text">Cloud Identityのサポートが追加されました。</block>
  <block id="1ed2e28ed5e329359ed11fa6b3213f12" category="list-text">ANF-AzureワークロードIDを持つAKは、クラウドIDとして使用されます。</block>
  <block id="685239028773625de0a3fdc18c584dcc" category="list-text">FSxN-AWS IAMロールを持つEKSがクラウドIDとして使用されます。</block>
  <block id="a78644e58f124252a596fb7bd5a3f0e3" category="inline-link-macro">問題#864</block>
  <block id="45691f8c8852e7e9f8cf8e2ca1fd1a31" category="list-text">iSCSIの自己修復を設定および無効にする機能（<block ref="eebe101dfd60623e764ed89e9c35e13c" category="inline-link-macro-rx"></block>）。</block>
  <block id="77a876e8901fcb15dc01c057f3102ab6" category="inline-link-macro">問題#453</block>
  <block id="210645e9f461c75a53d611ad7ca29990" category="list-text">Kubernetes 1.29のサポートを追加。</block>
  <block id="40c23d891efbf79122ffcbfdd4e1fc28" category="inline-link-macro">問題#866</block>
  <block id="b39a2f3ca5558cdf70a39aaa44921e02" category="list-text">ACPが有効になっていない場合、ACPの警告メッセージが修正されました（<block ref="8b8bf8931a263b3cadfea0d794486463" category="inline-link-macro-rx"></block>）。</block>
  <block id="694637a910367ab017767d1135910517" category="list-text">クローンがスナップショットに関連付けられている場合、ONTAPドライバのスナップショット削除中にクローンスプリットを実行する前に10秒の遅延が追加されました。</block>
  <block id="52a6fa0a11a7afe868a3a84e42cff7a1" category="list-text">マルチプラットフォームイメージマニフェストからIn-Tooアテステーションフレームワークを削除しました。</block>
  <block id="1fc7da31107247b07ab3abf335b217de" category="section-title">23.10の変更点</block>
  <block id="154244be43a4ba50080a256f5657b29a" category="list-text">Trident をで使用する際によく発生する問題です<block ref="4568986ef6397d7c901269fc0e190ede" category="inline-link-rx"></block> テナントとクライアントのシークレットが、必要な権限がないアプリケーションの登録から取得された場合です。Tridentの要件の一覧については、 <block ref="afedf4ee56554ea6e6b54e6aa206680c" category="inline-link-macro-rx"></block> 設定</block>
  <block id="35140a26b22dd9ba254fba38858d8b10" category="cell">アプリケーション登録からのテナント ID

AKSクラスタで管理IDまたはクラウドIDを使用する場合はオプションです。</block>
  <block id="68aab7c1f293b3f340c21d4598bbf943" category="cell">アプリケーション登録からのクライアント ID

AKSクラスタで管理IDまたはクラウドIDを使用する場合はオプションです。</block>
  <block id="6224cbf7bf787bd81b6e12ade1b5069a" category="cell">アプリケーション登録からのクライアントシークレット

AKSクラスタで管理IDまたはクラウドIDを使用する場合はオプションです。</block>
  <block id="cdc0ef7f865a8837e4fd99ce3898f1d8" category="example-title">AKSのクラウドID</block>
  <block id="1b6104dea07d224d6a76ba8bd88c586a" category="paragraph">このバックエンド構成では、<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>および<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>は、クラウドIDを使用する場合はオプションです。</block>
  <block id="5d8ab765262318f7f87e5cd620d93290" category="cell"><block ref="ac68bbf921d953d1cfab916cb6120864" prefix="" category="inline-code"></block></block>
  <block id="294c3bfe0dc32c17126646089c93a92b" category="cell">AWS FSx for ONTAPの構成ファイルでは、次の項目を指定できます。
-<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>：AWS FSxファイルシステムのIDを指定します。
-<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>：AWS APIリージョン名。
-<block ref="9af4d8381781baccb0f915e554f8798d" prefix=" " category="inline-code"></block>：AWS APIキー。
-<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block>：AWSシークレットキー。</block>
  <block id="5e68d0f0226c4c9d8020f95ced71ffab" category="cell"><block ref="68b329da9893e34099c7d8ad5cb9c940" prefix="" category="inline-code"></block>

<block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block><block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block><block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block></block>
  <block id="81b346d529f22abdfcb669de82986dfd" category="cell"><block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix="" category="inline-code"></block></block>
  <block id="c5a638166e3b5bb902803f0060f0d2dd" category="inline-link-macro">AWS Secrets Managerシークレットの作成</block>
  <block id="484067c59b1fa950e362a90fd416c89e" category="example-title">SMBホリユウムノストレエシクラスノセツテイ</block>
  <block id="fa4eb54eedf6fea69ec183c4e2199a4d" category="paragraph">ドライバーの詳細については、を参照してください。 <block ref="4093b6d0ce8cf414637a02002d2b0376" category="inline-link-macro-rx"></block> および <block ref="276422a40a581e9842304216329765d5" category="inline-link-macro-rx"></block>。</block>
  <block id="506c2c0c7f5b70af3df68c45c46f45a7" category="paragraph">例：</block>
  <block id="400e51795e42b1bfc94a14aeeeacc04a" category="paragraph">次の環境変数を使用して、* cloud provider *フラグと* cloud identity *フラグの値を設定します。</block>
  <block id="c5ac38b2b362dbfd1b55bdb2b7e9375b" category="list-text">AKS Kubernetesクラスタに設定されたワークロードIDとoidc-issuer</block>
  <block id="919b714a25b423ceadcf231ff05b607b" category="paragraph">次の環境変数を使用して、* cloud-provider（CP）*フラグと* cloud-identity（CI）*フラグの値を設定します。</block>
  <block id="91a7e225ea23690e36a162b9c8a45058" category="paragraph"><block ref="256d12880dee7515c7ed6253fd0a228a" prefix="" category="inline-code"></block><block ref="a5f4eea4d47cf2db58f43a66329ecf1e" prefix=" " category="inline-code"></block></block>
  <block id="d7e54271baba05c2253c5c79a6155965" category="list-text">すべてのKubernetesワーカーノードに適切なNFSツールをインストールしておく必要があります。を参照してください <block ref="f1f954e59a21e3ffe189e77dd2ee9f86" category="inline-link-macro-rx"></block> 詳細：</block>
  <block id="d1b5b194ace83d9f896d8f8b6765def5" category="list-text">すべての Kubernetes ワーカーノードに適切な iSCSI ツールをインストールする必要があります。を参照してください <block ref="073953144b84efd85603bb3d49521e06" category="inline-link-macro-rx"></block>。</block>
  <block id="5c0a5e9c97099065874a650cf8c67a66" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>および<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> は、AKSクラスタでクラウドIDを使用する場合はオプションです。</block>
  <block id="9837781971083d3fe119b0217014d301" category="list-text">Azureがサポートされます<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> を1つ以上含むデータセンターを展開します<block ref="c5f14b2142014dc234282a513132bad4" category="inline-link-rx"></block>。Trident 22.01の時点では<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> パラメータは、バックエンド構成ファイルの最上位にある必須フィールドです。仮想プールで指定された場所の値は無視されます。</block>
  <block id="30cce5213fe0e4b50d664920d7075cdf" category="inline-link">ユーザーが割り当てた管理ID</block>
  <block id="345615c7e1785c38b1b2d2aadeef42bb" category="list-text">を使用してください<block ref="12e3f82975710931e07ec1b3138bd8bf" prefix=" " category="inline-code"></block>、<block ref="032e8204d9a4acfa22151783caa18894" prefix=" " category="inline-code"></block> Aから<block ref="f857b557e72afd63cd1e3ca2faab2a5b" category="inline-link-rx"></block> そのIDを<block ref="ab6b275be02c02a9982cb7a0c234629e" prefix=" " category="inline-code"></block>。</block>
  <block id="75d6668e40a552149b5d5868b03080c8" category="paragraph">。<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block> バックエンド固有の設定パラメータを使用します。この例では、バックエンドはを使用します<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> storage driverおよびでは、に示す構成パラメータを使用します。ご使用のストレージドライバの設定オプションのリストについては、 <block ref="5f2d139eefa7c36061f4d97161be02ea" category="inline-link-macro-rx"></block>。</block>
  <block id="733aa7fe5deef27d1cb0828cff0f17bd" category="admonition">インストール方法を切り替える前に、 <block ref="d7d87809bc6e1001ccd94c7433d28fd5" category="inline-link-macro-rx"></block>。</block>
  <block id="948c2cbef9ba6f931735e6eef2d86eba" category="list-text">詳細については、を参照してください <block ref="04cf7258a315ca08f4b436c194fef69d" category="inline-link-macro-rx"></block>。</block>
  <block id="1eb921add61b9e1c5fcaf8272bb52ec6" category="admonition">OpenShift Container PlatformでTridentオペレータを使用してアップグレードする場合は、Trident 21.01.1以降にアップグレードする必要があります。21.01.0 でリリースされた Trident オペレータには、 21.01.1 で修正された既知の問題が含まれています。詳細については、<block ref="bcebcdd21adcbb3d7c640d63a711c6fb" category="inline-link-rx"></block>。</block>
  <block id="99c0f28c38ebd0826265cfd120e75cce" category="cell">をに設定します<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block> AKSクラスタで管理対象IDまたはクラウドIDを使用する場合。EKSクラスタでクラウドIDを使用する場合は、「aws」に設定します。</block>
  <block id="0b79806f5a5d5ddd87cd1bd2a28f965c" category="cell"><block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix="" category="inline-code"></block></block>
  <block id="746996e3c70ac1447e486f6c9fc0fac2" category="admonition">ポッドパラメータのフォーマットの詳細については、を参照してください。 <block ref="7b3a69fdac08c769183925679da4c365" category="inline-link-macro-rx"></block>。</block>
  <block id="87405c3bcad617fc620ddcd9d59cee14" category="example-title">AKSクラスタ上のクラウドID</block>
  <block id="26f5586d25dc46e2526fe898341970ac" category="example-title">EKSクラスタ上のクラウドID</block>
  <block id="2a2c6cbf201e7fa0935ec1e8b243cca1" category="cell">ポッド用の追加のノードセレクタ。を参照してください <block ref="4b8785cedf610e3d8df57f69213f93a8" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="8a00a4799d11edabcb628da338d295ce" category="cell">ポッドに対するKubernetesの許容範囲を上書きします。を参照してください <block ref="4b8785cedf610e3d8df57f69213f93a8" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="bf490af1c404d2415dfe93c23b646bfb" category="admonition">PSSは、Podセキュリティポリシー（PSP）に代わるものです。PSPはKubernetes v1.21で廃止され、v1.25で削除されます。詳細については、を参照してください。 <block ref="18a97095ea40d42decd22f31a2040afe" category="inline-link-macro-rx"></block>。</block>
  <block id="8711d10d95f02e2915623a51693eaaac" category="cell">CSIでは、マウントポイントが双方向である必要があります。つまり、Tridentノードポッドで特権コンテナを実行する必要があります。詳細については、を参照してください <block ref="36e6e997c8e1e33355ee35fb5cf65f2b" category="inline-link-macro-rx"></block>。</block>
  <block id="9ec97307849e95766ab72c5a34828c08" category="list-text">。<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> パラメータは、SAN LUNに必要なファイルシステムタイプを制御する場合に使用します。また、Kubernetesでは、の機能も使用されます<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> ファイルシステムが存在することを示すために、ストレージクラスに格納します。ボリューム所有権は、を使用して制御できます<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> ポッドのセキュリティコンテキスト（使用する場合のみ）<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> が設定されます。を参照してください <block ref="7940a62969e5aeae7f6e32b04e7a11e3" category="inline-link-macro-rx"></block> を使用したボリューム所有権の設定の概要については、を参照してください<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> コンテキスト（Context）。Kubernetesでが適用されます<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> 次の場合のみ値を指定します</block>
  <block id="c2b0df577877e25491f6e1ed397c87df" category="list-text">を参照してください <block ref="7c28a1514d14039d3824999236c4890d" category="inline-link-macro-rx"></block> ボリューム拡張の詳細については、を参照してください。</block>
  <block id="d7b7b183151bdcc8d68efef8a53c02cb" category="list-text">Tridentをアンインストールするには、を使用します<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block> コマンドであるTridentポッドが削除されましたが、作成されたSSDはクリーンアップされません。を参照してください <block ref="3e5b286354565ddfee44ed92d763b424" category="inline-link-macro-rx"></block> Trident を完全に削除して再構成する方法を理解する。</block>
  <block id="7a82af4e68a9aca0b21f107f4c0836ee" category="paragraph">これらのオブジェクトの作成方法の詳細については、を参照してください。 <block ref="2e76dfee6bc1b5ee4173b3c5bbcd99e5" category="inline-link-macro-rx"></block>。</block>
  <block id="1894d1b67a8b86d7f876f515c238d5a6" category="paragraph">リソースクォータの詳細については、を参照してください。 <block ref="1fb556021be57083646a3e3c0079c64c" category="inline-link-macro-rx"></block>。</block>
  <block id="7cc1edf2116d94e97b8f4a69079de132" category="list-text">Anthosオンプレミス（VMware）とAnthos（ベアメタル1.16）</block>
  <block id="eca0dda5d40cf62b4a73c50deab2520c" category="inline-link-macro">KubeVirt</block>
  <block id="cd41030284d3ee7b99fc16831ed79650" category="paragraph">ONTAP ストレージシステムの最大ボリューム数は、ソフトウェアのバージョンとハードウェアプラットフォームによって異なります。を参照してください<block ref="bb9c67b5a4c15a85b5e6aa6c9afd0285" category="inline-link-rx"></block> 具体的な制限については、使用しているプラットフォームと ONTAP のバージョンに対応しています。ボリューム数を使い果たした場合、 Trident のプロビジョニング処理だけでなく、すべてのストレージ要求に対してプロビジョニング処理が失敗します。</block>
  <block id="ed108e0380671c3131e1a4795b982a45" category="paragraph">Quality of Service （ QoS ；サービス品質）は、競合するワークロードによって重要なワークロードのパフォーマンスが低下しないようにします。ONTAP の QoS ポリシーグループには、ボリュームに対する QoS オプションが用意されており、ユーザは 1 つ以上のワークロードに対するスループットの上限を定義できます。QoSの詳細については、を参照してください。<block ref="721a1778a2025ec5868484b3888c0186" category="inline-link-rx"></block>。
QoS ポリシーグループはバックエンドまたはストレージプールに指定でき、そのプールまたはバックエンドに作成された各ボリュームに適用されます。</block>
  <block id="acd73d692aa90cacfe480ba8ba39cd5d" category="paragraph">ブロックサイズと帯域幅は、 IOPS に直接影響します。ブロックサイズが大きくなると、システムはそのブロックサイズを処理するために必要なレベルまで帯域幅を増やします。帯域幅が増えると、システムが処理可能な IOPS は減少します。を参照してください<block ref="c8976c50ed9f016849fdce232777cd31" category="inline-link-rx"></block> QoS およびパフォーマンスの詳細については、を参照してください。</block>
  <block id="4e9b156e7e2788c8cd4b0877fd922657" category="inline-link-macro">24.02</block>
  <block id="6cc5c9e930ea3d3b8bff4367c60ceea4" category="cell">2025年2月</block>
  <block id="be90349da04be71a620e68314d810f7f" category="cell">2026年2月</block>
  <block id="4b7cb6c36399bdd4e8724de18a1c079b" category="cell">2027年2月</block>
  <block id="bcb8f00239af2cecd5a6b534dabea922" category="paragraph"><block ref="bcb8f00239af2cecd5a6b534dabea922" category="inline-link-macro-rx"></block></block>
  <block id="62bc04158f931e9b0a26f5676c8ab043" category="paragraph"><block ref="62bc04158f931e9b0a26f5676c8ab043" category="inline-link-macro-rx"></block></block>
  <block id="054e161b9c33938d4cac2bab4e4d46b8" category="paragraph">Kubernetes クラスタに 64 個を超えるノードがある場合は、複数のアクセスグループを使用する必要があります。各アクセスグループには最大 64 個の IQN を含めることができ、各ボリュームは 4 つのアクセスグループに属することができます。最大 4 つのアクセスグループを設定すると、クラスタ内の任意のノードから最大 256 ノードのサイズのすべてのボリュームにアクセスできるようになります。ボリュームアクセスグループの最新の制限については、を参照してください。<block ref="ac4000c3a85e5909daa6593f9f0617fd" category="inline-link-rx"></block>。</block>
  <block id="2284dc5d4add6f82e5bc0121aa82a816" category="list-text">azure-netapp-filesストレージドライバでAzure Managed Identities（AMI）を使用するためのサポートが追加されました。</block>
  <block id="f77d4be42f8ef9e2474d677786cf6d7a" category="paragraph">クラウドIDを使用すると、Kubernetesポッドは、明示的なAzureクレデンシャルを指定するのではなく、ワークロードIDとして認証することでAzureリソースにアクセスできます。</block>
  <block id="088be2b53cfa8710d751578d273c4af0" category="paragraph">AzureでクラウドIDを活用するには、以下が必要です。</block>
  <block id="33176aeb27c41088051f460946356423" category="inline-link-macro">NFSツールのインストール</block>
  <block id="a0b90bbc60c78003c8f066892446e127" category="paragraph"><block ref="5dac8bb8705e3a30615e678be90a7f1d" category="inline-link-macro-rx"></block> を使用している場合：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>、<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>。</block>
  <block id="dd1774ab705fcc0738f7d5cfa8176115" category="paragraph"><block ref="918981963bb555a1b3a006c12fd13637" category="inline-link-macro-rx"></block> を使用している場合：<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>。</block>
  <block id="e007fb329975dfac9458f3defd0f7fc1" category="inline-link-macro">NVMeツールをインストールする</block>
  <block id="fd7af40a7e3f81bfb0a51eac257dc730" category="paragraph"><block ref="8ac92b41418caf5b4c74c2a77a0c349a" category="inline-link-macro-rx"></block> を使用している場合<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> Non-Volatile Memory Express（NVMe）over TCP（NVMe/TCP）プロトコルの場合。</block>
  <block id="50f9796c3e95f29464ed077bb59ca6a5" category="cell"><block ref="a1edaea62dbed344534369e9668223b1" prefix="" category="inline-code"></block></block>
  <block id="d3ee0f95ea35db45a8c5d2deb96b4eb9" category="cell">iSCSIの自己修復が実行される間隔。</block>
  <block id="d2393ee8411e83742fc73a79660d81ba" category="cell"><block ref="48899b1fc217fef67f8c9c11d2af0800" prefix="" category="inline-code"></block></block>
  <block id="5368476cef8604c12ee3f8a741319473" category="cell"><block ref="85fc372a514da766ce84a222668f8e62" prefix="" category="inline-code"></block></block>
  <block id="a5c601ef1c412054e22a761067edb9da" category="cell">iSCSIの自己修復が、ログアウトとその後のログインを実行して古いセッションの解決を開始するまでの時間。</block>
  <block id="e1bd8a641f8c3114c2698aa76942b621" category="cell"><block ref="4fe853d0c57c2a118a755c207068b052" prefix="" category="inline-code"></block></block>
  <block id="d03a790fb20fccc8b27cff74c7a10709" category="section-title">iSCSI自己回復の設定または無効化</block>
  <block id="160cc91d68e6399b864fe236e7a6d11e" category="list-text">* iSCSIの自己修復間隔*：iSCSIの自己修復を実行する頻度を指定します（デフォルト：5分）。小さい数値を設定することで実行頻度を高めるか、大きい数値を設定することで実行頻度を下げることができます。</block>
  <block id="af6999fe88eb0d5f3cf5f3c7570bf014" category="paragraph">iSCSIの自己修復間隔を0に設定すると、iSCSIの自己修復が完全に停止します。iSCSIの自己修復を無効にすることは推奨しません。iSCSIの自己修復が意図したとおりに機能しない、またはデバッグ目的で機能しない特定のシナリオでのみ無効にする必要があります。</block>
  <block id="fe240a869a7a9e3bdc68d460aa116db2" category="list-text">* iSCSI自己回復待機時間*：正常でないセッションからログアウトして再ログインを試みるまでのiSCSI自己回復の待機時間を決定します（デフォルト：7分）。健全でないと識別されたセッションがログアウトされてから再度ログインしようとするまでの待機時間を長くするか、またはログアウトしてログインしてからログインするまでの時間を短くするように設定できます。</block>
  <block id="7c3dfaf40c8f6c1208932661e70ca6b2" category="paragraph">iSCSIの自己修復設定を構成または変更するには、<block ref="a1edaea62dbed344534369e9668223b1" prefix=" " category="inline-code"></block> および<block ref="85fc372a514da766ce84a222668f8e62" prefix=" " category="inline-code"></block> helmのインストール中またはhelmの更新中のパラメータ。</block>
  <block id="ba53a946a5e7dedfdc75a569107f3a66" category="paragraph">次の例では、iSCSIの自己修復間隔を3分、自己修復の待機時間を6分に設定しています。</block>
  <block id="c67fd1b99934afa248dfeb285a9a4191" category="open-title">Tridentctl</block>
  <block id="03c688458c87383f238f17223a52f7bd" category="paragraph">iSCSIの自己修復設定を構成または変更するには、<block ref="95df96489cc6481c74d24c1397e3edd9" prefix=" " category="inline-code"></block> および<block ref="4ad3b66813348b71002bd232a403581c" prefix=" " category="inline-code"></block> tridentctlのインストールまたは更新中のパラメータ。</block>
  <block id="38999be4c01ec9d8c11d4405b7dc50e0" category="inline-link-macro">24.06</block>
  <block id="94d267f658e04734eb2e098127293a89" category="cell">2025年6月</block>
  <block id="c21446b3ecfb30ed6c2760d686bd4578" category="cell">2026年6月</block>
  <block id="2f57a6988da045d1c26e2c5016ad0900" category="cell">2027年6月</block>
  <block id="7b5dfababf92391b5761944c63b0d3bb" category="cell">Kubernetesのバージョン</block>
  <block id="5e2619e85dc9af38c2b7180c37168571" category="list-text">クラスタでKubernetes 1.24を実行している場合は、を使用し<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>ます。</block>
  <block id="60e3300406400d9ca307bbe9538cb66f" category="list-title">考慮すべきポイント</block>
  <block id="ce48e23c21c781fc1bd260f1c6bbd0e9" category="list-text">TridentBackendConfig（tbc）を使用してバックエンドを作成した場合、ファイルを使用してバックエンドを更新することはできません<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 。</block>
  <block id="965425a47916235e6c935104c9e64bca" category="list-text">がtbcに設定されている場合<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> は、コマンドを使用して変更することはできません<block ref="ce232749b55d6999ffb5cc1feb6c69fe" prefix=" " category="inline-code"></block> 。</block>
  <block id="6969443eb58685fd2ba47dd82c688dfb" category="list-text">を使用して<block ref="30ef4d8d0d0cb9218c8f70ca2b7ee7bc" prefix=" " category="inline-code"></block> を変更し<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>ます。またはファイルを使用して更新することもでき<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> ます。これにより、バックエンドの完全な再初期化がトリガーされ、時間がかかる場合があります。</block>
  <block id="b2b04010a7e4a8486d987f6e074cde45" category="list-text"><block ref="befb9ef08cd8fda4bc507ccd6a523a43" prefix="" category="inline-code"></block><block ref="301cd7c7419443b2c9c5d87f6865f0cb" prefix=" " category="inline-code"></block> 一時停止しています。</block>
  <block id="15ba7f861a25848aeb7a04303194c22a" category="list-text"><block ref="c76dd551d0df4615489f4840c234db4e" prefix="" category="inline-code"></block>、<block ref="4956c0b34c154301cbe111d75fb939f9" prefix=" " category="inline-code"></block>、<block ref="37ca7faad054353aadc61e64e55b4dac" prefix=" " category="inline-code"></block>、<block ref="9a288381ee12262ef127ccbaeb520730" prefix=" " category="inline-code"></block>、、<block ref="db66912e8bdff8f12b8b75883aeb66ef" prefix=" " category="inline-code"></block><block ref="752d336f53e6d74a5e509dd00eb2a627" prefix=" " category="inline-code"></block><block ref="871b40b0d12fe47d3ce4d2bbfa30ccc5" prefix=" " category="inline-code"></block>、、<block ref="4c7dd4b0f1074705d27d812563c98768" prefix=" " category="inline-code"></block>、<block ref="70850d0d4fbd8b67815a4598d5655a4d" prefix=" " category="inline-code"></block>、、<block ref="c4e5752b58b7f7b1c92a5302a0940801" prefix=" " category="inline-code"></block><block ref="7c976338db43771fa6048705880496ea" prefix=" " category="inline-code"></block> 引き続き使用できます。</block>
  <block id="6ca35db8eab6c30e03e715e99d3c1d11" category="paragraph">バックエンド構成ファイルまたはのフィールドを使用して、バックエンドの状態を更新することもできます<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>。詳細については、およびを参照して <block ref="991ae6fba57a2359d4e338d48b85301c" category="inline-link-macro-rx"></block> <block ref="d39ea29671737dc4c6f8b362e0ace309" category="inline-link-macro-rx"></block>ください。</block>
  <block id="c26fe677a830587ef1c141567a86c86a" category="paragraph">* 例： *</block>
  <block id="4c8c9b9d93d68dc932195b1aa0583910" category="paragraph">ファイルを使用してを更新するには、次の手順を実行し<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> ます。</block>
  <block id="13cf048f75b63ff6bd6513e6ceb81fe0" category="list-text">ファイルを編集して<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 、値が「中断」に設定されたフィールドを含め<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> ます。</block>
  <block id="a0c475f6592b0a660cc2db104d607b3f" category="paragraph">tbcが適用されたら、コマンドを使用して編集できます<block ref="cdf774783c0eec7f2639a3c0d70d29ff" prefix=" " category="inline-code"></block> 。次に、オプションを使用してバックエンド状態をsuspendに更新する例を示し<block ref="c7d1d8826ecea15bd2786371bbe65f70" prefix=" " category="inline-code"></block> ます。</block>
  <block id="68fed7a5dad5dbe38e73f242591f9cdc" category="inline-link-macro">問題#341</block>
  <block id="79695bf027de5b53252ad567db19afc0" category="list-text">**重要**：<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block> ONTAPエコノミードライバでqtree / LUNのサイズが制限されるようになりました。これらのドライバのFlexVolサイズを制御するには、新しいパラメータを使用し <block ref="c8f83e727d4a4255a6485c24776e86bb" prefix=" " category="inline-code"></block> ます。<block ref="43e193e4ec566def2b1890b13e291e7f" category="inline-link-macro-rx"></block>()。</block>
  <block id="f8a74109e040a7d2fe11f386046e7f0f" category="inline-link-macro">問題#883</block>
  <block id="d9b039cc0482c40024b1c3e5b5bfab48" category="list-text">廃止されたigroupを使用している場合に、iSCSIの自己修復機能で正確なLUN IDでSCSIスキャンを開始できるようになりました（<block ref="1db457cca48a821c9957caae88cdf1d0" category="inline-link-macro-rx"></block>）。</block>
  <block id="624c548303efc06e3245885cb046ce02" category="list-text">バックエンドが中断モードの場合でもボリュームのクローン処理とサイズ変更処理を実行できるようになりました。</block>
  <block id="53e2f13be42e180fc96be9feca214cc0" category="list-text">新しい永続ボリュームのONTAPストレージバックエンドでのカスタムボリューム名とメタデータのサポートが追加されました。</block>
  <block id="f22dddc969b204ba1f08fd5b6dccf9e5" category="list-text">NFSマウントオプションがNFSバージョン4.xを使用するように設定されている場合に、（ANF）ドライバがデフォルトでSnapshotディレクトリが自動的に有効になるように拡張されました<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> 。</block>
  <block id="b480f0e15ab56f178942ac571ef3d0b4" category="list-text">NFSボリュームに対するBottlerocketのサポートが追加されました。</block>
  <block id="2b1f345aa37d468275a96267dbf3cc86" category="list-text">Google Cloud NetApp Volumeのテクニカルプレビューのサポートを追加。</block>
  <block id="d329ee31cea82ba7b18282e9874fd6fb" category="inline-link-macro">問題#849</block>
  <block id="7bdef3d1e5eba62c2c49345689cb034e" category="list-text">LUKSボリュームを動的にインポートするためのPVCアノテーションが追加されました<block ref="36720d50814e4335401b2047257bfedf" prefix=" " category="inline-code"></block> （<block ref="8164e77c784c82617684b3113cbe7b39" category="inline-link-macro-rx"></block>）。</block>
  <block id="88cc43db200dd9a0ba8b9f3d2b3494c5" category="list-text">ANFドライバにトポロジ対応を追加。</block>
  <block id="5f9e29078ffd406f09be67dadfa65c81" category="inline-link-macro">問題#892</block>
  <block id="d2e65e05e52ae58b1bc83b9f92667bc4" category="list-text">kutes()からの警告メッセージを無視するtridentctlを修正しました<block ref="74b3b54ef301f7904eaa2691276657ad" category="inline-link-macro-rx"></block>。</block>
  <block id="6d20ebb6924fd1c28927afadfd523477" category="inline-link-macro">問題#887</block>
  <block id="e0d3d678b5ec46031ee8c6afb7413c9e" category="inline-link-macro">問題[#885</block>
  <block id="62a3f40ae48e77863d3e5bdef59c1adb" category="list-text">NFS v4.1でのANFボリュームのインポートエラーを修正。</block>
  <block id="6a89b6f002954f791e28c8dd2f2afcc8" category="section-title">24.02の変更点</block>
  <block id="4487bf4a5d2565e471a4ac1e0bba9af6" category="cell"><block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix="" category="inline-code"></block></block>
  <block id="d9ecfcade7b244fc0100c0ff4359f5ea" category="cell">このバックエンドでサポートされているリージョンとゾーンのリストを表します。詳細については、を参照してください <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>。</block>
  <block id="65a6416f3ed9552fcc006c830dbeac72" category="example-title">サポートされるトポロジ構成</block>
  <block id="a8d3b70256520cece459d618f0b69d22" category="cell"><block ref="b326b5062b2f0e69046810717534cb09" prefix="" category="inline-code"></block> ONTAP 9.15.1以降の場合は、それ以外の場合は<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。</block>
  <block id="1a917db78e9060d4bb44a3e3d9a60cb3" category="cell"><block ref="feeb5473f4afb4f667dfc9d369c3b454" prefix="" category="inline-code"></block></block>
  <block id="ae7206c28f1d0ee5f9f116f1cfe22c54" category="cell">カスタムボリューム名を作成するためのテンプレート。</block>
  <block id="b797b4560e6c4ae4e13d035bbce23b4d" category="example-title">nameTemplateを使用したバックエンド構成の例</block>
  <block id="f1b9eac8c1d92956d7734db32c5e55d9" category="list-text">Kubernetesノードのグレースフルシャットダウンまたはグレースフルシャットダウン（24.06）</block>
  <block id="3c49604e542827bab74a3fdc9c521379" category="doc">ボリュームの名前とラベルをカスタマイズする</block>
  <block id="52929ef06c83a3071dc677c6076f8eb3" category="paragraph">カスタマイズ可能なボリューム名とラベルのサポート：</block>
  <block id="ba7ad86bd3d0a50a4a04306d941e6c28" category="list-text">ボリュームの作成、インポート、クローニングの各処理。</block>
  <block id="174a7026faf4af3e1ec0eeec9d35af81" category="list-text">ontap-nas-economyドライバの場合、qtreeボリュームの名前だけがテンプレート名に準拠します。</block>
  <block id="12df52676a1d1f4040501d3a804b1a4b" category="list-text">ontap-san-economyドライバの場合、名前テンプレートに準拠するのはLUN名のみです。</block>
  <block id="0ee903e586aac760f5cdfb2c770f936b" category="list-text">カスタマイズ可能なボリューム名は、ONTAPオンプレミスドライバとのみ互換性があります。</block>
  <block id="b3c7ca4cfca79f517812064c1b9b0ef3" category="list-text">カスタマイズ可能なボリューム名は、既存のボリュームには適用されません。</block>
  <block id="4c71628145ace597229ccf6ca6fdc8bf" category="section-title">カスタマイズ可能なボリューム名の主な動作</block>
  <block id="a5a284fe1356005dc517f157bef35adc" category="list-text">名前テンプレートの無効な構文が原因でエラーが発生した場合、バックエンドの作成は失敗します。ただし、テンプレートアプリケーションが失敗した場合は、既存の命名規則に従ってボリュームに名前が付けられます。</block>
  <block id="d654edd1d54bb9458ddce1a8e82a2733" category="list-text">バックエンド構成の名前テンプレートを使用してボリュームの名前が指定されている場合、ストレージプレフィックスは適用されません。任意のプレフィックス値をテンプレートに直接追加できます。</block>
  <block id="7a4b723467d577190f5e83269d9c620a" category="section-title">名前テンプレートとラベルを使用したバックエンド構成の例</block>
  <block id="c08c19c0fe3a67a5a218b1aa469e05ad" category="paragraph">カスタム名テンプレートは、ルートレベルまたはプールレベルで定義できます。</block>
  <block id="12f281b150c6774b77a875b26e355bfc" category="listing-title">ルートレベルの例</block>
  <block id="93a53c76d697da9fb40dcf5571309b51" category="listing-title">プールレベルの例</block>
  <block id="c9181e8d9effc5e3fff6e681bc43f9bb" category="section-title">名前テンプレートの例</block>
  <block id="6834f2805b2a45680a7ae789728955a4" category="paragraph">*例1 *：</block>
  <block id="c0fa2da2f469c0dff06ceac7e749b20d" category="paragraph">*例2 *：</block>
  <block id="e1a1ba8a7f91a9affe2c95b795610ca0" category="list-text">ボリュームインポートの場合、既存のボリュームに特定の形式のラベルがある場合にのみラベルが更新されます。例：<block ref="ac1133297b5ec16017c28f04387bb5c9" prefix=" " category="inline-code"></block>。</block>
  <block id="feddffabbdd5254f9975a1a26a73d651" category="list-text">管理対象ボリュームのインポートの場合、ボリューム名はバックエンド定義のルートレベルで定義された名前テンプレートの後に続きます。</block>
  <block id="e8ce47501426b8525633fc30daf17d7a" category="sidebar">ボリューム名をカスタマイズ</block>
  <block id="bd97885496639b0f4498d4131198ac36" category="list-text">Windows Server 2022ノードのサポートが追加されました。</block>
  <block id="de547bcab0e20f54ec4d5e95ba44b0b1" category="list-text">Windows Server 2022</block>
  <block id="010e61d0b40eeb84b96a1321e8f0bab7" category="cell">ext4、ext3、xfs</block>
  <block id="e422e290c66eca7f882976f830b781b4" category="list-text">Kubernetes 1.30のサポートを追加。</block>
  <block id="190dbae19c88b1e68bf03f7783c5d5d1" category="list-text"><block ref="190dbae19c88b1e68bf03f7783c5d5d1" category="inline-link-rx"></block></block>
  <block id="430c6bcb8516befc45fb8173b0ca4e1f" category="list-text"><block ref="430c6bcb8516befc45fb8173b0ca4e1f" category="inline-link-rx"></block></block>
  <block id="d7d36869f2f4aa1eb99a10008e153f20" category="list-text"><block ref="d7d36869f2f4aa1eb99a10008e153f20" category="inline-link-rx"></block></block>
  <block id="f8b52d963f246a75dc6c8b78c954a4fd" category="list-text"><block ref="f8b52d963f246a75dc6c8b78c954a4fd" category="inline-link-rx"></block></block>
  <block id="b6780b7b2561935ff862fe7126cde751" category="list-text"><block ref="b6780b7b2561935ff862fe7126cde751" category="inline-link-rx"></block></block>
  <block id="b9a641d903e611a87a5e68ac7fdb0b84" category="list-text">Trident AutoSupport は、個人情報（ PII ）や個人情報を収集または送信しません。Tridentコンテナイメージ自体には適用されないが付属して<block ref="173a360b412944768c2ab13e6c8fd1c7" category="inline-link-rx"></block> います。データのセキュリティと信頼に対するネットアップの取り組みについて詳しくは、こちらをご覧<block ref="d3cc55401bc8303e01c6b0c43ba0733f" category="inline-link-rx"></block>ください。</block>
  <block id="5ff83dbc70e496ea22b38ea61bb69f05" category="list-text">のデモをご覧ください <block ref="c27441bbbe62adf51ae6ecec41fde8bd" category="inline-link-macro-rx"></block>。</block>
  <block id="533a7baf9026dddae6baef47ea605b08" category="doc">サンプルアプリケーションのデプロイ</block>
  <block id="c09ee63e688125cf9517a66bb5a0a5a6" category="paragraph">次に、PVCをポッドに接続するための基本的な設定例を示します。*基本設定*：</block>
  <block id="f477db05998ad8420119de646e2ff290" category="doc">IAMロールとAWS Secretを作成する</block>
  <block id="98c3c9acd444d11890d48438db3c165e" category="paragraph">KubernetesポッドがAWSリソースにアクセスするように設定するには、明示的なAWSクレデンシャルを指定する代わりに、AWS IAMロールとして認証します。</block>
  <block id="3f566b5ded6e7ac8c26dd3c07a2ea056" category="admonition">AWS IAMロールを使用して認証するには、EKSを使用してKubernetesクラスタを導入する必要があります。</block>
  <block id="3926fdac6344d565c95f560468946335" category="section-title">IAMポリシーの作成</block>
  <block id="78edc229f8df1c5e0840f6469bc28454" category="paragraph">次の例は、AWS CLIを使用してIAMポリシーを作成します。</block>
  <block id="77f6e3db9b70538186091595d9c8c9e8" category="list-text">EKSアドオン</block>
  <block id="e477faed39be08642267684bb501d931" category="open-title">管理コンソール</block>
  <block id="e8d532dbf6904e2793dbda6fd0d03818" category="list-text">でAmazon EKSコンソールを開きます<block ref="c4765fcd1a0f97cf67c0365ddc45d563" category="inline-link-rx"></block>。</block>
  <block id="cacc1ddf612923b1c73b0a9a76659f42" category="list-text">[Configure selected add-ons* settings]ページで、次の手順を実行します。</block>
  <block id="149e81257342cd05b0256d010b0b4a37" category="list-text">使用する*バージョン*を選択します。</block>
  <block id="dfe4bfc5bd8b8d180411468fbdbb4033" category="list-text">[次へ]*を選択します。</block>
  <block id="fbadf292f84bef20d7678936dbe4c4ce" category="list-text">[確認して追加]ページで、*[作成]*を選択します。</block>
  <block id="46bfc11fb8f185d278ea910b0052a317" category="paragraph">アドオンのインストールが完了すると、インストールされているアドオンが表示されます。</block>
  <block id="7820fdb5d8b3ebe0c69c86cf8bd2d0cf" category="open-title">AWS CLI</block>
  <block id="52b5830420efb96c3a91beb52bac3b23" category="paragraph">*出力例：*</block>
  <block id="b3f252777a69b110667756babe83a98f" category="inline-link-macro">アドオン</block>
  <block id="25626757a73152ece7fdadb90ede4b7c" category="inline-link-macro">Kubernetesフィールド管理</block>
  <block id="751f793ade8de1ed590e0f90ac05d8e1" category="paragraph">オプションを削除し、いずれかのAmazon EKSアドオン設定が既存の設定と競合している場合<block ref="c23ab3adaec8ca15ff3ffd0971be6152" prefix=" " category="inline-code"></block> 、Amazon EKSアドオンの更新は失敗します。競合の解決に役立つエラーメッセージが表示されます。このオプションを指定する前に、管理する必要がある設定がAmazon EKSアドオンで管理されていないことを確認してください。これらの設定はこのオプションで上書きされます。この設定のその他のオプションの詳細については、を参照してください <block ref="aea621f0e078efb8367c5d5e894674cd" category="inline-link-macro-rx"></block>。Amazon EKS Kubernetesフィールド管理の詳細については、を参照してください <block ref="97bdcfd76d2ff3e4855f6b36ebad236e" category="inline-link-macro-rx"></block>。</block>
  <block id="b0c6845b636be8c810182f985c930fed" category="list-text">Amazon EKSコンソールを開き<block ref="c4765fcd1a0f97cf67c0365ddc45d563" category="inline-link-rx"></block>ます。</block>
  <block id="5f06738a5749e735a4681f5c09e2bafc" category="paragraph">次の例では、EKSアドオンを更新します。</block>
  <block id="d8c918c170a0768203b4c2a6218e22bf" category="paragraph">Amazon EKSアドオンを削除するには、次の2つのオプションがあります。</block>
  <block id="577a7d77fb14f745abf0c5ee04b72879" category="admonition">アドオンにIAMアカウントが関連付けられている場合、IAMアカウントは削除されません。</block>
  <block id="c8e9b5ea2470965edac225c56a879d07" category="list-text">[Remove netapp_trident-operator confirmation]*ダイアログで、次の手順を実行します。</block>
  <block id="10aba138eb518a0cc15662934a1f6e18" category="list-text">Amazon EKSでアドオンの設定を管理しないようにするには、*[クラスタに保持]*を選択します。クラスタにアドオンソフトウェアを残して、アドオンのすべての設定を自分で管理できるようにする場合は、この手順を実行します。</block>
  <block id="ecca191ac54751ba8120816fbe45777e" category="list-text">「netapp_trident -operator *」と入力します。</block>
  <block id="bb7c6bde1fc26965ada02923bac65350" category="paragraph">をクラスタの名前に置き換え<block ref="e2eb89f0ffaf521a0d2eeaffca04d117" prefix=" " category="inline-code"></block> 、次のコマンドを実行します。</block>
  <block id="23e0e5bfdd7b1fef2ab4d932aae742e5" category="doc">ストレージバックエンドの設定</block>
  <block id="c3e86b30fe8148143701324ae1595af8" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>：プロビジョニングされる各PVは、それぞれのAmazon FSx for NetApp ONTAPボリューム内のLUNです。ブロックストレージに推奨されます。</block>
  <block id="3878a0c92e55dbd3cdd9458330c2f1c3" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>：プロビジョニングされる各PVは、完全なAmazon FSx for NetApp ONTAPボリュームです。NFSとSMBで推奨されます。</block>
  <block id="eadd7f9188e84053efc871a14d0d3bd6" category="section-title">バックエンドの高度な設定と例</block>
  <block id="ab2e083df601e1b7c7346487158ab13f" category="cell">"`100`"</block>
  <block id="7a5bbb3c815084605b780e0cd6e810fd" category="cell"><block ref="89ffa293e05655bd6be9d422345be38a" prefix="" category="inline-code"></block></block>
  <block id="9817ca035dba7bc4123be2c0bf280d66" category="doc">ストレージクラスとPVCを設定する</block>
  <block id="c3d2188822ac025c91b768888f8af01e" category="paragraph">この例は、という名前のStorageClassに関連付けられたRWXアクセスを持つ基本的なPVCを示しています<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block>。</block>
  <block id="8067a6840467d2024a341120a4e2440e" category="list-text">クレデンシャルベース（推奨）：クレデンシャルをAWS Secrets Managerに安全に格納します。ファイルシステムのユーザ、またはSVM用に設定されているユーザを使用できます<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block><block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> 。</block>
  <block id="53f64465dc89ebfc8f426b3cdf4d1614" category="sidebar">IAMロールとAWSシークレットを作成する</block>
  <block id="0a3c6c3b1b9418c792ec73b934ca8fdd" category="sidebar">ストレージバックエンドの設定</block>
  <block id="50399b7d6597b32502708277dd2be03c" category="sidebar">ストレージクラスとPVCを設定</block>
  <block id="cb4d8d2a5476183e7996047b4bd621a5" category="summary">Google Cloud NetApp VolumeのNFSおよびNFSバックエンド構成オプションについて説明し、構成例を確認します。</block>
  <block id="45868a9cc24b15883bb385cc21568b9c" category="doc">Google Cloud NetApp Volumeのバックエンド構成オプションと例</block>
  <block id="24efddb2a68726b53abbc21ed25602ec" category="cell">の値は<block ref="d45aebe724c55b101f2ae8924ba3d486" prefix=" " category="inline-code"></block> 「google-cloud-netapp-volumes」と指定する必要があります。</block>
  <block id="486c28964f4c2b1cb7d4cf8476c6f43b" category="cell">（オプション）ストレージバックエンドのカスタム名</block>
  <block id="04075132f95c6ef305485ab113422c5a" category="cell">ボリューム作成用のストレージプールを指定するオプションのパラメータ。</block>
  <block id="1713a0b57aa7aa8811b66291bd6740ea" category="cell">ストレージプールとそのボリュームのサービスレベル。値は<block ref="897a779351421523cadbafccdce22efe" prefix=" " category="inline-code"></block>、<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block>、<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block>、または<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block>です。</block>
  <block id="c1a95f00cc65baba0b4226ef5a52eb6c" category="cell">GCNVボリュームに使用されるGoogle Cloudネットワーク。</block>
  <block id="ed9bce6a4d879e7f479badb9932b75b3" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：<block ref="448bcae3131355f9b92b192b1057af2f" prefix=" " category="inline-code"></block>トラブルシューティングを行って詳細なログダンプが必要な場合を除き、このオプションは使用しないでください。</block>
  <block id="95c5fc7684c0c685ae305908e8360de5" category="cell">新しいボリュームのエクスポートルール。IPv4アドレスの任意の組み合わせをカンマで区切って指定する必要があります。</block>
  <block id="3731633acfd0b9fb847e03ce2fdab4fa" category="cell">""（デフォルトの0を使用）</block>
  <block id="f666bd4432d66c3d0a6c3eb68602a507" category="cell">新しいボリュームのUNIX権限（8進数の4桁）。</block>
  <block id="b0663450e547d90a59ef16fd10b49313" category="paragraph">この構成は、Google Cloud NetApp Volumeの使用を開始して試用する場合に最適ですが、実際には、プロビジョニングするボリュームに対して追加の範囲設定が必要になることがよくあります。</block>
  <block id="2d55ceabc505d58735d6f639a0ddee3c" category="example-title">StoragePoolsフイルタヲシヨウシタセツテイ</block>
  <block id="9f50e88dc1b2f50c32d6623a46186422" category="paragraph">このバックエンド構成では、1つのファイルに複数の仮想プールが定義されます。仮想プールは、セクションで定義し<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> ます。さまざまなサービスレベルをサポートする複数のストレージプールがあり、それらを表すストレージクラスをKubernetesで作成する場合に役立ちます。仮想プールラベルは、プールを区別するために使用されます。たとえば、次の例では<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> 、仮想プールを区別するためにラベルと<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block> タイプが使用されています。</block>
  <block id="88b8febb44310d1976318cdfbfc8e272" category="paragraph">また、一部のデフォルト値をすべての仮想プールに適用できるように設定したり、個 々 の仮想プールのデフォルト値を上書きしたりすることもできます。次の例では、<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block><block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> すべての仮想プールのデフォルトとして機能します。</block>
  <block id="6a34de146c5cb15d515a8eccfe1e159a" category="paragraph">詳細については、を参照してください <block ref="2485f0c91682fe52be2f7fb65e682d5e" category="inline-link-macro-rx"></block>。</block>
  <block id="aae18f7253cac406ae284f53b287a9df" category="paragraph">バックエンドが正常に作成されたことを確認するには、次のコマンドを実行します。</block>
  <block id="03b8a172613e4de074d79fb4f46074a3" category="paragraph">バックエンドの作成に失敗した場合は、バックエンドの設定に何か問題があります。バックエンドについては、コマンドを使用して説明するか、次のコマンドを実行してログを表示して原因を特定できます<block ref="229abe1e223382a9207e6c5818f53303" prefix=" " category="inline-code"></block> 。</block>
  <block id="c80946da495de259ca1ba66a90f669f1" category="paragraph">構成ファイルの問題を特定して修正したら、バックエンドを削除してcreateコマンドを再度実行できます。</block>
  <block id="7412fabe1fe110c48954fa7d913c7aa6" category="paragraph">以下は、上記のバックエンドを参照する基本的な定義です<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 。</block>
  <block id="73edba1e6e192a3d47eeb049261cf706" category="paragraph">*フィールドを使用した定義例<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> ：*</block>
  <block id="131942def57ce0eceb784a70e3a3c6b7" category="inline-link-macro">仮想プール</block>
  <block id="21f282d336bd6884d8049de5c63672b5" category="paragraph">を使用する<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> と、ボリュームのホストに使用される各に対してを指定できます<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> <block ref="6679d756882db6798c9460928c0b140b" category="inline-link-macro-rx"></block> 。ボリュームには、選択したプールで定義された要素があります。</block>
  <block id="017c90fe97524fad37b16a935c4a6d93" category="paragraph">ストレージクラスの詳細については、を参照してください <block ref="70514be1adf68f525abe0b1ddd1123f6" category="inline-link-macro-rx"></block>。</block>
  <block id="f9f2eb48a9034cb5dc809b4a8cfe0514" category="section-title">PVC定義の例PVCテイギノレイ</block>
  <block id="1fa71ec0db169cb1ef6cfabf7648910e" category="paragraph">PVCがバインドされているかどうかを確認するには、次のコマンドを実行します。</block>
  <block id="42d7c2849e22a4d78da8b275f64f75aa" category="summary">Google Cloud NetApp Volumeバックエンドを設定する前に、次の要件が満たされていることを確認する必要があります。</block>
  <block id="b50d4e4fb1b847d1270df87e42364fe0" category="doc">Google Cloud NetApp Volumeバックエンドを設定する準備</block>
  <block id="0935df2153a18d9a4776751ebfb7cb82" category="section-title">NFSボリュームノゼンテイジョウケン</block>
  <block id="a03c3224ff98ca5b518f8a11ed9d6f72" category="paragraph">Google Cloud NetApp Volumeを初めてまたは新しい場所で使用している場合は、Google Cloud NetApp VolumeをセットアップしてNFSボリュームを作成するために、いくつかの初期設定が必要です。を参照してください <block ref="d2edeebd0b5ddcd8a293f6eb7960f37c" category="inline-link-macro-rx"></block>。</block>
  <block id="ec8b4b1603705e8f5deb17b1f83c5b04" category="paragraph">Google Cloud NetApp Volumeバックエンドを設定する前に、次の条件を満たしていることを確認してください。</block>
  <block id="1215f8190533dfdf63d2224a6d88266f" category="inline-link-macro">Google Cloud NetAppボリューム</block>
  <block id="cbd1a08f0c7e9ece495b85acebbda95f" category="list-text">Google Cloud NetApp Volumes Serviceで設定されたGoogle Cloudアカウント。を参照してください <block ref="633097af004065de10009ea2f33900c4" category="inline-link-macro-rx"></block>。</block>
  <block id="d602f37c15ba943e502f28694eb5a2b1" category="inline-link-macro">プロジェクトの特定</block>
  <block id="ecf1c0124555e123ac90e38128ef83e5" category="list-text">Google Cloudアカウントのプロジェクト番号。を参照してください <block ref="64c0ff4c5d45f1d3f3d8ce4197eed1cc" category="inline-link-macro-rx"></block>。</block>
  <block id="aa22e5fd0429d1ecf78d5deedf0c6dc8" category="inline-link-macro">IDおよびアクセス管理のロールと権限</block>
  <block id="ef2186bedd233e9b009e5d1764dc1e3c" category="inline-link-macro">ストレージプールの概要</block>
  <block id="33773afc759728866f9a57d82940a56c" category="list-text">ストレージプール。を参照してください <block ref="d347dce2da907b926fcf6a02a7257712" category="inline-link-macro-rx"></block>。</block>
  <block id="dd2c158264290c91be79556252aca308" category="inline-link-macro">Google Cloud NetApp Volumeへのアクセスをセットアップする</block>
  <block id="7cef0ad261753740989fa192df2e19e9" category="paragraph">Google Cloud NetApp Volumeへのアクセスの設定方法の詳細については、を参照してください <block ref="5e9b4ec852ec4a511a1370be58118d01" category="inline-link-macro-rx"></block>。</block>
  <block id="b73a4f3ea8538e5ef0b4078c119b3c8d" category="doc">Google Cloud NetApp Volumeバックエンドの設定</block>
  <block id="23fa813a6884f33dc0d2070ae5260e6a" category="section-title">Google Cloud NetApp Volumesドライバの詳細</block>
  <block id="5ab9649a1218ec1b35bfb38efbeaea76" category="cell"><block ref="94594b2ccbc8e0d220ad37504461650b" prefix="" category="inline-code"></block></block>
  <block id="74d08e13aea757b8172499f067668443" category="paragraph">要求可能な最大ボリュームサイズ。</block>
  <block id="f14a3ef36727dfbbea91c1d6b3fdbede" category="cell"><block ref="c8f83e727d4a4255a6485c24776e86bb" prefix="" category="inline-code"></block></block>
  <block id="33fefa32caf35cd4691465f3592a0539" category="cell">*<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバでのみサポートされています。*ONTAP ONTAP NASエコノミードライバおよびONTAP SANエコノミードライバでFlexVolサイズを制限します。</block>
  <block id="1b75c146ff0568d5fc11072b08cfe580" category="section-title">Tridentで作成されるFlexVolの最大サイズを制限する</block>
  <block id="913d5950907a31c9d3ea6cd0a3b6a524" category="paragraph">ONTAPドライバSAN-EconomyドライバおよびONTAP NAS-Economyドライバのプールとして使用されるFlexVolの最大サイズを設定するには、<block ref="c8f83e727d4a4255a6485c24776e86bb" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>定義でパラメータを使用します。</block>
  <block id="d981d675ba14b9478a2c2da5c7df780b" category="cell">ONTAP SANエコノミーバックエンドでLUNを使用する場合の、要求可能な最大FlexVolサイズ。</block>
  <block id="64049136ec90cc479c7521e9b6e172eb" category="section-title">LUKSボリュームをインポートするためのPVC設定</block>
  <block id="b49b86551096c421a3bc5d3b79eede84" category="paragraph">LUKSボリュームを動的にインポートするには、<block ref="36720d50814e4335401b2047257bfedf" prefix=" " category="inline-code"></block><block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>次の例に示すように、アノテーションをに設定し、LUKS対応のストレージクラスをPVCに含めます。</block>
  <block id="eb80be396693610ba21c23b6b222bb73" category="paragraph">* Tridentをアップグレードする前に考慮すべきポイント*</block>
  <block id="b100864b32a36993557470c9854e7e3a" category="list-text">ノード単位のigroup（23.04以降で導入）のみを使用している場合、iSCSIの自己修復によってSCSIバス内のすべてのデバイスに対してSCSI再スキャンが開始されます。</block>
  <block id="284bb2f9d2596017aa72985df760fdb3" category="list-text">バックエンドを対象としたigroup（23.04で廃止）のみを使用している場合、iSCSIの自己修復によってSCSIバス内の正確なLUN IDのSCSI再スキャンが開始されます。</block>
  <block id="0d6cf1de077f00140ee25c03f94e4805" category="list-text">ノード単位のigroupとバックエンドを対象としたigroupが混在している場合、iSCSIの自己修復によってSCSIバス内の正確なLUN IDのSCSI再スキャンが開始されます。</block>
  <block id="472039bf3422ff2697dba6fc9fdd57d8" category="inline-link-macro">Tridentのサポートライフサイクル</block>
  <block id="c45d9c1b397ff706a7a39c069930c677" category="inline-link">Trident 24.06</block>
  <block id="d0fd12656eeec63fe137c83181c17c0b" category="list-text"><block ref="d0fd12656eeec63fe137c83181c17c0b" category="inline-link-rx"></block></block>
  <block id="45d1e500370372fc7e76e110b5aff92d" category="inline-link">Trident 24.02</block>
  <block id="b735f50352c31f80267e7a6fc57ce804" category="list-text"><block ref="b735f50352c31f80267e7a6fc57ce804" category="inline-link-rx"></block></block>
  <block id="b4dfeb42b5c9816777494eeb7a772461" category="inline-link">Trident 23.10</block>
  <block id="55cad0455da7cf59434d9f8ff225c39b" category="list-text"><block ref="55cad0455da7cf59434d9f8ff225c39b" category="inline-link-rx"></block></block>
  <block id="8806d0d5f26e8a704b5d26c076c531bd" category="inline-link">Trident 23.07</block>
  <block id="9c74a4e8266dd7e50d12a159c32d6b10" category="list-text"><block ref="9c74a4e8266dd7e50d12a159c32d6b10" category="inline-link-rx"></block></block>
  <block id="3a4e6f76b26aa8878f5798aba052777c" category="inline-link">Trident 23.04</block>
  <block id="5bff8eb1dea519dd15a076031fa9f288" category="list-text"><block ref="5bff8eb1dea519dd15a076031fa9f288" category="inline-link-rx"></block></block>
  <block id="5382f4fbc3622ef143d9ddbe033351ab" category="inline-link">Trident 23.01</block>
  <block id="a9425b076f0cf301dc3a2d77e67816ca" category="list-text"><block ref="a9425b076f0cf301dc3a2d77e67816ca" category="inline-link-rx"></block></block>
  <block id="2e0d64f2a4b164112beaf0506070ad85" category="inline-link">Trident 22.10</block>
  <block id="e4c5c8d195d27f073639195f80da50a2" category="list-text"><block ref="e4c5c8d195d27f073639195f80da50a2" category="inline-link-rx"></block></block>
  <block id="42b023f127a09218e58c2611e2e34ce2" category="inline-link">Trident 22.07</block>
  <block id="7f7bdec4905ccd8d5a077969d0b77fd5" category="list-text"><block ref="7f7bdec4905ccd8d5a077969d0b77fd5" category="inline-link-rx"></block></block>
  <block id="c48696f9d5a5a881f7f2f08fd40ce424" category="summary">ここでは、Tridentのインストール、設定、アップグレード、トラブルシューティングに関するFAQを紹介します。</block>
  <block id="d9aca3de44ae0828dd89d53663e6e4c8" category="section-title">Tridentはどのくらいの頻度でリリースされますか。</block>
  <block id="d68e1eab03012de1cfe733b0e5a56e0a" category="paragraph">24.02リリース以降、Tridentは2月、6月、10月の4カ月ごとにリリースされます。</block>
  <block id="0f7d5cbd339fb02ad7b6d2052778b76c" category="section-title">Tridentは、特定のバージョンのKubernetesでリリースされたすべての機能をサポートしていますか。</block>
  <block id="0393f24e9d90badf5195c5d59c8cab27" category="paragraph">Tridentは通常、Kubernetesのアルファ機能をサポートしていません。Trident は、 Kubernetes ベータリリースに続く 2 つの Trident リリースでベータ機能をサポートしています。</block>
  <block id="c05993771d3f4855968becac69b33f44" category="section-title">Tridentの機能に関して、他のNetApp製品との依存関係はありますか。</block>
  <block id="206d5ff7336a8540d7a581ba45c5f83f" category="paragraph">Tridentは、他のNetAppソフトウェア製品との依存関係はなく、スタンドアロンアプリケーションとして機能します。ただし、ネットアップのバックエンドストレージデバイスが必要です。</block>
  <block id="95bcf2f0f55536798451f058ec6640a9" category="section-title">Trident構成の完全な詳細情報を取得するにはどうすればよいですか。</block>
  <block id="67323698ba39f83a63a92758f63e8080" category="paragraph">Trident構成に関する詳細情報を取得するには、コマンドを使用し<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block>ます。</block>
  <block id="d29b114bc457427dcaea77aacc90fe8a" category="section-title">Tridentでのストレージのプロビジョニング方法に関する指標は取得できますか。</block>
  <block id="61d2a329cdb6694d83cd5fbf5dc02f7a" category="paragraph">はい。管理対象のバックエンド数、プロビジョニングされたボリューム数、消費されたバイト数など、Trident処理に関する情報を収集するために使用できるPrometheusエンドポイント。を監視および分析に使用することもできます<block ref="7a2477b8055ecdaa4bd473b0556bcb2a" category="inline-link-macro-rx"></block>。</block>
  <block id="9bdccce3d8a96585da41b41f9a8a35ea" category="section-title">TridentをCSIプロビジョニングツールとして使用すると、ユーザエクスペリエンスは変化しますか？</block>
  <block id="09c8fb7656ad21dac196205f70094681" category="paragraph">いいえ。ユーザーエクスペリエンスと機能に関しては変更はありません。使用されるプロビジョニングツール名はです<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block>。現在および将来のリリースで提供されるすべての新機能を使用する場合は、この方法でTridentをインストールすることを推奨します。</block>
  <block id="804e1070c55dcfc75cbde5cbcb86c3ba" category="section-title">KubernetesクラスタへのTridentのインストールと使用</block>
  <block id="df316d84e969d52af02710ec31df7055" category="section-title">Tridentはプライベートレジストリからのオフラインインストールをサポートしていますか。</block>
  <block id="5e05991e14fd9934a724121da40f5b98" category="inline-link-macro">Tridentのインストールについて</block>
  <block id="d55b9ba8a4efff113044f9efe0557e0c" category="paragraph">はい、Tridentはオフラインでインストールできます。を参照してください <block ref="ed3eb8298d3a91b1400b1be26865f5ec" category="inline-link-macro-rx"></block>。</block>
  <block id="75ac7954ef399713139c894c431e4116" category="section-title">Tridentをリモートでインストールできますか。</block>
  <block id="cab0813b2ef0c2dc3e0c17505f73a2f2" category="paragraph">はい。Trident 18.10以降では、クラスタにアクセスできる任意のマシンからのリモートインストール機能がサポートされます<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。アクセスが確認されたら<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>（たとえば、リモートマシンからコマンドを実行し<block ref="1513e62b9eb7bbfc46c1be1a91a2ab76" prefix=" " category="inline-code"></block>て確認する）、インストール手順に従います。</block>
  <block id="50434308d8b9fc89f708232cb5e9cf87" category="section-title">Tridentでハイアベイラビリティを構成できますか。</block>
  <block id="d4a0a879bb58dfc0d2dd69374d278afe" category="paragraph">Tridentはインスタンスが1つのKubernetesデプロイメント（ReplicaSet）としてインストールされるため、HAが組み込まれています。デプロイメント内のレプリカの数を増やすことはできません。Tridentがインストールされているノードが失われた場合やポッドにアクセスできない場合、Kubernetesはポッドをクラスタ内の正常なノードに自動的に再導入します。Tridentはコントロールプレーンのみであるため、現在マウントされているポッドはTridentを再導入しても影響を受けません。</block>
  <block id="b23db7e049824adf28d5d2d6839ee268" category="section-title">Tridentはkube-systemネームスペースにアクセスする必要がありますか。</block>
  <block id="685a0ffaaa9ec81b2c31846cbf192282" category="paragraph">TridentはKubernetes APIサーバから読み取り、アプリケーションが新しいPVCを要求するタイミングを判断するため、kube-systemへのアクセスが必要になります。</block>
  <block id="0df447334013f5ccae9c82a00df9508a" category="section-title">Tridentで使用されるロールとPrivilegesを教えてください。</block>
  <block id="8b1b2eab4c453e6c69faf86b91b46898" category="section-title">Tridentがインストールに使用するマニフェストファイルをローカルで生成できますか。</block>
  <block id="b633901fb93d2b4cb35254a9764dd626" category="paragraph">必要に応じて、Tridentがインストールに使用するマニフェストファイルをローカルで生成および変更できます。を参照してください <block ref="ddc7df443077796093efdaf5a64d03cd" category="inline-link-macro-rx"></block>。</block>
  <block id="176cc68bd86878bb1bde4c3e72b4c315" category="section-title">2つの独立したKubernetesクラスタで、2つの独立したTridentインスタンスで同じONTAPバックエンドSVMを共有できますか。</block>
  <block id="55c5d3092c2cf2c38eb0a708eefb8486" category="section-title">TridentをContainerLinux(旧CoreOS)にインストールすることはできますか?</block>
  <block id="ed71f481574b61f58ec3289a77e224fa" category="paragraph">Tridentは単なるKubernetesポッドであり、Kubernetesが実行されている場所にインストールできます。</block>
  <block id="42fb91822adc98aa7764157cc987363a" category="section-title">NetApp Cloud Volumes ONTAPでTridentを使用できますか。</block>
  <block id="c8e65f25ae4e876dc9b834240dd90ae1" category="paragraph">はい。Tridentは、AWS、Google Cloud、Azureでサポートされています。</block>
  <block id="563c8f675c158ed1e8fb653c2a5b0d16" category="section-title">TridentはCloud Volumes Servicesと連携しますか。</block>
  <block id="2d0bdf474b915de478abc990596c76bd" category="paragraph">はい。Tridentは、AzureのAzure NetApp FilesサービスとGCPのCloud Volumes Serviceをサポートしています。</block>
  <block id="adb6af04aac45867d68bb2c3bc1e7b0d" category="section-title">NetAppはTridentをサポートしていますか。</block>
  <block id="2dcb58c8d0e9bfa26fd8a13a709eed09" category="paragraph">Tridentはオープンソースで無料で提供されていますが、NetAppバックエンドがサポートされていれば、NetAppは完全にサポートしています。</block>
  <block id="42bfc6e3acd67192d42135138102a1de" category="inline-link">Trident Github の利用</block>
  <block id="c2146fea25aea76bae1b5853f60a2f87" category="paragraph">問題を作成し<block ref="47273b71915582ec6db59ad21099cfb9" category="inline-link-rx"></block>、問題の件名と説明に*RFE*を記載します。</block>
  <block id="f976373ae689e994b60c082fe0210016" category="paragraph">で問題を作成し<block ref="47273b71915582ec6db59ad21099cfb9" category="inline-link-rx"></block>ます。問題に関連する必要なすべての情報とログを記録しておいてください。</block>
  <block id="e3c42f7edef4d44b3a12f0876d080b65" category="section-title">Tridentに関する簡単な質問があり、説明が必要な場合はどうなりますか？コミュニティやフォーラムはありますか？</block>
  <block id="5249e7d2220ef48adc4e11f3ae5e102a" category="paragraph">ご質問、問題、ご要望がございましたら、TridentまたはGitHubからお問い合わせ<block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>ください。</block>
  <block id="85fb3cc3c008776a14e8adea3419b79d" category="section-title">ストレージシステムのパスワードが変更され、Tridentが機能しなくなりました。どうすれば回復できますか？</block>
  <block id="590f1c54e9cee50de3f69ae3604e432e" category="section-title">TridentでKubernetesノードが見つかりません。この問題を解決するにはどうすればよいですか</block>
  <block id="b114148f5ef97af6ffb82c1edfaa1775" category="paragraph">TridentがKubernetesノードを検出できない可能性があるシナリオは2つあります。Kubernetes または DNS 問題内のネットワーク問題が原因の場合もあります。各 Kubernetes ノードで実行される Trident ノードのデデーモンが Trident コントローラと通信し、 Trident にノードを登録できる必要があります。この問題は、Tridentのインストール後にネットワークの変更が発生した場合、クラスタに追加された新しいKubernetesノードでのみ発生します。</block>
  <block id="c2147118d3a3e64452475171765d47d0" category="section-title">Tridentのアップグレード</block>
  <block id="aa11aafa4155b6c4a3e62b5b9c8abc7b" category="paragraph">NetAppでは、Tridentをあるメジャーリリースから次のメジャーリリースにアップグレードできます。バージョン 18.xx から 19.xx 、 19.xx から 20.xx にアップグレードできます。本番環境の導入前に、ラボでアップグレードをテストする必要があります。</block>
  <block id="e651aace307e5b2d6047fa19dd9ebc49" category="inline-link-macro">Tridentのアンインストール</block>
  <block id="c8d8623e1862e33460131e0b358e25c4" category="paragraph">アップグレード、依存関係の問題、またはアップグレードの失敗または不完全な実行後に見つかったバグの修正が必要な場合は、そのバージョンに固有の手順を使用して以前のバージョンを再インストールする必要があります<block ref="e618ba4d3d6ecf34e3de22934d88cfd8" category="inline-link-macro-rx"></block>。これは、以前のバージョンにダウングレードするための唯一の推奨方法です。</block>
  <block id="bdee9022b73039d7d36eb214d473b6a5" category="list-text">ONTAP SAN：iSCSIには指定しないでください。Tridentは、を使用して<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>、マルチパスセッションの確立に必要なiSCI LIFを検出します。が明示的に定義されている場合は、警告が生成され<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>ます。詳細については、を参照してください <block ref="823b6e1f172888081aece7b5cdeb0e03" category="inline-link-macro-rx"></block> 。</block>
  <block id="931fb9ef9e2f0b2e60b412c93e32bdb2" category="section-title">TridentはONTAPバックエンド用にCHAPを構成できますか。</block>
  <block id="6a7447005192022403df540c4a76b8df" category="paragraph">はい。Tridentは、ONTAPバックエンドに対して双方向CHAPをサポートしています。これには、バックエンド構成での設定が必要です<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block>。</block>
  <block id="e04360e9c1c0a231ee50fb6bc2440ab0" category="section-title">Tridentを使用してエクスポートポリシーを管理するにはどうすればよいですか。</block>
  <block id="0f719cc4fb105f34258976d892e8bfe9" category="paragraph">Tridentでは、バージョン20.04以降でエクスポートポリシーを動的に作成および管理できます。これにより、ストレージ管理者はバックエンド構成に 1 つ以上の CIDR ブロックを指定でき、 Trident では、その範囲に含まれるノード IP を作成したエクスポートポリシーに追加できます。このようにして、Tridentは、所定のCIDR内にIPを持つノードのルールの追加と削除を自動的に管理します。</block>
  <block id="d9e938c59af9d6ebf3b10c2ba625470e" category="paragraph">Tridentは次のIPv6アドレスの定義をサポートします</block>
  <block id="c92ee98f27fea35d4b40d8e58cff3e23" category="paragraph">TridentをIPv6で機能させるには、フラグ（インストール用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>）、（Tridentオペレータ用）、<block ref="fdb7cb8f657426e7c409bfd6d1a36ce4" prefix=" " category="inline-code"></block>または（Helmインストール用）<block ref="b63589bf34442180f04a6b46488afa6d" prefix=" " category="inline-code"></block>を使用してインストールする必要があります<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block>。</block>
  <block id="b0ebe39ab16d0aea1148ebc2abc3e6d7" category="section-title">Trident for Kubernetesで複数のバックエンドを作成できますか。</block>
  <block id="9d813dd9dc4f8a97f4735e4e7780283c" category="paragraph">Tridentは、同じドライバでも異なるドライバでも、多数のバックエンドを同時にサポートできます。</block>
  <block id="dc7c8edffb370f5f952a2787e0381ad6" category="section-title">Tridentはバックエンドクレデンシャルをどのように保存しますか。</block>
  <block id="3b5102f815723b1b94a1969ac254470a" category="paragraph">Tridentは、バックエンドクレデンシャルをKubernetesシークレットとして保存します。</block>
  <block id="c68b08bc6f1bd9bc3f8b4d3e4e81ca78" category="section-title">Tridentはどのようにして特定のバックエンドを選択しますか。</block>
  <block id="1facd0eb6221a85a854aa93123529773" category="section-title">Tridentが特定のバックエンドからプロビジョニングされないようにするにはどうすればよいですか。</block>
  <block id="8fd7e30f04618e679c684df3dd0bebeb" category="paragraph">パラメータを<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>使用して、Tridentがプロビジョニングに使用する一連のプールをフィルタリングし、に一致するプールをすべて削除します。</block>
  <block id="64eb982f45f5cfa602f8a3e7d69f000d" category="section-title">同じ種類のバックエンドが複数ある場合、Tridentはどのようにして使用するバックエンドを選択しますか。</block>
  <block id="c5864ef434aa44689b2af37a1e9af5c7" category="paragraph">同じタイプの設定済みバックエンドが複数ある場合、Tridentはおよび<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>のパラメータに基づいて適切なバックエンドを選択します<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>。たとえば、ONTAP - NASドライバのバックエンドが複数ある場合、Tridentは、およびの<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>パラメータを照合し、および<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>に記載されている要件を提供できるバックエンドを<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>照合し<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>ます。要求に一致するバックエンドが複数ある場合、Tridentはそのうちの1つをランダムに選択します。</block>
  <block id="d458942a0a2872de7232f879c70d5c72" category="section-title">TridentはElement / SolidFireで双方向CHAPをサポートしていますか。</block>
  <block id="c92811de6c03f5ad483962308676ecf1" category="section-title">Tridentでは、どのようにしてONTAPボリュームにqtreeを導入しますか。1 つのボリュームに配置できる qtree の数はいくつですか。</block>
  <block id="e516c194a6ef04e00986e6105285f3a6" category="paragraph">Tridentによってプロビジョニングされるボリュームに対してUNIX権限を設定するには、バックエンド定義ファイルにパラメータを設定します。</block>
  <block id="389f296dbf77d0f86dfe8a06d526c127" category="paragraph">Tridentでは、Kubernetesではデフォルトでマウントオプションがどの値にも設定されません。Kubernetesストレージクラスでマウントオプションを指定するには、次の例を参照して<block ref="29e04d8356a523f6fc836193630ad63e" category="inline-link-macro-rx"></block>ください。</block>
  <block id="99c8f2d04c19fdc0a232b7482cfee080" category="section-title">ONTAPを使用したTridentによるボリューム暗号化の設定方法を教えてください。</block>
  <block id="73b2a012b43089e1665c476788027e1c" category="inline-link-macro">TridentとNVEおよびNAEとの連携</block>
  <block id="cbf898bcb5d9e5595fd3bc81ec6e29ad" category="paragraph">Trident によってプロビジョニングされたボリュームで暗号化を設定するには、バックエンド定義ファイルの暗号化パラメータを使用します。詳細については、以下を参照してください。<block ref="419c27d13476c7b2e51e83cf6c88459f" category="inline-link-macro-rx"></block></block>
  <block id="ec2427ac714a740c73f10dfde2363075" category="section-title">Tridentを使用してONTAPのQoSを実装する最良の方法はどれですか。</block>
  <block id="540b44f12eb5cca80bd7e9128aeede6c" category="section-title">Tridentでシンプロビジョニングまたはシックプロビジョニングを指定するにはどうすればよいですか。</block>
  <block id="37a1da11b0f4b3ebef0df195d2fbccd5" category="section-title">Tridentで作成されたNFS PVCを拡張できますか。</block>
  <block id="e99a58cb2fd51c2db5c9598c04a5f53c" category="paragraph">はい。Tridentによって作成されたPVCを拡張できます。ボリュームの自動拡張は ONTAP の機能であり、 Trident には適用されません。</block>
  <block id="c15d8f156ba84321c880b1bbe78dc0c7" category="paragraph">Kubernetes ストレージリソースクォータは、ネットアップストレージの容量があるかぎり機能します。容量不足が原因でNetAppストレージがKubernetesクォータ設定に対応できない場合、Tridentはプロビジョニングを試行しますがエラーが発生します。</block>
  <block id="08ec89166861e10bdf4e2bf3bcb7a150" category="section-title">Tridentを使用してボリュームSnapshotを作成できますか。</block>
  <block id="64f5059234f21b014e1c442be4f03052" category="paragraph">はい。Tridentでは、オンデマンドのボリュームSnapshotとSnapshotからの永続的ボリュームの作成がサポートされています。スナップショットからPVSを作成するには、フィーチャーゲートが有効になっていることを確認し<block ref="e7b29a25284a6f582881023fdc0cbe93" prefix=" " category="inline-code"></block>ます。</block>
  <block id="669e09edc60383401e0adf3ce0cefcf3" category="section-title">Tridentボリュームスナップショットをサポートするドライバを教えてください。</block>
  <block id="54b8b99690e4f103a6d2f9967cadcd72" category="section-title">TridentでONTAPを使用してプロビジョニングされたボリュームのSnapshotバックアップを作成する方法を教えてください。</block>
  <block id="3d68d8607ffd54f10e7dd693bb2b8a16" category="section-title">TridentでプロビジョニングされたボリュームにSnapshotリザーブの割合を設定できますか。</block>
  <block id="423b8287d49f26ac095593b58d3d9e69" category="paragraph">はい。バックエンド定義ファイルで属性を設定することで、Tridentを使用してSnapshotコピーを格納するために特定の割合のディスクスペースをリザーブできます<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>。を設定し、<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>バックエンド定義ファイルでスナップショット予約の割合が設定されている場合は<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>、バックエンドファイルで指定されている割合に従って設定され<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>ます。パーセンテージ番号が指定されていない場合<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>、ONTAPはデフォルトでスナップショット予約のパーセンテージを5とします。この<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>オプションをnoneに設定すると、Snapshotリザーブの割合は0に設定されます。</block>
  <block id="4bfa28359ad130e5906ee7d785f1b314" category="section-title">Tridentを使用してボリューム用にSnapMirrorを設定できますか。</block>
  <block id="567994f58882dceaeab9400ad2bdf7e2" category="paragraph">ネットアップでは、さまざまな方法で Trident をサポートしています。ナレッジベース（KB）記事やDiscordチャネルなど、24時間365日利用可能な無料のセルフサポートオプションをご用意しています。</block>
  <block id="925ebc19538c47a22c7fcbf3d4f16838" category="paragraph">Tridentでは、バージョンに応じて3つのレベルのサポートを提供しています。を参照してください <block ref="1b35655e5fe9e8bdc0fd2a18d7e5a06c" category="inline-link-macro-rx"></block>。</block>
  <block id="bcf42b210ffb66f788559ec05bd3978c" category="list-text">Tridentは、リリース日から12か月間フルサポートを提供します。</block>
  <block id="c4672ccc07d08b01842ba7bff5ab9012" category="list-text">Tridentでは、リリース日から13~24カ月目に限定的なサポートを提供しています。</block>
  <block id="c6fc0d89ce850093b5d2e987955ba870" category="list-text">Tridentのマニュアルは、リリース日から25～36カ月目に入手できます。</block>
  <block id="e9c4cf1c3d2fd7e6c0a13bfe44d8e785" category="inline-link-macro">24.10</block>
  <block id="17ab7ccda1012696aabc01e478bd7612" category="cell">2027年10月</block>
  <block id="1e441e2a6ea2842643d9b8f88e32aebf" category="paragraph"><block ref="1e441e2a6ea2842643d9b8f88e32aebf" category="inline-link-macro-rx"></block></block>
  <block id="d2196853cebe173567df4b864e4816f7" category="paragraph"><block ref="d2196853cebe173567df4b864e4816f7" category="inline-link-macro-rx"></block></block>
  <block id="62c93f738b926db77daa59d585fbfa48" category="paragraph">トラブルシューティング記事の包括的なリストについては、を参照してください<block ref="57f5c759ada931c6a2051314ca6ee99e" category="inline-link-rx"></block>。</block>
  <block id="9cc21385e3a5bbf0e140948125e39e4c" category="paragraph">コンテナユーザ（Trident開発者を含む）の活発なパブリックコミュニティがネットアップにあります<block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>。プロジェクトに関する一般的な質問をしたり、同じような気のある同僚と関連するトピックについて話し合うのには、この場所が最適です。</block>
  <block id="b27fcb3adc5d56564559e3f24a9659c8" category="paragraph">Tridentのサポートが必要な場合は、を使用してサポートバンドルを作成し<block ref="1d41e2024c69110ad6054ffc785ca8e0" prefix=" " category="inline-code"></block>、に送信してください<block ref="da34ca64df3f236a423516102d4096c2" prefix=" " category="inline-code"></block>。</block>
  <block id="40d95260a6bcacc40a23df4576b97ec8" category="inline-link-macro">Tridentブログ</block>
  <block id="e476cbfc1ce1aee033e17376d6942cf3" category="paragraph">NetApp for Tridentで使用されているサードパーティの著作権およびライセンスは、の各リリースのNOTICESファイルで確認できます<block ref="4a3c8c5a408c6db1c44c04391a8a0a2f" category="inline-link-rx"></block>。</block>
  <block id="52eb48d8202a6d184f86997bcbd937cf" category="summary">Tridentでのプロビジョニングには2つのフェーズがあります。最初のフェーズでは、ストレージクラスを適切なバックエンドストレージプールのセットに関連付け、プロビジョニング前の必要な準備として実行します。2番目のフェーズではボリュームの作成自体が行われ、保留状態のボリュームのストレージクラスに関連付けられたストレージプールの中からストレージプールを選択する必要があります。</block>
  <block id="90bec6679868d1d43c3f2f5d9905165f" category="paragraph">バックエンドストレージプールをストレージクラスに関連付けるには、ストレージクラスの要求された属性と、<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>の<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>リストの両方が<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>必要です。ストレージクラスを作成すると、 Trident はバックエンドごとに提供される属性とプールを、ストレージクラスから要求された属性とプールと比較します。ストレージプールの属性および名前が要求されたすべての属性およびプール名と一致すると、Tridentはそのストレージクラスに適した一連のストレージプールにそのストレージプールを追加します。さらに、Tridentは、リストに表示されているすべてのストレージプールをそのセットに追加します<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>。これは、ストレージクラスの要求された属性のすべてまたはいずれかを属性が満たさない場合でも同様です。このリストを使用して、ストレージクラスでのストレージプールの使用を無効にしたり削除したりする必要があり<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>ます。Tridentでは、新しいバックエンドを追加するたびに同様のプロセスが実行され、そのストレージプールが既存のストレージクラスのストレージクラスを満たしているかどうかがチェックされ、除外としてマークされているものは削除されます。</block>
  <block id="252902d6f7f664b44722075296d3ce49" category="paragraph">Tridentでは、ストレージクラスとストレージプールの関連付けを使用して、ボリュームのプロビジョニング先を決定します。ボリュームを作成すると、Tridentはまずそのボリュームのストレージクラスに対応する一連のストレージプールを取得します。ボリュームにプロトコルを指定すると、要求されたプロトコルを提供できないストレージプールはTridentによって削除されます（たとえば、NetApp HCI / SolidFireバックエンドではファイルベースのボリュームを提供できず、ONTAP NASバックエンドではブロックベースのボリュームを提供できません）。Tridentは、この結果セットの順序をランダム化してボリュームを均等に分散し、その順序を繰り返して各ストレージプールでボリュームのプロビジョニングを試みます。成功した場合は正常に返され、プロセスで発生したエラーが記録されます。Tridentは、要求されたストレージクラスとプロトコルで使用可能な*すべての*ストレージプールでのプロビジョニングに失敗した場合にのみ、エラー*を返します。</block>
  <block id="6cba37a64b3872e40e12212479ca8ece" category="summary">Tridentがドライバのボリュームスナップショットを作成する方法の詳細については、こちらを参照してください。</block>
  <block id="e5200dca1b3eb1315befdc6f874d5143" category="list-text">ドライバと<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバを使用する場合、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ONTAPスナップショットはFlexVolのポイントインタイムコピーであり、FlexVol自体のスペースを消費します。その結果、ボリューム内の書き込み可能なスペースが、 Snapshot の作成やスケジュール設定にかかる時間を短縮できます。この問題に対処する簡単な方法の 1 つは、 Kubernetes を使用してサイズを変更することでボリュームを拡張することです。もう 1 つの方法は、不要になった Snapshot を削除することです。Kubernetesで作成されたボリュームSnapshotを削除すると、Tridentは関連付けられているONTAP Snapshotを削除します。Kubernetes で作成されていない ONTAP スナップショットも削除できます。</block>
  <block id="9f049d4909391d7f977c1fc9b8c6db8f" category="paragraph">Tridentでは、ボリュームSnapshotを使用して新しいPVSを作成できます。これらの Snapshot から PVS を作成するには、サポート対象の ONTAP および CVS バックエンドに対して FlexClone テクノロジを使用します。SnapshotからPVを作成する場合、元のボリュームはSnapshotの親ボリュームのFlexCloneになります。<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>ドライバは、Elementソフトウェアのボリュームクローンを使用してSnapshotからPVSを作成します。ここで、 Element Snapshot からクローンを作成します。</block>
  <block id="962da67bee9575fc006f5d69c948f63a" category="summary">仮想プールは、TridentのストレージバックエンドとKubernetesのStorageClassesの間に抽象化レイヤを提供します。ストレージクラスを作成することなく、管理者は各バックエンドの場所、パフォーマンス、保護などの側面を共通のバックエンドに依存しない方法で定義できます。 StorageClass は、目的の基準を満たすために使用する物理バックエンド、バックエンドプール、またはバックエンドタイプを指定する必要はありません。</block>
  <block id="6dc68c3b2f9d6c276fc86090da3220f5" category="paragraph">仮想プールは、TridentストレージバックエンドとKubernetesの間の抽象化レイヤを提供します<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。管理者は、必要な基準を満たすために使用する物理バックエンド、バックエンドプール、またはバックエンドタイプを指定することなく、バックエンドに依存しない共通の方法で、各バックエンドの場所、パフォーマンス、保護などの側面を定義でき<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="63e606feac51f51c118b9ea9da3584dc" category="paragraph">ストレージ管理者は、任意のTridentバックエンド上の仮想プールをJSONまたはYAML定義ファイルで定義できます。</block>
  <block id="acd6bcd484ba971a72536c22c06f04e2" category="summary">Tridentでのボリュームアクセスグループの使用方法の詳細については、こちらを参照してください。</block>
  <block id="6a460593bdfb0144320bef6fdd1b2472" category="paragraph">Tridentの使用方法の詳細については、こちらをご覧<block ref="783dd6ea9e0b09c84db9ccd072a61c55" category="inline-link-rx"></block>ください。</block>
  <block id="1ce858ea946af658f2db231318e1c74e" category="admonition">CHAP を使用する場合は、このセクションを無視してください。 CHAP では、管理を簡易化し、以下に説明する拡張の制限を回避することが推奨されます。また、TridentをCSIモードで使用している場合は、このセクションを無視してかまいません。Tridentは、拡張CSIプロビジョニングツールとしてインストールされている場合にCHAPを使用します。</block>
  <block id="547d4fe433ab9ed2223dfe9c48379548" category="paragraph">Tridentでは、ボリュームアクセスグループを使用して、プロビジョニングするボリュームへのアクセスを制御できます。CHAPが無効な場合は、構成で1つ以上のアクセスグループIDを指定しないかぎり、というアクセスグループが検索され<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>ます。</block>
  <block id="33a94edb76f0383c1d244a8698373b50" category="paragraph">Tridentは、新しいボリュームを設定済みのアクセスグループに関連付けますが、アクセスグループ自体の作成や管理は行いません。アクセスグループは、ストレージバックエンドをTridentに追加する前に存在している必要があります。また、そのバックエンドでプロビジョニングされるボリュームをマウントできる可能性があるKubernetesクラスタ内のすべてのノードのiSCSI IQNが含まれている必要があります。ほとんどのインストール環境では、クラスタ内のすべてのワーカーノードがこれに含まれます。</block>
  <block id="6049f954e4284100050b26e9f3fb772e" category="list-text">推奨される管理プラグイン方式を使用して（コマンドを使用して）Tridentを実行している場合は<block ref="fb3421df1496105acc8a14808359550b" prefix=" " category="inline-code"></block>、次のように表示します。</block>
  <block id="e391df7d288176b307da8db0c4d91ae5" category="summary">Trident for Dockerは、NetAppストレージプラットフォームのDockerエコシステムと直接統合できます。ストレージプラットフォームから Docker ホストまで、ストレージリソースのプロビジョニングと管理をサポートします。また、将来プラットフォームを追加するためのフレームワークもサポートします。</block>
  <block id="e0a3531ef314a005745a9fea19b5ba09" category="doc">Tridentの導入</block>
  <block id="70f45f0faadd8edb223d0fdeb6668679" category="paragraph">同じホスト上でTridentの複数のインスタンスを同時に実行できます。これにより、複数のストレージシステムとストレージタイプへの同時接続が可能になり、 Docker ボリュームに使用するストレージをカスタマイズできます。</block>
  <block id="7da919c969cc2b18d98105fe90684df8" category="paragraph">を参照してください<block ref="18d5551396fb2ce2e009cfdb709e4875" category="inline-link-macro-rx"></block>。前提条件を満たしていることを確認したら、Tridentを導入する準備が整います。</block>
  <block id="58391bc76e8c1c5635a11134b3e4083d" category="admonition">従来のデーモンメソッドでDocker 1.13/17.03より前のTridentを使用している場合は、マネージプラグインメソッドを使用する前に、Tridentプロセスを停止してDockerデーモンを再起動してください。</block>
  <block id="8554af307cedea04e0e39362f35175f4" category="list-text">管理プラグインシステムを使用してTridentを起動します。を、使用しているプラグインのバージョン（xxx.xx.x）に置き換えます<block ref="3d689bd3819ead35ed794427bd12f459" prefix=" " category="inline-code"></block>。</block>
  <block id="8020e7c6d37db1ac7100b3b117f46cfd" category="list-text">Tridentを使用して、構成済みシステムのストレージを消費します。</block>
  <block id="b48e6203239c93859800f96924a39ed7" category="section-title">システム起動時にTridentを起動する</block>
  <block id="a5a6bc232526faaa8ab11bd5f46a069c" category="summary">ここでは、TridentでDockerを使用する際の既知の問題について説明します。</block>
  <block id="44110fddc560d626db733ac60924ea7c" category="paragraph">ここでは、TridentでDockerを使用する場合の既知の問題および制限事項について説明します。</block>
  <block id="442b5623691118072cf6342e3614f21a" category="section-title">Docker Swarmには特定の動作があり、ストレージとドライバの組み合わせごとにTridentがDocker Swarmをサポートできないようになっています。</block>
  <block id="738890a616b36648aef3afc3dbd99a29" category="list-text">ボリュームプラグイン（Tridentを含む）は、Swarmクラスタ内の各ノードで個別に実行する必要があります。ONTAPの動作方法とドライバと<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバの機能により、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>これらの制限内で動作できるのはこれらのドライバだけです。</block>
  <block id="8e846679c3471e522caeeaf12adf2232" category="summary">複数のストレージ構成を同時に使用する必要がある場合は、 Trident の複数のインスタンスが必要です。複数のインスタンスにキーを渡すには、コンテナ化されたプラグインで --alias オプションを使用して、ホストで Trident をインスタンス化するときに --volume-driver オプションを使用して、さまざまな名前を指定します。</block>
  <block id="2af81ac5264569558ae512fd78aaeb99" category="doc">複数のTridentインスタンスの管理</block>
  <block id="6d9d4f707717522af7673ba035a40845" category="summary">Tridentを導入する前に、必要なプロトコルの前提条件をホストにインストールして設定する必要があります。</block>
  <block id="ab2ce125ebcf04e3858934dafe06462f" category="summary">Trident構成で使用可能な設定オプションを参照してください。</block>
  <block id="048751d5dafc60f01ac58c7abebe0fb4" category="paragraph">これらの設定オプションは、使用するストレージプラットフォームに関係なく、すべてのTrident構成に適用されます。</block>
  <block id="24794cfca66d1eed7c8defc480365bf0" category="paragraph">プロビジョニング用のアグリゲート（オプション。設定する場合は SVM に割り当てる必要があります）。ドライバの場合<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、このオプションは無視されます。SVMに割り当てられたすべてのアグリゲートを使用して、FlexGroupボリュームがプロビジョニングされます。</block>
  <block id="5cbbc03b20d402cc5f3688219dc927db" category="paragraph">Tridentでは、ノードごとにASを<block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix=" " category="inline-code"></block>作成および管理し<block ref="58f3779afe9da9ffdc085dc3064306f7" prefix=" " category="inline-code"></block>ます。</block>
  <block id="98c76e4bb2a33d9fd5985c31833d545b" category="paragraph">バックエンドでNAEが有効になっている場合、TridentでプロビジョニングされたすべてのボリュームでNAEが有効になります。</block>
  <block id="dd7e96ca2da30b4de0cef5d5d0d67883" category="paragraph">詳細については、を参照してください<block ref="5113a2fb1642ecd23870711ba25c4ad7" category="inline-link-macro-rx"></block>。</block>
  <block id="775acc7033e41c0ec1b40c64643c6339" category="paragraph">ディレクトリにアクセスするためのNASオプション<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>。</block>
  <block id="9baf39c0a00f0d9f174a9671e5cefbab" category="paragraph">NFSv4の場合は「true」NFSv3の場合は「false」</block>
  <block id="e1232df03027aec38979e9ee0c9b350c" category="paragraph">ドライバを選択する<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>と、数十億個のファイルを含むペタバイト規模まで拡張可能な単一ボリュームへの並列処理を強化できます。FlexGroup のユースケースとしては、 AI / ML / DL 、ビッグデータと分析、ソフトウェアのビルド、ストリーミング、ファイルリポジトリなどが考えられます。Tridentでは、FlexGroupボリュームのプロビジョニング時に、SVMに割り当てられているすべてのアグリゲートが使用されます。Trident での FlexGroup のサポートでは、次の点も考慮する必要があります。</block>
  <block id="90bce6b2a4ca618777f172f6d51e69f1" category="list-text">FlexGroupボリュームではクローニングはサポートされていません。</block>
  <block id="971d29a2392e004ddd4263282b307e0c" category="inline-link">NetApp FlexGroupボリュームベストプラクティスおよび実装ガイド</block>
  <block id="1534742dd977c66a11d77eb23f10a5ab" category="section-title">Trident用のカスタムONTAPロール</block>
  <block id="c1781ac6bfd240f903c26ce4164a5d30" category="paragraph">Tridentで処理を実行するためにONTAP adminロールを使用する必要がないように、最小Privilegesを持つONTAPクラスタロールを作成できます。Tridentバックエンド構成にユーザ名を含めると、Trident作成したONTAPクラスタロールが使用されて処理が実行されます。</block>
  <block id="6f3cfcc010b2a22b26b8059d261fac87" category="inline-link-macro">Tridentカスタムロールジェネレータ</block>
  <block id="c466d2f2e197b9c922cb025297903d0c" category="paragraph">Tridentカスタムロールの作成の詳細については、を参照してください<block ref="4eb6d8d47ddb4f7930e07a2c9166ea85" category="inline-link-macro-rx"></block>。</block>
  <block id="e2862bb379be91d6c367e3ce170d88f7" category="open-title">ONTAP CLIノシヨウ</block>
  <block id="13b3544c4f5df79cbf834a2ae8ec0d87" category="list-text">次のコマンドを使用して新しいロールを作成します。</block>
  <block id="2c7e6d2877f857f126c24c7742e84098" category="paragraph"><block ref="c33f6523b710a03a2fd5d3e78562afa6" prefix="" category="inline-code"></block></block>
  <block id="baf63376850e35e5b35be659d0ef2894" category="list-text">Tridentユーザのユーザ名を作成します。</block>
  <block id="1af6536f50b7c77854633155c6ae923a" category="paragraph"><block ref="496d78c32dd2b2752181d6346f8b0aeb" prefix="" category="inline-code"></block></block>
  <block id="dfeb1cb6cf625159ce3e04d467f8ec3f" category="list-text">ユーザにロールをマッピングします。</block>
  <block id="80812a5ac42a9862b7d20ef498a269ce" category="paragraph"><block ref="5eb0d996baab37017dab0c8a2a171589" prefix="" category="inline-code"></block></block>
  <block id="3ceac40325b3a50cc62cce2df9efb8ae" category="open-title">System Managerの使用</block>
  <block id="b36ba0290d144b7b7cf516c0b9f70063" category="paragraph">ONTAPシステムマネージャで、次の手順を実行します。</block>
  <block id="88ec54a18605240b35f6b1c72d27ffb6" category="list-text">*カスタムロールの作成*：</block>
  <block id="70af366c70c2f42b90ebe57600895fa4" category="list-text">クラスタレベルでカスタムロールを作成するには、*[クラスタ]&gt;[設定]*を選択します。</block>
  <block id="c981775dff9d5b385dd83a577d5a47b5" category="paragraph">（または）SVMレベルでカスタムロールを作成するには、*[ストレージ]&gt;[Storage VM]&gt;[設定]&gt;[ユーザとロール]*を選択し<block ref="6913fa50f9906263ba0aa9cbfc60f855" prefix=" " category="inline-code"></block>ます。</block>
  <block id="0d47f26dcf60e81c5a6649ae4ded4563" category="list-text">[ユーザとロール]*の横にある矢印アイコン（*-&gt;*）を選択します。</block>
  <block id="abf2a7962f2af308e67cf04c04d67351" category="list-text">[Roles]*で[+Add]*を選択します。</block>
  <block id="0607c670bf97cc18aea662bb4a8b1897" category="list-text">ロールのルールを定義し、*[保存]*をクリックします。</block>
  <block id="8c112f6dd4899ec2bde450ad96ea3854" category="list-text">*ロールをTridentユーザにマップする*:+[ユーザとロール]ページで次の手順を実行します。</block>
  <block id="a0d362400ef1998e3199f1a2a4e851a0" category="list-text">[ユーザー]*で[アイコンの追加]*+*を選択します。</block>
  <block id="d81179b522f733916296275ca934cec0" category="list-text">必要なユーザ名を選択し、* Role *のドロップダウンメニューでロールを選択します。</block>
  <block id="4cc186df234138a57b2e8c5d8e5f7f8d" category="list-text">[ 保存（ Save ） ] をクリックします。</block>
  <block id="63a7ae2ee855741b03454ffca32a6548" category="paragraph">詳細については、次のページを参照してください。</block>
  <block id="5f20deacb4e1a680e1507ac2f9038f3d" category="inline-link-macro">ONTAPの管理用のカスタムロール</block>
  <block id="5f318245652e5c97dfa5340e400f38d4" category="inline-link-macro">カスタムロールの定義</block>
  <block id="6bfa5cadeded7f55ece7a366fff5008f" category="list-text"><block ref="612b00166c7c7ac093e9d589e794c9ab" category="inline-link-macro-rx"></block>または<block ref="42415b53f4c69ae3cfdecaffa64f1802" category="inline-link-macro-rx"></block></block>
  <block id="61d21be565a36251bbca59c0ffb7571d" category="inline-link-macro">ロールとユーザを使用する</block>
  <block id="c92674673011f8a8c6fc62a43d907f3c" category="list-text"><block ref="c92674673011f8a8c6fc62a43d907f3c" category="inline-link-macro-rx"></block></block>
  <block id="a1dbba31317214ceff74a44fe41d31ee" category="summary">使用中のボリュームに影響を与えることなく、Trident for Dockerを安全にアップグレードできます。アップグレードプロセスでは、<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>プラグインへのコマンドが正常に実行されず、プラグインが再度実行されるまでアプリケーションはボリュームをマウントできません。ほとんどの場合、これは秒の問題です。</block>
  <block id="62171888e44548522bb83b960a55d872" category="paragraph">Trident for Dockerをアップグレードするには、次の手順を実行します。</block>
  <block id="39ebc56f061889873fccc1784c6638f7" category="admonition">Tridentの18.01リリースは、nDVPに代わるものです。イメージからイメージに<block ref="c0324ebb59395a35956b35c5d0c7b285" prefix=" " category="inline-code"></block>直接アップグレードする必要があり<block ref="86e913ca68bd85fc4edc0bd4588cdf55" prefix=" " category="inline-code"></block>ます。</block>
  <block id="ee0630d22b9d452ae7bb9de29a466b86" category="admonition">古いバージョンのTrident（20.10より前のバージョン）からTrident 20.10以降にアップグレードすると、エラーが発生することがあります。詳細については、を参照してください <block ref="6d21ff1c2708107ac3f4ed1a6e27b449" category="inline-link-macro-rx"></block>。エラーが発生した場合は、まずプラグインを無効にしてからプラグインを削除し、追加のconfigパラメータを渡して必要なTridentバージョンをインストールする必要があります。<block ref="5be09dfb82e46451bc4cc62d83a8dafe" prefix=" " category="inline-code"></block></block>
  <block id="b8b22011179e05bc575b579038285d28" category="paragraph">Trident for Dockerをアンインストールするには、次の手順を実行します。</block>
  <block id="265a503bda2fd70f2fd9a6cf2d876c27" category="paragraph">スナップショット予約が指定されておらず、スナップショットポリシーがの場合、<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>Tridentは0%のスナップショット予約を使用します。</block>
  <block id="e5dfa6bb65c32f9e92c36163229be455" category="summary">ボリュームを作成するには、必要に応じてTridentドライバ名を指定して標準コマンドを使用し<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>ます。</block>
  <block id="56143904c89c4a03d66e1cd15cc7d399" category="paragraph">必要に応じてTridentドライバ名を指定した標準コマンドを使用すると、ボリュームの作成、クローニング、および削除を簡単に実行でき<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>ます。</block>
  <block id="b09a5613f6e78efae1c0ac67f2289c08" category="list-text">特定のTridentインスタンスを使用してボリュームを作成します。</block>
  <block id="3fb1a139a17d8521fe406180d6d6fd59" category="paragraph">、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>、、およびを<block ref="a3e1af20cc594d726b1beb3d184dcf26" prefix=" " category="inline-code"></block>使用する場合<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、Tridentはボリュームをクローニングできます。ドライバまたは<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバを使用している場合、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>クローニングはサポートされません。既存のボリュームから新しいボリュームを作成すると、新しい Snapshot が作成されます。</block>
  <block id="97b3aeb8d6066d1decf96518ded15d8e" category="paragraph">外部で作成したブロックデバイス（またはそのクローン）には、パーティションがなく、ファイルシステムがTridentでサポートされている場合（例：-formatted<block ref="1f986d7f0f42932dbaaf84475f63ea7a" prefix=" " category="inline-code"></block>はTrident経由でアクセスできません）にのみ、Trident *を使用してコンテナからアクセスできます<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>。</block>
  <block id="0cc9d438ad56fdbd4bbdfb24f3548660" category="summary">Tridentは、単一のコントローラポッドと、クラスタ内の各ワーカーノード上のノードポッドとして動作します。Tridentボリュームをマウントする可能性があるホストでノードポッドが実行されている必要があります。</block>
  <block id="aae2218cccc8db14384d3387594fe6ae" category="doc">Tridentのアーキテクチャ</block>
  <block id="2544d3adb30a2378653ade7cf906c0aa" category="paragraph">Tridentは、Kubernetesクラスタに1つ以上の単一または複数<block ref="8642ddce0d2b15cad48dfefb369d4c89" category="inline-xref-macro-rx"></block>として導入され<block ref="7f05a5daccc48435b05c14a7b739fa36" category="inline-xref-macro-rx"></block>、標準のKUBSI_CSI Sidecar Containers_を使用してCSIプラグインの導入を簡素化します。<block ref="c1b69fa7e0376b667b144d553d4653a8" category="inline-link-macro-rx"></block>Kubernetes Storageコミュニティが管理しています。</block>
  <block id="b38acf7b48d99a3dc06e012c7b1c1f3e" category="paragraph">Kubernetes<block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block>を使用して、<block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block>ポッドを特定のノードまたは優先ノードで実行するように制限します。Tridentのインストール時に、コントローラポッドとノードポッドのノードセレクタと許容範囲を設定できます。</block>
  <block id="4d0894b72f21c4fc0e41d094c2d50aed" category="image-title">Kubernetesクラスタに導入されたTrident</block>
  <block id="92ad11160b8482411ae1167ed34e2bc0" category="image-alt">Kubernetesクラスタ上のTridentアーキテクチャの図。</block>
  <block id="190693c471c998e2d7706ff05c87d3c2" category="paragraph">Tridentは、次のKubernetesアーキテクチャでサポートされます。</block>
  <block id="330103c2a0c87f0aa273d6c15590a575" category="summary">Trident は、ネットアップが管理する、完全にサポートされているオープンソースプロジェクトです。Container Storage Interface（CSI）などの業界標準のインターフェイスを使用して、コンテナ化されたアプリケーションの永続性要求を満たすように設計されています。</block>
  <block id="e61b32e0e629aff81f643458f823b962" category="doc">Tridentの詳細</block>
  <block id="f94a579e5ec139027f8b7d0d24bcce36" category="paragraph">Trident は、ネットアップが管理する、完全にサポートされているオープンソースプロジェクトです。Container Storage Interface（CSI）などの業界標準のインターフェイスを使用して、コンテナ化されたアプリケーションの永続性要求を満たすように設計されています。</block>
  <block id="b8a9ce80261b5fb6cc4c2d2e1f0990ca" category="section-title">Tridentとは</block>
  <block id="b1779edf31deaecac634566a2a377f62" category="paragraph">Tridentは、コンテナストレージインターフェイス（CSI）に準拠した動的ストレージオーケストレーションツールで、とネイティブに統合され<block ref="c4f47b2d4c7b6c009c3ed9bc1f952dce" category="inline-link-macro-rx"></block>ます。Tridentは、単一のコントローラポッドと、クラスタ内の各ワーカーノード上のノードポッドとして動作します。詳細については、を参照してください <block ref="9f6208219ae600271f6632db354451ed" category="inline-link-macro-rx"></block> 。</block>
  <block id="d613d80a6fcacbbceeb665fc5b0846f0" category="inline-link-macro">Trident for Dockerの導入</block>
  <block id="5b6cbf8e3be454064a322ad7f9c47cc2" category="paragraph">Tridentは、NetAppストレージプラットフォーム向けのDockerエコシステムと直接統合することもできます。NetApp Docker Volume Plugin（nDVP）は、ストレージプラットフォームからDockerホストへのストレージリソースのプロビジョニングと管理をサポートします。詳細については、を参照してください <block ref="168e02b8c5756e29b56aa79aa4a1b715" category="inline-link-macro-rx"></block> 。</block>
  <block id="ad82bf93e4b28ad012a8be09e30d3d59" category="paragraph">Trident では、コンテナ化されたアプリケーション用のストレージデバイスを、基盤となる NetApp HCI ストレージプラットフォームに直接プロビジョニングして管理できます。</block>
  <block id="10f0fa4079121b371145e16713fdbb44" category="section-title">Trident</block>
  <block id="c14b72fed21fd4eafddae164ba8081d0" category="paragraph"><block ref="41274746a612585e32637b095dd7555b" category="inline-link-rx"></block>Kubernetes上で実行される、大量のデータを扱うコンテナ化されたワークロードの管理、保護、移動が容易になります。パブリッククラウドとオンプレミス間で実行されます。Tridentは、パブリッククラウドとオンプレミスで実績のある広範なNetAppストレージポートフォリオのTridentを使用して、永続的コンテナストレージをプロビジョニング、提供します。また、 Snapshot 、バックアップとリストア、アクティビティログ、アクティブクローニングによるデータ保護、ディザスタ / データリカバリ、データ監査、 Kubernetes ワークロードの移行のユースケースなど、アプリケーションに対応した高度なデータ管理機能も豊富に搭載されています。</block>
  <block id="8c33c0d65f9f2a648eb30a9703072383" category="doc">クイックスタートガイド（Trident）</block>
  <block id="a555fee6c6587118e36d8dd135df1313" category="inline-link-macro">Tridentの要件</block>
  <block id="96a40ad4ad263d59437e326f22eaecdf" category="paragraph">Tridentをインストールしてストレージリソースの管理を開始するには、いくつかの手順を実行します。作業を開始する前に、を参照してください<block ref="d5fb7f9fba906801b000d5533dc030cf" category="inline-link-macro-rx"></block>。</block>
  <block id="f1bcf1c509e84f327a99d5510a722dec" category="inline-link-macro">Trident for Docker</block>
  <block id="5b5dc0344ff29ee1aeb0845b87692cf1" category="admonition">Dockerについては、を参照して<block ref="f7120b9f314af1c9d82deae8957b54f3" category="inline-link-macro-rx"></block>ください。</block>
  <block id="9877a7ec0ff327ca21c8022d61c25f88" category="paragraph">Tridentには、さまざまな環境や組織に最適化されたいくつかのインストール方法とモードが用意されています。</block>
  <block id="b8b9eab8c1ed7b79387652490f5724ec" category="inline-link-macro">Trident をインストール</block>
  <block id="d94be11e75caa4db23a136d9b4cca4d9" category="paragraph"><block ref="d94be11e75caa4db23a136d9b4cca4d9" category="inline-link-macro-rx"></block></block>
  <block id="2e5120dd8211c4057a742a03b68ffe1a" category="paragraph">バックエンドは、Tridentとストレージシステムの間の関係を定義します。Tridentは、そのストレージシステムとの通信方法や、Tridentがそのシステムからボリュームをプロビジョニングする方法を解説します。</block>
  <block id="a5cdf497d98aa8d8e9bf311fe225a905" category="paragraph">Kubernetes StorageClassオブジェクトでは、プロビジョニングツールとしてTridentが指定されており、カスタマイズ可能な属性を使用してボリュームをプロビジョニングするためのストレージクラスを作成できます。Tridentは、Tridentプロビジョニングツールを指定するKubernetesオブジェクト用に一致するストレージクラスを作成します。</block>
  <block id="54f1c3c7de2748b6f3616d7b1186ade2" category="summary">Tridentをインストールする前に、これらの一般的なシステム要件を確認してください。個 々 のバックエンドには追加の要件がある場合があり</block>
  <block id="0fe713481395212a8eb358f4cb188c04" category="section-title">Tridentに関する重要な情報</block>
  <block id="8e7cb3d16dbeb8a9289495de8b479d1f" category="paragraph">* Tridentに関する次の重要な情報をお読みください。*</block>
  <block id="04dc1d4246222d48d4348b40baef0aac" category="example-title">Trident &lt;/strong&gt;に関する&lt;strong&gt;の重要な情報</block>
  <block id="5e25fae885baef0275d27a764979b289" category="list-text">Tridentでは、SAN環境でのマルチパス構成の使用が厳密に適用されます。multipath.confファイルの推奨値はです<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block>。</block>
  <block id="710f95d40d121f27f89b0faa6e178133" category="paragraph">Tridentは、次のような複数のコンテナエンジンとオーケストレーションツールをサポートしています。</block>
  <block id="e42907190e2666646d57ade5c061e6e2" category="paragraph">Tridentは、Google Kubernetes Engine（GKE）、Amazon Elastic Kubernetes Services（EKS）、Azure Kubernetes Service（AKS）、Mirantis Kubernetes Engine（MKE）、VMware Tanzu Portfolioなど、他のフルマネージド/自己管理型Kubernetesソリューションとも連携します。</block>
  <block id="4cb56edacf6f40b0077e559878cb88a1" category="paragraph">TridentとONTAPは、のストレージプロバイダとして使用できます<block ref="98ab68800979b414641691275d2b9c15" category="inline-link-macro-rx"></block>。</block>
  <block id="90e5d592b7e0b2afb122e69c00372ddf" category="paragraph">Tridentを使用するには、次のサポートされているバックエンドが1つ以上必要です。</block>
  <block id="6116c21c42b3138e811999de6433a0a6" category="paragraph">次の表は、このリリースのTridentで使用できる機能と、このリリースでサポートされるKubernetesのバージョンをまとめたものです。</block>
  <block id="29fce9ae0f476afd36cf3ebf4de1d2a8" category="paragraph">Tridentは特定のオペレーティングシステムを正式にサポートしていませんが、次の機能が動作することがわかっています。</block>
  <block id="779639a0216e7a8fd164ee8a7266d8b8" category="paragraph">デフォルトでは、Tridentはコンテナ内で実行されるため、どのLinuxワーカーでも実行されます。ただし、使用しているバックエンドに応じて、Tridentが提供するボリュームを、標準のNFSクライアントまたはiSCSIイニシエータを使用してマウントできる必要があります。</block>
  <block id="ac65d911a6a42e3244db78a534db815a" category="paragraph">バックエンド構成でTridentを使用するには、ストレージシステムの変更が必要になる場合があります。</block>
  <block id="8ff649e05d6e0ae0d638b05135917e8b" category="section-title">Tridentポート</block>
  <block id="31ae62dfe6cb254d32d0f67deda8d9ad" category="paragraph">Tridentでは、通信のために特定のポートにアクセスする必要があります。</block>
  <block id="2e442c7238666f1b73934ff5c2034b82" category="paragraph"><block ref="2e442c7238666f1b73934ff5c2034b82" category="inline-link-macro-rx"></block></block>
  <block id="ce8468ce4398f1403e56c8d07fbfbdff" category="paragraph">エアギャップを使用したインストールでは、Tridentのインストールに必要なコンテナイメージの参照先を以下に示します。コマンドを使用し<block ref="4ebf280824868255c952dc529072ecb9" prefix=" " category="inline-code"></block>て、必要なコンテナイメージのリストを確認します。</block>
  <block id="f5d19c8a8c2f8f69c432eeca877b5fcd" category="summary">Tridentインストーラを使用して導入をカスタマイズできます。</block>
  <block id="4b4c8bb835df197f723a52a388a1a4e0" category="paragraph">Tridentインストーラを使用して、インストールをカスタマイズできます。</block>
  <block id="e0ebb2a26a33f54574264738d90b4256" category="paragraph">Tridentインストーラでは、属性をカスタマイズできます。たとえば、Tridentイメージをプライベートリポジトリにコピーした場合は、を使用してイメージ名を指定できます<block ref="00e6ff45e8bcc6b9e35e9c68d8d5135c" prefix=" " category="inline-code"></block>。Tridentイメージと必要なCSIサイドカーイメージをプライベートリポジトリにコピーした場合は、次の形式のスイッチを使用してリポジトリの場所を指定することをお勧めし<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block>ます。<block ref="c4c34dc2c7d5cb25c084ca11127ba1c6" prefix=" " category="inline-code"></block></block>
  <block id="85219bbc6090744b49cad804af63daaa" category="admonition">プライベートリポジトリにTridentをインストールするときに、スイッチを使用してリポジトリの場所を指定する場合は<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block>、リポジトリパスにを使用しないで<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block>ください。例：<block ref="51e87a5a10277cd8b68fe2bfaab6b1e5" prefix=" " category="inline-code"></block></block>
  <block id="dafb04a56b5428b7efaff9062ddc586b" category="summary">Trident演算子を使用すると、仕様内の属性を使用してTridentのインストール方法をカスタマイズでき<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="0155e97c891593a2b846fc604a01426f" category="paragraph">Trident演算子を使用すると、仕様の属性を使用してTridentのインストールをカスタマイズでき<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。引数で許可される範囲を超えてインストールをカスタマイズする場合<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>は、を使用してカスタムYAMLマニフェストを生成し、必要に応じて変更することを検討して<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ください。</block>
  <block id="8d6d249f3e02155f1f4e28dec3f40a4f" category="paragraph">Tridentは、単一のコントローラポッドと、クラスタ内の各ワーカーノード上のノードポッドとして動作します。Tridentボリュームをマウントする可能性があるホストでノードポッドが実行されている必要があります。</block>
  <block id="d71d7e5009f5ee11ae970a342fff23ae" category="admonition"><block ref="b2c66bca748ffde67c7b6817cb8dd795" prefix="" category="inline-code"></block>は、Tridentがインストールされているネームスペースを示すためににに指定されてい<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。このパラメータ*は、Tridentのインストール後は更新できません*。これを実行しようとすると、<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ステータスがに変わり<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>ます。Tridentをネームスペース間で移行することは想定されていません。</block>
  <block id="0cf03ede150b823aae6ae068fa6ffb35" category="cell">Tridentをインストールするネームスペース</block>
  <block id="6c6ebc33a5cbbe6942a0c9ec90d575a2" category="cell">Tridentのデバッグを有効にする</block>
  <block id="609512f035fafafacc14b4f6f29bb70d" category="cell">IPv6経由のTridentのインストール</block>
  <block id="9e6197850998001239ecde260b512013" category="cell">Tridentのアンインストールに使用するフラグ</block>
  <block id="26ed500280b8c0e427f21574b44203cc" category="cell">使用するTridentログ形式[text、json]</block>
  <block id="f443d16ba56df1480ca415fae25eaaef" category="cell">インストールするTridentイメージ</block>
  <block id="26cb458bf42b8de61d4c66da519e7560" category="cell">Tridentを完全に削除するために削除するリソースのリスト</block>
  <block id="2c82926c3266fa69b7a6b9b9bf2da929" category="cell"><block ref="e9a7558decb5e432d8b7c4d536cc9876" prefix="" category="inline-code"></block></block>
  <block id="17290457cf887fb0694111a08adc91e7" category="cell">指定したデータストレージプロトコルを使用してボリュームを管理できるように、TridentでKubernetesクラスタのノードを準備できるようにします。*現在<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>サポートされている値は、のみです。*</block>
  <block id="b90bdf58371477fc38f47c2f6d120df5" category="admonition">TridentはKubernetes NGNに依存しているため、許容できないすべてのワークロードのスケジュールを再設定するまで、正常でないノードからテイントを削除しないで<block ref="2ea3337d8d7fc43880e82df308aa0f16" prefix=" " category="inline-code"></block>ください。汚染を無謀に適用または削除すると、バックエンドのデータ保護が危険にさらされる可能性があります。</block>
  <block id="36d4895fba0608ac61adf67bca2ca709" category="paragraph">Kubernetesクラスタ管理者がtaintをノードに適用し、<block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix=" " category="inline-code"></block>をに設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と<block ref="7b58fe53e2e4b586e9605f1371e1ebf3" prefix=" " category="inline-code"></block>、Tridentはノードのステータスを確認し、次の処理を行います。</block>
  <block id="a753dc0e9b9a4864e2954c838d295341" category="list-text">Tridentノードオブジェクトを（新しいパブリケーションに対しては安全ではない）としてマークします<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>。</block>
  <block id="d3f280add1ef01848e3068dbafeb2930" category="admonition">Tridentコントローラは、Tridentノードポッドによって（とマークされた後で）ノードが再修飾されるまで、新しいパブリッシュボリューム要求を拒否し<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>ます。マウントされたPVCを使用してスケジュールされたワークロード（クラスタノードが正常で準備が完了したあとも）は、Tridentがそのノードを検証できるようになるまで受け入れられません<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block>（新しいパブリケーションに対して安全）。</block>
  <block id="94b5491434477bb572567175dae8789b" category="paragraph">ノードの健常性が回復してtaintが削除されると、Tridentは次の処理を実行します。</block>
  <block id="9b87d3b70754b676221dcbe27972c21e" category="list-text">ノードが状態（アウトオブサービス状態が削除され、ノードが<block ref="e7d31fc0602fb2ede144d18cdffd816b" prefix=" " category="inline-code"></block>状態）で、古い公開パスがすべてクリーンである場合、<block ref="4304fb35c4cdfa886970499304f2aaba" prefix=" " category="inline-code"></block>Tridentはノードをとして再登録し、新しい公開ボリュームをそのノードに許可します<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block>。</block>
  <block id="0b566d8eeef773fb0a1874a0340c1bf1" category="paragraph">この例では、ノードセレクタを使用してTridentをインストールします。</block>
  <block id="f9c98839799a3d0d53b9fe671548369b" category="paragraph">この例では、AKSクラスタで管理対象IDを有効にするためにTridentをインストールします。</block>
  <block id="134db50713debda2944acc2079f0cd32" category="paragraph">この例では、AKSクラスタ上のクラウドIDで使用するTridentをインストールします。</block>
  <block id="338531cfbc43156671176c4844d84c2e" category="example-title">GKEのクラウドID</block>
  <block id="dfee7b28d5bbb63372e0d49295ca91ff" category="summary">Tridentオペレータを導入し、Helmを使用してTridentをインストールできます。このプロセスは、Tridentに必要なコンテナイメージがプライベートレジストリに保存されているインストールに適用されます。</block>
  <block id="eba73b570dfb3af8b46b60d34f2b27a9" category="paragraph">Tridentオペレータを導入し、Helmを使用してTridentをインストールできます。このプロセスは、Tridentに必要なコンテナイメージがプライベートレジストリに保存されているインストールに適用されます。プライベートイメージレジストリがない場合は、を使用し<block ref="2230544d14bc4ba0c61a5a1b2030a1d4" category="inline-link-macro-rx"></block>ます。</block>
  <block id="906e93a2060242b360786042d0f40c9f" category="section-title">Tridentオペレータを導入し、Helmを使用してTridentをインストールする</block>
  <block id="4d204b33a367deb7dbcb20395c917da2" category="admonition">プライベートリポジトリにTridentをインストールするときに、スイッチを使用してリポジトリの場所を指定する場合は<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block>、リポジトリパスにを使用しないで<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block>ください。</block>
  <block id="43eba64dcd06763432addbcf8db2d367" category="list-text">Trident Helmリポジトリを追加します。</block>
  <block id="4dd793a25a8706b6330293fdd8ba3cca" category="paragraph">nodePrep値を追加するには、次のコマンドを実行します。</block>
  <block id="a4b3e6e276b60f51832e92ee5e4c0d3c" category="admonition">values.yamlファイルからデフォルトのアフィニティを削除しないでください。カスタムアフィニティを提供する場合は、デフォルトのアフィニティを拡張します。</block>
  <block id="13449393414b4d9d6fb5c0c42481c6bb" category="cell">、、<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>およびその他のイメージのレジストリを指定します<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。デフォルトをそのまま使用する場合は、空のままにします。重要：プライベートリポジトリにTridentをインストールする場合、スイッチを使用してリポジトリの場所を指定する場合は<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block>、リポジトリパスにはを使用しないで<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block>ください。</block>
  <block id="2b5e815c8ff99f9eef6559d24c783ba7" category="cell">IPv6クラスタでのTridentの動作を有効にできます。</block>
  <block id="31f08e89ef234f9ec501c003d82bd2b4" category="cell">Trident定期AutoSupportレポートをディセーブルにできます。</block>
  <block id="1eb59d4f1034670c547353e700b9c45f" category="cell">Trident AutoSupportコンテナのイメージのタグを上書きできます。</block>
  <block id="1b8b03266c41458cf8c8b67fddf79f72" category="cell">Trident AutoSupportコンテナがHTTPプロキシ経由で自宅に電話できるようにします。</block>
  <block id="28b0bd49547c0889ddc764ec4af0404f" category="cell">Tridentロギング形式を設定し<block ref="1cb251ec0d568de6a929b520c4aed8d1" prefix="(" category="inline-code"></block>ます。または<block ref="466deec76ecdf5fca6d38571f6324d54" prefix=" " category="inline-code"></block>）</block>
  <block id="025e09276aadc123e8e855a29fafc984" category="cell">Trident監査ロガーをディセーブルにします。</block>
  <block id="dca184d2a2b16c8fb797363408cbe703" category="cell">Tridentのログレベルを、、<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block><block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>、、<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block>、<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block>または<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>に設定<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>できます。</block>
  <block id="14db3339a3d7e6dcb158ff8a75d75327" category="cell">Tridentのログレベルをに設定できます<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>。</block>
  <block id="a17b61342a14dd24f10e7959b8c897e8" category="cell">特定のTridentワークフローのトレースロギングまたはログ抑制を有効にできます。</block>
  <block id="8a755d63b74fdfced1868a0b3e2d5162" category="cell">トレースロギングまたはログ抑制に対して特定のTridentレイヤをイネーブルにできます。</block>
  <block id="d31727faddcc7355e9e3bf46abdf8088" category="cell">Tridentのイメージを完全に上書きできます。</block>
  <block id="275360255393ae93a5ae2ff80a7ee5b6" category="cell">Tridentのイメージのタグを上書きできます。</block>
  <block id="baee061ae15e488356d9c958fd837562" category="cell">TridentをWindowsワーカーノードにインストールできるようにします。</block>
  <block id="6d893452bf49a70aa18938a81935210f" category="summary">Tridentオペレータを導入し、Helmを使用してTridentをインストールできます。このプロセスは、Tridentに必要なコンテナイメージがプライベートレジストリに保存されていないインストールに適用されます。</block>
  <block id="c4a180ac17652dd1cd170c28b376be9c" category="paragraph">Tridentオペレータを導入し、Helmを使用してTridentをインストールできます。このプロセスは、Tridentに必要なコンテナイメージがプライベートレジストリに保存されていないインストールに適用されます。プライベートイメージレジストリがある場合は、を使用し<block ref="95202a095b590d767c9926fd1850fb68" category="inline-link-macro-rx"></block>ます。</block>
  <block id="7552178c666688de472839ddf4b0f4d0" category="cell">AKSクラスタでクラウドIDを使用する場合は、ワークロードID（「azure.workload.identity/client-id：xxxxxxxxxx-xxxx-xxxxxxx」）に設定します。EKSクラスタでクラウドIDを使用する場合は、AWS IAMロール（「eks.amazonaws.com/role-arn: arn：aws：iam：：123456：role / Trident -role」）に設定されます。</block>
  <block id="a4ae088aa8dbc2e97f85135b007cce76" category="summary">Tridentオペレータを手動で導入して、Tridentをインストールできます。このプロセスは、Tridentに必要なコンテナイメージがプライベートレジストリに保存されているインストールに適用されます。</block>
  <block id="c54f3e7a1c4cb645b1fc4f0f7a583ac6" category="paragraph">Tridentオペレータを手動で導入して、Tridentをインストールできます。このプロセスは、Tridentに必要なコンテナイメージがプライベートレジストリに保存されているインストールに適用されます。プライベートイメージレジストリがない場合は、を使用し<block ref="0d70fdec6fbaf15c3c460970c31207c9" category="inline-link-macro-rx"></block>ます。</block>
  <block id="7a14ead6cd595f6aff8b701879a9f990" category="paragraph">Tridentインストーラパッケージには、Tridentオペレータの導入とTridentのインストールに必要なすべてのものが含まれています。からTridentインストーラの最新バージョンをダウンロードして展開し<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>ます。</block>
  <block id="fcd239294bb5f5ad3a84db6ce79fd5ee" category="paragraph">カスタムリソース定義（CRD）を作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。カスタムリソースは後で作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。で適切なCRD YAMLバージョンを使用して<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block>CRDを作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="22471ed8a819a124f9ee9785680269ec" category="paragraph">Tridentインストーラには、オペレータのインストールと関連オブジェクトの作成に使用できるバンドルファイルが用意されています。バンドルファイルは、デフォルト設定を使用してオペレータを導入し、Tridentをインストールするための簡単な方法です。</block>
  <block id="a0c08bc8d399eef3571153bb0ecb4a77" category="paragraph">これで、を作成してTridentをインストールできます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。必要に応じて、仕様内の属性をさらに使用<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>できます<block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block>。次の例は、TridentイメージとCSIイメージが異なるレジストリにあるインストールを示しています。</block>
  <block id="e4f485171dcf600d2f0b0e8332394897" category="cell">オペレータはこのCRを使用してTridentをインストールしています<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。</block>
  <block id="55a64caca1122c8b2fd992a355c7750b" category="cell">Tridentは正常にインストールされました。</block>
  <block id="cdef3688b4499bd3dbc552c9cf5defc3" category="cell">オペレータはTridentをアンインストールしています。<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block></block>
  <block id="e52593aaecb3b20362fa0081eea6a0f9" category="cell">Tridentがアンインストールされます。</block>
  <block id="36be8fe129110882a2ec7138f4e363dd" category="cell">オペレータはTridentをインストール、パッチ適用、アップデート、またはアンインストールできませんでした。オペレータは自動的にこの状態から回復しようとします。この状態が解消されない場合は、トラブルシューティングが必要です。</block>
  <block id="24947bdc3a3d6387b2550da2302d4470" category="paragraph">作成されたポッドのステータスを確認することで、Tridentのインストールが完了したかどうかを確認できます。</block>
  <block id="85390ca1f1fb456c5467114ab06d3089" category="paragraph">を使用して、インストールされているTridentのバージョンを確認できます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="9be65bfc0904c8b8e06776335df88c52" category="summary">Tridentオペレータを手動で導入して、Tridentをインストールできます。このプロセスは、Tridentに必要なコンテナイメージがプライベートレジストリに保存されていないインストールに適用されます。</block>
  <block id="e09b85e9dd23a53724a460d162828e91" category="paragraph">Tridentオペレータを手動で導入して、Tridentをインストールできます。このプロセスは、Tridentに必要なコンテナイメージがプライベートレジストリに保存されていないインストールに適用されます。プライベートイメージレジストリがある場合は、を使用し<block ref="3fd9bb28718715a2d036f0ab9d9239b8" category="inline-link-macro-rx"></block>ます。</block>
  <block id="108ffd952d0eac9e6153a050e07ff8da" category="paragraph">カスタムリソース定義（CRD）を作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。カスタムリソースは後で作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。の適切なCRD YAMLバージョンを使用して<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block>CRDを作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c97e335d53c8d571c8e8f7464c884831" category="paragraph">これで、を作成してTridentをインストールできます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。必要に応じて、仕様内の属性を使用<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>できます<block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block>。</block>
  <block id="7904a6dadeabd7b725caf08c750b3d2e" category="summary">を使用してTridentをインストールでき<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。このプロセスは、Tridentに必要なコンテナイメージがプライベートレジストリに保存されているかどうかにかかわらず、インストールに適用されます。</block>
  <block id="10ccc4c39e10c8cfa195e969ad74df78" category="paragraph">を使用してTridentをインストールでき<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。このプロセスは、Tridentに必要なコンテナイメージがプライベートレジストリに保存されているかどうかにかかわらず、インストールに適用されます。配置をカスタマイズするには<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>、を参照してください<block ref="8e7a26c9800a78fa0b68fb2423ba3fb4" category="inline-link-macro-rx"></block>。</block>
  <block id="a44928a927e3a51b044bf23f54c5ecc1" category="section-title">を使用してTridentをインストール<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="380dea89244939b33f7066f0dfbafa8b" category="paragraph">Tridentインストーラパッケージは、Tridentポッドを作成し、その状態を維持するために使用されるCRDオブジェクトを設定し、CSIサイドカーを初期化して、ボリュームのプロビジョニングやクラスタホストへの接続などのアクションを実行します。からTridentインストーラの最新バージョンをダウンロードして展開し<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>ます。この例では、選択したTridentバージョンで_&lt; Tridentインストーラ-XX.X.X.tar.gz&gt;_を更新します。</block>
  <block id="9937b0e906f4a701bfb0a7f52c8b7458" category="section-title">手順2：Tridentをインストールする</block>
  <block id="aab75b58977502d2c2813069d908ad61" category="paragraph">コマンドを実行して、目的のネームスペースにTridentをインストールし<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block>ます。追加の引数を追加して、イメージのレジストリの場所を指定できます。</block>
  <block id="d01f9020330072ac03affe8ff09d74c1" category="paragraph">次の例は、を使用してTridentをインストールする場合の設定例<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>です。</block>
  <block id="f19a63197b0bddc429409fc31e0f0028" category="paragraph">WindowsノードでTridentを実行するには、次の手順を実行します。</block>
  <block id="16f386086a2ad7537b5e373f9c0c2d25" category="summary">Tridentは、Tridentオペレータ（手動またはHelmを使用）またはを使用してインストールできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。このトピックでは、適切なインストールプロセスを選択するための重要な情報を提供します。</block>
  <block id="3673a00b7dc94dd4c41d2410acd2fd30" category="paragraph">Tridentをさまざまな環境や組織にインストールできるように、NetAppには複数のインストールオプションが用意されています。Tridentは、Tridentオペレータ（手動またはHelmを使用）またはを使用してインストールできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。このトピックでは、適切なインストールプロセスを選択するための重要な情報を提供します。</block>
  <block id="4561600b99ad801aedaa0ed3d3f3d7dd" category="paragraph">手動で導入する場合でも、Helmを使用する場合でも、Tridentオペレータはインストールを簡素化し、Tridentリソースを動的に管理するための優れた方法です。カスタムリソース（CR）の属性を使用する<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>こともできます<block ref="5290e5312b651716bedf8a83ec5a6467" category="inline-link-macro-rx"></block>。</block>
  <block id="4c4c1456097b6c9eca1c708465c381be" category="example-title">&lt;strong&gt; Tridentオブジェクトの作成&lt;/strong&gt;</block>
  <block id="fd326d5b24197ffa86d97a4a14cb4f74" category="paragraph">クラスタを対象としたTridentオペレータは、Tridentインストールに関連付けられたリソースをクラスタレベルで管理します。これにより、ネームスペースを対象とした演算子を使用してクラスタを対象としたリソースを管理する際に発生する可能性のあるエラーを軽減できます。これは、自己修復とパッチ適用に不可欠です。</block>
  <block id="971121cd3f2006d8d765f6943be3667d" category="paragraph">オペレータはTridentのインストールを監視し、展開が削除された場合や誤って変更された場合などの問題に積極的に対処します。<block ref="6088362e783ede60a64ba91287dc58c1" prefix=" " category="inline-code"></block>CRをTridentインストールに関連付けるポッドが作成され<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。これにより、クラスタ内にTridentのインスタンスが1つだけ存在し、そのセットアップを制御して、インストールが強力であることを確認できます。インストールに変更が加えられると（展開またはノードのデミスタなど）、オペレータはそれらを識別し、個別に修正します。</block>
  <block id="2bd0a347fcdd1f32b2c47512a0f234b5" category="paragraph">たとえば、デバッグログを生成するためにTridentを有効にする必要があるシナリオを考えてみましょう。これを行うには、を<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block><block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>次のように設定し<block ref="8cddd364bfd0d68f21e3a9ba1123b849" prefix=" " category="inline-code"></block>ます。</block>
  <block id="fac5e433885256c138db519bfb7d9c8b" category="paragraph">クラスタを対象としたTridentオペレータを使用すると、クラスタを対象としたリソースを完全に削除できます。ユーザーはTridentを完全にアンインストールして簡単に再インストールできます。</block>
  <block id="2b926612abdd76af2a073b5894f76c21" category="paragraph">Kubernetesバージョンのクラスタをサポート対象バージョンにアップグレードすると、オペレータは既存のTridentインストールを自動的に更新し、Kubernetesバージョンの要件を満たすように変更します。</block>
  <block id="47a11daa7ba65ffd7ce5a63a596b662f" category="admonition">クラスタがサポート対象外のバージョンにアップグレードされた場合、オペレータがTridentをインストールできません。Tridentがオペレータとともにすでにインストールされている場合は、サポートされていないKubernetesバージョンにTridentがインストールされていることを示す警告が表示されます。</block>
  <block id="c82b4b0fab3872638ac3c7cebf4e6354" category="paragraph">アップグレードが必要な既存の導入環境がある場合、または導入環境を高度にカスタマイズする場合は、を検討する必要があります<block ref="e214bf159dbaf6573cfe15f1373b92db" category="inline-link-macro-rx"></block>。これは、従来のTridentの導入方法です。</block>
  <block id="2a756f07c39d09b80ec682e46071340c" category="paragraph">Tridentリソースのマニフェストを生成できます<block ref="d16089dfa270d6679e80d43ec8b5c378" category="inline-link-macro-rx"></block>。これには、導入、デーモンセット、サービスアカウント、Tridentのインストール時に作成されるクラスタロールが含まれます。</block>
  <block id="726ba10e7d6fe535f2d9336e7321a0d0" category="admonition">22.04リリース以降では、TridentをインストールするたびにAESキーが再生成されなくなりました。このリリースでは、Tridentは新しいシークレットオブジェクトをインストールします。このオブジェクトは複数のインストールにまたがって保持されます。つまり、<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>22.04では以前のバージョンのTridentをアンインストールできますが、以前のバージョンでは22.04のインストールをアンインストールできません。適切なインストール方法_を選択します。</block>
  <block id="551b274494ab1b09b1dc86a5a0c18783" category="paragraph">これはTridentをインストールする最も簡単な方法であり、ネットワーク制限が適用されないほとんどの環境で機能します。標準インストールモードでは、デフォルトのレジストリを使用して<block ref="0b505db73d92bac18356fa3feb3cf7e3" prefix="(" category="inline-code"></block>、必要なTrident（およびCSI<block ref="95d6355f896a633ab07c528c03b44c8e" prefix="(" category="inline-code"></block>）イメージを格納します。</block>
  <block id="2c5f46571f2892ffdec449b4fe136e81" category="paragraph">標準モードを使用する場合、Tridentインストーラは次の処理を実行します。</block>
  <block id="987eeee7473b18ea803953637bdfad2e" category="list-text">デプロイメントまたはノードデーモンセットを作成します。これにより、Kubernetesクラスタ内の対象となるすべてのノードでTridentポッドがスピンアップされます。</block>
  <block id="c784203bd2d02288d50564d90224ed01" category="list-text">Tridentを導入するリモートマシンに、適切なバージョンのを導入し<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>ます。</block>
  <block id="47bc0a3097919fdad65f139b6d69a9ff" category="list-text">Tridentのインストールとアンインストールには、常に同じ方法を使用してください。を使用してを展開した場合は<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>、適切なバージョンのバイナリを使用してTridentをアンインストールする必要があります<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。同様に、オペレータを使用して展開する場合は、CRを編集し、Tridentをアンインストールするように設定する<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>必要があります<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。</block>
  <block id="e1c3faef9fedf771266b88670b01c96e" category="list-text">オペレータベースの導入環境を削除してTridentの導入に使用する場合<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>は、まずTridentを編集してからアンインストールするように設定する<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>必要があります<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。次に、とオペレータの配置を削除し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。その後、を使用してをインストールできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="f2019abfb2d31501ffeb653190c776c7" category="paragraph">VMware Tanzuポートフォリオ製品にTridentをインストールする場合：</block>
  <block id="f13f0f6bb53cad2be972536943806066" category="doc">tridentctlを使用したTridentの管理</block>
  <block id="aace960e27eac9490c7c162553e42f7f" category="paragraph">には、<block ref="5a856e83aada9750fe5389f8da94335b" category="inline-link-rx"></block>Tridentに簡単にアクセスできるコマンドラインユーティリティが含まれてい<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。十分なPrivilegesを持つKubernetesユーザは、Tridentをインストールしたり、Tridentポッドを含むネームスペースを管理したりできます。</block>
  <block id="be99e89b73ca0fc3198af4f4649e5134" category="paragraph">Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ユーティリティは、次のコマンドとグローバルフラグをサポートしています。</block>
  <block id="a0ac16c3fbcfa888fa59e67b5463167b" category="list-text">Tridentにリソースを追加します。</block>
  <block id="2f9b5be603774ecb9636b484d457359e" category="list-text">Tridentから1つ以上のリソースを削除します。</block>
  <block id="6635cd89ace7391965bccedd81e35cb6" category="list-text">Tridentから1つ以上のリソースを取得します。</block>
  <block id="926631c8cfb777fe0db4134e51613ead" category="list-text">Tridentが必要とするコンテナイメージの表を印刷します。</block>
  <block id="bb596d4d22f7a33ee0d2a24060a763ec" category="list-text">既存のリソースをTridentにインポートします。</block>
  <block id="27b4c36cae8d1c4fd515d289942c87cc" category="list-text">Trident をインストール</block>
  <block id="257fa8c5a4a1749d97d717fe4e1215ea" category="list-text">Tridentからログを印刷します。</block>
  <block id="2124524b5b56338967984edc522a8671" category="list-text">Tridentからリソースを送信します。</block>
  <block id="806cf5654c2458b177e5c7daa3c09f48" category="list-text">Tridentをアンインストールします。</block>
  <block id="28c0034c10c257670255526657e62d93" category="list-text">Tridentでリソースを変更します。</block>
  <block id="852e24eece7824454b8f5c79668a07bb" category="list-text">Tridentでリソースをアップグレードします。</block>
  <block id="70e5b412fc117fa7faec13d3e8be6421" category="list-text">Tridentのバージョンを印刷します。</block>
  <block id="0680c12a98c31009064ca561bf02c7f8" category="list-text">Trident環境のネームスペース。</block>
  <block id="d56fa7a9770a5e6333220363051532ac" category="list-text">Trident RESTインターフェイスのアドレス/ポート。</block>
  <block id="592f5a846f45840ff17ae3fcbb5f2d26" category="paragraph">コマンドを使用し<block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix=" " category="inline-code"></block>て、Tridentにリソースを追加します。</block>
  <block id="71f8a14d1d2aabce6854ce9de9e4de40" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：Tridentにバックエンドを追加します。</block>
  <block id="03c6dd1ba84a83f2cd07f340b6806c09" category="paragraph">コマンドを使用し<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>て、Tridentから1つ以上のリソースを削除します。</block>
  <block id="21ee8d29d964bb9b13a0c41d9602ae94" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：Tridentから1つ以上のストレージバックエンドを削除します。<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>：Tridentから1つ以上のボリュームSnapshotを削除します。<block ref="0606cab8952ca875c43a0e15b35aab7c" prefix=" " category="inline-code"></block>：Tridentから1つ以上のストレージクラスを削除します。<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>：Tridentから1つ以上のストレージボリュームを削除します。</block>
  <block id="e558124864c80bb4cb3afd12ca94d6a3" category="paragraph">コマンドを使用し<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block>て、Tridentから1つ以上のリソースを取得します。</block>
  <block id="d4f3a31079f902b3ab789d35c645a783" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：Tridentから1つ以上のストレージバックエンドを取得します。<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>：Tridentから1つ以上のスナップショットを取得します。<block ref="0606cab8952ca875c43a0e15b35aab7c" prefix=" " category="inline-code"></block>：Tridentから1つ以上のストレージクラスを取得します。<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>：Tridentから1つ以上のボリュームを取得します。</block>
  <block id="2d7cc984025c13a373fe75153203182f" category="paragraph">フラグを使用して<block ref="59b514174bffe4ae402b3d63aad79fe0" prefix=" " category="inline-code"></block>、Tridentが必要とするコンテナイメージのテーブルを印刷します。</block>
  <block id="713e63397727c946dac8452e705917bd" category="paragraph">コマンドを使用し<block ref="f6c534966bc7687e0c87134d025f8837" prefix=" " category="inline-code"></block>て、既存のボリュームをTridentにインポートします。</block>
  <block id="cc674f0e0cd8c84b97f0fa6a907c1a9c" category="paragraph">フラグを使用し<block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix=" " category="inline-code"></block>てTridentをインストールします。</block>
  <block id="d26beba5397e2900bd10ac2f4114439a" category="paragraph">フラグを使用して<block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix=" " category="inline-code"></block>Tridentからログを出力します。</block>
  <block id="03b876ad5d685e21517c5c91d80aa1b7" category="list-text"><block ref="37caf0ee262229a9ddc60877eec6883f" prefix="" category="inline-code"></block>、<block ref="33a12b543204974f74acd94de699324e" prefix=" " category="inline-code"></block>：特に指定がないかぎり、すべてのログを含むサポートアーカイブを作成します。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：ログのヘルプ。<block ref="269889131ee4793a82191b78a2eb60e3" prefix=" " category="inline-code"></block>、<block ref="e1db966b8a9ad737de7da72be15dcfc3" prefix=" " category="inline-code"></block>：表示するTridentログ。Trident | auto | Trident - operator | allのいずれか（デフォルトは「auto」）。<block ref="60cfbca684c147d47b652c83c9617370" prefix=" " category="inline-code"></block>：ノードポッドログの収集元となるKubernetesノード名。<block ref="b3868ba70a8f4cf55464dd9926381db1" prefix=" " category="inline-code"></block>,:<block ref="a29a0e1222e48537fee91cff87dcb786" prefix=" " category="inline-code"></block>以前のコンテナインスタンスが存在する場合は、そのインスタンスのログを取得します。<block ref="2c82c1731bc7980f276a26037aa42ec1" prefix=" " category="inline-code"></block>:サイドカーコンテナのログを取得します。</block>
  <block id="05ec773046cd39b8bc0f2d677bce0910" category="paragraph">Tridentからリソースを送信するには、コマンドを使用し<block ref="2541d938b0a58946090d7abdde0d3890" prefix=" " category="inline-code"></block>ます。</block>
  <block id="18a643410fc45a102fb920f23c9c2836" category="paragraph">フラグを使用して<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block>Tridentをアンインストールします。</block>
  <block id="599e9ff51846ab1b00f04c11c114486b" category="paragraph">Tridentのリソースを変更するには、コマンドを使用し<block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix=" " category="inline-code"></block>ます。</block>
  <block id="0cf5883c2ee5ddae619d22db9c564f72" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>: Tridentのバックエンドを更新します。</block>
  <block id="5c7182b03561a92970bed5538e17d9c4" category="list-text">tbcで設定した後にvia tridentctlを設定できるようにするには<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>、<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>tbcからフィールドを削除する必要があります。これは、コマンドを使用して実行でき<block ref="d8d9eaf9706e633cb1e715e88dfbe301" prefix=" " category="inline-code"></block> ます。フィールドを削除したら<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>、コマンドを使用してバックエンドのを変更<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>できます<block ref="30ef4d8d0d0cb9218c8f70ca2b7ee7bc" prefix=" " category="inline-code"></block>。</block>
  <block id="3bed2aa34d42c38e2a5593a67e2fe0c4" category="section-title">プラグインのサポート</block>
  <block id="424054df70ee64ca6c70f04f668acb1e" category="paragraph">Tridentctlはkubectlに似たプラグインをサポートしています。Tridentctlは、プラグインバイナリファイル名が"tridentctl -&lt;plugin&gt;"というスキームに沿っている場合にプラグインを検出し、そのバイナリがPATH環境変数のリストにあるフォルダにあることを示します。検出されたすべてのプラグインは、tridentctlヘルプのpluginセクションに表示されます。オプションで、環境変数TRIDENTCTL_PLUGIN_PATHにプラグインフォルダを指定して検索を制限することもできます(例:<block ref="d8923b227a7eb64a54abbd6aa4ee0f6d" prefix=" " category="inline-code"></block>)。変数が使用されている場合、tridenctlは指定されたフォルダのみを検索します。</block>
  <block id="deeb141b9b83e90418e171a1871e4c4c" category="summary">Tridentのアンインストールには、Tridentのインストールと同じ方法を使用する必要があります。アップグレード、依存関係の問題、またはアップグレードの失敗または不完全な実行後に見つかったバグの修正が必要な場合は、Tridentをアンインストールし、そのバージョンに固有の手順を使用して以前のバージョンを再インストールする必要があります。</block>
  <block id="7fdff6d1496ee07f5530882ace839236" category="paragraph">Tridentのアンインストールには、Tridentのインストールと同じ方法を使用する必要があります。</block>
  <block id="e2f3eebc5fb0722c4ff76f470c4c3644" category="list-text">アップグレード、依存関係の問題、またはアップグレードの失敗または不完全な実行後に見つかったバグの修正が必要な場合は、Tridentをアンインストールし、該当する手順に従って以前のバージョンを再インストールする必要があります<block ref="e168bf6cc8da3b05fae6b22bcd12ba37" category="inline-link-macro-rx"></block>。これは、以前のバージョンに_downgrade_toを実行するための唯一の推奨方法です。</block>
  <block id="0a5e338ee1a9820e7a4a7d64f09e4a90" category="inline-link-macro">TridentとCRDを完全に取り外します。</block>
  <block id="bfc34bbf9ae6407400b3d77e0e84543b" category="list-text">アップグレードと再インストールを簡単に行うために、Tridentをアンインストールしても、Tridentによって作成されたCRDや関連オブジェクトは削除されません。Tridentとそのすべてのデータを完全に削除する必要がある場合は、を参照してください<block ref="a2addcf593ef6071e49d2a678662f830" category="inline-link-macro-rx"></block>。</block>
  <block id="39596b8f60148eb1bbb5294ed08b18e3" category="paragraph">Kubernetesクラスタの運用を停止する場合は、をアンインストールする前に、Tridentで作成されたボリュームを使用するすべてのアプリケーションを削除する必要があります。これにより、PVCが削除される前にKubernetesノードで非公開になります。</block>
  <block id="17733a3e129c42343460715297e0ac17" category="paragraph">Tridentのアンインストールには、インストール時と同じ方法を使用する必要があります。アンインストールする前に、Tridentの最初のインストールに使用したバージョンを確認してください。</block>
  <block id="289484202abcb58bc03e41c81caae5ac" category="list-text">オペレータポッドがない場合は、を使用してTridentがインストールされています<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="ec1716523baff70aa24080e64d8b4b12" category="list-text">オペレータポッドがある場合、Tridentは手動またはHelmを使用してTridentオペレータを使用してインストールされています。</block>
  <block id="5577c7ef32ae8572fa7be77d6824637e" category="list-text">オペレータポッドがある場合は、を使用して、<block ref="2bbaa285a4b0035313ee3178abf33313" prefix=" " category="inline-code"></block>TridentがHelmを使用してインストールされているかどうかを確認します。</block>
  <block id="aa5d66e97bedb220b9ef74e7c17b9f61" category="list-text">Helmラベルがある場合、TridentはHelmを使用してインストールされています。</block>
  <block id="28de01ed4501d62f4c5b88fa6049543d" category="list-text">Helmラベルがない場合、TridentはTridentオペレータを使用して手動でインストールされています。</block>
  <block id="e2a7f7c4ad1f2b2220b05363feef82c8" category="paragraph">オペレータを使用してTridentをインストールした場合は、次のいずれかの方法でアンインストールできます。</block>
  <block id="9f9bf29ad71be284c3ea7064648785b5" category="list-text">**削除<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>**：Tridentの展開に使用したCRを削除する<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>と、Tridentをアンインストールするようにオペレータに指示します。オペレータがの削除を処理し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>、インストール時に作成したTridentポッドを削除して、Tridentデプロイメントとデーモンセットの削除に進みます。</block>
  <block id="ea75777d00ce93c49ed762f4f7dfada6" category="paragraph">Helmを使用してTridentをインストールした場合は、を使用してアンインストールできます<block ref="547d17b0589ba1ba53549f8ddb830b62" prefix=" " category="inline-code"></block>。</block>
  <block id="b19a703b7895e9b3039fbad761b2c100" category="paragraph">Tridentに関連付けられているすべてのリソース（CRDおよび関連オブジェクトを除く）を削除するには、のコマンドを<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>使用し<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block>ます。</block>
  <block id="6bfc286a12a4a343361f71fd9b7ccf62" category="summary">Tridentオペレータを使用してTridentをアップグレードする前に、アップグレード中に発生するバックグラウンドプロセスについて理解しておく必要があります。これには、Tridentコントローラ、コントローラポッドとノードポッド、およびローリング更新を可能にするノードデーモンセットに対する変更が含まれます。</block>
  <block id="6bd585eb6409f22b8a1e247f4935c581" category="paragraph">Tridentをインストールしてアップグレードするには<block ref="1294f86abdf2591159d9dd04918b1092" category="inline-link-macro-rx"></block>、既存のマウントボリュームを中断することなく、TridentオブジェクトとKubernetesオブジェクトを自動的に処理する必要があります。このようにして、Tridentはダウンタイムなしでアップグレードをサポートできます。<block ref="c0fb6b6f12bb8ae805a97690328ec023" category="inline-link-macro-rx"></block>TridentオペレータはKubernetesクラスタと通信して次のことを行います。</block>
  <block id="a958e7fa65b27b4be8589d6d0de8d135" category="list-text">現在インストールされているTridentのバージョン（version_n_）を検出します。</block>
  <block id="0efdc02c2d9fa1fcf31ff85fec4ed8de" category="summary">既存のTridentインストールは、オペレータを使用して簡単にアップグレードできます。</block>
  <block id="9a98985a342ee2d7d213394e90d838a9" category="doc">Trident operatorまたはHelmを使用したTridentインストールのアップグレード</block>
  <block id="5430a6b8f98712c8210f8df2d906793a" category="paragraph">Tridentは、Tridentオペレータを使用して手動でアップグレードすることも、Helmを使用してアップグレードすることもできます。Tridentオペレータのインストールから別のTridentオペレータのインストールにアップグレードすることも、インストールからTridentオペレータのバージョンにアップグレードすることもできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。Trident Operatorのインストールをアップグレードする前にを参照してください<block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block>。</block>
  <block id="7be5118cbf87396f839e400ffc94aecd" category="paragraph">クラスタを対象としたTridentオペレータインストールから、クラスタを対象とした別のTridentオペレータインストールにアップグレードできます。バージョン21.01以降のTridentでは、すべてクラスタを対象とした演算子が使用されます。</block>
  <block id="18466b7fafaca62c9c0d2438889ca0c6" category="admonition">名前空間を対象とした演算子（バージョン20.07～20.10）を使用してインストールされたTridentからアップグレードするには、Tridentののアップグレード手順を使用します<block ref="567dd1ff029f25a404a69ff1e3c8d83b" category="inline-link-macro-rx"></block>。</block>
  <block id="76e06d694db0c428e4d51e3354a7a4bd" category="list-text">Tridentのバージョンを確認します。</block>
  <block id="5681bedbe2af394566fa4b56d2d4c938" category="list-text">現在のTridentインスタンスのインストールに使用したTridentオペレータを削除します。たとえば、23.07からアップグレードする場合は、次のコマンドを実行します。</block>
  <block id="1863fa40be678d4efa33c952a5cba52e" category="paragraph">Trident Helmのインストールをアップグレードできます。</block>
  <block id="b2095ed231848e69cbd92e44defb033b" category="admonition">TridentがインストールされているKubernetesクラスタを1.24から1.25以降にアップグレードする場合は<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block>、クラスタをアップグレードする前に、values.yamlをに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>設定するかコマンドに追加する<block ref="96d5d0b9a6e3e01b2ae2ed889f75d22e" prefix=" " category="inline-code"></block>ように更新する必要があります。<block ref="94ef2a130a825358ab3002442d6e5145" prefix=" " category="inline-code"></block></block>
  <block id="5198b91e39c3a2f369e2426e2732625e" category="paragraph">Trident HelmをアップグレードせずにKubernetesクラスタを1.24から1.25にアップグレードした場合、Helmのアップグレードは失敗します。Helmのアップグレードを実行するには、次の手順を前提条件として実行します。</block>
  <block id="b85ec56f096c3a360d0efb02cd7a405c" category="list-text">からhelm-mapkubeapisプラグインをインストールします<block ref="bd65bd6616cbc50afd763e93267c969a" category="inline-link-rx"></block>。</block>
  <block id="5f5d62e54c7f1681b8aca17a51dae491" category="list-text">Tridentがインストールされているネームスペースで、Tridentリリースのドライランを実行します。リソースが一覧表示され、クリーンアップされます。</block>
  <block id="db65493922bad76f3135ea26ab9b5377" category="list-text">クリーンアップを実行するには、helmを使用してフルランを実行します。</block>
  <block id="cdfb4a820b1c2fb971221fb06e0dcd22" category="inline-link-macro">Helmを使用してTridentをインストール</block>
  <block id="51c9e4ca2440cc879a0ac3211d74b056" category="list-text">から最新のTridentリリースをダウンロードし<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>ます。</block>
  <block id="6a40bcc839c7c4e3dc8f6767cbe14743" category="list-text">最新のTridentリリースをダウンロードします。</block>
  <block id="3dddb901f6b5bd5d89988dafdfabdec3" category="list-text">TridentをインストールするためのCRを作成し<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="64913c0fb81e4c0c481a4fc1fac61cdd" category="summary">Tridentはリリースサイクルを4ヶ月に短縮し、毎年3つのメジャーリリースを配信しています。各新しいリリースは、以前のリリースに基づいてビルドされ、新機能とパフォーマンスの強化に加え、バグの修正や改善点が追加されています。Tridentの新機能を利用するには、少なくとも年に1回アップグレードすることをお勧めします。</block>
  <block id="77e55df8a70448ed424b5f523364ffc2" category="paragraph">24.02リリース以降、Tridentはリリースサイクルを4カ月に短縮し、毎年3つのメジャーリリースを提供しています。新しいリリースは、以前のリリースに基づいて構築され、新機能、パフォーマンスの強化、バグの修正、および改善が提供されます。Tridentの新機能を利用するには、少なくとも年に1回アップグレードすることをお勧めします。</block>
  <block id="2189850878cb079b3d2ec0126cc0c42a" category="paragraph">Tridentの最新リリースにアップグレードする場合は、次の点を考慮してください。</block>
  <block id="c0f69f3a3b098007f278b27ffb9915ac" category="list-text">特定のKubernetesクラスタ内のすべてのネームスペースには、Tridentインスタンスを1つだけインストールする必要があります。</block>
  <block id="a34f035fd1be1d24760b20dd8fa547ea" category="list-text">Trident 23.07以降では、v1ボリュームスナップショットが必要です。alphaまたはbetaスナップショットはサポートされません。</block>
  <block id="df1a9174fcb3edd8d76379e2ce3131fc" category="list-text">でCloud Volumes Service for Google Cloudを作成した場合<block ref="14d2f65ad36632a8ebf2878592ce4877" category="inline-link-macro-rx"></block>は、Trident 23.01からのアップグレード時にまたは<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block>サービスレベルを使用するようにバックエンド構成を更新する必要があります<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block>。バックエンドでを更新しない<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block>と、ボリュームで障害が発生する可能性があります。詳細については、を参照してください <block ref="83a0df2fb9a604879fdb2fab6c5f77c1" category="inline-link-macro-rx"></block> 。</block>
  <block id="355ecbb7c8a4a9a1ef360cb6b2697d0c" category="list-text">をアップグレードする場合は、を<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>Tridentで使用するために指定することが重要です<block ref="f6e7f85d8aee15940665bf722f7afac2" prefix=" " category="inline-code"></block>。既存のボリュームを停止することなく、削除や再作成を実行できます<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。</block>
  <block id="a307a5edde0e4eeeb35bb77f0a1f1cc7" category="paragraph">Tridentバージョンは、日付ベースの命名規則に従い<block ref="fb6921a005d395f9482cdac0306d4935" prefix=" " category="inline-code"></block>ます。「YY」は年の最後の2桁、「mm」は月です。ドットリリースは規則に従い<block ref="d93ec759c4a0e8c1cf9c7653b2939656" prefix=" " category="inline-code"></block>ます。「X」はパッチレベルです。アップグレード前のバージョンに基づいて、アップグレード後のバージョンを選択します。</block>
  <block id="25005cf84eec08f8f6a673dd193efa30" category="paragraph">Tridentを最初にインストールしたバージョンを確認するには、次の手順を実行します。</block>
  <block id="f83034df0569133b2bce8e38446dfa7d" category="list-text">オペレータポッドがある場合は、を使用して、<block ref="9ce56b0c50ae80fe754522969b1c96b9" prefix=" " category="inline-code"></block>TridentがHelmを使用してインストールされているかどうかを確認します。</block>
  <block id="831878da1887476c96f4d3663eb93345" category="paragraph">通常は、最初のインストールと同じ方法でアップグレードする必要がありますが、可能です。<block ref="e34c010032791417159012a5e31d7540" category="inline-link-macro-rx"></block>Tridentをアップグレードする方法は2つあります。</block>
  <block id="0b788cf4288607cc017571ff06e7943e" category="summary">を使用すると、既存のTridentインストールを簡単にアップグレードできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="ffdcc81ea1b556d1898b6edeef92af9c" category="paragraph">を使用して、既存のTridentインストールを簡単にアップグレードできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="f01c58ea1eebde50a8ce26c58daf4cce" category="paragraph">Tridentのアンインストールと再インストールは、アップグレードとして機能します。Tridentをアンインストールしても、Trident環境で使用されている永続的ボリューム要求（PVC）と永続的ボリューム（PV）は削除されません。すでにプロビジョニングされているPVCは、Tridentがオフラインの間も使用できます。また、その間に作成されたPVCがオンラインに戻ったあとも、Tridentはボリュームをプロビジョニングします。</block>
  <block id="7ad65028965606bad1c173b4f16cefeb" category="list-text">のuninstallコマンドを実行し<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>て、CRDと関連オブジェクトを除くTridentに関連付けられているすべてのリソースを削除します。</block>
  <block id="3777d5420fb2ef4c5e434cd5af97d73d" category="inline-link-macro">tridentctlを使用したTridentのインストール</block>
  <block id="23d4814be45e57b94df46ce2ee2a19f6" category="list-text">Tridentを再インストールします。を参照してください <block ref="6fa1b6e43e706a69762bd9a319950a21" category="inline-link-macro-rx"></block>。</block>
  <block id="f36baffc9ca645fa1fe36124af4e39a7" category="summary">TridentとTridentを使用して作成されたボリュームの保護とリカバリのオプションについて説明します。永続性に関する要件があるアプリケーションごとに、データ保護とリカバリの戦略を用意しておく必要があります。</block>
  <block id="ffe1fc42630bb81c5437556ccf118ba0" category="section-title">Tridentのレプリケーションとリカバリ</block>
  <block id="9c85886fa11238157a9de69d0caaf7f2" category="paragraph">災害発生時にTridentをリストアするバックアップを作成できます。</block>
  <block id="a06c2dd9e460954c4c8e439ed6c16849" category="section-title">Tridentレプリケーション</block>
  <block id="0cf2379589875f19fc411cdbbabab10c" category="paragraph">Tridentは、Kubernetes CRDを使用して独自の状態を格納および管理し、Kubernetesクラスタetcdを使用してメタデータを格納します。</block>
  <block id="df92604aa3f4e581e24f9f7e549cbe1e" category="section-title">Tridentリカバリ</block>
  <block id="742d0be325a2cc0809fad668e223a40c" category="paragraph">Kubernetes CRDとKubernetesクラスタetcdスナップショットを使用して、Tridentをリカバリできます。</block>
  <block id="1f7c8c42e8abc1d393aa79f78603a7d4" category="paragraph">Tridentではレプリケーション関係を設定できませんが、ストレージ管理者はを使用してSVMをレプリケートできます<block ref="eae3571c3bcc896c3c2934b9eeb2171a" category="inline-link-rx"></block>。</block>
  <block id="5717b21c41683b40b5182faa442bafb8" category="paragraph">SnapMirrorでは、レプリケートする対象を制御するオプションを設定できます。プリフォーム時に選択したオプションを知っておく必要が<block ref="36ddeb299c5dc6bcf247ffb9df4df208" category="inline-xref-macro-rx"></block>あります。</block>
  <block id="876b144c54cd97607e6f6f4d8b15f39e" category="section-title">Tridentを使用したSVMのリカバリ</block>
  <block id="5c26def63f84646a9f77218eea10331a" category="paragraph">Tridentでは、SVMの障害は自動的に検出されません。災害が発生した場合、管理者は新しいSVMへのTridentフェイルオーバーを手動で開始できます。</block>
  <block id="eb12f237ee9304f080e1a3b606030f2d" category="admonition">を指定する<block ref="524218dc9ff1ef52c9a0404971525b21" prefix=" " category="inline-code"></block>と、デスティネーションSVMがアクティブ化されたときに、Tridentによってプロビジョニングされたすべてのボリュームからデータの提供が開始されます。</block>
  <block id="4afaf8cedd32fb155e98f0626311d8ab" category="paragraph">TridentではSnapMirrorレプリケーション関係を設定できませんが、ストレージ管理者はを使用して、Tridentで作成されたボリュームをレプリケートできます<block ref="c3487d6df2463efc752acd6f5cc45a1f" category="inline-link-macro-rx"></block>。</block>
  <block id="9cf6e031ec85179307403b10689113c9" category="paragraph">その後、を使用して、リカバリしたボリュームをTridentにインポートできます<block ref="b0a81d9cb6f9ea994a428f959b11d3c6" category="inline-link-macro-rx"></block>。</block>
  <block id="3c520ff745f4964007340c06ce483d92" category="summary">Tridentを導入する際には、ここに記載されている推奨事項に従ってください。</block>
  <block id="4ac9935cf245d076d6ef4babd8659321" category="paragraph"><block ref="c41296e544cd0faaa4fe4e8b22535287" category="inline-link-rx"></block>異なるアプリケーション間で管理を分離し、リソース共有の障壁となります。たとえば、あるネームスペースの PVC を別のネームスペースから使用することはできません。Tridentは、Kubernetesクラスタ内のすべてのネームスペースにPVリソースを提供するため、Privilegesを昇格させたサービスアカウントを利用します。</block>
  <block id="f53e7cca65962add5f429193e9cbdb7c" category="doc">Tridentの統合</block>
  <block id="ef77c788fd33425198e77cd3ce7c4525" category="paragraph">Tridentを統合するには、ドライバの選択と導入、ストレージクラスの設計、仮想プールの設計、永続的ボリューム要求（PVC）によるストレージプロビジョニングへの影響、ボリューム処理、Tridentを使用したOpenShiftサービスの導入など、設計とアーキテクチャの要素を統合する必要があります。</block>
  <block id="9586fb9f48cc64f580092d7123d5acad" category="paragraph">次の表では、すべての機能がTridentを通じて公開されているわけではないことに注意してください。一部の機能は、プロビジョニング後にストレージ管理者が適用する必要があります。上付き文字の脚注は、機能やドライバごとに機能を区別します。</block>
  <block id="5b003b29dfd53276a5b816a47ab32348" category="paragraph">Tridentでは、ONTAP向けに2つのSANドライバを提供しています。その機能は次のとおりです。</block>
  <block id="3f89ded204a4589d3a6dc04e8b5f3199" category="verse-content-simple">脚注:はい脚注: 1[]: Tridentで管理されていません脚注: 2[]: raw-blockボリュームでサポートされています</block>
  <block id="e999eb209b6aaa7fd15151716377009a" category="paragraph">Tridentはドライバを使用して<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>サービスを管理し<block ref="d617d79fbb5ee3bc8bd280353eeb1349" category="inline-link-macro-rx"></block>ます。</block>
  <block id="67f0b796ae8988fe5446f8f925a4f9d8" category="inline-link-macro">Azure NetApp Files 向けの Trident バックエンド構成</block>
  <block id="46a410b97b05c5034e7d6dd503471548" category="paragraph">このドライバとその設定方法の詳細については、を参照してください<block ref="be39645497306a87b14bbf7b3f50cd06" category="inline-link-macro-rx"></block>。</block>
  <block id="57c2378ca2b5638498fcfce53847fb9c" category="verse-content-simple">脚注:はい脚注: 1[]: Tridentで管理されていません</block>
  <block id="66a053f36417f94321dcee6851d216fb" category="paragraph">Tridentはドライバを使用し<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>てGoogle Cloud上のCloud Volumes Serviceとリンクします。</block>
  <block id="372b7e839ce4640b08b006c48ae95057" category="paragraph"><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>ドライバは仮想プールを使用してバックエンドを抽象化し、Tridentがボリュームの配置を決定できるようにします。管理者がファイルに仮想プールを定義し<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>ます。ストレージクラスには、ラベルで仮想プールを識別するセレクタが使用されます。</block>
  <block id="ac8324606d3b8866904635470650c639" category="list-text">バックエンドで仮想プールが定義されている場合、Tridentはそれらの仮想プールが制限されているGoogle Cloudストレージプール内にボリュームを作成しようとします。</block>
  <block id="9fc446e524c543fa3dd1400cdc43e4a1" category="list-text">バックエンドで仮想プールが定義されていない場合、Tridentはリージョン内の使用可能なストレージプールからGoogle Cloudストレージプールを選択します。</block>
  <block id="0fe1467ee5cd2261fbc5597882bb689e" category="paragraph">TridentでGoogle Cloudバックエンドを設定するには、バックエンドファイルで、、<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>を<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block>指定する必要があります<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block>。プロジェクト番号はGoogle Cloudコンソールで確認できます。APIキーは、Google CloudでCloud Volumes Service のAPIアクセスを設定するときに作成したサービスアカウントの秘密鍵ファイルから取得されます。</block>
  <block id="0ae6ba37bc9a9c5f0420b6d38d38f5a9" category="inline-link-macro">CVS for GCPでのTridentサポートの詳細</block>
  <block id="a215dc15f2b1d935791b8a15eeda76fd" category="paragraph">Google Cloudのサービスタイプとサービスレベルに関するCloud Volumes Serviceの詳細については、を参照してください<block ref="76c16eb2ef8acb446255be1d7b0a5f06" category="inline-link-macro-rx"></block>。</block>
  <block id="232ed8614fde30f69091f058b325c923" category="list-text">レプリケーションはTridentで管理されません。</block>
  <block id="452de30c1a2630700e271baac21f9ff5" category="paragraph">パラメータを使用<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>すると、指定した属性に一致するプールだけにストレージを制限できます。パラメータは、<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>属性とパラメータで選択された一連のプールとともに、Tridentがプロビジョニングに使用する一連のプールを拡張するために使用し<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>ます。どちらか一方のパラメータを単独で使用することも、両方を使用して、適切なストレージプールセットが選択されていることを確認することもできます。</block>
  <block id="e2dcff5242641fe99e5de74fa1bfd61c" category="paragraph">仮想プールは、すべてのTridentバックエンドで使用できます。Tridentが提供する任意のドライバを使用して、任意のバックエンドに仮想プールを定義できます。</block>
  <block id="976ae934688a6ffde1862ea50e00d6f9" category="paragraph">仮想プールを使用すると、管理者はストレージクラスで参照可能なバックエンド上に抽象化レベルを作成して、バックエンドにボリュームを柔軟かつ効率的に配置できます。同じサービスクラスを使用して異なるバックエンドを定義できます。さらに、同じバックエンドに異なる特性を持つ複数のストレージプールを作成することもできます。ストレージクラスに特定のラベルを持つセレクタが設定されている場合、Tridentはボリュームを配置するすべてのセレクタラベルに一致するバックエンドを選択します。ストレージクラスセレクタのラベルが複数のストレージプールに一致する場合、Tridentはそのうちの1つをボリュームのプロビジョニング元として選択します。</block>
  <block id="fb241a03678f7f6dbc815840b0eb275b" category="paragraph">要求されたストレージクラスを超える一部のパラメータは、PVCの作成時にTridentプロビジョニングの決定プロセスに影響する可能性があります。</block>
  <block id="d0652515edf18bae4abe8c32cbada535" category="paragraph">Trident は、以下のマトリックスに記載されているアクセス方法で使用されているストレージプロトコルと一致するかどうかを試みます。これは、基盤となるストレージプラットフォームに依存しません。</block>
  <block id="5778c34e2378296c943901d6fc399424" category="paragraph">Trident では、 CSI フレームワークを使用して、ボリュームスナップショットのオンデマンド作成とスナップショットからの PVC の作成がサポートされます。Snapshot は、データのポイントインタイムコピーを管理し、 Kubernetes のソース PV とは無関係にライフサイクルを管理する便利な方法です。これらの Snapshot を使用して、 PVC をクローニングできます。</block>
  <block id="9aea71aa176b781fee80bdbfd4f20d46" category="paragraph">Trident では、ボリューム Snapshot から PersistentVolumes を作成することもできます。そのためには、PersistentVolumeClaimを作成し、ボリュームの作成元となるSnapshotとしてを指定します<block ref="1ea7e575defdf6bc3f26a3f127e98170" prefix=" " category="inline-code"></block>。Trident は、 Snapshot にデータが存在するボリュームを作成することで、この PVC を処理します。この機能を使用すると、複数のリージョン間でデータを複製したり、テスト環境を作成したり、破損した本番ボリューム全体を交換したり、特定のファイルとディレクトリを取得して別の接続ボリュームに転送したりできます。</block>
  <block id="ed6f39ab5224d264f94fc4324f391366" category="paragraph">ストレージ管理者は、 ONTAP クラスタ内のアグリゲート間およびコントローラ間で、ストレージ利用者への無停止でボリュームを移動できます。この処理は、Tridentが使用しているSVMからアクセスできるデスティネーションアグリゲートであるかぎり、TridentまたはKubernetesクラスタには影響しません。重要なことは、アグリゲートがSVMに新しく追加されている場合は、バックエンドをTridentに再追加してリフレッシュする必要があることです。これにより、 Trident が SVM のインベントリを再設定し、新しいアグリゲートが認識されます。</block>
  <block id="aec7eb75babd44ee65e8fe4e8f0b1096" category="paragraph">ただし、バックエンド間でのボリュームの移動は Trident では自動でサポートされていません。これには、同じクラスタ内の SVM 間、クラスタ間、または別のストレージプラットフォームへの SVM の間も含まれます（ Trident に接続されているストレージシステムの場合も含む）。</block>
  <block id="16c30c56fe00d20f49bb055490dff7aa" category="paragraph">ボリュームが別の場所にコピーされた場合、ボリュームインポート機能を使用して現在のボリュームを Trident にインポートできます。</block>
  <block id="6b810970c1e58f8070c318df43054f6c" category="paragraph">ONTAPドライバとドライバを使用する場合<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>は、コマンドを使用し<block ref="5b139f5309999fcf6a4bbc8389cbc865" prefix=" " category="inline-code"></block>て、Tridentで管理するKubernetesに既存のボリュームをインポートします。import volume コマンドで使用した PVC YAML または JSON ファイルは、 Trident をプロビジョニングツールとして識別するストレージクラスを指定します。NetApp HCI / SolidFire バックエンドを使用する場合は、ボリューム名が一意であることを確認してください。ボリューム名が重複している場合は、ボリュームインポート機能で区別できるように、ボリュームを一意の名前にクローニングします。</block>
  <block id="39367d7a2c7f9b4acc498f4324db020c" category="paragraph">ドライバまたは<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>ドライバを使用している場合<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>は、コマンドを使用し<block ref="37e8b35fb48ead6318ca6f2f83110554" prefix=" " category="inline-code"></block>て、Tridentで管理するKubernetesにボリュームをインポートします。これにより、ボリューム参照が一意になります。</block>
  <block id="4cb042ac9491457dd22d7368d4fa27c1" category="paragraph">上記のコマンドが実行されると、 Trident はバックエンド上のボリュームを検出してサイズを確認します。設定されたPVCのボリュームサイズを自動的に追加（および必要に応じて上書き）します。Trident が新しい PV を作成し、 Kubernetes が PVC を PV にバインド</block>
  <block id="e8b2e1fd32346fcd38f11f84cd51d409" category="paragraph">ホスト / インベントリファイルに適切な Ansible 変数を定義して、 Ansible でサービスを導入します。OpenShift インストール時に導入する場合は、 PV が自動的に作成されて使用されます。コンポーネントプレイブックを使用して導入する場合は、OpenShiftのインストール後にAnsibleによって必要なPVCが作成され、Tridentによってストレージがプロビジョニングされたらサービスが導入されます。</block>
  <block id="d6e925b1fae42b853ba04f3810c28628" category="summary">Linuxユニファイドキーセットアップ（LUKS）を有効にして、Trident上のONTAP SANおよびONTAP SANエコノミーボリュームを暗号化できます。Tridentでは、LUKSで暗号化されたボリュームのボリュームサイズ変更とキー（パスフレーズ）のローテーションがサポートされます。</block>
  <block id="3d987bdfee54b4cc132665887eab7b60" category="paragraph">Linuxユニファイドキーセットアップ（LUKS）を有効にして、Trident上のONTAP SANおよびONTAP SANエコノミーボリュームを暗号化できます。Tridentは、LUKSで暗号化されたボリュームのパスフレーズのローテーションとボリューム拡張をサポートしています。</block>
  <block id="35ae21817657169af402c244d1974dfd" category="paragraph">Tridentでは、LUKSで暗号化されたボリュームでAES-XTS-plain64暗号化およびモードが使用されます（の推奨）<block ref="79a538d5fda32e1565131ca044d589f6" category="inline-link-macro-rx"></block>。</block>
  <block id="32a9b32fc41708606002471c1eb3f55c" category="paragraph">LUKSボリュームをインポートするには、バックエンドでをに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>設定する必要があります<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block>。このオプションを指定する<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block>と、<block ref="68934a3e9455fa72420237eb05902327" prefix="(" category="inline-code"></block>次の例に示すように、ボリュームがLUKS準拠である<block ref="b326b5062b2f0e69046810717534cb09" prefix="(" category="inline-code"></block>かどうかがTridentに通知されます。</block>
  <block id="623002c2cdb3e388098c78e4a56c5f74" category="paragraph">LUKSパスフレーズのローテーションは、ボリュームをマウントするポッドが、新しいLUKSパスフレーズの指定後に作成されたときに行われます。新しいPODが作成されると、Tridentはボリューム上のLUKSパスフレーズをシークレット内のアクティブなパスフレーズと比較します。</block>
  <block id="0cf736e750e01f7d7ddbc08fe8297576" category="summary">ここに記載されている推奨事項を使用して、Tridentのインストールが安全であることを確認してください。</block>
  <block id="e047f381a9811c1d60a8a3750b2d0cda" category="paragraph">ここに記載されている推奨事項を使用して、Tridentのインストールが安全であることを確認します。</block>
  <block id="2d40d7a116d252bb16ef5b074c9c28ee" category="section-title">独自のネームスペースでTridentを実行</block>
  <block id="7d4a55ae858dcca9ad616f33e6035cc6" category="paragraph">信頼性の高いストレージを確保し、潜在的な悪意のあるアクティビティをブロックするためには、アプリケーション、アプリケーション管理者、ユーザ、管理アプリケーションがTridentオブジェクト定義やポッドにアクセスできないようにすることが重要です。</block>
  <block id="59eb6cc525324355d85d541c963c8697" category="paragraph">他のアプリケーションとユーザをTridentから分離するには、必ずTridentを独自のKubernetesネームスペースにインストールし<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="(" category="inline-code"></block>ます）。Tridentを独自のネームスペースに配置すると、Kubernetes管理者のみがTridentポッドと、名前空間CRDオブジェクトに格納されているアーティファクト（該当する場合はバックエンドやCHAPシークレットなど）にアクセスできるようになります。Tridentネームスペースへのアクセスを管理者のみに許可し、アプリケーションへのアクセスを許可する必要があり<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。</block>
  <block id="9d9837d692b44e524c96b427964bea85" category="paragraph">Tridentでは、ONTAP SANワークロードに対してCHAPベースの認証がサポートされます（ドライバと<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバを使用<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>）。NetAppでは、ホストとストレージバックエンド間の認証にTridentで双方向CHAPを使用することを推奨しています。</block>
  <block id="a77f6a8d6a33d8d8102cdeed9631b96d" category="paragraph">ホストと NetApp HCI バックエンドと SolidFire バックエンドの間の認証を確保するために、双方向の CHAP を導入することを推奨します。Tridentは、テナントごとに2つのCHAPパスワードを含むシークレットオブジェクトを使用します。Tridentをインストールすると、CHAPシークレットが管理され、それぞれのPVのCRオブジェクトに格納され<block ref="3ddc70b4b408f6dd5bbd5fe7d6008993" prefix=" " category="inline-code"></block>ます。PVを作成すると、TridentはCHAPシークレットを使用してiSCSIセッションを開始し、CHAPを介してNetApp HCIおよびSolidFireシステムと通信します。</block>
  <block id="99dfe9c8c9bd791b7382d67a440c38be" category="admonition">Tridentで作成されるボリュームは、どのボリュームアクセスグループにも関連付けられません。</block>
  <block id="9559c7656e8a28d235478856aa8e44ce" category="section-title">NVEおよびNAEでのTridentの使用</block>
  <block id="4a8deb2ba46901e5599a8d9ca85ca254" category="list-text">バックエンドでNAEが有効になっている場合、TridentでプロビジョニングされたすべてのボリュームでNAEが有効になります。</block>
  <block id="6fd5fcab13431f04cede0c124a46282a" category="paragraph">NAE対応バックエンドのTridentで作成されたボリュームは、NVEまたはNAEで暗号化する必要があります。</block>
  <block id="18eea8a0000e827a336c57c06568e4d5" category="list-text">NAE対応バックエンドでNVE暗号化フラグをに設定する<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>と、NAE対応ボリュームが作成されます。NVE暗号化フラグをに設定してNAE暗号化を無効にすることはできません<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。</block>
  <block id="9feef6eaebf84b29639dd7c179735c8c" category="list-text">TridentでNVEボリュームを手動で作成するには、NVE暗号化フラグを明示的にに設定し<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>ます。</block>
  <block id="4551cdad3ae48d3a807028a224a3617f" category="admonition">通常、オブジェクトを管理する必要はありませ<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>ん。ただし、Tridentの外部でを作成する場合は例外です<block ref="0b4cdf17ac3e4123330cb8e51ec533a2" category="inline-link-macro-rx"></block>。</block>
  <block id="805098fafaaebe033d70c80fe542e3af" category="paragraph">Tridentは、オブジェクトを使用し<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block>て、Tridentバックエンド、Tridentストレージクラス、TridentボリュームなどのTridentオブジェクトのIDを保持します。これらのオブジェクトは Trident によって管理されます。また、 CSI のボリュームスナップショットフレームワークには、ボリュームスナップショットの定義に必要ないくつかの SSD が導入されています。</block>
  <block id="a8a62fe3b16797ce253b78f83dc73a18" category="section-title">Trident<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>オブジェクト</block>
  <block id="21283df20640a21f468122a427ef1bfc" category="section-title">Trident バックエンドオブジェクト</block>
  <block id="8a4410d54113ca147b35c633207444b7" category="section-title">Trident<block ref="5e5d444b688db40e013a7d0b8b3c0898" prefix=" " category="inline-code"></block>オブジェクト</block>
  <block id="f08d82cd2f4fa097db43220a04f62434" category="section-title">Trident<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block>オブジェクト</block>
  <block id="9b53117639a1995b2872ed6bca3dec8e" category="section-title">Trident<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block>オブジェクト</block>
  <block id="7eff879bfca572dbfc347fa226402a22" category="section-title">Trident<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>オブジェクト</block>
  <block id="554741cc944c4e5f022fcbc0fa74e635" category="paragraph">Tridentデーモンセットは、Kubernetesで利用可能な最高の優先度クラスであるプライオリティクラスを使用して<block ref="e2c3c5140d40bff7c63d42afa55e20cb" prefix=" " category="inline-code"></block>、ノードの正常なシャットダウン時にTridentがボリュームを識別してクリーンアップできるようにし、リソースへの負荷が高いクラスタでは、Tridentデーモンセットポッドが優先度の低いワークロードをプリエンプトできるようにします。</block>
  <block id="ee17e6c68211ace703b5692f81c2e6c4" category="paragraph">これを実現するために、Tridentはオブジェクトを使用し<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>て、Tridentデーモンセットの「system-node-critical」優先クラスを確実に満たします。デプロイメントおよびデーモンセットの作成の前に、Tridentはオブジェクトを検索し<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>、検出されていない場合は適用します。</block>
  <block id="b09f29e72667c7bbfee7df15e0918219" category="paragraph">独自のリソース割り当てを制御する場合は、次のコマンドを使用してTridentオブジェクトを削除できます<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>。</block>
  <block id="6f9b6f4ef23610d31af9db2f8015cd91" category="summary">Kubernetesポッドのセキュリティ標準（PSS）とポッドのセキュリティポリシー（PSP）によって、権限レベルが定義され、ポッドの動作が制限されます。また、OpenShift Security Context Constraints（SCC）でも、OpenShift Kubernetes Engine固有のポッド制限を定義します。このカスタマイズを行うために、Tridentはインストール時に特定の権限を有効にします。</block>
  <block id="75f5ed582d115d8da9d2b70f7279ae9c" category="paragraph">Kubernetesポッドのセキュリティ標準（PSS）とポッドのセキュリティポリシー（PSP）によって、権限レベルが定義され、ポッドの動作が制限されます。また、OpenShift Security Context Constraints（SCC）でも、OpenShift Kubernetes Engine固有のポッド制限を定義します。このカスタマイズを行うために、Tridentはインストール時に特定の権限を有効にします。次のセクションでは、Tridentによって設定される権限について詳しく説明します。</block>
  <block id="81f58ff2750ef607f5ace37340e32983" category="cell">NFSで開始する必要があり<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block>ます。Tridentは、NFSボリュームをマウントする前にが実行されているかどうかをホストプロセスに照会して判断し<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8c4d735e96caff70ec2fb4b6da0b8647" category="cell">Seccompプロファイルは特権コンテナでは常に「制限されていない」ため、Tridentでは有効にできません。</block>
  <block id="55067c9b7862cdb9b724bac1e11f114e" category="cell">OpenShiftでは、特権コンテナは（「Super Privileged Container」）ドメインで実行され、非特権コンテナはドメインで実行さ<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block>れ<block ref="ce0991860b118fa3ab777cbb62c7caa5" prefix=" " category="inline-code"></block>ます。では<block ref="34c54dce528ae11502f7c2908c0e4a21" prefix=" " category="inline-code"></block>、がインストールされていると<block ref="c42c2c095fe432fac047b16b37a0c05c" prefix=" " category="inline-code"></block>、すべてのコンテナがドメイン内で実行され<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block>、SELinuxが実質的に無効になります。そのため、Tridentはコンテナに追加しません<block ref="0221dccbaacc71551feb621f4ebfae36" prefix=" " category="inline-code"></block>。</block>
  <block id="1b1944fe544c06f29c78d07fcfbf4683" category="summary">Tridentが通信するポートの詳細については、こちらを参照してください。</block>
  <block id="190c8d0a8c0f9d99e2a5cee87981451c" category="paragraph">Tridentが通信に使用するポートの詳細については、こちらを参照してください。</block>
  <block id="cf99312afccffdb3b97f892cb91990a0" category="summary">TridentのREST APIを操作する場合は、RESTエンドポイントを直接使用できます。</block>
  <block id="5eee484e5d1a379b56272cbb68f0b4a6" category="doc">Trident REST API</block>
  <block id="01244d6a0ae311e8f26e37eff3b90b3a" category="paragraph"><block ref="8321852d17a287399cb52ef30f4b21eb" category="inline-link-macro-rx"></block>Trident REST APIを操作する最も簡単な方法ですが、必要に応じてRESTエンドポイントを直接使用することもできます。</block>
  <block id="d802062141c45c0c8ed9e54ff53f4878" category="paragraph">REST APIは、Kubernetes以外の環境でTridentをスタンドアロンバイナリとして使用する高度なインストールに役立ちます。</block>
  <block id="daef2c20475904ee3d06d11ab5e5cc0a" category="paragraph">セキュリティを強化するため、ポッド内で実行する場合、Tridentは<block ref="aba3d4b49c454e1974970e7b5514b001" prefix=" " category="inline-code"></block>デフォルトでlocalhostに制限されています。この動作を変更するには、ポッド構成でTridentの引数を設定する必要があり<block ref="38df54fe961fa2bf2a7f82a5854fabad" prefix=" " category="inline-code"></block>ます。</block>
  <block id="4e1a255728b39675b43f116f4cfb488b" category="paragraph">これらのAPIの呼び出し方法の例については、debug)<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="(" category="inline-code"></block>フラグを渡します。詳細については、を参照してください <block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block>。</block>
  <block id="e0fcace21bf76f1a9c21940cb093720e" category="list-text">オブジェクトを作成するには JSON 構成が必要です。各オブジェクトタイプの仕様については、を参照してください<block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block>。</block>
  <block id="de7f4e4d8a5861d8381abc8bfafc64c2" category="admonition">バックエンドまたはストレージクラスに関連付けられているボリュームは削除されず、削除されません。詳細については、を参照してください <block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block>。</block>
  <block id="9cd971ecdea9d32fa28fcdca5951a02c" category="summary">Tridentは、Tridentオーケストレーションツール用のいくつかのコマンドラインオプションを公開し、特定のポートを介して通信します。</block>
  <block id="33649eaebf2b1cded3cfe2ae660b3db8" category="paragraph">Tridentでは、Tridentオーケストレーションツールのコマンドラインオプションがいくつか公開されています。これらのオプションを使用して、導入環境を変更できます。</block>
  <block id="df659a37411eac4669a05e25173aa8b7" category="list-text">このオプションまたはを使用し<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block>て、Kubernetesのサポートを有効にします。Trident を指定すると、セキュアでないアドレスとポートを使用して Kubernetes API サーバに接続されます。これにより、Tridentをポッドの外部に導入できますが、サポートされるのはAPIサーバへの安全でない接続のみです。安全に接続するには、オプションを使用してポッドにTridentを導入し<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block>ます。</block>
  <block id="e3ab8ff46f9c86474b01bf93b504507e" category="summary">ネットアップは、製品やサービスの改善と強化を継続的に行っています。ここでは、最新バージョンのTridentの最新機能、拡張機能、バグ修正の一部を紹介します。</block>
  <block id="f219960762ce1ea892bf48746515e583" category="list-text">Google Cloud NetApp VolumesドライバがNFSボリュームに対して一般提供されるようになり、ゾーン対応のプロビジョニングがサポートされるようになりました。</block>
  <block id="09dc81fef04f949a006210deaff2f205" category="list-text">GCPワークロードIDは、GKEを使用するGoogle Cloud NetApp VolumeのCloud Identityとして使用されます。</block>
  <block id="179837f123bf751c03460e6d2e0927c2" category="list-text">LUN-SAN ONTAPドライバおよびLUN-SAN-Economyドライバに設定パラメータが追加され、ユーザがONTAP形式オプションを指定できるようになりました<block ref="ef225248e79c14501d51a4941b5ae5d1" prefix=" " category="inline-code"></block>。</block>
  <block id="b500d40dfa3ea14369fdaf59d3b1c835" category="list-text">Azure NetApp Filesの最小ボリュームサイズを50GiBに縮小Azureの新しい最小サイズは、11月に一般提供される予定です。</block>
  <block id="2e6f95101e443ed93c211c35457a90e6" category="list-text">ONTAP NAS-EconomyドライバとONTAP SAN-Economyドライバを既存のFlexVolプールに制限する設定パラメータが追加されました<block ref="80fd16da9d17abac4374b362f2e409fe" prefix=" " category="inline-code"></block>。</block>
  <block id="bf300dbe4f3e7fba7ef23cdf029d7f54" category="list-text">すべてのONTAPドライバで、SVMでアグリゲートの追加、削除、名前変更が検出されるようになりました。</block>
  <block id="b0587c4582678977a894feccef58eb73" category="list-text">ONTAP - SANおよびONTAP - SAN -エコノミーノードステージとアンステージエラー処理が改善され、ステージが失敗した後にアンステージでデバイスを削除できるようになりました。</block>
  <block id="914e332f78206303c5897d6de3d31dc4" category="list-text">カスタムロールジェネレータを追加しました。これにより、お客様はONTAPでTridentの最小限のロールを作成できます。</block>
  <block id="54a5a20d9182724aeda126c68ff2d500" category="inline-link-macro">問題#792</block>
  <block id="ae953ee35cc48d929d62cd63fe1a5db9" category="list-text">トラブルシューティング用のロギングを追加<block ref="2a18927ad567a1bf015ee23d2f7d416f" prefix=" " category="inline-code"></block>（<block ref="0ac90c45cb5e08b111534147dc8d07bf" category="inline-link-macro-rx"></block>）。</block>
  <block id="46b4e7bf1e76e8eeb88747ded42b6d4f" category="list-text">Kubernetesクラスタノード上のストレージプロトコルの依存関係を自動管理するためのフラグをインストーラに追加<block ref="1606f6268af560ddbfffdd3790afb4d2" prefix=" " category="inline-code"></block>。Amazon Linux 2023 iSCSIストレージプロトコルとの互換性をテストおよび検証済み</block>
  <block id="ee2cc86dbfffd3b53ed4701a6b458dfb" category="list-text">ノードの正常でないシャットダウンシナリオでのONTAP - NAS -エコノミーボリュームの強制切断のサポートが追加されました。</block>
  <block id="326a8f228f219b0e904c9d182f05edc0" category="list-text">新しいnfs-nas-エコノミーONTAPボリュームでは、バックエンドオプションの使用時にqtree単位のエクスポートポリシーが使用されます<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>。qtreeは、アクセス制御とセキュリティを向上させるために、公開時にノード制限のエクスポートポリシーにのみマッピングされます。アクティブなワークロードに影響を与えることなく、Tridentがすべてのノードからボリュームの公開を解除すると、既存のqtreeが新しいエクスポートポリシーモデルに切り替えられます。</block>
  <block id="62900e6f021ab726737e77fc086ef8d8" category="list-text">Kubernetes 1.31のサポートを追加。</block>
  <block id="99feca4f342726633c553b7037f4effd" category="section-title">実験的な機能強化</block>
  <block id="f47cb8e173cabaf3981c7356253eaf5f" category="list-text">* Kubernetes *：</block>
  <block id="d17c6ce149a6479587ff459c15a1f857" category="inline-link-macro">問題#839</block>
  <block id="0d72ada08f4f4a9200f5e98c300ac3f5" category="list-text">Trident Helmのインストールを妨げるRancherアドミッションWebhookを修正しました（<block ref="db779c46d1b4e6ce40c3816626258ba8" category="inline-link-macro-rx"></block>）。</block>
  <block id="c4a8381892da41f8d4badcb947360547" category="inline-link-macro">問題#898</block>
  <block id="2403ede55427cd43025cacf6e3c01d80" category="list-text">Helmチャート値のアフィン変換キー()を修正しました<block ref="54ec46fe50699b7fd3f7ef30c485e12a" category="inline-link-macro-rx"></block>。</block>
  <block id="72ce7c26f0607a9f5bd8ca30e55cacef" category="inline-link-macro">問題#899</block>
  <block id="cede03cb51e9bbed6dcab643181d12d7" category="list-text">固定tridentControllerPluginNodeSelector/tridentNodePluginNodeSelectorは"true" value()では動作しません<block ref="5d339a433df6492948708982baf428fa" category="inline-link-macro-rx"></block>。</block>
  <block id="f11d62f384cbec26d8ed4550c153bf05" category="inline-link-macro">問題#901</block>
  <block id="a0b1bd692e916f05f2ede181b41aa8a9" category="list-text">クローニング中に作成された一時スナップショットを削除しました（<block ref="ef65b2f52a8de25e7edcbd74532daf2c" category="inline-link-macro-rx"></block>）。</block>
  <block id="7d873532774b92f91f5b02b26b6ab15f" category="list-text">Windows Server 2019のサポートが追加されました。</block>
  <block id="c1932a20d0117f7b70be58add390f98b" category="inline-link-macro">問題#767</block>
  <block id="b205e07db438d75480a1439aaea49b90" category="list-text">Trident repo()の「go mod tidy」を修正しました<block ref="b886e4c1dbe24e4b012cebe88d7f5dfa" category="inline-link-macro-rx"></block>。</block>
  <block id="0c1b395b1875f8cc0a3a3065e200951a" category="list-text">* Kubernetes：*</block>
  <block id="86c0118c20bbec39a37e58e07b4ca78e" category="list-text">サポートされるKubernetesの最小要件を1.25に更新。</block>
  <block id="8b1b4442b4204fbf84931236c6402e37" category="list-text">PODセキュリティポリシーのサポートが削除されました。</block>
  <block id="4f52a386be5239d16bac5e9e054c7686" category="section-title">製品のブランド変更</block>
  <block id="b56fb7b6833a5dc3a047885cd9fb56b3" category="section-title">24.06の変更点</block>
  <block id="59757b96b5b7c76f5131b54a97bfb34b" category="list-text">Tridentコントローラのユーザ設定のログ設定をTridentノードポッドに伝播する機能が追加されました。</block>
  <block id="0d9957366afc474c1adc655929d57fcc" category="list-text">Trident DaemonSetが起動時にゾンビマウントと残留トラッキングファイルをクリーンアップする機能を追加<block ref="1db457cca48a821c9957caae88cdf1d0" category="inline-link-macro-rx"></block>()。</block>
  <block id="32c6cb7d24cfe592a3da026077c89057" category="list-text">古いトランザクションによるTridentのインストールエラーを修正しました。</block>
  <block id="268938527c6b78a7ed673063e5a861e7" category="list-text">Tridentコントローラの優先度が（<block ref="f7f5a51d8afc55795aa860b78e4c6437" category="inline-link-macro-rx"></block>）に<block ref="cfcd208495d565ef66e7dff9f98764da" prefix=" " category="inline-code"></block>変更されました<block ref="4727953cbcafc9a49db2d5e1fbb4878a" prefix=" " category="inline-code"></block>。</block>
  <block id="f81abe23ec78b1087f167b2fcf413105" category="list-text">EKSコンソールからEKSクラスタにアドオンとしてTridentをインストールするサポートが追加されました。</block>
  <block id="81a270127bea2c4d04088d2a999f883e" category="list-text">ノードのリブート時のWindowsノードでのTrident初期化の問題が修正されました。</block>
  <block id="84874d4f1fcbda2a79fad9c2be463612" category="admonition">TridentでKubernetes 1.27がサポートされるようになりました。Kubernetesをアップグレードする前にTridentをアップグレードしてください。</block>
  <block id="8bf4d4f1641bc0ae0e1ce84b2301ad3c" category="paragraph">* Trident 22.10にアップグレードする前に、次の重要な情報をお読みください。*</block>
  <block id="3c8c581ba3964d04278eae9be921969f" category="admonition-title">Trident 22.10 &lt;/strong&gt;に関する&lt;strong&gt;の重要な情報</block>
  <block id="2ec2ecd5679471f4915360aaa9562646" category="list-text">TridentでKubernetes 1.25がサポートされるようになりました。Kubernetes 1.25にアップグレードする前に、Tridentを22.10にアップグレードする必要があります。</block>
  <block id="3fe15650bf774497f976b0dcd6e74e95" category="list-text">SAN環境では、Tridentでマルチパス構成の使用が厳密に適用されるようになりました。multipath.confファイルの推奨値はです<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block>。</block>
  <block id="3e84d49b37065ae841277ed78e8fb1bb" category="list-text">Trident iSCSIワークフロー内の細分化された再試行が削除され、迅速に失敗して外部の再試行間隔が短縮されました。</block>
  <block id="b1ae71d1cd3967fcca9453f4087b19ef" category="list-text">Kubernetes 1.25のサポートを追加。Kubernetes 1.25にアップグレードする前に、Tridentを22.10にアップグレードする必要があります。</block>
  <block id="95b61962ec35cc252a4791e4101c5aaa" category="list-text">ONTAP SANボリュームでは、ノード単位のigroupが使用され、LUNがigroupにマッピングされると同時に、これらのノードにアクティブに公開されてセキュリティ体制が強化されます。Tridentがアクティブなワークロードに影響を与えずに安全であると判断した場合、既存のボリュームは新しいigroupスキームに適宜切り替えられます。</block>
  <block id="5e65f8ef909da6c604c403e32b1b48ee" category="paragraph">新しい<block ref="305368b4f0d008a807e095ab9da58448" category="inline-link-macro-rx"></block>（PSS）セクションが追加され、インストール時にTridentで有効になった権限の詳細が追加されました。</block>
  <block id="1709d6f66b1414fcc9f298c36d33f86b" category="paragraph">ネットアップは、製品やサービスの改善と強化を継続的に行っています。ここでは、Tridentの最新機能の一部を紹介します。以前のリリースについては、を参照してください<block ref="25da125dffad1d6323c21354bccf0203" category="inline-link-rx"></block>。</block>
  <block id="0e258ce589a7c5edca46e96701e7a846" category="list-text">SolidFireボリュームでSnapshotが32個を超える場合にTridentのパフォーマンスが低下する問題が修正されました。</block>
  <block id="abf7e791f62ca6d68b31527c63563786" category="list-text">Tridentがシャットダウン時に致命的なエラーを記録する問題を修正(GitHub Issue 597)。</block>
  <block id="20179fee7c8b97f5118f8bb139c3e3ee" category="list-text">すべてのTridentインストーラがプレーンなKubernetesをOpenShiftと識別できる問題を修正(GitHub Issue 639)。</block>
  <block id="da7c48c170570a143b062de762b69ac3" category="list-text">StorageClassで指定した<block ref="6d8a605a6037c779649e91ad03a19c1c" prefix="(" category="inline-code"></block>が含まれていないボリュームには、Tridentによって空白が適用されるように<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>なりました<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>。Tridentでは、Kubernetes 1.17以降を使用する場合、NFSボリュームに空のを指定できます<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>。iSCSIボリュームの場合、セキュリティコンテキストの使用を適用するときは、StorageClassで<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block>を設定する必要があります<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>。</block>
  <block id="e19cc53ffca782e210d63cc3ba607068" category="list-text">複数のTridentインスタンスでバックエンドを使用する場合は、各バックエンド構成ファイルの値がONTAPバックエンドに対して異なるか、SolidFireバックエンドに対して異なる値を使用する<block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block>必要があります<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>。Tridentは、Tridentの他のインスタンスで作成されたボリュームを検出できません。ONTAPまたはSolidFireバックエンドに既存のボリュームを作成しようとすると成功します。これは、Tridentではボリューム作成が優先的な処理として処理されるためです。<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block><block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block>同じバックエンドに作成されたボリュームで名前の競合が発生する可能性があります。</block>
  <block id="f361d11207fb1bf400735cf23bd3eead" category="list-text">Tridentをインストールし（またはTridentオペレータを使用）、を使用して<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>Tridentを管理する場合は<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>、環境変数が設定されていることを確認する必要があります<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>。これは、対象となるKubernetesクラスタを指定するために必要<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>です。複数のKubernetes環境を使用する場合は、ファイルが正確にソースされていることを確認する必要があり<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>ます。</block>
  <block id="fb03c645f52123146ba91e4a67fc8b1e" category="list-text">各KubernetesクラスタにTridentのインスタンスが複数あると、Tridentは他のインスタンスと通信できず、そのインスタンスが作成した他のボリュームを検出できません。そのため、クラスタ内で複数のインスタンスを実行すると、予期しない誤った動作が発生します。KubernetesクラスタごとにTridentのインスタンスを1つだけ配置する必要があります。</block>
  <block id="6d2a9758a5a695c93ba565384c106ee5" category="list-text">TridentがオフラインのときにTridentベースのオブジェクトがKubernetesから削除された場合、<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>Tridentはオンラインに戻っても対応するストレージクラスをデータベースから削除しません。これらのストレージクラスは、またはREST APIを使用して削除して<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ください。</block>
  <block id="8064c72c81e13811dd14b604af2cba51" category="list-text">ユーザが、対応するPVCを削除する前にTridentでプロビジョニングされたPVを削除しても、Tridentはバッキングボリュームを自動的に削除しません。またはREST APIを使用してボリュームを削除してください<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="cf2e8e446588a928fb23cb0dbd820e8b" category="list-text">IPv6経由のTridentを使用する場合は、バックエンド定義でとを<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>角かっこで指定する必要があります<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>。たとえば、<block ref="cbd17d3c94dc0ed51eeeab01d2ae8741" prefix="" category="inline-code"></block>です。</block>
  <block id="b75a48587845391dbbe47d0dcc15d3c0" category="admonition">ONTAP SANバックエンドでは指定できません<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。Tridentは、使用可能なすべてのiSCSI LIFを検出し、それらを使用してマルチパスセッションを確立します。</block>
  <block id="8a247589aa6f5931b3416e5dd64ba361" category="inline-link">Trident GitHub</block>
  <block id="2e62261179042a713555c66362bf55b6" category="list-text"><block ref="2e62261179042a713555c66362bf55b6" category="inline-link-rx"></block></block>
  <block id="fd898492f5f83a18091a5e6c78cf2276" category="list-text"><block ref="fd898492f5f83a18091a5e6c78cf2276" category="inline-link-rx"></block></block>
  <block id="7afa2d89ddb38b52ee6c828cd75c06c9" category="paragraph">Tridentはバックエンド構成（サブネット、仮想ネットワーク、サービスレベル、場所）を使用して、要求された場所で使用可能な容量プール上に、要求されたサービスレベルとサブネットに一致するAzure NetApp Filesボリュームを作成します。</block>
  <block id="e9acc9c9f9c15bdc3abfff747835f188" category="paragraph">これは、バックエンドの絶対的な最小構成です。この構成では、Tridentは設定された場所でAzure NetApp Filesに委譲されたすべてのNetAppアカウント、容量プール、およびサブネットを検出し、それらのプールおよびサブネットの1つに新しいボリュームをランダムに配置します。は省略されているため、<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> デフォルトが適用され、バックエンドでNFSボリュームがプロビジョニングされます。</block>
  <block id="c23ef0ddbc293eb69087843f50a25be6" category="paragraph">このバックエンド構成では、容量プール内のAzureの場所<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block>にボリュームが配置され<block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block>ます。Tridentは、その場所のAzure NetApp Filesに委譲されたすべてのサブネットを自動的に検出し、そのいずれかに新しいボリュームをランダムに配置します。</block>
  <block id="fefaa3b6dca112cc6521c571cfc3803d" category="paragraph">Tridentを使用すると、リージョンとアベイラビリティゾーンに基づいてワークロード用のボリュームを簡単にプロビジョニングできます。<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block>このバックエンド構成のブロックは、バックエンドごとにリージョンとゾーンのリストを提供するために使用されます。ここで指定するリージョンとゾーンの値は、各Kubernetesクラスタノードのラベルのリージョンとゾーンの値と一致している必要があります。これらのリージョンとゾーンは、ストレージクラスで指定できる許容値のリストです。バックエンドで提供されるリージョンとゾーンのサブセットを含むストレージクラスの場合、Tridentは指定されたリージョンとゾーンにボリュームを作成します。詳細については、を参照してください <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>。</block>
  <block id="cc13c2d3734cd4826a8ef70e17841621" category="list-text"><block ref="8ad3956583058d3582a7dd1281d1f882" category="inline-link-macro-rx"></block><block ref="e023f2926fb9af676f2809a760efeb14" prefix="(" category="inline-code"></block>（サブスクリプションレベル）。次の権限がTridentで必要な権限のみに制限されています。カスタムロールを作成したら、<block ref="af58105ed429db29198b767444ed6d0d" category="inline-link-macro-rx"></block>を参照してください。</block>
  <block id="8ce7a57e3680dab09c67446ce08707de" category="list-text">Linuxコントローラノードと少なくとも1つのWindowsワーカーノードでWindows Server 2022を実行しているKubernetesクラスタ。Tridentでは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみがサポートされます。</block>
  <block id="d118256fd34a78d74f0336eb83898964" category="list-text">Azure NetApp FilesがActive Directoryに対して認証できるように、Active Directoryクレデンシャルを含む少なくとも1つのTridentシークレット。シークレットを生成するには<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="4d869f60891f92b0887fa0954bb83cf6" category="summary">Azure NetApp FilesをTridentのバックエンドとして設定できます。Azure NetApp Filesバックエンドを使用してNFSボリュームとSMBボリュームを接続できます。Tridentは、Azure Kubernetes Services（AKS）クラスタの管理対象IDを使用したクレデンシャル管理もサポートしています。</block>
  <block id="d0c2adbcdd991dec2899d7223e4800b7" category="paragraph">Tridentには、クラスタと通信するための次のAzure NetApp Filesストレージドライバが用意されています。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="6bc1d5588b10361a0f432d43d687c72b" category="list-text">Azure NetApp Filesサービスでは、50GiB未満のボリュームはサポートされません。より小さいボリュームを要求すると、Tridentは50GiBのボリュームを自動的に作成します。</block>
  <block id="2d5ff5cb87519a4e50ace141656cfcb1" category="list-text">Tridentでは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみがサポートされます。</block>
  <block id="f82e660891c5d7411358cecf3f95d1b8" category="paragraph">Tridentでは、Azure Kubernetes Servicesクラスタがサポートされます<block ref="74c572b9a9e05a7969e3f88bd692fcb8" category="inline-link-macro-rx"></block>。管理されたアイデンティティによって提供される合理的なクレデンシャル管理を利用するには、次のものが必要です。</block>
  <block id="ba4a4a15a9255fcbc02a1aae5442a70e" category="list-text">指定する<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>を含むTridentがインストールされています。<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block></block>
  <block id="948b24b4e198f8ddc985605c69c55718" category="paragraph">Trident演算子を使用してTridentをインストールするには、を<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block>に<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>設定します<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>。例：</block>
  <block id="6e3a55be7185a416b963c89e1313a21e" category="paragraph">次の例では、環境変数を使用してTridentセットをAzureに<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>インストールし<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>ます。</block>
  <block id="5914afb9381493b19e7d55f591b22f7e" category="paragraph">次の例では、Tridentをインストールし、フラグをに<block ref="3a580f142203677f1f0bc30898f63f53" prefix=" " category="inline-code"></block>設定し<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>ます。</block>
  <block id="f4a04ca0cf488acdb4c47e4276e53b0d" category="list-text">ワークロードIDを指定<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>および<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>指定するを含むTridentがインストールされている<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block></block>
  <block id="cd1b43a026c160e8905dc5847d424f8f" category="paragraph">Trident演算子を使用してTridentをインストールするには、をに設定し、を<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block>に<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>設定<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>し<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block><block ref="ab6b275be02c02a9982cb7a0c234629e" prefix=" " category="inline-code"></block>ます。</block>
  <block id="0df381404177fadd38b0a15ef178cf09" category="paragraph">次の例では、環境変数を使用してTridentをインストールし<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>、をAzureに<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>設定し、をUSING THE環境変数<block ref="c9d280b28993d1d105c3fbafb5868a15" prefix=" " category="inline-code"></block>に設定し<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>ます。</block>
  <block id="7d7c872ffb338fffab0ed66d892cf48b" category="paragraph">次の例では、Tridentをインストールし、フラグをに設定し、<block ref="c5af480af77c330e04a1fce1f6c2b03a" prefix=" " category="inline-code"></block>を<block ref="c9d280b28993d1d105c3fbafb5868a15" prefix=" " category="inline-code"></block>に<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>設定し<block ref="e33bb4eb32023da4a8ea7a1ba6927067" prefix=" " category="inline-code"></block>ます。</block>
  <block id="6531f27ba87f15c54cdf44dcb7ef3273" category="summary">バックエンドは、Tridentとストレージシステムの間の関係を定義します。Tridentは、そのストレージシステムとの通信方法や、Tridentがそのシステムからボリュームをプロビジョニングする方法を解説します。Tridentをインストールしたら、次の手順でバックエンドを作成します。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>Custom Resource Definition（CRD）を使用すると、Kubernetesインターフェイスから直接Tridentバックエンドを作成および管理できます。これは、またはKubernetesディストリビューション用の同等のCLIツールを使用して実行できます<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。</block>
  <block id="672d26386c125fcd3bc8d1c008758043" category="paragraph"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block><block ref="11c73f5ef965e27ad7f2162c6d862d00" prefix="(" category="inline-code"></block>,<block ref="f049287d4b5e8c2771cd45ad40d6bbd0" prefix=" " category="inline-code"></block>,<block ref="e4f7bfc35d74ab4136d16191494e7ceb" prefix=" " category="inline-code"></block>)は、を使用してTridentバックエンドを管理できるフロントエンドの名前空間CRDです。<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>Kubernetes管理者やストレージ管理者は、Kubernetes CLIを使用して直接バックエンドを作成、管理できるようになりまし<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="(" category="inline-code"></block>た。専用のコマンドラインユーティリティは必要ありません）。</block>
  <block id="b7bd3d795dd544bcf8b44a16fc1ddab8" category="list-text">バックエンドは、指定した設定に基づいてTridentによって自動的に作成されます。これは内部的には <block ref="ebf1bd0254e733981928851df08fca08" prefix="(" category="inline-code"></block>、<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block>）CRとして表され<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block>ます。</block>
  <block id="96cf9ab1c0acdca2aa54ed2c55a7e95d" category="list-text">は<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、Tridentによって作成されたに一意にバインドされます<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block>。</block>
  <block id="17858cf125217a7fe7239b3271b587af" category="admonition"><block ref="d2eac341e6076c7146e5b2598b973d94" prefix="" category="inline-code"></block>CRSはTridentによって自動的に作成されます。これらは * 変更しないでください。バックエンドを更新するには、オブジェクトを変更し<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。</block>
  <block id="d2605b6821beb27d0e7001414ade9773" category="admonition">で作成されたバックエンドに<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>は、関連付けられたオブジェクトはありません<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。このようなバックエンドをで管理するには、<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>CRを作成し<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。同一の設定パラメータ（、、<block ref="670f8a39d00195ce172543b2794c522b" prefix=" " category="inline-code"></block><block ref="4f361a1568cc7e740f7642f6f59e2fe0" prefix=" " category="inline-code"></block>など）を指定するように注意する必要があります<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>。Tridentは、新しく作成されたを既存のバックエンドに自動的にバインドし<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>ます。</block>
  <block id="b681f7c062097827d9374fb7ef922a12" category="list-text">を作成し<block ref="fcce7b7bd05b6b012eabe3df8de04808" category="inline-link-rx"></block>ます。シークレットには、Tridentがストレージクラスタ/サービスと通信するために必要なクレデンシャルが含まれています。</block>
  <block id="2836a99ecae06907e08eb3b9502d45d6" category="list-text">バックエンドに永続的ボリューム要求（PVC）が存在しない場合、を削除する<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>と、TridentはバックエンドとCRを削除します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。</block>
  <block id="7ddc4cac10b03b42fc0ff0fc7e00789f" category="list-text"><block ref="88183b946cc5f0e8c96b2e66e1c74a7e" prefix="" category="inline-code"></block>：TridentはCRに関連付けられたバックエンドの状態または存在を特定できません<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。たとえば、APIサーバが応答していない場合やCRDが見つからない場合<block ref="5f829d3562952527064a5c553cd09189" prefix=" " category="inline-code"></block>などです。これには介入が必要な場合があります</block>
  <block id="5c3139ae9ab5d818511e9d321e73fece" category="paragraph"><block ref="5a5abb2eaa9c440d605c2a659dd2079f" prefix="" category="inline-code"></block>CRに応答して作成されたバックエンドの<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>とが<block ref="17b686c7edfa8cfaa60e094e4592491f" prefix=" " category="inline-code"></block>格納され<block ref="a3d5885ebdbdbb3f39c48e483cc04978" prefix=" " category="inline-code"></block>ます。この<block ref="8d625027763e2e062eb5f57c8518040d" prefix=" " category="inline-code"></block>フィールドには、CRの最後の操作のステータスが表示されます。このステータス<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>は、ユーザーがトリガーした場合（ユーザーがで何かを変更した場合など）、またはTridentによってトリガーされた場合<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>（Tridentの再起動中など）です。成功または失敗のいずれかです。<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block>CRとバックエンド間の関係のステータスを表します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。上の例では、の<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block>値がバインドされています。つまり、CRがバックエンドに関連付けられていることを意味します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。</block>
  <block id="cd9b0eee685820fd4ee1b3c0bea5cfb5" category="paragraph">を削除することで、<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>（に基づいて）バックエンドを削除または保持するようにTridentに指示し<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>ます。バックエンドを削除するには、がdeleteに設定されていることを確認します<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>。のみを削除するには<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、がretainに設定されていることを確認します<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>。これにより、バックエンドが引き続き存在し、を使用して管理できます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="5f39834a6f39c7539a5edeb4e8f3ea48" category="paragraph">Tridentでは、で使用されていたKubernetesシークレットは削除されません<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。Kubernetes ユーザは、シークレットのクリーンアップを担当します。シークレットを削除するときは注意が必要です。シークレットは、バックエンドで使用されていない場合にのみ削除してください。</block>
  <block id="63f9a789e1c077aab804a2a5c20f1419" category="list-text">ストレージシステムのクレデンシャルが変更されている。クレデンシャルを更新するには、オブジェクトで使用されるKubernetes Secretを<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>更新する必要があります。Tridentは、提供された最新のクレデンシャルでバックエンドを自動的に更新します。次のコマンドを実行して、 Kubernetes Secret を更新します。</block>
  <block id="4f3ff24da375936278cfeceb396c61dd" category="paragraph">Tridentからバックエンドを削除するには、次の手順を実行します。</block>
  <block id="734b51d6b10d22bfb052a1b8e8a9bc56" category="summary">Tridentでバックエンドを管理するさまざまな方法について説明します。</block>
  <block id="e0b4d05f7fb24e9606ae02b176974698" category="paragraph">どちらのシナリオでも、バックエンドは引き続き存在し、Tridentはボリュームをスケジューリングして処理します。管理者には次の 2 つの選択肢があります。</block>
  <block id="1abff208034794e09bab3e34ad393f6c" category="list-text">Kubernetes Secret を作成します。シークレットには、Tridentがストレージクラスタ/サービスと通信するために必要なクレデンシャルが含まれています。</block>
  <block id="76d558fd5aada70a89c3e865ca420a68" category="paragraph">の価値を見てみましょう<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>。これはに設定する必要があり<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>ます。これにより、CRが削除されてもバックエンド定義が存在し、で管理できるように<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>なり<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。</block>
  <block id="112121684d9357cc8fb46c6007457443" category="paragraph">オブジェクトが削除されると、<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>Tridentは実際にはバックエンド自体を削除せずにオブジェクトを削除します。</block>
  <block id="81feffd6e3f1dfe7d96f93bb83a3576f" category="paragraph">Tridentは、ストレージクラスで定義された要件に一致するストレージプールをバックエンドから自動的に提供します。ストレージシステムにバックエンドを設定する方法について説明します。</block>
  <block id="982a76bd7422f8b1ee773545fc01ea11" category="inline-link-macro">Amazon FSx for NetApp ONTAPでTridentを使用</block>
  <block id="729d88792170d42963cf63b9e9606321" category="list-text"><block ref="729d88792170d42963cf63b9e9606321" category="inline-link-macro-rx"></block></block>
  <block id="68a131c3971c1c8532edfb16be1b2903" category="summary">Kubernetes StorageClassファイルを設計し、StorageClassを作成して、ボリュームのプロビジョニング方法をTridentに指示できます。</block>
  <block id="e093f3bc5e5c7d5965cb1bf67aeee4c6" category="paragraph">Kubernetes StorageClassオブジェクトを設定してストレージクラスを作成し、Tridentでボリュームのプロビジョニング方法を指定します。</block>
  <block id="cc11289855049780fd7db136e693d82e" category="paragraph">は、<block ref="da3f7f170e13df7f56e057fc4226aa85" category="inline-link-rx"></block>そのクラスで使用されるプロビジョニングツールとしてTridentを識別し、ボリュームのプロビジョニング方法をTridentに指示します。例：</block>
  <block id="cfcd78d3f3ec6bdd1da5051dc5fbad51" category="paragraph">ストレージクラスとパラメータおよびパラメータとの連携によるTridentによるボリュームのプロビジョニング方法の詳細については<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>、を参照してください<block ref="879ce943b486ecaae1c4cb96b01133e9" category="inline-link-macro-rx"></block>。</block>
  <block id="060364df9713326935c57a6702c9084c" category="list-text">KubernetesとTridentの両方で「basic-csi」ストレージクラスが表示され、Tridentがバックエンドでプールを検出していることを確認します。</block>
  <block id="45ae9b184f3067c00f4a660edac67a17" category="paragraph">Tridentが提供し<block ref="78512e06e40b1d6e7b22821168623dd6" category="inline-link-rx"></block>ます。</block>
  <block id="689375d73a0e73673da4e52a37631d4d" category="summary">Tridentでは、CSIトポロジ機能を利用して、Kubernetesクラスタに存在するノードを選択的に作成して接続できます。</block>
  <block id="f9ee522bc68b30b3de2c706b1e656ea6" category="paragraph">Tridentでは、を使用して、Kubernetesクラスタ内のノードを選択的に作成して接続できます<block ref="80b9a4f4a1bc9851317207ee3477041a" category="inline-link-rx"></block>。</block>
  <block id="fad4fe0757704f7cfbc0d68602a1a58b" category="paragraph">CSI トポロジ機能を使用すると、領域およびアベイラビリティゾーンに基づいて、ボリュームへのアクセスをノードのサブセットに制限できます。現在、クラウドプロバイダは、 Kubernetes 管理者がゾーンベースのノードを生成できるようになっています。ノードは、リージョンによって異なるアベイラビリティゾーンに配置することも、リージョンによって配置することもできます。マルチゾーンアーキテクチャでワークロード用のボリュームのプロビジョニングを容易にするために、TridentではCSIトポロジを使用しています。</block>
  <block id="c7c66bdbe6c90a256243cb5346a324a5" category="list-text"><block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block>をに設定する<block ref="43f6615bbb2c40a5306ff804094420b1" prefix=" " category="inline-code"></block>と、Tridentはトポロジを認識せずにボリュームを作成します。ボリュームバインディングと動的プロビジョニングは、 PVC が作成されるときに処理されます。これはデフォルト<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block>であり、トポロジの制約を適用しないクラスタに適しています。永続ボリュームは、要求元ポッドのスケジュール要件に依存することなく作成されます。</block>
  <block id="e60c9ae411010a64108db4f1b8d793be" category="list-text">クラスタ内のノードには、トポロジ対応と<block ref="c4d11894a6687c3a84f5daeda7154443" prefix=" " category="inline-code"></block>を示すラベルを付ける必要があり<block ref="e1ff98cb39abe026da77d207e1fd46de" prefix="(" category="inline-code"></block>ます。これらのラベル*は、Tridentをトポロジ対応にするためにTridentをインストールする前に、クラスタ内のノード*に設定しておく必要があります。</block>
  <block id="6110b46939d65cd5339476bd5fdbe7df" category="paragraph">Tridentストレージバックエンドは、アベイラビリティゾーンに基づいて選択的にボリュームをプロビジョニングするように設計できます。各バックエンドは、サポートされているゾーンとリージョンのリストを表すオプションのブロックを運ぶことができます<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block> 。ストレージクラスがそのようなバックエンドを使用する場合、ボリュームは、サポートされているリージョン / ゾーンでスケジュールされているアプリケーションから要求された場合にのみ作成されます。</block>
  <block id="db432089fc07064a10ae6334c0db7e97" category="admonition"><block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix="" category="inline-code"></block>は、バックエンドごとにリージョンとゾーンのリストを提供するために使用されます。これらのリージョンとゾーンは、 StorageClass で指定できる許容値のリストを表します。バックエンドで提供されるリージョンとゾーンのサブセットを含むストレージクラスの場合、Tridentはバックエンドにボリュームを作成します。</block>
  <block id="f8d5cb4864ad5d339fb567af550ff371" category="paragraph">前述のStorageClass定義では、<block ref="086b513e7d83c4cf32a8bd3550679276" prefix=" " category="inline-code"></block>がに設定されて<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>います。この StorageClass で要求された PVC は、ポッドで参照されるまで処理されません。およびに、<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block>使用するゾーンとリージョンを示します。StorageClassは<block ref="a88a8ddf9fecacf26383a3c60dc3e5fb" prefix=" " category="inline-code"></block>、上記で定義したバックエンドにPVCを作成し<block ref="e3ed370204229201f6df345a5a590519" prefix=" " category="inline-code"></block>ます。</block>
  <block id="48dec026afe488df8faca35c5c3a39ea" category="summary">Trident 環境で Element バックエンドを作成して使用する方法について説明します。</block>
  <block id="e3bf4f4da0c5a0a22b37a23b20b2789f" category="paragraph">Trident環境でElementバックエンドを作成して使用する方法について説明します。</block>
  <block id="55d12319f030354c3d3da130783340d4" category="paragraph">Tridentは、クラスタと通信するためのストレージドライバを提供します<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="d332cf1f1b1ca6601e95859b9d3b2434" category="paragraph"><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>ストレージドライバは、_file_and_block_volumeモードをサポートしています。volumeModeの場合<block ref="ac52cf637478f3656a1fdee5c02324fd" prefix=" " category="inline-code"></block>、Tridentはボリュームを作成し、ファイルシステムを作成します。ファイルシステムのタイプは StorageClass で指定されます。</block>
  <block id="36f37bb9b250ed1fab33dfdced302bec" category="cell">CHAPを使用してiSCSIを認証します。TridentはCHAPを使用します。</block>
  <block id="626a366c19963bb80ca04337415711f5" category="paragraph">ストレージプールに存在するラベルを、プロビジョニング時にバックエンドストレージLUNにコピーしますTrident。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="6b414187e193a000944e395beb010938" category="paragraph">最初のStorageClass<block ref="166028d9a95f5465a6ae917e6e089ce6" prefix="(" category="inline-code"></block>）が最初の仮想プールにマッピングされます。これは、ゴールドのパフォーマンスとゴールドのパフォーマンスを提供する唯一のプールです<block ref="89bf6c97f9a3eaea76c86df0086361bc" prefix=" " category="inline-code"></block>。最後のStorageClass<block ref="b4457b3eeca98cadb51648f8fcef36cb" prefix="(" category="inline-code"></block>）は、Silverパフォーマンスを提供するストレージプールを呼び出します。Tridentが選択する仮想プールを決定し、ストレージ要件が満たされるようにします。</block>
  <block id="4f50ef2995c3caa2284d837d375e4db0" category="cell">TridentがGCNVボリュームを作成するGoogle Cloudの場所。リージョン間Kubernetesクラスタを作成する場合、で作成したボリュームは<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> 、複数のGoogle Cloudリージョンのノードでスケジュールされているワークロードで使用できます。リージョン間トラフィックは追加コストを発生させます。</block>
  <block id="827683b582e1abfa2478a23d65a88a1f" category="cell">このバックエンドでサポートされているリージョンとゾーンのリストを表します。詳細については、を参照してください <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>。例：<block ref="1e97fdca2db62120d99c87c9fad7ac06" prefix=" " category="inline-code"></block></block>
  <block id="9f857ec3fcdcb6ffcc762e0be5004aa2" category="paragraph">これは、バックエンドの絶対的な最小構成です。この構成では、Tridentは設定された場所でGoogle Cloud NetApp Volumeに委譲されたすべてのストレージプールを検出し、それらのプールの1つに新しいボリュームをランダムに配置します。は省略されているため、<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> デフォルトが適用され、バックエンドでNFSボリュームがプロビジョニングされます。</block>
  <block id="ec0fec1613e760b6689b9fb4990bdb46" category="inline-link-macro">サービスアカウントキーを作成します</block>
  <block id="704f74ac9dc2a2a60c73df6b9d8a9eff" category="list-text">GCNVアカウントのAPIキーファイル。を参照して <block ref="068ee9c4fdcce4c0fd131a7dd8fe524f" category="inline-link-macro-rx"></block></block>
  <block id="6db42dae8341edee9e823963baa82d9d" category="paragraph">Tridentは、クラスタと通信するためのドライバを提供します<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="dd0d8a6eeca2940c60cd0ac812afed1d" category="paragraph">クラウドIDを使用すると、Kubernetesポッドは、明示的なGoogle Cloudクレデンシャルを指定するのではなく、ワークロードIDとして認証することで、Google Cloudリソースにアクセスできます。</block>
  <block id="299b031aaa6fc8a06127791cf12decf9" category="paragraph">Google Cloudでクラウドアイデンティティを活用するには、以下が必要です。</block>
  <block id="df181b0b41273ec7065dab05b4a6da10" category="list-text">GKEを使用して導入されるKubernetesクラスタ。</block>
  <block id="ff87a1c47933f4d6895655dd61ad9d5c" category="summary">提供されている構成例を使用して、TridentインストールのバックエンドとしてCloud Volumes Service for Google Cloudを構成する方法を説明します。</block>
  <block id="6385dfeab6eb1cdf5e0b269b83c02870" category="paragraph">提供されている構成例を使用して、TridentインストールのバックエンドとしてNetApp Cloud Volumes Service for Google Cloudを構成する方法を説明します。</block>
  <block id="f501f5f541b4e828bada7eb37751ec96" category="paragraph">Tridentは、クラスタと通信するためのドライバを提供します<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="bc3c06062e58c58165fa787186ae374c" category="section-title">TridentによるCloud Volumes Service for Google Cloudのサポートの詳細</block>
  <block id="fe7058df6a1b56e94957ef68f8ddf955" category="paragraph">Tridentでは<block ref="a3cd55e5a9ff014b76f6953040234c24" category="inline-link-macro-rx"></block>、次の2つのいずれかにCloud Volumes Serviceボリュームを作成できます。</block>
  <block id="48cbfcdcce7c2c2d2876ce5a2c74ea32" category="list-text">* CVS-Performance *：デフォルトのTridentサービスタイプ。パフォーマンスが最適化されたこのサービスタイプは、パフォーマンスを重視する本番環境のワークロードに最適です。CVS -パフォーマンスサービスタイプは、サイズが100GiB以上のボリュームをサポートするハードウェアオプションです。<block ref="87d12cea36129673eb9128fd986958c5" category="inline-link-macro-rx"></block>次のいずれかを選択できます。</block>
  <block id="d75d4a2bd644e06cc6588477267e33d8" category="cell">CVSサービスタイプを指定するためのオプションのパラメータ。CVSサービスタイプを選択するために使用し<block ref="f9fa10ba956cacf91d7878861139efb9" prefix=" " category="inline-code"></block>ます。それ以外の場合、TridentはサービスタイプがCVS-Performanceとみなされ<block ref="3ca14c518d1bf901acc339e7c9cd6d7f" prefix="(" category="inline-code"></block>ます）。</block>
  <block id="dc7c0c7001706c97a9a03d5f77e6883e" category="cell">TridentがCloud Volumes Serviceボリュームを作成するGoogle Cloudリージョン。リージョン間Kubernetesクラスタを作成する場合、で作成したボリュームは<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>、複数のGoogle Cloudリージョンのノードでスケジュールされているワークロードで使用できます。リージョン間トラフィックは追加コストを発生させます。</block>
  <block id="7630c5d33e3b852f758af8c20c4caefb" category="list-text">最後のStorageClass<block ref="92c87bc6be7db462499a5a2258aa7ba9" prefix="(" category="inline-code"></block>）は、10%のスナップショットリザーブを提供するストレージプールを呼び出します。Tridentは、選択する仮想プールを決定し、スナップショット予約の要件を確実に満たします。</block>
  <block id="ab10f4a91ef779d380fca281ef9df578" category="list-text">Tridentの同期されたストレージクラスを表示するには、次のコマンドを実行します。</block>
  <block id="0953527d940d16d1979f49a4ac5bc746" category="list-text">同期されたTridentのストレージクラスの詳細を表示するには、次のコマンドを実行します。</block>
  <block id="a78b12e067ec1975a317cab6fc947692" category="paragraph">これは、Tridentバックエンドオブジェクト用に出力するJSONを使用して回答できる質問の例<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>です。これはユーティリティを使用し<block ref="d8757fb4e9ea07606d23a1ef5a4b8d4e" prefix=" " category="inline-code"></block>ます。このユーティリティは、最初にインストールする必要がある場合があります。</block>
  <block id="2538c9a2100f674ce2db1e4b4c26315f" category="paragraph">このストレージクラスを使用して作成された永続ボリュームは変更されず、Tridentで引き続き管理されます。</block>
  <block id="ad882e33b96ca33000804dbc738d1d50" category="admonition">Tridentでは、作成するボリュームに対して空白が適用され<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>ます。iSCSIバックエンドの場合は、StorageClassで強制することを推奨します<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block>。既存のストレージクラスを削除し、指定したで再作成してください<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block>。</block>
  <block id="0c2d4b956840e91a5026f299d11e6b2a" category="summary">Tridentには、Tridentのパフォーマンスの監視に使用できるPrometheus指標エンドポイントのセットが用意されています。</block>
  <block id="f3bf54ffbc2b1eef233e6a26009af940" category="doc">Tridentの監視</block>
  <block id="023417a8020b969b0bbe5cc6cf816d22" category="paragraph">Tridentには、Tridentのパフォーマンスの監視に使用できるPrometheus指標エンドポイントのセットが用意されています。</block>
  <block id="5e65c891836aee4c311dc1e3dcbd072f" category="paragraph">Tridentの指標を使用すると、次のことを実行できます。</block>
  <block id="35ada9c61125e74058c883f83c6c6867" category="list-text">Tridentの健全性と設定を常に確認しておきます。処理が成功した方法と、想定どおりにバックエンドと通信できるかどうかを調べることができます。</block>
  <block id="35ff0baf577051daffe0a27ab0d03c9e" category="list-text">パフォーマンスを追跡する。Tridentがバックエンドと通信して処理を実行するのにかかる時間を確認できます。</block>
  <block id="cb9109c9018f4c25d0545bac0f21176f" category="list-text">TridentがインストールされたKubernetesクラスタ。</block>
  <block id="67cc72b550d17849cb7141b0b95aea77" category="paragraph">Prometheusターゲットを定義して、指標を収集し、Tridentが管理するバックエンドや作成するボリュームなどに関する情報を取得する必要があります。ここで<block ref="dc7964965bf1b3af43b28caf6231e550" category="inline-link-rx"></block>は、PrometheusとGrafanaをTridentで使用して指標を取得する方法について説明します。このブログでは、KubernetesクラスタでPrometheusをオペレータとして実行する方法と、Trident指標を取得するためのServiceMonitorの作成について説明しています。</block>
  <block id="a36c5d8fdf28501b60d84fa4b009f7c9" category="paragraph">このServiceMonitor定義は、サービスから返されたメトリックを取得し<block ref="d9585690fd147c34fbd50c487a3520de" prefix=" " category="inline-code"></block>、特にサービスのエンドポイントを検索し<block ref="aa59d67c2123f094d0d6798ffe651c4d" prefix=" " category="inline-code"></block>ます。その結果、PrometheusはTridentの指標を認識するように設定されました。</block>
  <block id="b25be1046c4629be0262d9873a147d96" category="paragraph">Kubeletは、Tridentから直接利用できるメトリクスに加えて、独自のメトリクスエンドポイントを介して多くのメトリクスを公開して<block ref="f706c2d1cef9479098166eec3d215483" prefix=" " category="inline-code"></block>います。Kubelet では、接続されているボリュームに関する情報、およびポッドと、それが処理するその他の内部処理を確認できます。を参照してください<block ref="3f1f0977d0df3e8b343e403140284021" category="inline-link-rx"></block>。</block>
  <block id="0665ea39a4ca4388763b36eda9a3986d" category="list-text">** TridentからのHTTP 2XX応答の割合**</block>
  <block id="26cd09e35e7d03c2f93f8d6a691c8567" category="list-text">**ステータスコードによるTridentからのREST応答の割合**</block>
  <block id="5919ab2f7a44a6b3f0a6741f7b0f3f86" category="list-text">** Tridentによって実行された操作の平均時間（ミリ秒）**</block>
  <block id="57421d698299c713c3afb841620271d8" category="section-title">Tridentの使用状況情報の取得</block>
  <block id="3ed8ff2d40a8a68841cd7d548c47f079" category="section-title">Trident AutoSupportテレメトリの詳細</block>
  <block id="b5fb620a79591716feab3605e0045775" category="paragraph">デフォルトでは、TridentはPrometheus指標と基本的なバックエンド情報を1日おきにNetAppに送信します。</block>
  <block id="41cc8a517566946bcfd42776583c2946" category="list-text">TridentからNetAppへのPrometheus指標と基本的なバックエンド情報の送信を停止するには、Tridentのインストール時にフラグを渡し<block ref="284e51f7c35ac8708577507873ff928e" prefix=" " category="inline-code"></block>ます。</block>
  <block id="2293c34fd6ddef40c9c9ecb540c27898" category="list-text">Tridentは、経由でコンテナログをNetAppサポートにオンデマンドで送信することもできます<block ref="8cf945b97dde0c7bfc643bea7edbff67" prefix=" " category="inline-code"></block>。ログをアップロードするには、Tridentをトリガーする必要があります。ログを送信する前に、NetAppを承認する必要があります<block ref="91b6c0438017ba5fa21c286a96d5acb4" category="inline-link-rx"></block>。</block>
  <block id="517af010cc9f1850ec10fc55631d3437" category="list-text">指定されていない場合、Tridentは過去24時間のログをフェッチします。</block>
  <block id="cc368c6d3d859a01a63550429f01cb9c" category="list-text">フラグを使用してログの保持期間を指定できます<block ref="86339c2ed773d5bd944b82d3086d3477" prefix=" " category="inline-code"></block>。例：<block ref="e238339d491d4840f7d8e509bdbb7b63" prefix=" " category="inline-code"></block>。この情報は、Tridentと一緒にインストールされたコンテナを介して収集および送信され<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block>ます。コンテナイメージはから入手できます<block ref="1b00454f0ab35dcec2ee1a0061efc6e5" category="inline-link-rx"></block>。</block>
  <block id="b508f8888445cd57bcf910ed51afb0dd" category="paragraph">Tridentによって送信されるペイロードの例は次のようになります。</block>
  <block id="19398926f4bb3de321ccfc2488d606dd" category="section-title">Trident指標を無効にする</block>
  <block id="053cd9e68cf6c155e5b93616bc7e3e32" category="summary">Tridentのインストール時にONTAP NASドライバを作成して使用する方法について説明します。このセクションでは、バックエンド構成の例と、バックエンドをストレージクラスにマッピングする方法を詳しく説明します。</block>
  <block id="6603621fd665e289ada4dbb1dcc5835c" category="paragraph">Tridentのインストール時にONTAP NASドライバを作成して使用する方法について説明します。このセクションでは、バックエンドの構成例と、バックエンドをStorageClassesにマッピングするための詳細を示します。</block>
  <block id="c31c728d8c1e31b350486f8db0ebd5df" category="cell">クラスタまたはSVM管理LIFのIPアドレス完全修飾ドメイン名（FQDN）を指定できます。IPv6フラグを使用してTridentがインストールされている場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、のように角かっこで定義する必要があります<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。シームレスなMetroClusterスイッチオーバーについては、を参照して<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>ください。</block>
  <block id="5b487539b64483311ed87290e717353a" category="cell">エクスポートポリシーの自動作成と更新を有効にします[ブーリアン]。オプションと<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>オプションを使用する<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>と、Tridentでエクスポートポリシーを自動的に管理できます。</block>
  <block id="aeeba745624a2ddc45043c3be805561e" category="cell">が有効な場合にKubernetesのノードIPをフィルタリングするCIDRのリスト<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>。オプションと<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>オプションを使用する<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>と、Tridentでエクスポートポリシーを自動的に管理できます。</block>
  <block id="0b74b16550d48484341fc52ad7af0c7d" category="paragraph">プロビジョニング用のアグリゲート（オプション。設定する場合は SVM に割り当てる必要があります）。ドライバの場合<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、このオプションは無視されます。割り当てられていない場合は 、使用可能ないずれかのアグリゲートを使用してFlexGroupボリュームをプロビジョニングできます。</block>
  <block id="f01b478814d1117e017539a48474a29d" category="admonition">SVMでアグリゲートが更新されると、Tridentコントローラを再起動せずにSVMをポーリングすることで、Tridentでアグリゲートが自動的に更新されます。ボリュームをプロビジョニングするようにTridentで特定のアグリゲートを設定している場合、アグリゲートの名前を変更するかSVMから移動すると、SVMアグリゲートのポーリング中にTridentでバックエンドが障害状態になります。アグリゲートをSVMにあるアグリゲートに変更するか、アグリゲートを完全に削除してバックエンドをオンラインに戻す必要があります。</block>
  <block id="9b791871c2696d3b7bc8c95a1d487b58" category="cell">flexgroupAggregateList</block>
  <block id="77a0d40a429011d223a093dd3cf8713e" category="paragraph">プロビジョニング用のアグリゲートのリスト（オプション。設定されている場合はSVMに割り当てる必要があります）。SVMに割り当てられたすべてのアグリゲートを使用して、FlexGroupボリュームがプロビジョニングされます。ONTAP - NAS - FlexGroup *ストレージドライバーでサポートされています。</block>
  <block id="dbe23b2e968cff9eb3692844d1e75516" category="admonition">SVMでアグリゲートリストが更新されると、Tridentコントローラを再起動せずにSVMをポーリングすることで、Trident内のアグリゲートリストが自動的に更新されます。ボリュームをプロビジョニングするようにTridentで特定のアグリゲートリストを設定している場合、アグリゲートリストの名前を変更するかSVMから移動すると、Tridentアグリゲートのポーリング中にバックエンドが障害状態になります。アグリゲートリストをSVM上のアグリゲートリストに変更するか、アグリゲートリストを完全に削除してバックエンドをオンラインに戻す必要があります。</block>
  <block id="5160493063ea2e4f1b1a6e3b951b0a53" category="cell">NFSマウントオプションをカンマで区切ったリスト。Kubernetes永続ボリュームのマウントオプションは通常ストレージクラスで指定されますが、ストレージクラスにマウントオプションが指定されていない場合、Tridentはストレージバックエンドの構成ファイルに指定されているマウントオプションを使用してフォールバックします。ストレージクラスまたは構成ファイルでマウントオプションが指定されていない場合、Tridentは関連付けられた永続ボリュームにマウントオプションを設定しません。</block>
  <block id="8f0dd7b65e6130f3f55d984ebc34bbdb" category="cell">次のいずれかを指定できます。Microsoft管理コンソールまたはONTAP CLIを使用して作成されたSMB共有の名前、TridentでSMB共有を作成できるようにする名前、ボリュームへの共通の共有アクセスを禁止する場合はパラメータを空白のままにします。オンプレミスのONTAPでは、このパラメータはオプションです。このパラメータはAmazon FSx for ONTAPバックエンドで必須であり、空にすることはできません。</block>
  <block id="760f7a1b05bc9d3d50c534dc491c07d4" category="cell">新しいボリュームでNetApp Volume Encryption（NVE）を有効にします。デフォルトはです。<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>このオプションを使用するには、クラスタで NVE のライセンスが設定され、有効になっている必要があります。バックエンドでNAEが有効になっている場合、TridentでプロビジョニングされたすべてのボリュームでNAEが有効になります。詳細については、を参照してください<block ref="5113a2fb1642ecd23870711ba25c4ad7" category="inline-link-macro-rx"></block>。</block>
  <block id="9cae9ee80bd5bcfdc5aefb0ffdbdf25b" category="admonition">TridentでQoSポリシーグループを使用するには、ONTAP 9 .8以降が必要です。共有されていないQoSポリシーグループを使用し、ポリシーグループが各コンスティチュエントに個別に適用されるようにします。QoSポリシーグループを共有すると、すべてのワークロードの合計スループットの上限が適用されます。</block>
  <block id="04475efebba67943de12a2269d2e0a7b" category="paragraph">この例は、動的なエクスポートポリシーを使用してエクスポートポリシーを自動的に作成および管理するようにTridentに指示する方法を示しています。これは、ドライバと<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>ドライバで同じように機能し<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ます。</block>
  <block id="917b750655d8fd1d6c961e661535fa99" category="paragraph">Tridentでは、[Comments]フィールドにプロビジョニングラベルが設定されます。コメントは、のFlexVolまたはのFlexGroup<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>で設定します<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。Tridentは、仮想プールに存在するすべてのラベルをプロビジョニング時にストレージボリュームにコピーします。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="fb66862ac33cf61ecc10382c3a42dee3" category="paragraph">Tridentが選択する仮想プールを決定し、ストレージ要件が満たされるようにします。</block>
  <block id="3791349e449ca2bc9a8b7b7ed4c843de" category="list-text">Tridentでは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみがサポートされます。詳細については、を参照してください <block ref="688177e6b45c5d27a545463079c58d82" category="inline-xref-macro-rx"></block> 。</block>
  <block id="bef1bdf06ff1fb19147e51880974a6c5" category="paragraph">Tridentには、ONTAPバックエンドの認証に2つのモードがあります。</block>
  <block id="c3ac6347a688cffd729947263e3387fb" category="list-text">証明書ベース：このモードでは、TridentがONTAPクラスタと通信するために、バックエンドに証明書をインストールする必要があります。この場合、バックエンド定義には、 Base64 でエンコードされたクライアント証明書、キー、および信頼された CA 証明書（推奨）が含まれている必要があります。</block>
  <block id="3dcd67bbe9a272b52d3d7a0b30220f72" category="paragraph">TridentがONTAPバックエンドと通信するには、SVMを対象としたクラスタを対象とした管理者に対するクレデンシャルが必要です。や<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>などの事前定義された標準のロールを使用することを推奨します<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>。これにより、今後のONTAPリリースで使用する機能APIが公開される可能性がある将来のTridentリリースとの前方互換性が確保されます。Tridentでは、カスタムのセキュリティログインロールを作成して使用できますが、推奨されません。</block>
  <block id="9cce0e23fbc00d5ef4aa8264a88e346a" category="paragraph">バックエンドを更新しても、すでに作成されているボリュームへのアクセスは中断されず、その後のボリューム接続にも影響しません。バックエンドの更新が成功すると、TridentがONTAPバックエンドと通信し、以降のボリューム処理を処理できるようになります。</block>
  <block id="1d67220b5084f7489e1a078d7ce093c3" category="section-title">Trident用のカスタムONTAPロールの作成</block>
  <block id="9284d31490691a3e4c3cb7c3fa6bdb30" category="paragraph">Tridentは、NFSエクスポートポリシーを使用して、プロビジョニングするボリュームへのアクセスを制御します。</block>
  <block id="911e36a0e95c6a8cd786e86a3fcc313a" category="paragraph">Tridentでエクスポートポリシーを使用する場合は、次の2つのオプションがあります。</block>
  <block id="5dc1a99b61ad0584100fea35d3c77e2d" category="list-text">Tridentでは、エクスポートポリシー自体を動的に管理できます。この処理モードでは、許可可能なIPアドレスを表すCIDRブロックのリストをストレージ管理者が指定します。Tridentは、これらの範囲に該当する該当するノードIPを公開時に自動的にエクスポートポリシーに追加します。または、CIDRを指定しない場合は、パブリッシュ先のボリュームで見つかったグローバル対象のユニキャストIPがすべてエクスポートポリシーに追加されます。</block>
  <block id="d6f1d6cb064a0fa1dad0c21c9e750994" category="list-text">ストレージ管理者は、エクスポートポリシーを作成したり、ルールを手動で追加したりできます。Tridentでは、設定で別のエクスポートポリシー名を指定しないかぎり、デフォルトのエクスポートポリシーが使用されます。</block>
  <block id="9391b78a23c85c79820dc84c10db96aa" category="paragraph">Tridentでは、ONTAPバックエンドのエクスポートポリシーを動的に管理できます。これにより、ストレージ管理者は、明示的なルールを手動で定義するのではなく、ワーカーノードの IP で許容されるアドレススペースを指定できます。エクスポートポリシーの管理が大幅に簡易化され、エクスポートポリシーを変更しても、ストレージクラスタに対する手動の操作は不要になります。さらに、ボリュームをマウントしていて、指定された範囲のIPを持つワーカーノードだけにストレージクラスタへのアクセスを制限し、きめ細かく自動化された管理をサポートします。</block>
  <block id="b1c10dc35d4f2204f84dafbae3a9db72" category="admonition">この機能を使用する場合は、SVMのルートジャンクションに、ノードのCIDRブロックを許可するエクスポートルール（デフォルトのエクスポートポリシーなど）を含む事前に作成したエクスポートポリシーがあることを確認する必要があります。1つのSVMをTrident専用にするには、必ずNetAppのベストプラクティスに従ってください。</block>
  <block id="be5fcef35e23604f5b0fc183ca7506c7" category="list-text">バックエンドUUID 403b5326-8482-40dB-96d0-d83fb3f4daec</block>
  <block id="28dfab96c79abedb70e1d50d710ea98b" category="list-text"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block>に設定<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block></block>
  <block id="580cc4344cc0f2e6db295db4ab750199" category="list-text">ストレージプレフィックス<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block></block>
  <block id="281f254b4327225d2f04f74bef468fda" category="list-text">PVC UUID a79bcf5f-7b6d-4a40-9876-e2551f159c1c</block>
  <block id="9f39168351aa064bf4add0614e72cf76" category="list-text">svm_pvc_a79bcf5f_7b6d_4a40_9876_e2551f159c1cという名前のqtree Tridentでは、という名前のFlexVolのエクスポートポリシー、という名前のqtreeのエクスポートポリシー、<block ref="a9394417b5c3be8334bc253bf0db8df0" prefix=" " category="inline-code"></block>およびという名前の空のエクスポートポリシー<block ref="735cc5128643b8de22e29beb94c9ccf4" prefix=" " category="inline-code"></block>がSVM上に作成されます<block ref="c39e5727ab9fde433a5c617f19a07adc" prefix=" " category="inline-code"></block>。FlexVolエクスポートポリシーのルールは、qtreeエクスポートポリシーに含まれるすべてのルールのスーパーセットになります。空のエクスポートポリシーは、関連付けられていないボリュームで再利用されます。</block>
  <block id="1ac483d2832bce598fb016d9eb24a804" category="list-text"><block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix="" category="inline-code"></block>アドレスブロックのリストが含まれます。このフィールドは省略可能で、デフォルト値は ["0.0.0.0/0" 、 "::/0" です。定義されていない場合、Tridentは、パブリケーションを使用して、ワーカーノード上で見つかったグローバルスコープのユニキャストアドレスをすべて追加します。</block>
  <block id="b2a40ed90888ed4dd5f4dce75ca437a5" category="paragraph">この例では<block ref="f2293842bd9b1febec66e01804867721" prefix=" " category="inline-code"></block>、アドレス空間が提供されています。これは、パブリケーションでこのアドレス範囲に含まれるKubernetesノードIPが、Tridentが作成するエクスポートポリシーに追加されることを示します。Tridentは、実行するノードを登録すると、ノードのIPアドレスを取得し、で指定されたアドレスブロックと照合し<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>ます。公開時に、IPをフィルタリングした後、Tridentは公開先ノードのクライアントIPのエクスポートポリシールールを作成します。</block>
  <block id="7bbfd70596d4809b3a59a1d543c64933" category="paragraph">Tridentがバックエンドを作成または更新した後、または対応するCRDを<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block>使用してバックエンドをチェックでき<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c21ad3c9d699da710d3d9a10d356f72d" category="paragraph">ノードを削除すると、Tridentはすべてのエクスポートポリシーをチェックして、そのノードに対応するアクセスルールを削除します。Tridentは、管理対象バックエンドのエクスポートポリシーからこのノードIPを削除することで、不正なマウントを防止します。ただし、このIPがクラスタ内の新しいノードで再利用される場合を除きます。</block>
  <block id="560093aa674b397879f076b8f8a64fb1" category="paragraph">既存のバックエンドがある場合は、を使用してバックエンドを更新する<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>と、Tridentがエクスポートポリシーを自動的に管理するようになります。これにより、バックエンドのUUIDとqtree名に基づいて、必要に応じてという名前の新しいエクスポートポリシーが2つ作成されます。バックエンドにあるボリュームは、アンマウントして再度マウントしたあとに、新しく作成したエクスポートポリシーを使用します。</block>
  <block id="5be86c6240034dbc77f8dad4eae132b0" category="paragraph">稼働中のノードのIPアドレスが更新された場合は、そのノードでTridentポッドを再起動する必要があります。その後、Tridentは管理しているバックエンドのエクスポートポリシーを更新して、IPの変更を反映します。</block>
  <block id="3c84638211d81849fc9b0b95216d1afa" category="admonition"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block>SMBボリュームではサポートされません。</block>
  <block id="072a79a382792fdaa71cab41d1340dae" category="list-text">Active Directoryクレデンシャルを含む少なくとも1つのTridentシークレット。シークレットを生成するには<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="f05dd4ff0ba35f59e465466148e57015" category="list-text">オンプレミスのONTAPでは、必要に応じてSMB共有を作成することも、Tridentで共有を作成することもできます。</block>
  <block id="c267535828cc965ba3fe4e10913f7285" category="paragraph">Tridentは、ONTAPクラスタと通信するための次のNASストレージドライバを提供します。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="f993941dc62990aa70d883be7a386ea7" category="paragraph">Tridentは、ONTAP管理者またはSVM管理者（通常はクラスタユーザ、<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVMユーザ、または別の名前で同じロールのユーザを使用）として実行することを想定しています<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>。</block>
  <block id="fed5cc1d933ad528f364a438a22f2465" category="paragraph">Amazon FSx for NetApp ONTAP環境では、Tridentは、クラスタユーザまたは<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVMユーザを使用するONTAP管理者またはSVM管理者、または同じロールの別の名前のユーザとして実行される必要があります<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>。この<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>ユーザは、クラスタ管理者ユーザに代わる限定的なユーザです。</block>
  <block id="6e82d09aa274380adf21d56aaa3b0413" category="admonition">パラメータを使用する場合は<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>、クラスタ管理者の権限が必要です。TridentでAmazon FSx for NetApp ONTAPを使用している場合、<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>パラメータはユーザアカウントと<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>ユーザアカウントでは機能しません<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>。このパラメータを指定すると設定処理は失敗します。</block>
  <block id="8dbaef294ecadfe828f5bab1ae097d46" category="summary">Tridentのインストール時にONTAP SANドライバを作成して使用する方法について説明します。このセクションでは、バックエンド構成の例と、バックエンドをストレージクラスにマッピングする方法を詳しく説明します。</block>
  <block id="55fd4fb7ce66d950d3136fb6613ab770" category="paragraph">Tridentのインストール時にONTAP SANドライバを作成して使用する方法について説明します。このセクションでは、バックエンドの構成例と、バックエンドをStorageClassesにマッピングするための詳細を示します。</block>
  <block id="c59bb4e25695c195dbaa360d34c9795e" category="cell"><block ref="ef225248e79c14501d51a4941b5ae5d1" prefix="" category="inline-code"></block></block>
  <block id="091b358e8a9ea5e6b1137fbd4c18372f" category="paragraph">を使用して、<block ref="ef225248e79c14501d51a4941b5ae5d1" prefix=" " category="inline-code"></block>コマンドのコマンドライン引数を指定します。この引数<block ref="899da842f7d2c1db0e3f8c88ad72507f" prefix=" " category="inline-code"></block>は、ボリュームがフォーマットされるたびに適用されます。これにより、好みに応じてボリュームをフォーマットできます。デバイスパスを除いて、mkfsコマンドオプションと同様にformatOptionsを指定してください。例：「-E nodiscard」</block>
  <block id="18eb1633594b2436e83e73071958b960" category="section-title">formatOptionsの使用に関する推奨事項</block>
  <block id="d9ec468a8922eca17349404c59b7659c" category="paragraph">Tridentでは、フォーマット処理を高速化するために、次のオプションを推奨しています。</block>
  <block id="ee8d7eb9cc1e43184ed6a64abb3255f6" category="paragraph">*-E nodiscard：*</block>
  <block id="f1e8c049fa2ad08b8d1a332e2d26163e" category="cell">作成したボリュームに割り当てる QoS ポリシーグループ。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します。TridentでQoSポリシーグループを使用するには、ONTAP 9 .8以降が必要です。共有されていないQoSポリシーグループを使用し、ポリシーグループが各コンスティチュエントに個別に適用されるようにします。QoSポリシーグループを共有すると、すべてのワークロードの合計スループットの上限が適用されます。</block>
  <block id="c598aba0725ffc7663bf0f4db1a3238f" category="cell"><block ref="80fd16da9d17abac4374b362f2e409fe" prefix="" category="inline-code"></block></block>
  <block id="a5b88f2b14a5b0fa1aa2bbed9eb87602" category="cell">バックエンドがLUNを格納するために新しいFlexVolボリュームを作成することを制限します<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>。新しいPVのプロビジョニングには、既存のFlexVolのみが使用されます。</block>
  <block id="e78c177a9e5dfcf995756c1f03c48529" category="admonition">ドライバを使用して作成されたすべてのボリュームについて、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>TridentはLUNメタデータに対応するために10%の容量をFlexVolに追加します。LUN は、ユーザが PVC で要求したサイズとまったく同じサイズでプロビジョニングされます。Tridentは、FlexVolに10%を追加します（ONTAPでは使用可能なサイズとして表示されます）。ユーザには、要求した使用可能容量が割り当てられます。また、利用可能なスペースがフルに活用されていないかぎり、 LUN が読み取り専用になることもありません。これは、 ONTAP と SAN の経済性には該当しません。</block>
  <block id="2d4fda186ee0e99d76ee82d9cd36b908" category="paragraph">定義されたバックエンドの場合<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>、Tridentは次のようにボリュームのサイズを計算します。</block>
  <block id="83e850c97b7044397eba3d214682be5b" category="list-text">証明書ベース：Tridentは、バックエンドにインストールされている証明書を使用してONTAPクラスタと通信することもできます。この場合、バックエンド定義には、 Base64 でエンコードされたクライアント証明書、キー、および信頼された CA 証明書（推奨）が含まれている必要があります。</block>
  <block id="14bc1b6d66d79a6242106075078d6a75" category="paragraph">Tridentでは、ドライバと<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバの双方向CHAPを使用してiSCSIセッションを認証できます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。これには、バックエンド定義でオプションを有効にする必要があり<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>ます。に設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と、TridentはSVMのデフォルトのイニシエータセキュリティを双方向CHAPに設定し、ユーザ名とシークレットをバックエンドファイルに設定します。接続の認証には双方向 CHAP を使用することを推奨します。次の設定例を参照してください。</block>
  <block id="a3101deed09a2c98e2dc3f8d302ef2ec" category="paragraph">trueに設定する<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>と、ストレージ管理者はTridentにストレージバックエンドでCHAPを構成するように指示します。これには次のものが含まれます。</block>
  <block id="8a8d93d572194f00b71a710946af762d" category="list-text">SVMのデフォルトのイニシエータセキュリティタイプがnone（デフォルトで設定）*で、*ボリュームに既存のLUNがない場合、Tridentはデフォルトのセキュリティタイプをに設定し<block ref="9ef2bbb12ff72558472202561a25058d" prefix=" " category="inline-code"></block>、CHAPイニシエータとターゲットのユーザ名とシークレットの設定に進みます。</block>
  <block id="1938c188012d6b3e1bb2a8ab1d30ed4b" category="list-text">SVMにLUNが含まれている場合、TridentはSVMでCHAPを有効にしません。これにより、SVMにすでに存在するLUNへのアクセスが制限されなくなります。</block>
  <block id="6aee28036e0c3cf4a8792451108bdab1" category="paragraph">バックエンドが作成されると、Tridentは対応するCRDを作成し<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block>、CHAPシークレットとユーザ名をKubernetesシークレットとして格納します。このバックエンドでTridentによって作成されたすべてのPVSがマウントされ、CHAP経由で接続されます。</block>
  <block id="efa0e2d045a35ff3060322078634f115" category="paragraph">既存の接続は影響を受けず、SVM上のTridentによってクレデンシャルが更新されてもアクティブなままです。新しい接続では更新されたクレデンシャルが使用され、既存の接続は引き続きアクティブになります。古い PVS を切断して再接続すると、更新されたクレデンシャルが使用されます。</block>
  <block id="b5ab1040103dff58a29ac4bd0e6ce111" category="paragraph">Tridentは、ONTAPクラスタと通信するための次のSANストレージドライバを提供します。サポートされているアクセスモードは、_ReadWriteOnce_(RWO)、_ReadOnlyMany_(ROX)、_ReadWriteMany_(RWX)、_ReadWriteOncePod_(RWOP)です。</block>
  <block id="e5981541c0e608f7fb860a1ba0443a18" category="paragraph">Tridentは、ONTAP管理者またはSVM管理者（通常はクラスタユーザ、<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVMユーザ、または別の名前で同じロールのユーザを使用）として実行することを想定しています<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>。Amazon FSx for NetApp ONTAP環境では、Tridentは、クラスタユーザまたは<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>SVMユーザを使用するONTAP管理者またはSVM管理者、または同じロールの別の名前のユーザとして実行される必要があります<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>。この<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>ユーザは、クラスタ管理者ユーザに代わる限定的なユーザです。</block>
  <block id="03f5e10eafb756dac410015b29a6d0e0" category="paragraph">Tridentは、次のドライバを使用してNon-Volatile Memory Express（NVMe）プロトコルをサポートします<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。</block>
  <block id="8102a8aaee21f7594331faa6a31ceeb6" category="list-text">Tridentの外部で作成されたNVMeボリュームをインポートして、そのライフサイクルをTridentで管理できるようにする</block>
  <block id="54211a2d289b1fa18afc99aab9e27892" category="paragraph">Tridentは以下をサポートしていません。</block>
  <block id="efd6bf14511b7506d1d5a1575d817027" category="cell">クラスタまたはSVM管理LIFのIPアドレス完全修飾ドメイン名（FQDN）を指定できます。IPv6フラグを使用してTridentがインストールされている場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]などの角かっこで定義する必要があります。</block>
  <block id="900a97d43b0d89ff1f26477ad38cc3bc" category="cell">* Amazon FSx for NetApp ONTAPには指定しないでください。*指定されたと<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>には<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>、アグリゲートの使用量を取得してTridentを使用して制限するために必要な権限が含まれていません。</block>
  <block id="df2f5c3ad0d6cdf07a86704a8dfcef06" category="cell">次のいずれかを指定できます。Microsoft管理コンソールまたはONTAP CLIを使用して作成されたSMB共有の名前、またはTridentにSMB共有の作成を許可する名前。このパラメータは、Amazon FSx for ONTAPバックエンドに必要です。</block>
  <block id="4f124386f4b1bb06c61bcf1c73aff529" category="cell">作成したボリュームに割り当てる QoS ポリシーグループ。ストレージプールまたはバックエンドごとに、QOSPolicyまたはadaptiveQosPolicyのいずれかを選択します。TridentでQoSポリシーグループを使用するには、ONTAP 9 .8以降が必要です。共有されていないQoSポリシーグループを使用し、ポリシーグループが各コンスティチュエントに個別に適用されるようにします。QoSポリシーグループを共有すると、すべてのワークロードの合計スループットの上限が適用されます。</block>
  <block id="e5bbe1a57bb9d1fa8056d28e0a96a518" category="summary">TridentとAmazon FSx for NetApp ONTAPを併用すると、Amazon Elastic Kubernetes Service（EKS）で実行されているKubernetesクラスタで、ONTAPを基盤とするブロックおよびファイルの永続ボリュームをプロビジョニングできるようになります。</block>
  <block id="a2e4c75efdd834198ec30de5256aa938" category="paragraph">次のドライバを使用して、TridentとAmazon FSx for NetApp ONTAPを統合できます。</block>
  <block id="b67b129bb636d36f948ca02b68bfa9bc" category="cell">クラスタまたはSVM管理LIFのIPアドレス完全修飾ドメイン名（FQDN）を指定できます。IPv6フラグを使用してTridentがインストールされている場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]などの角かっこで定義する必要があります。<block ref="ac68bbf921d953d1cfab916cb6120864" prefix=" " category="inline-code"></block>フィールドでを指定する場合は<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>、を指定する必要はありませ<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>ん。TridentはAWSからSVM情報を取得するためです。<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>そのため、SVMの下のユーザ（vsadminなど）のクレデンシャルを指定し、そのユーザにロールが割り当てられている必要があり<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> ます。</block>
  <block id="52934bc714f29a2f1d7b732705cd3bc3" category="list-text">Linuxコントローラノードと少なくとも1つのWindowsワーカーノードでWindows Server 2019を実行しているKubernetesクラスタ。Tridentでは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみがサポートされます。</block>
  <block id="456166bed74a8ee84892a1778e8485a7" category="section-title">Trident属性</block>
  <block id="0a6a0f274bdb2256373050bb5155f62f" category="paragraph">Amazon FSx for NetApp ONTAPファイルシステムをTridentと統合すると、Amazon Elastic Kubernetes Service（EKS）で実行されているKubernetesクラスタが、ONTAPを基盤とするブロックおよびファイルの永続ボリュームをプロビジョニングできるようになります。</block>
  <block id="e22cd0725c5dbd58b894af3d4584607c" category="paragraph">TridentとAmazon FSx for NetApp ONTAPを使用すると、Amazon Elastic Kubernetes Service（EKS）で実行されているKubernetesクラスタが、ONTAPを基盤とするブロックおよびファイルの永続ボリュームをプロビジョニングできるようになります。</block>
  <block id="0ad999be0dea6cdee2afca2bcb6da8b1" category="paragraph"><block ref="6004af307fc2eed554c42ebaa4be8446" category="inline-link-macro-rx"></block>FSx for ONTAPとTridentを統合するには、さらに次のものが必要です。</block>
  <block id="6bb2a5c441a4e421f26e835928b68f1f" category="list-text">SMBボリュームは、Trident EKSアドオンではサポートされません。</block>
  <block id="910bc8aad96dce304454db69330c4c1c" category="list-text">Tridentでは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみがサポートされます。詳細については、を参照してください <block ref="5d9770278862f1ca4af19e761a5fa655" category="inline-link-macro-rx"></block> 。</block>
  <block id="3111c4c842496dcfcddb5de6e9f7ec11" category="list-text">Trident 24.02より前のバージョンでは、自動バックアップが有効になっているAmazon FSxファイルシステム上に作成されたボリュームは、Tridentで削除できませんでした。Trident 24.02以降でこの問題を回避するには、AWS FSx for ONTAPのバックエンド構成ファイルで、<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>AWS、AWS、およびAWS<block ref="9af4d8381781baccb0f915e554f8798d" prefix=" " category="inline-code"></block>を<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block>指定します<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>。</block>
  <block id="9f953e6f7a1bf75b24ad7c1f72aeda22" category="admonition">TridentにIAMロールを指定する場合は、、<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block>、および<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block>の各フィールドをTridentに明示的に指定する必要はありません<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>。詳細については、を参照してください <block ref="d3e98810edf44af02b30486ed13bd043" category="inline-link-macro-rx"></block>。</block>
  <block id="7b53d57c2eba03d6610dce9feca9a586" category="paragraph">Tridentには2つの認証モードがあります。</block>
  <block id="954d503a6b34d7989c109f6cb0bfac8d" category="admonition">Tridentは、SVMユーザ、または別の名前で同じロールのユーザとして実行することを想定しています<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>。Amazon FSx for NetApp ONTAPには、ONTAPクラスタユーザに代わる限定的なユーザが<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>い<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>ます。Tridentでの使用を強くお勧めします<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>。</block>
  <block id="e4cd0c6f3c2ade8eef84039005a10f36" category="list-text">証明書ベース：Tridentは、SVMにインストールされている証明書を使用してFSxファイルシステム上のSVMと通信します。</block>
  <block id="f8abfe6b352de2fd0e868bcaf6f3e7f7" category="summary">Tridentでは、作成したボリュームにわかりやすい名前とラベルを割り当てることができるため、ボリュームの識別と監視が容易になり、それぞれのKubernetesリソース（PVC）に簡単にマッピングできます。</block>
  <block id="ba7c9f4d567a323afc79746f519e415b" category="paragraph">Tridentでは、作成したボリュームにわかりやすい名前とラベルを割り当てることができます。これにより、ボリュームを特定し、それぞれのKubernetesリソース（PVC）に簡単にマッピングできます。また、バックエンドレベルでテンプレートを定義してカスタムボリューム名とカスタムラベルを作成することもできます。作成、インポート、またはクローンを作成するボリュームは、テンプレートに準拠します。</block>
  <block id="97c781efba117c0e1d5363fc4b25ca4d" category="list-text">Tridentでは、storageプレフィックスを指定したスライス演算子の使用はサポートされていません。</block>
  <block id="d30011d07380d694abaa3a0701445be9" category="list-text">テンプレートによってボリューム名が一意にならない場合、Tridentではいくつかのランダムな文字が追加されて一意のボリューム名が作成されます。</block>
  <block id="67b2f0b2bd7da526ee1d031a8d146585" category="list-text">NASエコノミーボリュームのカスタム名の長さが64文字を超える場合、Tridentは既存の命名規則に従ってボリュームに名前を付けます。他のすべてのONTAPドライバでは、ボリューム名が名前の上限を超えると、ボリュームの作成プロセスが失敗します。</block>
  <block id="e784d9ded1cce64694895e336ef35234" category="paragraph">Tridentは永続的ボリューム（PV）を作成し、この永続的ボリューム要求（PVC）に関連付けます。</block>
  <block id="c97c2c03f174086fc1172be741226250" category="list-text">PVがポッドに接続されている場合、Tridentはストレージバックエンド上のボリュームを拡張し、デバイスを再スキャンして、ファイルシステムのサイズを変更します。</block>
  <block id="8870cc012f196366d720ebdad2f5632f" category="list-text">接続されていないPVのサイズを変更しようとすると、Tridentはストレージバックエンド上のボリュームを拡張します。PVC がポッドにバインドされると、 Trident はデバイスを再スキャンし、ファイルシステムのサイズを変更します。展開操作が正常に完了すると、 Kubernetes は PVC サイズを更新します。</block>
  <block id="026f69e8eb7faab2f07a68365843746d" category="paragraph">PVC、PV、およびTridentボリュームのサイズを確認することで、拡張が正常に機能したことを検証できます。</block>
  <block id="d8fc21061998f01679cbbabd9102ec8c" category="paragraph">Tridentでは、、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block><block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、、、<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block><block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>およびバックエンドでプロビジョニングされるNFS PVSのボリューム拡張がサポートされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。</block>
  <block id="36941664e357e5e47a63d528d3ff49b5" category="paragraph">PVC、PV、およびTridentボリュームのサイズを確認することで、サイズ変更が正しく機能したかどうかを検証できます。</block>
  <block id="822f23137373a7a374fd33ef3863c2de" category="paragraph">Tridentにボリュームをインポートする目的は次のとおりです。</block>
  <block id="15309597fffd67488a7a5dde3591144d" category="list-text">Tridentでインポートできるのは、RW（読み取り/書き込み）タイプのONTAPボリュームのみです。DP（データ保護）タイプのボリュームはSnapMirrorデスティネーションボリュームです。ボリュームをTridentにインポートする前に、ミラー関係を解除する必要があります。</block>
  <block id="349d29de1123e1836103914780ffb39b" category="list-text">PVCで指定する必要がありますが、<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>Tridentはインポート時にこのパラメータを使用しません。ストレージクラスは、ボリュームの作成時に、ストレージ特性に基づいて使用可能なプールから選択するために使用されます。ボリュームはすでに存在するため、インポート時にプールを選択する必要はありません。そのため、PVCで指定されたストレージクラスと一致しないバックエンドまたはプールにボリュームが存在してもインポートは失敗しません。</block>
  <block id="7a06039f2c19a8797457cd811e999229" category="list-text">コマンドを使用して<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block>、ボリュームを含むTridentバックエンドの名前と、ストレージ上のボリュームを一意に識別する名前（ONTAP FlexVol、Element Volume、Cloud Volumes Serviceパスなど）を指定します。<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>PVCファイルへのパスを指定するには、引数が必要です。</block>
  <block id="f610f3c991a9fe41a30dec78ba76caa8" category="paragraph">Tridentは、ドライバと<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>ドライバを使用したボリュームインポートをサポートしてい<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ます</block>
  <block id="2bde530216fea43a4e556d3bba5dce11" category="paragraph">引数を使用した場合<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>、Tridentはボリュームの名前を変更しません。</block>
  <block id="ef40e9c3e0773e9fb6f24b131aa9ba8f" category="paragraph">Tridentは、ドライバと<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバを使用したボリュームインポートをサポートしてい<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ます</block>
  <block id="df1e93e323319db2375e3d3dad7fb9cc" category="paragraph">Tridentは、NetApp Elementソフトウェアとドライバを使用したNetApp HCIボリュームインポートをサポートしています<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>。</block>
  <block id="49fdf43d32dad9fda984acfedf0be04f" category="admonition">Element ドライバではボリューム名の重複がサポートされます。ただし、ボリューム名が重複している場合、Tridentはエラーを返します。回避策としてボリュームをクローニングし、一意のボリューム名を指定して、クローンボリュームをインポートします。</block>
  <block id="13bad29adee620ad0bb1075fdf0e45b0" category="paragraph">Tridentはドライバを使用したボリュームインポートをサポートしてい<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>ます。</block>
  <block id="781d7167559669ccd02b24925b4be62e" category="paragraph">Tridentはドライバを使用したボリュームインポートをサポートしてい<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>ます。</block>
  <block id="91df12d96329d2a5cdfb509205e68b38" category="summary">Tridentには、ボリュームを管理するためのいくつかの機能があります。Tridentがボリュームに対して提供する機能について説明します。</block>
  <block id="3f21653d19d6382928f806e17a3ab1c4" category="paragraph">Tridentのボリューム管理機能について説明します。</block>
  <block id="ca5acbb90042e065e5dd4eb793ef320c" category="paragraph">Tridentを使用してボリュームを管理する方法については、以下を参照してください。</block>
  <block id="bf320e716fd5e77836a28acbf01fd5f2" category="summary">永続ボリューム（PV）のKubernetesボリュームSnapshotを使用すると、ボリュームのポイントインタイムコピーを作成できます。Tridentを使用して作成したボリュームのSnapshotの作成、Tridentの外部で作成したSnapshotのインポート、既存のSnapshotからの新しいボリュームの作成、Snapshotからのボリュームデータのリカバリを実行できます。</block>
  <block id="27aa53a8adee533e027b5b2a725716da" category="list-text">は<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block>Trident CSIドライバを示しています。</block>
  <block id="443fed0e44021bc800c6840b6a2c8191" category="paragraph">Tridentでは、クラスタ管理者がを<block ref="a3174ff04e144786ca73f65ec9b76f58" category="inline-link-macro-rx"></block>使用して、オブジェクトを作成したり、Tridentの外部で作成されたSnapshotをインポートしたりできます<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>。</block>
  <block id="5de65a931e7f0117030dde1d54eff5f4" category="paragraph">TridentでSnapshotの親ボリュームが作成またはインポートされている必要があります。</block>
  <block id="a06ecac9b140cf61cd5d4a82c88c488a" category="list-text">*クラスタ管理者：*バックエンドSnapshotを参照するオブジェクトを作成します<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>。これにより、TridentでSnapshotワークフローが開始されます。</block>
  <block id="d480294e263bd9916f014824428ddbca" category="list-text">で指定します<block ref="62c99546614b1610927a47ea682b6d63" prefix=" " category="inline-code"></block><block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block>。この情報は、呼び出しで外部スナップショットによってTridentに提供される唯一の情報です<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block>。</block>
  <block id="3e36f7927fcc85da94d36bcb51457a89" category="list-text">*内部処理（アクション不要）：*外部スナップショットは、新しく作成されたを認識して<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>呼び出しを実行します<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block>。Tridentによってが作成され<block ref="9a303ae09fee10afe60e5fd9e00e5e45" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c179bf71b229cad4b31c8b19407ab978" category="summary">Tridentを使用すると、プライマリネームスペースにボリュームを作成し、1つ以上のセカンダリネームスペースで共有できます。</block>
  <block id="eeef56d54787b9aa6bd579f2e856b658" category="paragraph">TridentVolumeReference CRを使用すると、1つ以上のKubernetesネームスペース間でReadWriteMany（RWX）NFSボリュームを安全に共有できます。このKubernetesネイティブ解決策 には、次のようなメリットがあります。</block>
  <block id="00315912b48f10a3906def68b6887f6c" category="paragraph">Tridentは、PVとそのバックエンドNFSストレージボリュームを作成します。</block>
  <block id="7f2c8022cfb81e20fa274d1e20f4ae7b" category="paragraph">TridentはデスティネーションPVCのアノテーションを読み取り<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block>、ソースPVストレージリソースを共有する独自のストレージリソースのない下位ボリュームとしてデスティネーションPVを作成します。宛先PVCとPVは、通常どおりバインドされているように見えます。</block>
  <block id="a5b25f7f8c74c644f3484c2182ea8a25" category="paragraph">複数のネームスペースで共有されているボリュームは削除できます。Tridentは、ソースネームスペース上のボリュームへのアクセスを削除し、そのボリュームを共有する他のネームスペースへのアクセスを維持します。このボリュームを参照しているネームスペースをすべて削除すると、Tridentによってボリュームが削除されます。</block>
  <block id="39e92ae6d270535c1cad298373650560" category="list-text">Tridentでは、デスティネーションネームスペースが共有ボリュームに書き込まれないようにすることはできません。共有ボリュームのデータの上書きを防止するには、ファイルロックなどのプロセスを使用する必要があります。</block>
  <block id="b709b82e3d76fa5433fd3117387424b7" category="paragraph-title">SCSI over FCツール</block>
  <block id="867cf4bbcb92ecc7017612aafa765813" category="inline-link-macro">FCおよびFC-NVMe SANホストの構成方法</block>
  <block id="16649adc62ed952ba4dac811c548cbfb" category="paragraph">Tridentは、ノードでiSCSIサービスまたはNFSサービスを実行できるかどうかを自動的に検出しようとします。</block>
  <block id="ff577472362d5ec5388791cc868e283e" category="paragraph">Tridentは、検出されたサービスを識別するためのイベントをノードに対して作成します。次のイベントを確認するには、を実行します。</block>
  <block id="e0dbb340725a054b795eaa2c5ce9925a" category="paragraph">Tridentは、TridentノードCR上の各ノードで有効になっているサービスを識別します。検出されたサービスを表示するには、を実行します。</block>
  <block id="5a89f68b37546fc775b3e4fdbaa83f86" category="paragraph">Tridentでは、iSCSIセッションの確立、LUNのスキャン、マルチパスデバイスの検出、フォーマット、ポッドへのマウントを自動的に実行できます。</block>
  <block id="f31ad49d6d434380feb4017e7e67844c" category="paragraph">ONTAPシステムの場合、Tridentは5分ごとにiSCSIの自己修復を実行し、次のことを実現します。</block>
  <block id="88857aef34da03584f9873d9ae451f35" category="list-text">*希望する状態と現在の状態を比較して、必要な修理を特定します。Tridentは、修理の優先順位と、修理をいつプリエンプトするかを決定します。</block>
  <block id="43b7f6020acce94258b8cd6f49d039e9" category="admonition">自己修復アクティビティのログは、それぞれのデーモンセットポッドのコンテナにあり<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block>ます。ログを表示するには、Tridentのインストール時にを「true」に設定しておく必要があります<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>。</block>
  <block id="575a6c9926e4c10d0f01f5a7b5ae5af7" category="paragraph">Trident iSCSIの自己修復機能を使用すると、次のことを防止できます。</block>
  <block id="dc5ea7c62b923ea94fb050bf49982b18" category="list-text">ネットワーク接続問題 後に発生する可能性がある古いiSCSIセッションまたは正常でないiSCSIセッション。セッションが古くなった場合、Tridentは7分間待機してからログアウトし、ポータルとの接続を再確立します。</block>
  <block id="35a7465f650e4e342879c89b19aab955" category="paragraph">次のTrident iSCSI自己修復設定を構成して、古いセッションを修正できます。</block>
  <block id="37ed104d69b44253f63f811d2ac61b38" category="admonition">Tridentでは、NVMeがダウンしてもパスがあきらめないように値が変更され<block ref="f0523c4334dbbc70205de4279475561a" prefix=" " category="inline-code"></block>ます。この設定は変更しないでください。</block>
  <block id="49c51de1f7ef1bb1a3f7996dce0bd162" category="summary">Tridentのインストールおよび使用中に発生する可能性のある問題のトラブルシューティングには、ここに示すポインタを使用してください。</block>
  <block id="ff880370a59a3edf263703cf427ef61b" category="paragraph">Trident 20.07および20.10では、の代わりに<block ref="b9b2e8f293392f4f25fc8a59b9522d84" prefix=" " category="inline-code"></block>使用して<block ref="5d50f02b16b5f3c834b39c00b5adcf4f" prefix=" " category="inline-code"></block>ください。</block>
  <block id="f61e7737805bc6c31f70cc744f0be580" category="paragraph">Trident、作成されたCRD、および関連するカスタムリソースをすべて完全に削除できます。</block>
  <block id="bf33d5f4492b83e480e02a87c13bea8f" category="admonition">この操作は元に戻すことはできません。Tridentを完全に新規にインストールする場合を除き、この操作は行わないでください。CRDを削除せずにTridentをアンインストールするには、を参照してください<block ref="09e567d3102352bdd3a5975f49a136db" category="inline-link-macro-rx"></block>。</block>
  <block id="7e8fc4df4a520d5e63be7a3cceaf49b6" category="paragraph">Tridentオペレータを使用してTridentをアンインストールし、CRDを完全に削除するには、次の手順に従います。</block>
  <block id="48402172a8740f09fa3a5295a3c776f2" category="paragraph">Helmを使用してTridentをアンインストールし、CRDを完全に削除するには：</block>
  <block id="fca562606bcefc58d4a718783c1b96d2" category="paragraph">を使用してTridentをアンインストールした後にCRDを完全に削除するには<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="4432cfcacafa1abcedd4043a54b77f9f" category="paragraph">Tridentで管理されるネームスペース（NVMeの永続的ボリューム）がポッドに接続されているシナリオを考えてみましょう。ネームスペースをONTAPバックエンドから直接削除すると、ポッドを削除しようとすると、ステージング解除プロセスが停止します。このシナリオは、Kubernetesクラスタやその他の機能には影響しません。</block>
  <block id="65edeac74973a1ff99e0e74473ca1ac5" category="sidebar">Tridentは、NetAppが管理しているオープンソースのストレージプロビジョニングおよびオーケストレーションツールです。このコンテナを使用すると、 Docker と Kubernetes で管理されるコンテナ化アプリケーション用のストレージボリュームを作成できます。</block>
  <block id="c2be0dce836d12b399a864c7019c6c72" category="sidebar">Tridentを使用</block>
  <block id="c2cad626583e84ad7681ff1f879baed0" category="sidebar">Tridentのビデオ</block>
  <block id="19cd85517cccf8e142cb03b4a1b778b8" category="sidebar">Tridentのドキュメント</block>
  <block id="cbe339e53da479584b62fcdaed7006c1" category="sidebar">Tridentの概要</block>
  <block id="c95d3f2a880ad1b81926c3a78c2294ed" category="sidebar">Tridentの管理と監視</block>
  <block id="4182ceafe6e7afa67be49e639a8fa3a9" category="sidebar">Tridentの統合</block>
  <block id="e41a00202d1138f85f18e0c7afdb0955" category="sidebar">EKSクラスタでのTrident EKSアドオンの設定</block>
  <block id="b89f71465b55ef1dc894a4364041d9f0" category="paragraph">この例では、GKEクラスタにクラウドIDで使用するTridentをインストールします。</block>
  <block id="3bd49228e6aff48852b023fa1ceaf62c" category="paragraph">Trident演算子を使用してTridentをインストールするには、をに設定し、を<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block>に<block ref="9856712fdf7563a4074fc130ed9f0755" prefix=" " category="inline-code"></block>設定<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>し<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block><block ref="90f8fb110d694743ec7a069beef76b7b" prefix=" " category="inline-code"></block>ます。</block>
  <block id="7ba174e1291062b960ec1b8607b6e1e2" category="paragraph">次の例では、環境変数を使用してTridentをインストールし、をGCPに設定し<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>、を環境変数を使用<block ref="fab50dca589d1a68fdf56bd4ae0b4a83" prefix=" " category="inline-code"></block>して<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>を設定し<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>ます。</block>
  <block id="bde178d22672aa38120646e529ed04b5" category="paragraph">次の例では、Tridentをインストールし、フラグをに設定し、<block ref="c5af480af77c330e04a1fce1f6c2b03a" prefix=" " category="inline-code"></block>を<block ref="fab50dca589d1a68fdf56bd4ae0b4a83" prefix=" " category="inline-code"></block>に<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>設定し<block ref="e33bb4eb32023da4a8ea7a1ba6927067" prefix=" " category="inline-code"></block>ます。</block>
  <block id="dc3d22611e67d08cb39256f8980be582" category="cell">を制限し<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>バックエンドがqtreeを格納するために新しいFlexVolボリュームを作成することます。新しいPVのプロビジョニングには、既存のFlexVolのみが使用されます。</block>
  <block id="eddc3ab7d283c02464f100ff837cf055" category="inline-link-macro">Tridentのリソース</block>
  <block id="01ba66c56fa9029a3ce0095f09b9b340" category="list-text"><block ref="01ba66c56fa9029a3ce0095f09b9b340" category="inline-link-macro-rx"></block></block>
  <block id="10c80ca6b662fb62c61b4f3551fa4460" category="paragraph">SANストレージドライバを使用するONTAPバックエンドの場合、Tridentは双方向CHAPを設定し、でCHAPユーザ名とシークレットを管理できます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。TridentがONTAPバックエンドでCHAPを構成する方法については、を参照してください<block ref="647d5f494fdd01a14f263aa1b49a3db4" category="inline-link-macro-rx"></block>。</block>
  <block id="98b1298645505c6ec838667dff651c81" category="cell">ONTAP NASエコノミーバックエンドでqtreeを使用する場合の、要求可能なFlexVolの最大サイズ。</block>
  <block id="7be7ec1f4262cda30e19c85af89449af" category="cell">qtreeに対するスペース割り当て</block>
  <block id="bc78339d85241498c635b61d8f201ef9" category="cell">要求されたボリュームサイズがこの値を超えている場合、プロビジョニングが失敗します。また、LUNで管理するボリュームの最大サイズも制限します。</block>
  <block id="579198c91fea423d4b79c97828ac3da4" category="summary">Trident protectを使用すると、Tridentを使用してアプリケーションとアプリケーションデータを保護できます。</block>
  <block id="a53f4cc048a3d0227206b8b6182e67dc" category="doc">Trident protectの詳細</block>
  <block id="6d8d3279a9b2226029d9af309058363b" category="paragraph">NetApp Trident Protectは、NetApp ONTAPストレージシステムとNetApp Trident CSIストレージプロビジョニングツールを基盤とするステートフルなKubernetesアプリケーションの機能と可用性を強化する、高度なアプリケーションデータ管理機能を提供します。Trident Protectは、パブリッククラウドとオンプレミス環境にわたるコンテナ化されたワークロードの管理、保護、移動を簡易化します。また、APIとCLIを使用した自動化機能も提供します。</block>
  <block id="6a945469c2d9fdc27b0cb844d066c984" category="paragraph">Trident保護を使用してアプリケーションを保護するには、カスタムリソース（CRS）を作成するか、Trident保護CLIを使用します。</block>
  <block id="7e6f9558ca98ca29afd74d0bbb0b2bce" category="paragraph">インストールする前に、Trident保護の要件について確認できます。</block>
  <block id="a0a1eb9fbd2b7284352e6b610999f841" category="inline-link-macro">Trident保護の要件</block>
  <block id="8d806bd87636d4fd0eecab0333057f10" category="list-text"><block ref="8d806bd87636d4fd0eecab0333057f10" category="inline-link-macro-rx"></block></block>
  <block id="af68364761ed4114c192b6bb2962467b" category="summary">Trident保護では、KubernetesモデルのRole-Based Access Control（RBAC；ロールベースアクセス制御）が使用されます。Tridentの保護RBAC機能を使用すると、リソースへのアクセスをより細かく制御できます。</block>
  <block id="3f94255d3ae6517615821f8939ba6230" category="doc">許可とアクセス制御の管理</block>
  <block id="9991f5d4b3aa4ae5a36fb2ad6a637d73" category="paragraph">Trident保護では、KubernetesモデルのRole-Based Access Control（RBAC；ロールベースアクセス制御）が使用されます。デフォルトでは、Trident保護は単一のシステムネームスペースとそれに関連付けられたデフォルトのサービスアカウントを提供します。多数のユーザがいる組織や、特定のセキュリティニーズがある組織では、Trident保護のRBAC機能を使用して、リソースやネームスペースへのアクセスをより細かく制御できます。</block>
  <block id="a22c0a4dfca95968d88392eb0bbb2dcf" category="paragraph">クラスタ管理者は、常にデフォルトのネームスペース内のリソースにアクセスできます<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block>。また、他のすべてのネームスペース内のリソースにもアクセスできます。リソースとアプリケーションへのアクセスを制御するには、追加の名前空間を作成し、それらの名前空間にリソースとアプリケーションを追加する必要があります。</block>
  <block id="661e3b2b32de1ab85fb426b5abec28f3" category="paragraph">デフォルトの名前空間にアプリケーションデータ管理CRSを作成することはできないことに注意して<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block>ください。アプリケーションデータ管理CRSは、アプリケーションネームスペース内に作成する必要があります（ベストプラクティスとして、アプリケーションデータ管理CRSは、関連付けられているアプリケーションと同じネームスペースに作成します）。</block>
  <block id="b1f69b20762545a6c94e024888638df8" category="paragraph">管理者のみが、次のような特権Trident保護カスタムリソースオブジェクトへのアクセス権を持つ必要があります。</block>
  <block id="4516bb1529fba64216073cc95812839c" category="list-text">* AppVault *：バケット資格情報データが必要です。</block>
  <block id="984eb0d94901a4b5f9105f96d4d2b4a9" category="list-text">* AutoSupportBundle *：指標、ログ、その他の機密性の高いTridentデータを収集します。</block>
  <block id="10e6811ca4c78900349b612176a3233b" category="list-text">* AutoSupportBundleSchedule *：ログ収集スケジュールを管理します。</block>
  <block id="7cfd5c25f0cd486a1157966cad4acba7" category="paragraph">RBACを使用して、権限付きオブジェクトへのアクセスを管理者に制限することを推奨します。</block>
  <block id="407b2fe2d3bbcc55c8ae895a2fd8263c" category="inline-link">Kubernetes RBACのドキュメント</block>
  <block id="280879df8b54b2167169ec47c5cabf6d" category="paragraph">RBACでリソースおよびネームスペースへのアクセスを制御する方法の詳細については、を参照して<block ref="4825a411217f39ad9486c7b5e7edfd2b" category="inline-link-rx"></block>ください。</block>
  <block id="1f8885e14663f7eb65b23f1fb65cf1ad" category="inline-link">Kubernetesサービスアカウントのドキュメント</block>
  <block id="6d2eefddf1d006b070ac00f2cf8d9f2e" category="paragraph">サービスアカウントの詳細については、を参照して<block ref="37bf82f0fc7d7e935aabd2fb73032b3c" category="inline-link-rx"></block>ください。</block>
  <block id="c8daba6f7a2139f5744d1f673acae2b4" category="section-title">例：2つのユーザグループのアクセスを管理する</block>
  <block id="9a9f2142e8d53ddda9013b6fc97827cd" category="paragraph">たとえば、ある組織に、クラスタ管理者、エンジニアリングユーザのグループ、およびマーケティングユーザのグループがあるとします。クラスタ管理者は次のタスクを実行して、engineeringグループとmarketingグループがそれぞれのネームスペースに割り当てられたリソースのみにアクセスできる環境を作成します。</block>
  <block id="62e8eb1beb4089e76f084fa767746c24" category="section-title">手順1：各グループのリソースを含むネームスペースを作成する</block>
  <block id="bff98f2ace11d8e7b9fe541ae444c93a" category="paragraph">ネームスペースを作成すると、リソースを論理的に分離し、それらのリソースにアクセスできるユーザをより細かく制御できます。</block>
  <block id="34bc7fd01806723536ffab05992d77d0" category="list-text">engineeringグループの名前空間を作成します。</block>
  <block id="ba644a4cbff232b5b4157a0f8bfc30f8" category="list-text">marketingグループの名前空間を作成します。</block>
  <block id="aac00f41716d928be61ef3ff1cd6fc2d" category="section-title">ステップ2：各ネームスペースのリソースとやり取りするための新しいサービスアカウントを作成する</block>
  <block id="3e8da71376257c3915a88fb2bfe69a27" category="paragraph">作成する新しい名前空間にはそれぞれデフォルトのサービスアカウントが付属していますが、将来必要に応じてPrivilegesをグループ間でさらに分割できるように、ユーザーのグループごとにサービスアカウントを作成する必要があります。</block>
  <block id="7bd34dd5c1a41f3a7aeea2aaad2469b5" category="list-text">engineeringグループのサービスアカウントを作成します。</block>
  <block id="37281883196948d16907e71598070c79" category="list-text">マーケティンググループのサービスアカウントを作成します。</block>
  <block id="2cdbda2406e807bdae6ccf33ad2445f3" category="section-title">ステップ3：新しいサービスアカウントごとにシークレットを作成する</block>
  <block id="a15042adaad3bebc86d46ef450a4f98c" category="paragraph">サービスアカウントシークレットは、サービスアカウントでの認証に使用され、侵害された場合は簡単に削除および再作成できます。</block>
  <block id="78a7dfb4e5b60d84d3c54ec150be8a80" category="list-text">エンジニアリングサービスアカウントのシークレットを作成します。</block>
  <block id="b098f513abca683a5e1c36cbc8b244db" category="list-text">マーケティングサービスアカウントのシークレットを作成します。</block>
  <block id="d1732b3423240a19064951afa9a3266a" category="section-title">手順4：RoleBindingオブジェクトを作成して、ClusterRoleオブジェクトを新しい各サービスアカウントにバインドする</block>
  <block id="720de81bb5619bda23df5ae99eb9ebcb" category="paragraph">Trident保護をインストールすると、デフォルトのClusterRoleオブジェクトが作成されます。このClusterRoleをサービスアカウントにバインドするには、RoleBindingオブジェクトを作成して適用します。</block>
  <block id="067d8d99affb5418a3d899eba8658cc4" category="list-text">ClusterRoleをエンジニアリングサービスアカウントにバインドします。</block>
  <block id="b25ecd55b23c424058fdad947fe23b13" category="list-text">ClusterRoleをマーケティングサービスアカウントにバインドします。</block>
  <block id="574c7934280b498080dfc2272c570f69" category="section-title">手順5：権限のテスト</block>
  <block id="8d65423ec256f18737823ea6cedeae87" category="paragraph">権限が正しいことをテストします。</block>
  <block id="7b0c0cd292b286167249cc067be6d47d" category="list-text">エンジニアリングユーザーがエンジニアリングリソースにアクセスできることを確認します。</block>
  <block id="37aa0c3d444b765e5080a77f572f9040" category="list-text">エンジニアリングユーザーがマーケティングリソースにアクセスできないことを確認します。</block>
  <block id="1317a4b523ecc5ea298adec08e7ba407" category="summary">Trident保護用のバケットカスタムリソース（CR）は、AppVaultと呼ばれます。AppVaultsは、ストレージバケットの宣言型Kubernetesワークフロー表現です。</block>
  <block id="618ce5e44021c1c57c9655e5e3846eda" category="doc">AppVaultオブジェクトを使用してバケットを管理する</block>
  <block id="f39726752bf5b117fe78f8c383e31cdd" category="paragraph">Trident保護用のバケットカスタムリソース（CR）は、AppVaultと呼ばれます。AppVaultオブジェクトは、ストレージバケットの宣言型Kubernetesワークフロー表現です。AppVault CRには、バックアップ、Snapshot、リストア処理、SnapMirrorレプリケーションなど、保護処理でバケットを使用するために必要な設定が含まれています。AppVaultsを作成できるのは管理者のみです。</block>
  <block id="56ef2682280ac110060b881925a87b80" category="section-title">Google Cloud</block>
  <block id="1668ca1bd914c1d847f23b491319ac91" category="section-title">Microsoft Azure</block>
  <block id="cf04a02e37b774fc311a48f605c3c597" category="cell">Azure</block>
  <block id="50f66ecbc45488ee5826941bfbc50411" category="cell">GCP</block>
  <block id="485573baf8bfa9487485deb07780d89f" category="list-text">AppVaultオブジェクトの内容を表示します。</block>
  <block id="10dce9030ad8783afd2b4e831da49b7f" category="paragraph">*出力例*：</block>
  <block id="72444a17ff17655124f96b02602fe90f" category="list-text">必要に応じて、各リソースのAppVaultPathを表示するには、フラグを使用し<block ref="a9b1c03a99224cbb5c6773ccbe51d4fb" prefix=" " category="inline-code"></block>ます。</block>
  <block id="caef5be37857b92378c0054db6bc8696" category="paragraph">テーブルの最初の列に表示されるクラスタ名は、Trident protect helmのインストールでクラスタ名が指定されている場合にのみ使用できます。例：<block ref="b84d46473a6782105f40ea4fa2bc2964" prefix=" " category="inline-code"></block>。</block>
  <block id="eb5dcb495342ee5285be31fb17267ccc" category="section-title">AppVaultの削除</block>
  <block id="086d4622dbc50dc37c51fc80568681a2" category="paragraph">AppVaultオブジェクトはいつでも削除できます。</block>
  <block id="79f2a1cdb1287644a5d3176157cc43c4" category="admonition">AppVaultオブジェクトを削除する前に、AppVault CRのキーを削除しないで<block ref="276c63528ef3085f91fb1bc80a3febc0" prefix=" " category="inline-code"></block>ください。これを行うと、AppVaultバケット内のデータが残り、クラスタ内のリソースが孤立する可能性があります。</block>
  <block id="33850d305da8c5eb949c81e70e40a54d" category="open-title">Kubernetes CLIを使用したAppVaultの削除</block>
  <block id="6c4ae71603666b23d3e05193118a3147" category="summary">protectctlコマンドを使用すると、Trident protectカスタムリソースを作成して操作できます。</block>
  <block id="40e0842217cf3fc8b760cbd68cc14a76" category="doc">Trident保護CLIプラグインのインストール</block>
  <block id="bd0df34f0c12fe6faae3a05dde47f3a9" category="paragraph">Tridentユーティリティの拡張機能であるTrident protectコマンドラインプラグインを使用すると、Trident protectカスタムリソース（CRS）を作成して操作できます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="2b1100a071932a4cb5f33e22121f48fa" category="paragraph">コマンドラインユーティリティを使用する前に、クラスタへのアクセスに使用するマシンにインストールする必要があります。マシンがx64またはARM CPUを使用しているかどうかに応じて、次の手順を実行します。</block>
  <block id="852f04e90409df288c69ca8f37453383" category="open-title">Linux AMD64 CPU用プラグインのダウンロード</block>
  <block id="567471047b313eb49e48a17b4213a1d1" category="list-text">Trident保護CLIプラグインをダウンロードします。</block>
  <block id="b64b2077b896969e7810dbb0a2de2f1a" category="open-title">Linux ARM64 CPU用プラグインのダウンロード</block>
  <block id="d58e744bd40cf0f8373ee5b2c7d11387" category="open-title">Mac AMD64 CPU用プラグインのダウンロード</block>
  <block id="fd3e558ef6c1af851bddabf0eb1945d7" category="open-title">Mac ARM64 CPU用プラグインのダウンロード</block>
  <block id="b23c395acc963a69b0a5f06a20bb4887" category="section-title">Trident CLIプラグインのヘルプを表示</block>
  <block id="305f79cb740685921820521a57e525e5" category="paragraph">組み込みプラグインヘルプ機能を使用して、プラグインの機能に関する詳細なヘルプを表示できます。</block>
  <block id="09b4818c610e8f967a9f5257455a3a2a" category="list-text">ヘルプ機能を使用して、使用方法に関するガイダンスを表示します。</block>
  <block id="da9d072bec5b191d5b5120761a2094e5" category="section-title">コマンドの自動補完を有効にする</block>
  <block id="2994879f05c105b10427c87890d6ce6a" category="paragraph">Trident保護CLIプラグインをインストールしたあとで、特定のコマンドの自動補完を有効にすることができます。</block>
  <block id="df7d0aa2cf46fe870b9bba130ea4d964" category="open-title">Bashシェルの自動補完を有効にする</block>
  <block id="dc8d08efd37c5c2cd13f1da4b74b2004" category="list-text">完了スクリプトをダウンロードします。</block>
  <block id="bbd32e1d32af84e3002666b13f548cce" category="list-text">ホームディレクトリにスクリプトを格納する新しいディレクトリを作成します。</block>
  <block id="63f01fb9933705d6d795c4c690a6504c" category="list-text">ダウンロードしたスクリプトをディレクトリに移動し<block ref="37476bab24bad3126a5edbc11fab761e" prefix=" " category="inline-code"></block>ます。</block>
  <block id="4a76f80f250e570c9fd0b4b8b9e41486" category="list-text">ホームディレクトリ内のファイルに次の行を追加し<block ref="b8cb707d54dfbd8ab64f0b1dc81b72e1" prefix=" " category="inline-code"></block>ます。</block>
  <block id="51c2c8a3b8dd4aaaa1d5640e39860408" category="open-title">Zシェルの自動補完を有効にする</block>
  <block id="45dba4471beecdb4813778042a6ccfc2" category="list-text">ダウンロードしたスクリプトをディレクトリに移動し<block ref="d6ca46a9bae5529cb8e845fb419ba1e0" prefix=" " category="inline-code"></block>ます。</block>
  <block id="e2f12f24108169a5ab9aa9923f95a468" category="list-text">ホームディレクトリ内のファイルに次の行を追加し<block ref="f0f9c4057b7322a99704208706a05ba7" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8eea62084ca7e541d918e823422bd82e" category="paragraph-title">結果</block>
  <block id="7b6672be7a52979b1357ccc3d2a45f8a" category="summary">Trident protectを使用すると、管理者は、管理対象のクラスタとアプリケーションに関するログ、指標、トポロジ情報など、NetAppサポートに役立つ情報を含むバンドルを生成できます。インターネットに接続している場合は、カスタムリソース（CR）ファイルを使用してNetAppサポートサイト（NSS）にサポートバンドルをアップロードできます。</block>
  <block id="e984343e441956b7136d09919877b5ab" category="open-title">CRを使用したサポートバンドルの作成</block>
  <block id="dd942fa25b8e28c96c8d05e37b0f157e" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付けます（例：<block ref="699c503b46d4ca3ec78905dff3704cac" prefix=" " category="inline-code"></block>）。</block>
  <block id="18924d9e76d2dc9a88bddb772904461d" category="list-text">次の属性を設定します。</block>
  <block id="3dbbdf39618ebec771728a10e75c52f9" category="list-text">* metadata.name*:（_required_）このカスタムリソースの名前。環境に適した一意の適切な名前を選択します。</block>
  <block id="1d18312b2c5bd000f0693d25f38bddc9" category="list-text">* spec.triggerType *：（_required_）サポートバンドルをすぐに生成するかスケジュールするかを指定します。スケジュールされたバンドル生成は12AM UTCに行われます。有効な値：</block>
  <block id="2b7dabba0077abe3732e0418b048a56b" category="list-text">スケジュール済み</block>
  <block id="e1ba155a9f2e8c3be94020eef32a0301" category="list-text">手動</block>
  <block id="b541a1c308699e3b9e58d7a1aa6d3ad6" category="list-text">* spec.uploadEnabled *：（_Optional _）サポートバンドルの生成後にNetAppサポートサイトにアップロードするかどうかを制御します。指定しない場合、デフォルトはになります<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。有効な値：</block>
  <block id="e836d7c4f6371da7534f60641286999b" category="list-text">false（デフォルト）</block>
  <block id="fa3e867f8599e4541ced8b0ced5b2cf1" category="list-text">*spec.dataWindowStart*:(_Optional_)サポートバンドルに含まれるデータのウィンドウを開始する日時を指定する、RFC 3339形式の日付文字列。指定しない場合は、デフォルトで24時間前になります。指定できる最も早い期間の日付は7日前です。</block>
  <block id="139f344cca23a89c521bc7cc6c7100b8" category="paragraph">YAMLの例：</block>
  <block id="b69675775a82aaa1e3307ebbe6a45fc0" category="open-title">CLIを使用したサポートバンドルの作成</block>
  <block id="2294988013d14e5c254422b8164d83ad" category="list-text">サポートバンドルを作成し、角かっこ内の値を環境からの情報に置き換えます。は<block ref="769627afa23a2b90f925b1091e474dc5" prefix=" " category="inline-code"></block>、バンドルをすぐに作成するか、スケジュールによって作成時間が指定されているかを決定し、または<block ref="2b7dabba0077abe3732e0418b048a56b" prefix=" " category="inline-code"></block>を指定できます<block ref="e1ba155a9f2e8c3be94020eef32a0301" prefix=" " category="inline-code"></block>。デフォルト設定はです<block ref="e1ba155a9f2e8c3be94020eef32a0301" prefix=" " category="inline-code"></block>。</block>
  <block id="4351048276414d4fad273a0c7ad9f491" category="summary">環境が要件を満たしている場合は、次の手順に従ってTrident Protectをインストールできます。</block>
  <block id="9ee0b57319616120eef37546fa8e4c42" category="doc">Trident保護のインストールと設定</block>
  <block id="dc48a335c2095fb6a79ee14ee62b4806" category="paragraph">ご使用の環境がTrident保護の要件を満たしている場合は、次の手順に従ってクラスタにTrident保護をインストールします。NetAppからTrident protectを取得するか、独自のプライベートレジストリからインストールできます。プライベートレジストリからインストールすると、クラスタがインターネットにアクセスできない場合に役立ちます。</block>
  <block id="1d5f2a4008fa2c223d0ebc6aea423256" category="open-title">Trident protect from NetAppのインストール</block>
  <block id="f1db582519ebcfcc20d90e41c0c5e9cc" category="open-title">Trident protectをプライベートレジストリからインストールする</block>
  <block id="73dac5f92be0a06ecbcb1b8139b40593" category="paragraph">Kubernetesクラスタがインターネットにアクセスできない場合は、プライベートイメージレジストリからTrident protectをインストールできます。次の例では、括弧内の値を環境の情報に置き換えます。</block>
  <block id="dfb8cfd789dde682f000a96e0aabb1f1" category="list-text">次のイメージをローカルマシンにプルし、タグを更新して、プライベートレジストリにプッシュします。</block>
  <block id="2dcd4437dbff8aff3bc16ac15a71b74d" category="list-text">Trident protect systemネームスペースを作成します。</block>
  <block id="e0f6b701766eb28d805d7ba1e820f582" category="list-text">レジストリにログインします。</block>
  <block id="814565bb5d7e7359fff967986fd4195a" category="list-text">プライベートレジストリ認証に使用するプルシークレットを作成します。</block>
  <block id="86e8b34710172d33dcae839e1f4dd07e" category="summary">アプリケーションCRおよび関連するAppVault CRを作成することにより、管理対象のアプリケーションをTrident protectに認識させることができます。</block>
  <block id="80b940e5c68d020c06f9dc2f188d2169" category="doc">管理用アプリケーションの定義</block>
  <block id="1e10d655f5307ce7f79aeee68a9e72f3" category="paragraph">Trident protectで管理するアプリケーションを定義するには、アプリケーションCRおよび関連するAppVault CRを作成します。</block>
  <block id="58bd941b0268654136e17a3f6361fa75" category="section-title">AppVault CRの作成</block>
  <block id="f5ddee36f3439fbf6875de509925b804" category="inline-link-macro">AppVaultカスタムリソース。</block>
  <block id="2c2c79b6a4bc3f3b90fed9b96ab44d05" category="paragraph">アプリケーションでデータ保護処理を実行するときに使用するAppVault CRを作成する必要があります。また、Trident保護がインストールされているクラスタにAppVault CRを配置する必要があります。AppVault CRはお使いの環境に固有です。AppVault CRSの例については、<block ref="7e7838343a821a01b97d2b866c568a54" category="inline-link-macro-rx"></block></block>
  <block id="7eb786201a1068df31c2a8d7805c50bf" category="open-title">CRを使用したアプリケーションの追加</block>
  <block id="b4b10aa7102ef4de9ba1d5672445c895" category="list-text">デスティネーションアプリケーションのCRファイルを作成します。</block>
  <block id="0f14679ea6b53d676a4e19300d32937e" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付けます（例：<block ref="6e1c6964e1bb7e391ff353b09e122d80" prefix=" " category="inline-code"></block>）。</block>
  <block id="3b96edf2a12486fc5d9dfaf7e692cdfc" category="list-text">* metadata.name*:（_required_）アプリケーションカスタムリソースの名前。保護操作に必要な他のCRファイルがこの値を参照するため、選択した名前をメモします。</block>
  <block id="edb32c41feaaffb2d7ff10dac9d80312" category="open-title">CLIを使用したアプリケーションの追加</block>
  <block id="0ef657dffb550796349fff7260ee7b1f" category="summary">バックアップデータやSnapshotデータを別のクラスタまたはストレージクラスにリストアできます。</block>
  <block id="5d23a9c0c55a80ece74daa65c04f1d66" category="doc">アプリケーションの移行</block>
  <block id="85ff05ce333a3cc83e4b1bece0b1a885" category="admonition">アプリケーションを移行すると、そのアプリケーション用に構成されたすべての実行フックがアプリケーションとともに移行されます。リストア後の実行フックがある場合は、リストア処理の一環として自動的に実行されます。</block>
  <block id="dea2f94d534ebdd522c0137cd11f63bf" category="section-title">バックアップとリストアの処理</block>
  <block id="b21f1727ed04fb70c8e47cb11cdfb2bb" category="paragraph">次のシナリオでバックアップとリストアの処理を実行するには、特定のバックアップとリストアのタスクを自動化します。</block>
  <block id="a9764be0f1589c38e0a7df19889c7d63" category="section-title">同じクラスタにクローニング</block>
  <block id="5a9889aaf704b3737fe054ecabd850fc" category="paragraph">アプリケーションを同じクラスタにクローニングするには、Snapshotまたはバックアップを作成し、同じクラスタにデータをリストアします。</block>
  <block id="365d382b2d9ecca9b0d40171c69b38ff" category="list-text">次のいずれかを実行します。</block>
  <block id="af9c364e0933200b7b8c1e7e13947ccf" category="inline-link-macro">Snapshot を作成します</block>
  <block id="a73aa64574ccfae0cf05d9da96bd1301" category="list-text"><block ref="e078308a27dcac975eec5d2adaa1104c" category="inline-link-macro-rx"></block>です。</block>
  <block id="f99b69945a176ffbedac86a22cf6c413" category="inline-link-macro">バックアップを作成します</block>
  <block id="d0b37af201761eb2698b45f7c3f6d0d8" category="list-text"><block ref="7d9cd4227c8376552577f7b664ce81bb" category="inline-link-macro-rx"></block>です。</block>
  <block id="cf36005406fb9e7864efedea0a35a8a0" category="list-text">Snapshotとバックアップのどちらを作成したかに応じて、同じクラスタで次のいずれかを実行します。</block>
  <block id="2d173330624878d1a02dc399b82aa10b" category="inline-link-macro">スナップショットからデータをリストア</block>
  <block id="00b559822f9df33b751ce11389fb7c7a" category="list-text"><block ref="137b81ae6c60df62029e75ad69c6bacd" category="inline-link-macro-rx"></block>です。</block>
  <block id="1c7b9a68982aa2ad5f1d69eeb5bdf99e" category="inline-link-macro">バックアップからデータをリストア</block>
  <block id="e27031b9d0bffffcf2abd2136eed21f5" category="list-text"><block ref="71bc4096317f8eb78a9951851bc1165b" category="inline-link-macro-rx"></block>です。</block>
  <block id="403ecb1db6fa0f1bb20e787bb5f5dacd" category="section-title">別のクラスタにクローニング</block>
  <block id="181aa092ab965b34bcee90e25056f876" category="section-title">あるストレージクラスから別のストレージクラスへのアプリケーションの移行</block>
  <block id="f1ad7bca566917ee78958caa78fab3f5" category="paragraph">たとえば、次のようになります（リストアCRのシークレットを除く）。</block>
  <block id="daf2d2aebeca09dea5ece5c9c1513383" category="open-title">CRを使用したスナップショットのリストア</block>
  <block id="a35b06511e032bee46bbed064afa12dc" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付け<block ref="fac6dff7f801a4983f4a536dbcbd40d7" prefix=" " category="inline-code"></block>ます。</block>
  <block id="3585700696abe40ccc0973202ddace0a" category="list-text">作成したファイルで、次の属性を設定します。</block>
  <block id="ac6cdb13ccdd5d0ac3195b3301db572c" category="list-text">* spec.appArchivePath *：スナップショットの内容が格納されているAppVault内のパス。このパスを検索するには、次のコマンドを使用します。</block>
  <block id="d2e7f59eea5f95f37b023a243745727d" category="list-text">* spec.appVaultRef *：（_required_）スナップショットコンテンツが格納されているAppVaultの名前。</block>
  <block id="33dc1feba43183f93ade318576611f4a" category="list-text">* spec.namespaceMapping*:リストア処理のソースネームスペースとデスティネーションネームスペースのマッピング。および<block ref="2cfb071d6be7d4cf9e297100f62858fe" prefix=" " category="inline-code"></block>を、使用している環境の情報に置き換え<block ref="a6f7f0a873c27a67ee3194949076866b" prefix=" " category="inline-code"></block>ます。</block>
  <block id="12ed8140e585382bd7caee15c2ebb002" category="list-text">リストアするアプリケーションの特定のリソースのみを選択する必要がある場合は、特定のラベルが付いたリソースを含めるか除外するフィルタリングを追加します。</block>
  <block id="15212a55e2108abef019ef0de4a2d413" category="list-text">*resourceFilter.resourceSelectionCriteria*:(フィルタリングに必要)<block ref="0daf9ee05d33b85e4cfc7be473c64e9b" prefix=" " category="inline-code"></block> resourceMatchersで定義されたリソースを含めるか除外するかを指定します。次のresourceMatchersパラメータを追加して、追加または除外するリソースを定義します。</block>
  <block id="d9348d075dc7b3c91cff99d56dfc327b" category="inline-link">Kubernetes のドキュメント</block>
  <block id="bca1b1b2b1a229dc37dffa4f7012c02d" category="list-text">ファイルに正しい値を入力したら<block ref="fac6dff7f801a4983f4a536dbcbd40d7" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="ffe607ccb2c74bd77fcfcd7f0ff7691e" category="open-title">CLIを使用したスナップショットのリストア</block>
  <block id="a77b4ff586cfbf08c54732a1ced52e4f" category="list-text">スナップショットを別のネームスペースにリストアし、括弧内の値を環境の情報に置き換えます。</block>
  <block id="4f7a601ab79eb07bd8f0460d0e4ebccf" category="list-text"><block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>引数では、という形式のネームスペースとSnapshot名を使用し<block ref="7310980de32cd5ca687291f4b01b2e19" prefix=" " category="inline-code"></block>ます。</block>
  <block id="9a3152a9bfe0e487c80e9e42ee22e9f0" category="list-text"><block ref="65e11896cb6b19f7dcb2432e67c74725" prefix=" " category="inline-code"></block>引数は、コロンで区切られた名前空間を使用して、ソース名前空間を正しい宛先名前空間に形式でマッピングし<block ref="07c70c21dcae158a4b2f0d389a52981b" prefix=" " category="inline-code"></block>ます。</block>
  <block id="3909674c7e76459d193fe9c27f127cbf" category="summary">自動保護ポリシーまたはアドホックベースを使用して、スナップショットやバックアップを作成することで、すべてのアプリケーションを保護します。</block>
  <block id="ca73b42f56baa81e1c83e31ee5c53d42" category="doc">アプリケーションの保護</block>
  <block id="2530ad97c013f5d8d9c69004a4e7ee67" category="section-title">オンデマンドスナップショットを作成します</block>
  <block id="9bbdcd6083ca1f29424ab7d4e6e6d3f5" category="paragraph">オンデマンド Snapshot はいつでも作成できます。</block>
  <block id="ca5d8da21766c0b74083bb89d9b98f19" category="open-title">CRを使用したスナップショットの作成</block>
  <block id="d3455b82ff23d66412cff307dea26e95" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付け<block ref="30f7bac2bbe029d2d24e82f27526854c" prefix=" " category="inline-code"></block>ます。</block>
  <block id="14c5017706ef7ba38dbfced0b670f7e4" category="list-text">* spec.applicationRef *：スナップショットを作成するアプリケーションのKubernetes名。</block>
  <block id="92c5bebe15e018e9b60ed9fa2a5d7736" category="list-text">* spec.appVaultRef *：（_required_）スナップショットの内容（メタデータ）を格納するAppVaultの名前。</block>
  <block id="a9860c462819471295facd0a13fc4275" category="list-text">* spec.reclaimPolicy *：（_Optional _）スナップショットCRが削除されたときのスナップショットのAppArchiveの動作を定義します。つまり、に設定しても<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>Snapshotは削除されます。有効なオプション：</block>
  <block id="ff5ca6a0665c8d286d507fe36b867e1c" category="list-text"><block ref="afece4245269582cb2f1009d4fb52047" prefix="" category="inline-code"></block> （デフォルト）</block>
  <block id="c009f85498c5a7a2db78e1874e6dd4b1" category="list-text"><block ref="f2a6c498fb90ee345d997f888fce3b18" prefix="" category="inline-code"></block></block>
  <block id="e405f936b8c322965ea5098c0dbead5e" category="list-text">ファイルに正しい値を入力したら<block ref="30f7bac2bbe029d2d24e82f27526854c" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="70e7d17c41da1ec8002b8b8735b5d0b2" category="open-title">CLIを使用したスナップショットの作成</block>
  <block id="210011bd2b9ec4d5301f86e4a42cd17a" category="list-text">スナップショットを作成し、括弧内の値を環境からの情報に置き換えます。例：</block>
  <block id="6c4e6d5940a93fcf9cfb1c5d53280da3" category="section-title">オンデマンドバックアップの作成</block>
  <block id="f874973a64b67b3f5a5bb3aa28c5ed12" category="paragraph">アプリはいつでもバックアップできます。</block>
  <block id="e0babda055ca7a962e4010e772393eb7" category="open-title">CRを使用したバックアップの作成</block>
  <block id="adfd482111138eb2dfed01cdbaf4bead" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付け<block ref="a130741c8dff3b771a616715e2390607" prefix=" " category="inline-code"></block>ます。</block>
  <block id="888ea90f9844794ae90f13cbee8b341f" category="list-text">* spec.applicationRef *：（_required_）バックアップするアプリケーションのKubernetes名。</block>
  <block id="df4c9919e99b5b20e10644af2e6480e1" category="list-text">* spec.appVaultRef *：（_required_）バックアップ内容を格納するAppVaultの名前。</block>
  <block id="2c5daece4baabe00a1e913f6f4248b54" category="list-text">*spec.DataMover *:(_Optional_)バックアップ操作に使用するバックアップツールを示す文字列。有効な値（大文字と小文字が区別されます）：</block>
  <block id="2baffe938961bfb9edd7d7ddfd52e2e1" category="list-text"><block ref="5f1c05bdfa0fa9da52e78fce65f0891a" prefix="" category="inline-code"></block></block>
  <block id="02c4383beef4fc06361dc4ef7bd9762a" category="list-text"><block ref="d112b025f416527f157666baac7d0ff7" prefix="" category="inline-code"></block> （デフォルト）</block>
  <block id="5a848fb25ba88be36b674bded99badbd" category="list-text">* spec.reclaimPolicy *：（_Optional _）要求から解放されたバックアップの処理を定義します。有効な値：</block>
  <block id="e3cdcd12b4f53ac42049007406401d18" category="list-text">ファイルに正しい値を入力したら<block ref="a130741c8dff3b771a616715e2390607" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="4dd48cffc8290e0b33e5c4ee6ddc6dbb" category="open-title">CLIを使用したバックアップの作成</block>
  <block id="25ccf268b4f889fe28d3f3de94aace02" category="list-text">バックアップを作成します。角かっこ内の値は、使用している環境の情報に置き換えます。例：</block>
  <block id="451d39e79b7f4418d96b486e79bbce7d" category="section-title">データ保護スケジュールを作成</block>
  <block id="1f3ba9ee33f6eeade259b37d0a9d4295" category="open-title">CRを使用したスケジュールの作成</block>
  <block id="0e94d109e3c6dd8f63d25b03253b5d5b" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付け<block ref="8b0c6e1f32e0c117335dedae62b11dba" prefix=" " category="inline-code"></block>ます。</block>
  <block id="fd3508664419c1ac5449e5dc6073188b" category="list-text">* spec.applicationRef *：バックアップするアプリケーションのKubernetes名。</block>
  <block id="53ea99d8bfae17bb8fc2186524166892" category="list-text">* spec.snapshotRetention *：保持するSnapshotの数。ゼロは、スナップショットを作成しないことを示します。</block>
  <block id="da9137c7fbfdc9b7f02e3ca8def0431d" category="list-text">* spec.granularity*:スケジュールを実行する頻度。指定可能な値と必須の関連フィールドは次のとおりです。</block>
  <block id="1326c499c45cd471c6075891c6573130" category="list-text">ファイルに正しい値を入力したら<block ref="8b0c6e1f32e0c117335dedae62b11dba" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="6bb2ab2bbc2b0f3f5faec961628f6f4b" category="open-title">CLIを使用してスケジュールを作成する</block>
  <block id="95e2bfc6f531a05575927e45b0a34558" category="list-text">保護スケジュールを作成し、角かっこ内の値を環境からの情報に置き換えます。例：</block>
  <block id="efb44cfe1d5b8d9954ea045385675c66" category="section-title">Snapshot を削除します</block>
  <block id="a37bf6328466dc531288498c6041de5f" category="paragraph">不要になったスケジュール済みまたはオンデマンドの Snapshot を削除します。</block>
  <block id="3eb928cdf7a13317d47b6aff6e1777bc" category="list-text">Snapshotに関連付けられているSnapshot CRを削除します。</block>
  <block id="cb2cecbd9776fc0c17c7929541fe9404" category="section-title">バックアップを削除します</block>
  <block id="2072fc95a1bd08ae58a002d5b61a84d0" category="paragraph">不要になったスケジュール済みまたはオンデマンドのバックアップを削除します。</block>
  <block id="7b30bbf41be45c1c70a68e6dd971d83a" category="list-text">バックアップに関連付けられているバックアップCRを削除します。</block>
  <block id="b4907a30deb60cd2f8ea2856235ce4d7" category="section-title">バックアップ処理のステータスの確認</block>
  <block id="b030755f5014f11eb86aee527d4ef872" category="paragraph">コマンドラインを使用して、実行中、完了、または失敗したバックアップ処理のステータスを確認できます。</block>
  <block id="83fe182363ccdea33046e538aec4ac23" category="list-text">次のコマンドを使用してバックアップ処理のステータスを取得し、角かっこ内の値を環境の情報に置き換えます。</block>
  <block id="bdd3c7731ba2eae7059bfebd0d56c7e3" category="section-title">azure-anf-files NetApp（ANF）処理のバックアップとリストアを実現</block>
  <block id="e9730662640f8238dbf4ed30d6292ecb" category="paragraph">Trident protectをインストールしている場合はNetApp、Trident 24.06より前に作成されたazure-lun-filesストレージクラスを使用するストレージバックエンドに対して、スペース効率に優れたバックアップおよびリストア機能を有効にすることができます。この機能はNFSv4ボリュームで機能し、容量プールから追加のスペースを消費することはありません。</block>
  <block id="a3ba5a3fd33b03f148e52fd833cda7c3" category="paragraph">次の点を確認します。</block>
  <block id="a6cdb2021351db573212b98138416717" category="list-text">Trident protectをインストールしておきます。</block>
  <block id="1b56af5799cb507ae72605b020a620df" category="list-text">Trident保護でアプリケーションを定義しました。この手順を完了するまで、このアプリケーションの保護機能は制限されます。</block>
  <block id="a9910fb38baec2aa849c3ea6191b1cf9" category="list-text">ストレージバックエンドのデフォルトのストレージクラスとしてを選択しまし<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> た。</block>
  <block id="579cc8ac85c74501fbfa1bac4d013c1f" category="example-title">構成手順用に展開</block>
  <block id="b1927eae954479de09c736cae4ed08dd" category="list-text">Trident 24.10にアップグレードする前にANFボリュームを作成した場合は、Tridentで次の手順を実行します。</block>
  <block id="119a6ab21356c173b517e4baf8ab21d3" category="list-text">アプリケーションに関連付けられているNetAppファイルベースの各PVのSnapshotディレクトリを有効にします。</block>
  <block id="9cb0a94d3b3051cae7cda63d4c5aa1d6" category="list-text">関連付けられている各PVに対してSnapshotディレクトリが有効になっていることを確認します。</block>
  <block id="54472d1da4b0c6eadf8684e846b25dcc" category="paragraph">応答：</block>
  <block id="77c9498d5c74a08af1c5918bd5fd8ee1" category="paragraph">Snapshotディレクトリが有効になっていない場合、Trident保護は通常のバックアップ機能を選択します。この機能は、バックアッププロセス中に一時的に容量プールのスペースを消費します。この場合は、バックアップするボリュームと同じサイズの一時ボリュームを作成するための十分なスペースが容量プールに確保されていることを確認してください。</block>
  <block id="2efd4c8775ce47d6aa29183091d2a4e2" category="paragraph">これで、Trident保護を使用したアプリケーションのバックアップとリストアが可能になります。各PVCは、他のアプリケーションでバックアップおよびリストアに使用することもできます。</block>
  <block id="697f51e8965440d487236d46d469510d" category="summary">まず、運用環境、アプリケーションクラスタ、アプリケーション、ライセンスの準備状況を確認します。Trident保護を導入して運用するには、環境がこれらの要件を満たしていることを確認してください。</block>
  <block id="c8f91050b5ec3e677d9c7e16e424f9bc" category="paragraph">Trident Protectは、次のようなフルマネージドおよび自己管理型の幅広いKubernetes製品と互換性があります。</block>
  <block id="480c9b5f979d1ce95ea2a58b09826d1b" category="list-text">Amazon Elastic Kubernetes Service（EKS）</block>
  <block id="974030a30a48754684d05541fd5e96c9" category="list-text">Google Kubernetes Engine （ GKE ）</block>
  <block id="f3bd1985b243e9691bbbd63c6702344b" category="list-text">Microsoft Azure Kubernetes Service （ AKS ）</block>
  <block id="b175d08ac03101cd40f077848d436e1f" category="list-text">Red Hat OpenShift のサービスです</block>
  <block id="6577b94f9943e513915919cfd0dc5909" category="list-text">SUSE Rancher</block>
  <block id="c395793804bd9dfa82ff727781faf3c5" category="list-text">VMware Tanzuポートフォリオ</block>
  <block id="1de3a8db0dcc39abe68ae2b506a8f0ac" category="list-text">アップストリームKubernetes</block>
  <block id="f6fbfc99b1ed4fcb2dee65355a088f0b" category="section-title">Tridentはストレージバックエンドの互換性を保護</block>
  <block id="dc754c1df3be627f8c83600f4c69aade" category="paragraph">Trident保護は、次のストレージバックエンドをサポートします。</block>
  <block id="ca3930511e1c5997e851e891e33190ab" category="list-text">ONTAPストレエシアレイ</block>
  <block id="e254891423d193d0e614eaf948880de5" category="paragraph">ストレージバックエンドが次の要件を満たしていることを確認します。</block>
  <block id="1efa9b79a24750278cc3058eaf2ead00" category="list-text">NetApp ONTAPストレージバックエンドがあることを確認します。</block>
  <block id="c9a524733ac9eb25fbf1980538b5437d" category="list-text">バックアップを格納するオブジェクトストレージバケットを設定しておきます。</block>
  <block id="953216b11f9b494b0b28bcec605cbea1" category="list-text">アプリケーションまたはアプリケーションデータの管理処理に使用するアプリケーションネームスペースを作成します。Trident保護では、これらのネームスペースは作成されません。カスタムリソースに存在しないネームスペースを指定すると、処理は失敗します。</block>
  <block id="f4ce5a5f08fdc6de51b81cc305a21fd0" category="section-title">NASエコノミーボリュームの要件</block>
  <block id="85641afe25671a9190f50185f6e499d5" category="paragraph">Trident Protectは、NASエコノミーボリュームへのバックアップおよびリストア処理をサポートします。Snapshot、クローン、NASエコノミーボリュームへのSnapMirrorレプリケーションは、現在サポートされていません。Trident保護で使用するNASエコノミーボリュームごとに、スナップショットディレクトリを有効にする必要があります。</block>
  <block id="43da051477acee60af3ad54451d3d090" category="paragraph">一部のアプリケーションは、Snapshotディレクトリを使用するボリュームと互換性がありません。これらのアプリケーションでは、ONTAPストレージシステムで次のコマンドを実行して、snapshotディレクトリを非表示にする必要があります。</block>
  <block id="beb2d6f4cedfc5b87a39d1766369fade" category="paragraph">snapshotディレクトリを有効にするには、NASエコノミーボリュームごとに次のコマンドを実行し、を変更するボリュームのUUIDに置き換え<block ref="a86374477aa0b3d451812bb6ced0458d" prefix=" " category="inline-code"></block>ます。</block>
  <block id="70117c3862b4c793cc80799862e6fde9" category="admonition">新しいボリュームに対してSnapshotディレクトリをデフォルトで有効にするには、Tridentバックエンド構成オプションをに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>設定し<block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix=" " category="inline-code"></block>ます。既存のボリュームには影響しません。</block>
  <block id="3ab436334531996382ccf17d7d3a4d69" category="section-title">SnapMirrorレプリケーションの要件</block>
  <block id="00ae925249b1dcd734cdb679b48bf8f7" category="list-text">NetApp ONTAP Select の略</block>
  <block id="0f0b99ea2f70cd363c2c6a279f74e760" category="list-text">NetApp Cloud Volumes ONTAP の略</block>
  <block id="9f91d52d37c43ec162560596ac851ec9" category="section-title">SnapMirrorレプリケーション用のONTAPクラスタの要件</block>
  <block id="6ed8f95cb1dcd3baff756120151793a9" category="paragraph">SnapMirrorレプリケーションを使用する場合は、ONTAPクラスタが次の要件を満たしていることを確認します。</block>
  <block id="ba84728ffba482ceb12371a53be2f636" category="inline-link">ONTAP のSnapMirrorライセンスの概要</block>
  <block id="b677eb65f7f869d18b845725a133a8d5" category="list-text">*ライセンス*：Data Protection Bundleを使用するONTAP SnapMirror非同期ライセンスが、ソースとデスティネーションの両方のONTAPクラスタで有効になっている必要があります。詳細については、を参照してください<block ref="a7b9425cefc4a3715b38951f4b2b6b35" category="inline-link-rx"></block> 。</block>
  <block id="ed097f5d093bf5311313c62bfb2f2d5a" category="section-title">SnapMirrorレプリケーションのピアリングに関する考慮事項</block>
  <block id="a56ca0c4752a7197e296cb9141e9be9f" category="paragraph">ストレージバックエンドピアリングを使用する場合は、環境が次の要件を満たしていることを確認してください。</block>
  <block id="9fecd08b776fdfca7b33426363edf913" category="inline-link">クラスタと SVM のピアリングの概要</block>
  <block id="ddae31913091b421eaff815ed1e19b4f" category="list-text">*クラスタとSVM *：ONTAPストレージバックエンドにピア関係が設定されている必要があります。詳細については、を参照してください<block ref="36ecaf21e9ca81a83e736deb4ff5c657" category="inline-link-rx"></block> 。</block>
  <block id="94ac6b3955eab183cb88ab17c91000eb" category="admonition">2つのONTAPクラスタ間のレプリケーション関係で使用されるSVM名が一意であることを確認してください。</block>
  <block id="e05c29680eacd6a4c163eefe138ff9fd" category="list-text">*管理バックエンド*：レプリケーション関係を作成するには、Trident保護でONTAPストレージバックエンドを追加および管理する必要があります。</block>
  <block id="57fe82c052fea1c269ca2b14e92e80d3" category="section-title">SnapMirrorレプリケーション用のTrident / ONTAPの設定</block>
  <block id="59292a70a610fc937685ef1c3a3b5cb1" category="paragraph">Trident保護を使用するには、ソースとデスティネーションの両方のクラスタのレプリケーションをサポートするストレージバックエンドを少なくとも1つ設定する必要があります。ソースクラスタとデスティネーションクラスタが同じである場合は、耐障害性を最大限に高めるために、デスティネーションアプリケーションでソースアプリケーションとは別のストレージバックエンドを使用する必要があります。</block>
  <block id="4b92c534580865d96f1efb9f86289249" category="summary">Trident保護を使用すると、Snapshotまたはバックアップからアプリケーションをリストアできます。同じクラスタにアプリケーションをリストアする場合、既存の Snapshot からのリストアは高速です。</block>
  <block id="ff29014f3961a30f52557df7142d1a65" category="doc">リストアアプリケーション</block>
  <block id="f346d32ba5d9c332bf8577bf1bacda07" category="admonition">アプリケーションを復元すると、そのアプリケーションに設定されているすべての実行フックがアプリケーションとともに復元されます。リストア後の実行フックがある場合は、リストア処理の一環として自動的に実行されます。</block>
  <block id="a082effb2d23d4eb077129001a77582f" category="section-title">バックアップから別のネームスペースへのリストア</block>
  <block id="5a3a68cc2fb27d13057472b4869353f1" category="open-title">CRの使用</block>
  <block id="0334c5d881452d9144d4edf93d44ff85" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付け<block ref="aa3356b96c40153ef83fe9854ede7a70" prefix=" " category="inline-code"></block>ます。</block>
  <block id="8ebefb3e84a05b2e3bf54824870d776d" category="list-text">*spec.appArchivePath*:バックアップコンテンツが格納されているAppVault内のパス。このパスを検索するには、次のコマンドを使用します。</block>
  <block id="3f1db1c30ba33e5d04499f000ed77f97" category="list-text">* spec.appVaultRef *：（_required_）バックアップコンテンツが格納されているAppVaultの名前。</block>
  <block id="a5085953f7b15a312b4e12827abc66e5" category="list-text">（_オプション_）リストアするアプリケーションの特定のリソースのみを選択する必要がある場合は、特定のラベルが付いたリソースを含めるか除外するフィルタリングを追加します。</block>
  <block id="be16b6e14200639734fb9694e3c0f655" category="list-text">*resourceMatchers[].group *:(_Optional_)フィルタリングするリソースのグループ。</block>
  <block id="2162d9f0c97d87c37f838ea27ecb393a" category="list-text">*resourceMatchers[].kind *:(_optional_)フィルタリングするリソースの種類。</block>
  <block id="862dca1a77422225d13abda4b7bf539b" category="list-text">*resourceMatchers[].version*:(_Optional_)フィルタリングするリソースのバージョン。</block>
  <block id="f5d1dcaf86934b4541162f010db1d3e1" category="list-text">* resourceMatchers[].names *：（_optional_）フィルタリングするリソースのKubernetes metadata.nameフィールドの名前。</block>
  <block id="19c69b04e9f9adb29979cc0ff90625b2" category="list-text">*resourceMatchers[].namespaces *:(_optional_)フィルタリングするリソースのKubernetes metadata.nameフィールドの名前空間。</block>
  <block id="cb4354b08a6a88b3c12671390a85c520" category="list-text">*resourceMatchers[].labelSelectors *:(_Optional_)で定義されているリソースのKubernetes metadata.nameフィールドのラベルセレクタ文字列<block ref="d4ce3da8407a7d8e148bb1287288e778" category="inline-link-rx"></block>。例：<block ref="6ea45baf659f1f35e51c8dc9005eac03" prefix=" " category="inline-code"></block>。</block>
  <block id="18ad656f28db1ef6b2d76d21959ca243" category="list-text">ファイルに正しい値を入力したら<block ref="aa3356b96c40153ef83fe9854ede7a70" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="8a9e0f8224695e94f0988f444488877b" category="open-title">CLI を使用します</block>
  <block id="6a07207e8441bfa8c4c36dc925112780" category="list-text">バックアップを別のネームスペースにリストアします。角かっこ内の値は、使用している環境の情報に置き換えてください。<block ref="65e11896cb6b19f7dcb2432e67c74725" prefix=" " category="inline-code"></block>引数は、コロンで区切られた名前空間を使用して、ソース名前空間を正しい宛先名前空間に形式でマッピングし<block ref="07c70c21dcae158a4b2f0d389a52981b" prefix=" " category="inline-code"></block>ます。例：</block>
  <block id="0bfcabe961e72fea535a073143d53fad" category="section-title">バックアップから元のネームスペースへのリストア</block>
  <block id="7260bc412b6c22c2589f01098c1f4430" category="paragraph">バックアップはいつでも元のネームスペースにリストアできます。</block>
  <block id="34653be4af07bad31b9a3775f18b1b5f" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付け<block ref="59a09233aaa2a2c9e25fc46650bd6dee" prefix=" " category="inline-code"></block>ます。</block>
  <block id="349d4c53fe9d2e740d60f7ce8094c294" category="list-text">ファイルに正しい値を入力したら<block ref="59a09233aaa2a2c9e25fc46650bd6dee" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="11d13ce9542ccbfd1e47138c96b125a1" category="list-text">バックアップを元のネームスペースにリストアします。角かっこ内の値は、使用している環境の情報に置き換えてください。この<block ref="402051f4be0cc3aad33bcf3ac3d6532b" prefix=" " category="inline-code"></block>引数では、という形式のネームスペースとバックアップ名を使用し<block ref="7310980de32cd5ca687291f4b01b2e19" prefix=" " category="inline-code"></block>ます。例：</block>
  <block id="db4c6bfd26488f4d6ab2ec6129b067d8" category="section-title">Snapshotから別のネームスペースへのリストア</block>
  <block id="941a76112ae80457a7a22ae552218be9" category="section-title">Snapshotから元のネームスペースへのリストア</block>
  <block id="a392e5395f0751460dc460cd6ec5e89d" category="paragraph">Snapshotはいつでも元のネームスペースにリストアできます。</block>
  <block id="4d18dba9a79fbe92e2bb99f0a9300df3" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付け<block ref="620b0dae36dbe6aeaae5d993f961c634" prefix=" " category="inline-code"></block>ます。</block>
  <block id="54625166c25afd8a6a484aaf2f346fbb" category="list-text">ファイルに正しい値を入力したら<block ref="620b0dae36dbe6aeaae5d993f961c634" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="6bd960f94c189d42fef14b770c0ac909" category="list-text">Snapshotを元のネームスペースにリストアします。括弧内の値は、環境の情報に置き換えてください。例：</block>
  <block id="ba2718de6be08337811d049982d9f03f" category="section-title">リストア処理のステータスの確認</block>
  <block id="97dedb929a195e839af5f7d7f8ef0ec5" category="paragraph">コマンドラインを使用して、実行中、完了、または失敗したリストア処理のステータスを確認できます。</block>
  <block id="c076e91339c1f092aaad1d36a9c18a7a" category="list-text">次のコマンドを使用してリストア処理のステータスを取得し、角かっこ内の値を環境の情報に置き換えます。</block>
  <block id="3b236bd888d7d3460e381b13adb8f6b8" category="summary">製品の試用版からフルバージョンにアップグレードする場合は、Trident保護コンポーネントの削除が必要になることがあります。</block>
  <block id="1bc8acdabd6fc240195da5f19b986dd6" category="doc">Tridentプロテクトのアンインストール</block>
  <block id="fb509ce83a58c3beeca23f5d55c8d75c" category="paragraph">Trident保護を削除するには、次の手順を実行します。</block>
  <block id="f6116aed83b3970c50d28447d27f4f97" category="list-text">Trident保護CRファイルを削除します。</block>
  <block id="aec02c2a1b714f40a949aa18d1f2d588" category="list-text">Trident保護を削除します。</block>
  <block id="20c06650be80c297c0e4dc5ae977d44f" category="list-text">Trident保護ネームスペースを削除します。</block>
  <block id="a8c1fc9f09b8338dd9f8badd5c3d30c0" category="summary">Trident protectを使用して、アプリのカスタム実行フックを作成できます。実行フックを作成するには、 Owner 、 Admin 、または Member のいずれかの権限が必要です。</block>
  <block id="ccd62d676165e34c2e9c6d088c06e70f" category="paragraph">実行フックは、管理対象アプリケーションのデータ保護操作と組み合わせて実行するように構成できるカスタムアクションです。たとえば、データベースアプリケーションがある場合、実行フックを使用して、スナップショットの前にすべてのデータベーストランザクションを一時停止し、スナップショットの完了後にトランザクションを再開できます。これにより、アプリケーションと整合性のある Snapshot を作成できます。</block>
  <block id="83fbf1604bedff410ea11872b40ab9f0" category="section-title">実行フックのタイプ</block>
  <block id="d702711249a4d54c15ce81c80152b8e7" category="paragraph">Trident PROTECTは、実行可能なタイミングに基づいて、次のタイプの実行フックをサポートします。</block>
  <block id="9c6a9cc04a4d5840a5d237b232190a35" category="list-text">Snapshot前</block>
  <block id="65db6b15c7f05c97a1647c11699053e3" category="list-text">Snapshot後</block>
  <block id="0a2055495a94f091655a2e4d421cffe2" category="list-text">バックアップ前</block>
  <block id="cf6e97e89c4b36c29252fcb7b0728d2f" category="list-text">バックアップ後</block>
  <block id="349b93d2884e6ca3d41d0d9dab41dcd8" category="list-text">リストア後のPOSTコマンドです</block>
  <block id="0952ad82f36d650828c9197bb777ee05" category="list-text">フェイルオーバー後</block>
  <block id="a9f57378169166a88acf61a71442e5fb" category="section-title">実行順序</block>
  <block id="e8132483e0cae3565c87c193b3fd8f57" category="paragraph">データ保護操作を実行すると、実行フックイベントが次の順序で実行されます。</block>
  <block id="4a6ccf1757fd10978b3fb28d81187dcc" category="list-text">適用可能なカスタムプリオペレーション実行フックは、適切なコンテナで実行されます。カスタムのプリオペレーションフックは必要なだけ作成して実行できますが、操作前のこれらのフックの実行順序は保証も構成もされていません。</block>
  <block id="cfbed2286711be0cf6dbc12aba602709" category="list-text">データ保護処理が実行されます。</block>
  <block id="9465fae733e0b5fdcd6e532ef8a78b08" category="list-text">適用可能なカスタムポストオペレーション実行フックは、適切なコンテナで実行されます。必要な数のカスタムポストオペレーションフックを作成して実行できますが、操作後のこれらのフックの実行順序は保証されず、設定もできません。</block>
  <block id="a4ce4f522b635b3063f4af5d138933cc" category="paragraph">同じ種類の実行フック（スナップショット前など）を複数作成する場合、これらのフックの実行順序は保証されません。ただし、異なるタイプのフックの実行順序は保証されています。たとえば'以下は'すべての異なるタイプのフックを持つ構成の実行順序です</block>
  <block id="25fcbdcc7c9fb7d2e1db9e64ef06804c" category="list-text">スナップショット前フックが実行されます</block>
  <block id="f098e888afa8ccb3f1ad3337c3b6eea1" category="list-text">スナップショット後フックが実行されます</block>
  <block id="59b50be8e9e2ed1b0e1bccae54c76036" category="list-text">予備フックが実行されます</block>
  <block id="1f374d287bf615eef6eb9afd92b862f2" category="list-text">バックアップ後のフックが実行されます</block>
  <block id="e807d528474129e76f18c5ce17a2c3d6" category="admonition">上記の順序の例は、既存のSnapshotを使用しないバックアップを実行する場合にのみ該当します。</block>
  <block id="b74efcc6eafe1d8dec6ade34cfa13365" category="admonition">本番環境で実行スクリプトを有効にする前に、必ず実行フックスクリプトをテストしてください。'kubectl exec' コマンドを使用すると、スクリプトを簡単にテストできます。本番環境で実行フックを有効にしたら、作成されたSnapshotとバックアップをテストして整合性があることを確認します。これを行うには、アプリケーションを一時的なネームスペースにクローニングし、スナップショットまたはバックアップをリストアしてから、アプリケーションをテストします。</block>
  <block id="f99748fb4b1cf592516b60937743c52d" category="section-title">カスタム実行フックに関する重要な注意事項</block>
  <block id="6b8e88c5f4231fbc6994f3a29dd893af" category="paragraph">アプリケーションの実行フックを計画するときは、次の点を考慮してください。</block>
  <block id="c9333604c0c05d7727ea70ec5f1b806b" category="list-text">実行フックは、スクリプトを使用してアクションを実行する必要があります。多くの実行フックは、同じスクリプトを参照できます。</block>
  <block id="cc0a52984aa9087cc5fca898c4dc1caa" category="list-text">Trident保護では、実行フックが使用するスクリプトを実行可能なシェルスクリプトの形式で記述する必要があります。</block>
  <block id="6a7d60379bb9015c0bfe02adcc54d0b5" category="list-text">スクリプトのサイズは96KBに制限されています。</block>
  <block id="d6eb1b65eb578d8eb99d367edc11bb03" category="list-text">Trident保護では、実行フックの設定と一致基準を使用して、スナップショット、バックアップ、またはリストア処理に適用できるフックを決定します。</block>
  <block id="6b988caf78b1aa60f0402c611a1c8e2a" category="admonition">実行フックは、実行中のアプリケーションの機能を低下させたり、完全に無効にしたりすることが多いため、カスタム実行フックの実行時間を最小限に抑えるようにしてください。実行フックが関連付けられている状態でバックアップまたはスナップショット操作を開始した後'キャンセルした場合でも'バックアップまたはスナップショット操作がすでに開始されていればフックは実行できますつまり、バックアップ後の実行フックで使用されるロジックは、バックアップが完了したとは見なされません。</block>
  <block id="99dc882fc0f61d1db87631ed9f156913" category="section-title">実行フックフィルタ</block>
  <block id="44db75fbdb91be494665aebf40107fcf" category="paragraph">アプリケーションの実行フックを追加または編集するときに、実行フックにフィルタを追加して、フックが一致するコンテナを管理できます。フィルタは、すべてのコンテナで同じコンテナイメージを使用し、各イメージを別の目的（Elasticsearchなど）に使用するアプリケーションに便利です。フィルタを使用すると、一部の同一コンテナで実行フックが実行されるシナリオを作成できます。1つの実行フックに対して複数のフィルタを作成すると、それらは論理AND演算子と結合されます。実行フックごとに最大10個のアクティブフィルタを使用できます。</block>
  <block id="7caae75448dbc59fcadd621099e170b3" category="inline-link">正規表現2（RE2）構文のサポート</block>
  <block id="c8390f7fcf8913e63d64e8069f87aa58" category="paragraph">実行フックに追加する各フィルタは、正規表現を使用してクラスタ内のコンテナを照合します。フックがコンテナと一致すると、そのコンテナに関連付けられたスクリプトがフックによって実行されます。フィルタの正規表現では、正規表現2（RE2）構文を使用します。この構文では、一致リストからコンテナを除外するフィルタの作成はサポートされていません。実行フックフィルタの正規表現に対してTrident保護がサポートする構文については、を参照してください<block ref="d4d0dd655d04b2dc5b031206e1febd50" category="inline-link-rx"></block>。</block>
  <block id="4c004df391027b81952b788a3802e37c" category="admonition">リストアまたはクローン処理のあとに実行される実行フックにネームスペースフィルタを追加し、リストアまたはクローンのソースとデスティネーションが異なるネームスペースにある場合、ネームスペースフィルタはデスティネーションネームスペースにのみ適用されます。</block>
  <block id="f1ec6389b6d19d3be02f29f4a7d29051" category="section-title">実行フックの例</block>
  <block id="0370124d48bfc5af2def19c48f433283" category="inline-link">NetApp Verda GitHubプロジェクト</block>
  <block id="a59e4fa5cc01a3a4bdebbff4cec60b47" category="paragraph">にアクセスして<block ref="84d9961ef5a89731849bc2055780d0b6" category="inline-link-rx"></block> 、Apache CassandraやElasticsearchなどの一般的なアプリケーションの実際の実行フックをダウンロードします。また、独自のカスタム実行フックを構築するための例やアイデアを得ることもできます。</block>
  <block id="b103709bb8bab06f6db02c661d88466a" category="section-title">実行フックの作成</block>
  <block id="e39c63d5ded2742e4215d5e339fa729e" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付け<block ref="ce6abb389eaae6953714e27f1dfde579" prefix=" " category="inline-code"></block>ます。</block>
  <block id="a1b64283bac1ca460b6b777a46121e7f" category="list-text">Trident保護環境とクラスタ構成に合わせて、次の属性を設定します。</block>
  <block id="500ef917ae8cc36e9c85a2c0bc7d9337" category="list-text">*spec.applicationRef *:(_required_)実行フックを実行するアプリケーションのKubernetes名。</block>
  <block id="5422fe7ebd8e2354557341f5b0c60905" category="list-text">*spec.stage *:(_required_)実行フックが実行されるアクションのステージを示す文字列。有効な値：</block>
  <block id="fb55a965b77791b31ffd2bb548f71080" category="list-text">前</block>
  <block id="03d947a2158373c3b9d74325850cb8b9" category="list-text">投稿</block>
  <block id="e60e3d87a1e5f522bbc8419b61b46a94" category="list-text">*spec.action *:(_required_)指定された実行フックフィルタが一致すると仮定して、実行フックが実行するアクションを示す文字列。有効な値：</block>
  <block id="3500ba09d0538297440ca620c9dd46bf" category="list-text">バックアップ</block>
  <block id="2bd339d85ee3b33e513359ce781b60cc" category="list-text">リストア</block>
  <block id="7388404ef116c3ff812bfd290b094d9e" category="list-text">フェイルオーバー</block>
  <block id="216715348d2815376ef6d68d1ae8d3a1" category="list-text">*spec.enabled *:(_Optional_)この実行フックが有効か無効かを示します。指定しない場合、デフォルト値はtrueです。</block>
  <block id="aa6776e9151e1848128d771057fdb5d1" category="list-text">*spec.hookSource*:(_required_) base64でエンコードされたフックスクリプトを含む文字列。</block>
  <block id="c2f4f9c36d367244147c02191649b33e" category="list-text">*spec.timeout *:(_Optional _)実行フックの実行を許可する時間を分単位で定義する数値。最小値は1分で、指定しない場合のデフォルト値は25分です。</block>
  <block id="327ca4bc755c7de7ac0d335364730679" category="list-text">* spec.arguments *:(_Optional _)実行フックに指定できる引数のYAMLリスト。</block>
  <block id="bf30a4b48b4b2636f15eacfc7159af33" category="list-text">*spec.matchingCriteria *:(_Optional_)実行フックフィルタを構成する各ペアの基準キー値ペアのオプションリスト。実行フックごとに最大10個のフィルタを追加できます。</block>
  <block id="9092d99fcac84905883e4e76cd55bfab" category="list-text">*spec.matchingCriteria.type *:(_Optional_)実行フックフィルタタイプを識別する文字列。有効な値：</block>
  <block id="820b7ec56ed75f6138f5ddc10aec4747" category="list-text">コンテナイメージ</block>
  <block id="3d52068b047d2a094a1af32cb2e338d6" category="list-text">コンテナ名</block>
  <block id="8fd1f588fe68392265ea3a8149ce05a3" category="list-text">ポッド名</block>
  <block id="d76694b319ab8227266d15f77f5f7aec" category="list-text">PodLabel</block>
  <block id="d84562295e02e89c17de04ba750d4c35" category="list-text">ネームスペース名</block>
  <block id="011b50d44a6bb217bbe310071e727641" category="list-text">*spec.matchingCriteria.value *:(_Optional_)実行フックフィルタ値を識別する文字列または正規表現。</block>
  <block id="5b34802949c91e91f2c85f8ee1c129bd" category="list-text">CRファイルに正しい値を入力したら、CRを適用します。</block>
  <block id="de72143da28c8cafc0b906859f6e6d05" category="list-text">実行フックを作成し、括弧内の値を環境からの情報に置き換えます。例：</block>
  <block id="d37692493f4055c8b34b9de2897bb1a6" category="summary">Trident保護を使用すると、NetApp SnapMirrorテクノロジの非同期レプリケーション機能を使用して、ストレージバックエンド間、同じクラスタ上、または異なるクラスタ間でデータやアプリケーションの変更をレプリケートできます。</block>
  <block id="73ff2f0e4c750901167edccad459407d" category="doc">NetApp SnapMirrorでアプリケーションをレプリケート</block>
  <block id="40322a2a338856f04751d8d3bdb62496" category="section-title">レプリケーション関係を設定</block>
  <block id="f7c69ddccabddb0b74276d3c2a3086e0" category="paragraph">レプリケーション関係の設定には、次の作業が含まれます。</block>
  <block id="a7b38e98cd0b780e4d7f39ca030851fe" category="list-text">Trident protectでアプリケーションスナップショットを作成する頻度を選択します（アプリケーションのKubernetesリソースと、アプリケーションの各ボリュームのボリュームスナップショットが含まれます）。</block>
  <block id="cc37bc9830a1edb8e50e296af8ade03b" category="list-text">レプリケーションスケジュールの選択（Kubernetesリソースと永続ボリュームデータを含む）</block>
  <block id="55960a396448d8f19fb182dfd2b04d90" category="list-text">Snapshotの作成時間の設定</block>
  <block id="7fe804bb721f10861ae38239b332f774" category="inline-link-macro">AppVaultカスタムリソース</block>
  <block id="bb557baccf285d1ab6b4cdc32daf5848" category="open-title">CRを使用したAppVaultの作成</block>
  <block id="32429298e62d70d6afc71defdbdd3c42" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付けます（例：<block ref="0992b18d0f3771479838d4ddbaa2b097" prefix=" " category="inline-code"></block>）。</block>
  <block id="4b60a832776a25dfdf74d5dac3d3111f" category="list-text">* metadata.name*:（_required_）AppVaultカスタムリソースの名前。レプリケーション関係に必要な他のCRファイルがこの値を参照しているため、選択した名前をメモしておいてください。</block>
  <block id="2e65eb784535a1ecc4b75ea18e2863a6" category="list-text">* spec.providerConfig*:（_required_）は、指定されたプロバイダを使用してAppVaultにアクセスするために必要な設定を保存します。bucketNameとプロバイダーに必要なその他の詳細を選択します。レプリケーション関係に必要な他のCRファイルはこれらの値を参照しているため、選択した値をメモしておいてください。他のプロバイダでのAppVault CRSの例については、を参照してください<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>。</block>
  <block id="655a22501c6f6d02821989a81036e65e" category="list-text">* spec.providerCredentials*:（_required_）は、指定されたプロバイダを使用してAppVaultにアクセスするために必要なすべての資格情報への参照を保存します。</block>
  <block id="cb95e87ea13fe367aee43a64591dc23f" category="list-text">* spec.providerCredentials.valueFromSecret*:（_required_）は、クレデンシャル値がシークレットから取得される必要があることを示します。</block>
  <block id="553f77a87c1f7385701bd0df77669571" category="list-text">* key *：（_required_）選択するシークレットの有効なキー。</block>
  <block id="cf3ae025f91646ac07aa5641d4e510cb" category="list-text">* name *：（_required_）このフィールドの値を含むシークレットの名前。同じネームスペースになければなりません。</block>
  <block id="0e022225fc6e6c1b2028f3a32bcc9dbc" category="list-text">* spec.providerCredentials.secretAccessKey*:（_required_）プロバイダへのアクセスに使用するアクセスキー。name *は* spec.providerCredentials.valueFromSecret.name*と一致している必要があります。</block>
  <block id="3830f9aa0973251f5c2658ea2e742ee5" category="list-text">* spec.providerType*:（_required_）は、バックアップの提供元（NetApp ONTAP S3、汎用S3、Google Cloud、Microsoft Azureなど）を決定します。有効な値：</block>
  <block id="ac68bbf921d953d1cfab916cb6120864" category="list-text">AWS</block>
  <block id="03034eb1f294ef4f7a106ae02a31ae45" category="list-text">汎用- s3</block>
  <block id="a4d3001255c12ffd187d9548a2c800aa" category="list-text">ONTAP - s3</block>
  <block id="da8c660bc44b572ae5fc3157a93282cb" category="list-text">StorageGRID - s3</block>
  <block id="8af3a24bfad8f2e7a06abec1e5bc710e" category="list-text">ファイルに正しい値を入力したら<block ref="0992b18d0f3771479838d4ddbaa2b097" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="65b1402ebaf9b35766ab033225a55f41" category="open-title">CLIを使用したAppVaultの作成</block>
  <block id="d686d91628b89b1ba45ca8bf5274eece" category="list-text">AppVaultを作成し、括弧内の値を環境からの情報に置き換えます。</block>
  <block id="93b7f025ad50fefb3f6b0c5ee86d6162" category="open-title">CRを使用したソースアプリケーションの作成</block>
  <block id="793bc477cba966a8d3771d018030c3c4" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付けます（例：<block ref="3e2c6ff026eba99761434b4f79aaa782" prefix=" " category="inline-code"></block>）。</block>
  <block id="3bf6684ac69fda7ed549f87ecb72678d" category="list-text">* metadata.name*:（_required_）アプリケーションカスタムリソースの名前。レプリケーション関係に必要な他のCRファイルがこの値を参照しているため、選択した名前をメモしておいてください。</block>
  <block id="969353c1601d960362b65e2372b29251" category="list-text">* spec.includedNamespaces*:（_required_）名前空間と関連ラベルの配列。名前空間名を使用し、必要に応じてラベルを使用して名前空間のスコープを絞り込み、ここにリストされている名前空間に存在するリソースを指定します。アプリケーション名前空間は、この配列の一部である必要があります。</block>
  <block id="7a4e65ca72b4d8d16a9df08725a64df9" category="paragraph">* YAMLの例*：</block>
  <block id="948be8a05d305f0b3dece0e8dcaf4546" category="list-text">ファイルに正しい値を入力したら<block ref="3e2c6ff026eba99761434b4f79aaa782" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="677aa747b5e08444532c7cc040384124" category="open-title">CLIを使用したソースアプリケーションの作成</block>
  <block id="feaddb5b204f8f8f1226cc6f02275f5c" category="list-text">ソースアプリケーションを作成します。例：</block>
  <block id="929d5ad53cad5d51ead7578004e2d5e5" category="list-text">ソースアプリケーションのレプリケーションスケジュールを作成します。</block>
  <block id="57cc31c4785dfe52bb22cc8d375a3b67" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付けます（例：<block ref="8898becea7c9a79dd32acb9c34818b46" prefix=" " category="inline-code"></block>）。</block>
  <block id="87918fdbe5607aeceec3ec53bc40a2f8" category="list-text">* metadata.name*:（_required_）スケジュールカスタムリソースの名前。</block>
  <block id="3e23380d121194d4ed43d5587e33eeba" category="list-text">*spec.AppVaultRef *:(_required_)この値は、ソースアプリケーションのAppVaultのmetadata.nameフィールドと一致する必要があります。</block>
  <block id="a7ac547d97c63ad78926b420081cf36d" category="list-text">*spec.ApplicationRef *:(_required_)この値は、ソースアプリケーションCRのmetadata.nameフィールドと一致する必要があります。</block>
  <block id="565c53b27f6972afc514c3431a7fb733" category="list-text">* spec.backupRetention *：（_required_）このフィールドは必須であり、値は0に設定する必要があります。</block>
  <block id="e00228f2eaa851d908b74fd6e1cbb1ab" category="list-text">* spec.enabled *：trueに設定する必要があります。</block>
  <block id="b8e08f9f53492c0cf7c4c918c8c27185" category="list-text">* spec.granularity*:はに設定する必要があります<block ref="90589c47f06eb971d548591f23c285af" prefix=" " category="inline-code"></block>。</block>
  <block id="8c33ed4b89c2cd001ffad0203fe3c3b6" category="list-text">*spec.recurrenceRule *:開始日をUTC時間と繰り返し間隔で定義します。</block>
  <block id="35ef995e5b9fe2ba99491ff849d63302" category="list-text">* spec.snapshotRetention *：を2に設定する必要があります。</block>
  <block id="7c6d1c687b69c90909ec8375ac84883e" category="list-text">ファイルに正しい値を入力したら<block ref="8898becea7c9a79dd32acb9c34818b46" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="04a53b4d2f7e20d9df207bfb6beb6ee7" category="list-text">CRを適用します。</block>
  <block id="d5ab09bc69c7800783bce2e14f2e456f" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付けます（例：<block ref="b851e4210e3875aa9242df636b0b3068" prefix=" " category="inline-code"></block>）。</block>
  <block id="7fab67e3c762a0a044dd84f11a740dd7" category="list-text">* spec.providerConfig*:（_required_）は、指定されたプロバイダを使用してAppVaultにアクセスするために必要な設定を保存します。およびプロバイダに必要なその他の詳細情報を選択します<block ref="070a97dcde31faecac1fc843e205039c" prefix=" " category="inline-code"></block>。レプリケーション関係に必要な他のCRファイルはこれらの値を参照しているため、選択した値をメモしておいてください。他のプロバイダでのAppVault CRSの例については、を参照してください<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>。</block>
  <block id="4758f7c104e1f75364dadc9f8310e51d" category="list-text">ファイルに正しい値を入力したら<block ref="b851e4210e3875aa9242df636b0b3068" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="15e5c4ea8565e669f02393ab1d7b1021" category="open-title">CRを使用したAppMirrorRelationshipの作成</block>
  <block id="3ca407ea70946200511f8d2e1008f20f" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付けます（例：<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block>）。</block>
  <block id="52e868ab750f66344086c9bc5d6dadeb" category="list-text">* metadata.name:*（必須）AppMirrorRelationshipカスタムリソースの名前。</block>
  <block id="d9ee8f59f7e4a770213d4728b012fa38" category="list-text">* spec.destinationAppVaultRef*:（_required_）この値は、デスティネーションクラスタ上のデスティネーションアプリケーションのAppVaultの名前と一致する必要があります。</block>
  <block id="ad47c31cec730ddef75893f6207a8350" category="list-text">* spec.namespaceMapping*:(_required_)宛先およびソースの名前空間は、それぞれのアプリケーションCRで定義されているアプリケーション名前空間と一致している必要があります。</block>
  <block id="0d2f17f43053f85c97752c575bb2af3e" category="list-text">*spec.sourceAppVaultRef *:(_required_)この値は、ソースアプリケーションのAppVaultの名前と一致する必要があります。</block>
  <block id="5c0044cad9c27e4f4742c4a031edd6eb" category="list-text">*spec.sourceApplicationName*:(_required_)この値は、ソースアプリケーションCRで定義したソースアプリケーションの名前と一致する必要があります。</block>
  <block id="e1e70c108ffb369c9c05ac65820562c3" category="list-text">ファイルに正しい値を入力したら<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="d4c94febe4f13411fa761de57ad6cce6" category="open-title">CLIを使用したAppMirrorRelationshipの作成</block>
  <block id="1d29e9d9da5d097b90cc18a976fa591c" category="list-text">AppMirrorRelationshipオブジェクトを作成して適用し、括弧内の値を環境からの情報に置き換えます。例：</block>
  <block id="86d47ead9019d8e9c93c863f7ab4e41b" category="list-text">（_オプション_）レプリケーション関係の状態とステータスを確認します。</block>
  <block id="70cc2bec279e168711b67e789468c45c" category="section-title">デスティネーションクラスタへのフェイルオーバー</block>
  <block id="196c4df78e5add7c9590d6a1c18367ec" category="paragraph">Trident保護を使用すると、レプリケートされたアプリケーションをデスティネーションクラスタにフェイルオーバーできます。この手順 はレプリケーション関係を停止し、デスティネーションクラスタでアプリケーションをオンラインにします。Trident protectが動作していた場合、ソースクラスタ上のアプリは停止しません。</block>
  <block id="2d258c624d61d2388efacfc246d2439e" category="list-text">CR ファイルを保存します。</block>
  <block id="66ccf267a388b1a30a7530a93ea5ce18" category="list-text">（_オプション_）フェイルオーバーされたアプリケーションで必要な保護スケジュールを作成します。</block>
  <block id="ea7117a895b98283737d3855ef6a2adc" category="section-title">フェイルオーバーされたレプリケーション関係を再同期します。</block>
  <block id="c91dda18aff454993264381ffa25993f" category="paragraph">再同期処理によってレプリケーション関係が再確立されます。再同期処理を実行すると、元のソースアプリケーションが実行中のアプリケーションになり、デスティネーションクラスタで実行中のアプリケーションに加えた変更は破棄されます。</block>
  <block id="86e073f24d64b270ed8fd6bac00280eb" category="paragraph">このプロセスは、レプリケーションを再確立する前に、デスティネーションクラスタ上のアプリケーションを停止します。</block>
  <block id="63a5fb6889ac843fec3c274399995a88" category="admonition">フェイルオーバー中にデスティネーションアプリケーションに書き込まれたデータはすべて失われます。</block>
  <block id="c7e41946fafafcb541aaa5a67635b607" category="list-text">フェイルオーバーされたアプリケーションを保護するためにデスティネーションクラスタで保護スケジュールを作成した場合は削除します。スケジュールが残っていると、ボリュームSnapshotが失敗します。</block>
  <block id="6e81bcb9e218ada350c173457300a0ed" category="section-title">フェイルオーバーされたレプリケーション関係の逆再同期</block>
  <block id="b29e882c5e41f060c9261101cb1cab06" category="paragraph">フェイルオーバーされたレプリケーション関係を逆再同期すると、デスティネーションアプリケーションがソースアプリケーションになり、ソースがデスティネーションになります。フェイルオーバー中にデスティネーションアプリケーションに加えられた変更は保持されます。</block>
  <block id="3c890586eb43d0d71cdcb47011358420" category="list-text">レプリケーション関係を設定するには、元 々 その関係を反対側のクラスタに設定するために使用したCRファイルを適用します。</block>
  <block id="8a427fa57d96e74516c008754320b521" category="list-text">反対側のクラスタにレプリケーション関係を設定し、逆方向の値を設定します。</block>
  <block id="792322eb4a0bf1a122100fc009041d9b" category="section-title">アプリケーションのレプリケーション方向を反転</block>
  <block id="eb89cf8a1850f41e41a65f7b65ec9c87" category="paragraph">レプリケーション方向を反転すると、Trident保護によってアプリケーションがデスティネーションストレージバックエンドに移動され、元のソースストレージバックエンドに引き続きレプリケートされます。Trident protectは、ソースアプリケーションを停止し、デスティネーションアプリケーションにフェイルオーバーする前にデータをデスティネーションにレプリケートします。</block>
  <block id="4625c1e6ccf2351ad9a08dcee33270c8" category="paragraph">この状況では、ソースとデスティネーションを交換しようとしています。</block>
  <block id="4f902591d45de06985f0af6d869c8a04" category="open-title">CRを使用したシャットダウンスナップショットの作成</block>
  <block id="1f6c30c2bcecec90eda54cd7038f326b" category="list-text">ソースアプリケーションの保護ポリシースケジュールを無効にします。</block>
  <block id="4a4cfa535eb9cd705b5999ffaa6a738b" category="list-text">ShutdownSnapshot CRファイルを作成します。</block>
  <block id="92391ecdad41a6b33b04771b3e5e20bf" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付けます（例：<block ref="9bab8384d1fd26e8737f71771039462f" prefix=" " category="inline-code"></block>）。</block>
  <block id="1b38935a45d4eaf71098501cbdc191df" category="list-text">* metadata.name*:（_required_）カスタムリソースの名前。</block>
  <block id="54c1687e91064a6e4cdc35b9a2d411a8" category="list-text">*spec.ApplicationRef *:(_required_)この値は、ソースアプリケーションCRファイルのmetadata.nameフィールドと一致する必要があります。</block>
  <block id="4390dd9bb73a0c56ac3c54b54b1fe51a" category="list-text">ファイルに正しい値を入力したら<block ref="9bab8384d1fd26e8737f71771039462f" prefix=" " category="inline-code"></block> 、CRを適用します。</block>
  <block id="f450395b52edc310f6e53fe1a9e24477" category="open-title">CLIを使用したシャットダウンスナップショットの作成</block>
  <block id="01eb7f0adf446989c265a6179909de7b" category="list-text">シャットダウンスナップショットを作成し、括弧内の値を環境からの情報に置き換えます。例：</block>
  <block id="bdd0666b03fe73dd725c0376fdb435e0" category="admonition">フェイルオーバー手順のステップ2では、AppMirrorRelationship CRファイルにフィールドを含め、<block ref="60464bee8fcac84cb209df68a2b05fba" prefix=" " category="inline-code"></block>その値を上記の手順3で記録したベースネームに設定します。</block>
  <block id="ab486212bb19e45c8e71532739574a22" category="list-text">新しいソースクラスタで保護スケジュールを有効にします。</block>
  <block id="aea4fd534bd3152673956c6bbd7c115c" category="paragraph">リバースレプリケーションが実行されると、次の処理が実行されます。</block>
  <block id="a23cf6af7e31f808d57bb74c992226c6" category="list-text">元のソースアプリのKubernetesリソースのスナップショットが作成されます。</block>
  <block id="08c383efd49395a644fa60036a0853a2" category="list-text">元のソースアプリケーションのポッドは、アプリケーションのKubernetesリソースを削除することで正常に停止されます（PVCとPVはそのまま維持されます）。</block>
  <block id="0053c8b169583fc7b29e0dfbe82d59fd" category="list-text">ポッドがシャットダウンされると、アプリのボリュームのスナップショットが取得され、レプリケートされます。</block>
  <block id="b1907879d61e1f061c433469dfb8ddcf" category="list-text">SnapMirror関係が解除され、デスティネーションボリュームが読み取り/書き込み可能な状態になります。</block>
  <block id="b6c3873d17157e3e4a0b1ef02b3cef69" category="list-text">アプリのKubernetesリソースは、元のソースアプリがシャットダウンされた後に複製されたボリュームデータを使用して、シャットダウン前のスナップショットから復元されます。</block>
  <block id="3cecdf93ba8c40eb3b09b7a7f9985e1d" category="list-text">逆方向にレプリケーションが再確立されます。</block>
  <block id="827d6f4840be3ba668aa3eaee7c11d8d" category="section-title">アプリケーションを元のソースクラスタにフェイルバックします</block>
  <block id="fbe6471033a142db5e3165e4034c1157" category="paragraph">Trident保護を使用すると、フェイルオーバー処理後に次の一連の処理を使用して「フェイルバック」を実現できます。このワークフローでは、元のレプリケーション方向を復元するために、Trident保護は、レプリケーション方向を反転する前に、アプリケーションの変更を元のソースアプリケーションに戻します（再同期）。</block>
  <block id="3a045f0ae84563b460627f43bb272936" category="paragraph">このプロセスは、デスティネーションへのフェイルオーバーが完了した関係から開始し、次の手順を実行します。</block>
  <block id="9cbd7771b861e31b5edb23d83de4758c" category="list-text">フェイルオーバー状態から開始します。</block>
  <block id="39d2beed854377dcad2ea22fe9e58477" category="section-title">レプリケーション関係を削除する</block>
  <block id="a6c87e2b66308cd117a39af0fdac9885" category="paragraph">レプリケーション関係はいつでも削除できます。アプリケーションレプリケーション関係を削除すると、2つの別 々 のアプリケーションが作成され、それらのアプリケーション間に関係がなくなります。</block>
  <block id="c4407b1cc5192fe600872654a5ffe223" category="list-text">Kubernetesネイティブワークフロー向けのTridentの新機能を追加：</block>
  <block id="7e7397a7b79323762c61941fc0e6b5f9" category="list-text">データ保護</block>
  <block id="5866b98c049a53ea6dc7f50f9349f434" category="list-text">データ移行</block>
  <block id="645a84975202e30700b572b49a5ee29d" category="list-text">ディザスタリカバリ</block>
  <block id="11d5920d0c0b3a97e764f84dc92ef110" category="list-text">アプリケーションのモビリティ</block>
  <block id="f593e32b2a3ead4ac029c13126d3531d" category="inline-link-macro">Trident protectの詳細</block>
  <block id="487dc96e91d89134e7a216bab529a019" category="paragraph">24.10リリース以降、Astra TridentはTrident（NetApp Trident）に名称が変更されます。このブランド変更は、Tridentの機能、サポートされるプラットフォーム、相互運用性には影響しません。</block>
  <block id="a2d3ef10e2d8aae09270e11f8faea2d2" category="sidebar">高度なデータ管理と保護</block>
  <block id="6274fe9ce01bdde4e27e80b7958fb714" category="sidebar">Trident保護による高度なデータ保護</block>
  <block id="1251ea693b8f0b6da19ce6991115faa0" category="sidebar">Trident保護の導入</block>
  <block id="6c3cb2816fa53d1d99c44a111d9f7206" category="sidebar">Trident保護でアプリケーションを保護</block>
  <block id="884400bd4c8f5f2b0070bef92b055594" category="sidebar">Tridentプロテクトのインストール</block>
  <block id="f284d92e4bd22a3c7a76bfe530ddd899" category="sidebar">Trident保護を管理します。</block>
  <block id="b9ef0ee6944eb101de3de64b82db00dd" category="sidebar">Trident保護サポートバンドルの生成</block>
  <block id="1ae067a03c56065918252f36c73024d1" category="sidebar">アプリケーションの管理と保護</block>
  <block id="793ba052e921b84a44dd053d68f45012" category="sidebar">Trident保護を使用した実行フックの管理</block>
  <block id="a4ac350fb585f51020f747525f3175d8" category="paragraph"><block ref="2c7a14b5507108d57a83e6eb9858f03a" category="inline-link-macro-rx"></block>です。</block>
  <block id="c198f49680a4c22b6d731cdd7d7b513a" category="paragraph">コマンドを使用して、名前、ネームスペース、グラフ、ステータス、アプリケーションのバージョン、リビジョン番号など、インストールの詳細を確認できます<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block>。</block>
  <block id="d43d72969793ea80734b71e9c2406b2a" category="list-text">*クラスタにアドオンソフトウェアを保持*–このオプションを選択すると、Amazon EKSによる設定の管理が削除されます。また、Amazon EKSが更新を通知し、更新を開始した後にAmazon EKSアドオンを自動的に更新する機能も削除されます。ただし、クラスタ上のアドオンソフトウェアは保持されます。このオプションを選択すると、アドオンはAmazon EKSアドオンではなく自己管理型インストールになります。このオプションを使用すると、アドオンのダウンタイムは発生しません。アドオンを保持するには、コマンドのオプションをそのまま使用し<block ref="4b4ac0f998920a46fd2015e11d01d3e7" prefix=" " category="inline-code"></block> ます。</block>
  <block id="03f2a9d8b5b9f1a03bc58b91a939d84f" category="paragraph"><block ref="ad43edaec055586043c762c9475bde5c" category="inline-link-macro-rx"></block> Google Cloudのフルマネージドファイルストレージサービスで、ハイパフォーマンスなエンタープライズクラスのファイルストレージを提供します。</block>
  <block id="0ce84605b24873b2ee81987302d60089" category="paragraph"><block ref="bc468e9b0072cb6f1552f9bc0a3b6063" category="inline-link-rx"></block>は、NFS経由でNASボリュームを提供するクラウドネイティブのファイルサービスで、オールフラッシュのパフォーマンスを実現します。このサービスにより、従来型アプリケーションを含むあらゆるワークロードをGCPクラウドで実行できます。フルマネージドサービスを提供し、一貫したハイパフォーマンス、瞬時のクローニング、データ保護、 Google Compute Engine （ GCE ）インスタンスへのセキュアなアクセスを実現します。</block>
  <block id="afb432a9cb893dca3218bf5ed8f124b6" category="section-title">手順6：AppVaultオブジェクトへのアクセスを許可する</block>
  <block id="518792e00e0ca0d711657c9051ae8b45" category="paragraph">バックアップやスナップショットなどのデータ管理タスクを実行するには、クラスタ管理者が個 々 のユーザーにAppVaultオブジェクトへのアクセスを許可する必要があります。</block>
  <block id="3ce2b0dd65dc314e4d0ccf4ed02db5a7" category="list-text">AppVaultへのユーザーアクセスを許可するAppVaultとシークレットの組み合わせYAMLファイルを作成して適用します。たとえば、次のCRは、AppVaultへのアクセスをユーザーに許可し<block ref="6ca05da537cc3daa1ec22134c0b69946" prefix=" " category="inline-code"></block>ます。</block>
  <block id="f1c648202447b3667edef5439e1a8c5e" category="list-text">役割CRを作成して適用し、クラスタ管理者がネームスペース内の特定のリソースへのアクセスを許可できるようにします。例：</block>
  <block id="2ebacf7e8f38b367350c5c91618a6e79" category="list-text">RoleBinding CRを作成して適用し、権限をeng-userというユーザにバインドします。例：</block>
  <block id="dc3d0a515ce0266cb00eb5cc06c4fe94" category="list-text">権限が正しいことを確認します。</block>
  <block id="b5c9b7c142e23b0f885d64628ec267ff" category="list-text">すべての名前空間のAppVaultオブジェクト情報の取得を試みます。</block>
  <block id="d0848afd8553c34945705222a97a4553" category="paragraph">次のような出力が表示されます。</block>
  <block id="07337191562a62a775a853d9901903a6" category="list-text">ユーザがAppVault情報を取得できるかどうかをテストして、アクセス許可を得ているかどうかを確認します。</block>
  <block id="e7165fc51f62031fcae1d793899febaa" category="paragraph">AppVault権限を付与したユーザーは、アプリケーションデータ管理操作に承認されたAppVaultオブジェクトを使用できる必要があります。また、割り当てられた名前空間以外のリソースにアクセスしたり、アクセスできない新しいリソースを作成したりすることはできません。</block>
  <block id="753f99fdafabdea1282917a0d7df52d4" category="list-text">の逆再同期の手順を実行し<block ref="07428cadd63a52910df8ba314efe2f56" category="inline-xref-macro-rx"></block>ます。</block>
  <block id="fe411ea35c29677771dcaad52985fc08" category="list-text">レプリケーション関係を逆再同期します。</block>
  <block id="eb10e971ec83f13f35beb8166ae8958b" category="admonition">通常の再同期操作は実行しないでください。フェイルオーバー中にデスティネーションクラスタに書き込まれたデータが破棄されます。</block>
  <block id="de5da2c7cfd6c7eda31703be01d3513e" category="list-text">レプリケーションの方向を逆にします。</block>
  <block id="be41e0ea028981dcba35343dcbd34991" category="list-text">手順を実行します<block ref="07428cadd63a52910df8ba314efe2f56" category="inline-xref-macro-rx"></block>。</block>
  <block id="e3f67484570d0b1b5736841718c5ab22" category="list-text">手順を実行します<block ref="80fca82e419d46692dbbc4fbbcd0c990" category="inline-xref-macro-rx"></block>。</block>
  <block id="51d8fa0a5eb3f269bad2a2a47a660a2d" category="paragraph">Fibre Channel（FC；ファイバチャネル）プロトコルをTridentで使用して、ONTAPシステムでストレージリソースをプロビジョニングおよび管理できるようになりました。</block>
  <block id="822b1839c387749c78601eebc94c8d7d" category="paragraph">FCに必要なネットワークとノードを設定します。</block>
  <block id="f508b22c8fc4486b19fee39d5ded3841" category="section-title">ネットワーク設定</block>
  <block id="16fdd92def5a71313d6535c74ef67b81" category="inline-link-macro">network interface show</block>
  <block id="cc7e69899d736126df9787634ad41870" category="list-text">イニシエータ（ホスト）のインターフェイスのWWPNを取得します。</block>
  <block id="1089b965cabd19cfee7f3ef855fbd63d" category="paragraph">対応するホストオペレーティングシステムユーティリティを参照してください。</block>
  <block id="6f58745fc3a341adae0772d30d9e508c" category="list-text">ホストとターゲットのWWPNを使用してFCスイッチにゾーニングを設定します。</block>
  <block id="54336aa51b161faac4d0ebb1b76b1536" category="paragraph">詳細については、各スイッチベンダーのドキュメントを参照してください。</block>
  <block id="299f2e1a529559eb06c9dfbe12ccdea9" category="paragraph">詳細については、次のONTAPドキュメントを参照してください。</block>
  <block id="d7281ba358054b30594dcd34819057a1" category="inline-link">ファイバチャネルとFCoEのゾーニングの概要</block>
  <block id="bce9f24194c15bbf6b5ad6cd1d8d1899" category="list-text"><block ref="bce9f24194c15bbf6b5ad6cd1d8d1899" category="inline-link-rx"></block></block>
  <block id="9b9db0b6f6df6361aa97412feea7ae07" category="list-text"><block ref="1a83c479258a4b0e250085c944bae4de" category="inline-link-rx"></block></block>
  <block id="36b37761159ed00a729b4f6fab9a0f02" category="paragraph-title">FCツールのインストール</block>
  <block id="f0ad3dc6a6ba17b1e77a2a4af657f22a" category="paragraph">オペレーティングシステム用のコマンドを使用して、FCツールをインストールします。</block>
  <block id="553ac32ac6bcab84d5384eda7468d415" category="paragraph">Kubernetesクラスタ内のすべてのワーカーノードが、ポッド用にプロビジョニングしたボリュームをマウントできる必要があります。ワーカーノードを準備するには、ドライバの選択に基づいて、NFS、iSCSI、NVMe/TCP、またはFCの各ツールをインストールする必要があります。</block>
  <block id="64467ac9530ff26c4e6495117175346d" category="admonition">qtree-nas-economyとstoragePrefixをONTAP 24文字以上で使用する場合、ボリューム名にはストレージプレフィックスは含まれませんが、qtreeにはストレージプレフィックスが埋め込まれます。</block>
  <block id="0d28255dc96cb23d422741096c09ce8e" category="paragraph"><block ref="256d12880dee7515c7ed6253fd0a228a" prefix="" category="inline-code"></block><block ref="bd5ed83ae12ddcfe924a6af54a0be554" prefix=" " category="inline-code"></block></block>
  <block id="15286900a0d0667ffc4d515aeec6a1d2" category="list-text">プラグインバイナリをPATH変数で定義されている場所にコピーします。たとえば、<block ref="7512824c50c61ea8d89d0f193a4f72d1" prefix=" " category="inline-code"></block>または<block ref="ad2e864ce1a99daa836c3449f3ba705d" prefix=" " category="inline-code"></block>（昇格されたPrivilegesが必要な場合があります）。</block>
  <block id="cff063350a0daf1b0ee4c6c97eb2e2de" category="admonition">既存のリソースがある別のネームスペースにバックアップをリストアしても、バックアップ内のリソースと名前を共有するリソースは変更されません。バックアップ内のすべてのリソースをリストアするには、ターゲットネームスペースを削除して再作成するか、新しいネームスペースにバックアップをリストアします。</block>
  <block id="0ac202e458490a734271522fcedf4876" category="list-text">が実行中であることを確認し<block ref="8732863da72605a20ed96b4eee87a5fb" prefix=" " category="inline-code"></block>ます。</block>
  <block id="69eeaf73fccab6d6abcba46bd6a3a3bf" category="list-text">が有効で実行中であることを確認し<block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block>ます。</block>
  <block id="00ea3f7016d7b9a4ad023b106cc1e6d3" category="paragraph"><block ref="7e7b7908484dc2cebc13ec93d8042bd0" category="inline-link-macro-rx"></block>をsanType（SCSI over FC）で<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block>使用している場合<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。</block>
  <block id="0cc310db20eaee9161e8ef937010b536" category="doc">Trident保護の許可とアクセス制御を管理します。</block>
  <block id="97f3fa7a4bb86197f0db69aa160c73e9" category="doc">Trident protect AppVaultオブジェクトを使用してバケットを管理する</block>
  <block id="bf4313699bccd15d73aa8653cfdfd754" category="doc">Trident保護で管理アプリケーションを定義</block>
  <block id="b6a8ee5a5280d899b4ea1be0f8697335" category="doc">Trident保護を使用したアプリケーションの移行</block>
  <block id="8686ed080978191a10848ee52cd0c87a" category="doc">Trident保護を使用したアプリケーションの保護</block>
  <block id="0539043b2ec0bd1bfae64dc58173dec7" category="doc">Trident保護を使用したアプリケーションのリストア</block>
  <block id="873e2eae9a82cbe9c291ade077f017d2" category="doc">Trident保護実行フックの管理</block>
  <block id="6f8f09e1a22390ac35a40283a4dc713f" category="doc">NetApp SnapMirrorとTridentによる保護を使用してアプリケーションをレプリケート</block>
  <block id="2fc23e09b483dc4495beb473646c0273" category="list-text"><block ref="2fc23e09b483dc4495beb473646c0273" category="inline-link-macro-rx"></block></block>
  <block id="e132245ad28668c6b32dee21fb8a3820" category="list-text">ターゲットインターフェイスのWWPNを取得します。詳細については、を参照してください<block ref="92fd8fd0370792cd397ea6fdc3c8edb0" category="inline-link-rx"></block> 。</block>
  <block id="ab17e5f89eede1d0e6d8d31cc646b837" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block>ワーカーノードの準備</block>
  <block id="8f571d58ed95211be01ea993de3fee3e" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block>Tridentのインストール</block>
  <block id="2fd92693952062fc00d949899370185d" category="section-title">アプリケーションの定義</block>
  <block id="da305154e58c2f6709cee1cca6b2d8c8" category="paragraph">Trident保護で管理するアプリケーションをそれぞれ定義する必要があります。アプリケーションCRを手動で作成するか、Trident保護CLIを使用して、管理対象のアプリケーションを定義できます。</block>
  <block id="964ba319e15e38c5b0f3ee2a3dd4a8f8" category="list-text">環境に合わせてアプリケーションCRを作成したら、CRを適用します。例：</block>
  <block id="26ff92fc2410a19d125f3783f36a21f5" category="paragraph">Trident protect 24.10および24.10.1以降では、KubeVirt VM上で実行されているアプリケーションを保護する場合の動作が異なります。どちらのバージョンでも、データ保護処理中のファイルシステムのフリーズおよびフリーズ解除を有効または無効にすることができます。</block>
  <block id="4d2e55f1e0d6587dd3b63700ee1065af" category="paragraph-title">Trident保護24.10</block>
  <block id="2d261bce9a1e151a31ff22788033f212" category="paragraph">Trident protect 24.10では、データ保護処理中にKubeVirt VMファイルシステムの一貫した状態が自動的に保証されません。Trident protect 24.10を使用してKubeVirt VMデータを保護する場合は、データ保護処理の前にファイルシステムのフリーズ/フリーズ解除機能を手動で有効にする必要があります。これにより、ファイルシステムが一貫した状態であることが保証されます。</block>
  <block id="acb14ba5b70eb330a1d4de9c6b7a325d" category="inline-link-macro">仮想化の設定</block>
  <block id="74c1cc067621b7ea2ccf9f91b4595bd8" category="paragraph">データ保護処理中のVMファイルシステムのフリーズおよびフリーズ解除を管理するようにTrident protect 24.10を設定するには、<block ref="e0dd4c4b8aa16596df6c3f5cb36d3cdc" category="inline-link-macro-rx"></block>次のコマンドを使用します。</block>
  <block id="72768e0f0d0f990d0abd53363fda4696" category="paragraph-title">Trident protect 24.10.1以降</block>
  <block id="42a2550b14037192e0c3252e7666ec4d" category="paragraph">Trident protect 24.10.1以降では、Trident protectでは、データ保護処理中にKubeVirtファイルシステムが自動的にフリーズおよびフリーズ解除されます。必要に応じて、次のコマンドを使用してこの自動動作を無効にできます。</block>
  <block id="cedf2576eebff15fc6b30d5a7109eb6b" category="doc">リストア処理とフェイルオーバー処理時のネームスペースのアノテーションとラベル</block>
  <block id="131ff34387be167411ffda7d60b577e7" category="paragraph">リストア処理とフェイルオーバー処理では、デスティネーションネームスペースのラベルとアノテーションがソースネームスペースのラベルとアノテーションと一致するように作成されます。デスティネーションネームスペースに存在しないソースネームスペースのラベルまたはアノテーションが追加され、すでに存在するラベルまたはアノテーションがソースネームスペースの値に一致するように上書きされます。デスティネーションネームスペースにのみ存在するラベルやアノテーションは変更されません。</block>
  <block id="20f40e0b9308901dac07ce8a8efb3350" category="inline-link">OpenShiftセキュリティコンテキスト制約に関するドキュメント</block>
  <block id="6c83555d4261acb08ebbc5f24823dc7b" category="paragraph">リストアまたはフェイルオーバー処理を実行する前にKubernetes環境変数を設定することで、デスティネーションネームスペースの特定のアノテーションが上書きされないようにすることができます<block ref="1580ff61f204e9d56cd5324c7e9221ba" prefix=" " category="inline-code"></block>。例：</block>
  <block id="11a75e55f9a91a12e7d31886a76ff312" category="paragraph">フラグを指定してHelmを使用してソースアプリケーションをインストールした場合は<block ref="cc1f5c1d16e33b8463c9ee27295cd5df" prefix=" " category="inline-code"></block>、ラベルキーに特別な処理が行わ<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>れます。Trident保護では、リストアまたはフェイルオーバーのプロセスでこのラベルがデスティネーションネームスペースにコピーされますが、ソースの値がソースネームスペースと一致する場合はデスティネーションネームスペースの値に更新されます。この値がソースネームスペースと一致しない場合、変更なしでデスティネーションネームスペースにコピーされます。</block>
  <block id="1280c48f074ec68fd2281266662c9a3f" category="paragraph">次の例は、ソースとデスティネーションのネームスペースを示しています。それぞれにアノテーションとラベルが設定されています。処理の前後のデスティネーションネームスペースの状態、およびデスティネーションネームスペースでアノテーションやラベルを組み合わせたり上書きしたりする方法を確認できます。</block>
  <block id="2cfe257f724ed59a07ab01918c828fb5" category="section-title">リストアまたはフェイルオーバー処理の前</block>
  <block id="c972cd959174c84d137520d91c011446" category="paragraph">次の表に、リストアまたはフェイルオーバー処理を実行する前のソースネームスペースとデスティネーションネームスペースの状態を示します。</block>
  <block id="b3ba0fe968ce39dcfc6fe8cc0f1b02da" category="cell">ネームスペース</block>
  <block id="933e469cb306a0ea9faabd3e4235d3be" category="cell">アノテーション</block>
  <block id="86a2c974d76e381c7efd2206939722b7" category="cell">ネームスペースns-1（ソース）</block>
  <block id="278dbe8403d8ebf0d4ec8f723ca24aa6" category="list-text">Annotation.one/key："UpdatedValue"</block>
  <block id="7217e7166d38adddcd72b9b1c9359148" category="list-text">Annotation.Two/key："true"</block>
  <block id="a03c56a353af6ece3297a5fcad5250f2" category="list-text">環境=本番</block>
  <block id="d1642f369aa9d43205cf91975f1359d4" category="list-text">コンプライアンス= HIPAA</block>
  <block id="fc10b995e3d1c13cbae652922eba0bb6" category="list-text">名前= ns-1</block>
  <block id="58e6b4eeb688a71c985d2593769d2fda" category="cell">ネームスペースns-2（デスティネーション）</block>
  <block id="f0e6f2ec2d0d1aa7012e3b32889c034c" category="list-text">Annotation.one/key："true"</block>
  <block id="1e678090acf06eb2bf74c38dee9d3317" category="list-text">annotation.three/key："false"</block>
  <block id="ebbaf450aa5330e33917a8de9157e099" category="list-text">ロール=データベース</block>
  <block id="46c40b68ab6fcc817f5134602b1985e3" category="section-title">リストア処理後</block>
  <block id="15d6567aa33ad00e352de9164a741b8b" category="paragraph">次の表に、リストアまたはフェイルオーバー処理後の例のデスティネーションネームスペースの状態を示します。一部のキーが追加され、一部のキーが上書きされ、<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>デスティネーションネームスペースに一致するようにラベルが更新されました。</block>
  <block id="a8306d4d1af4239dba9a6bcfd799eba7" category="list-text">名前= ns-2</block>
  <block id="da1046077b664fa54e4894632960137d" category="paragraph">自動保護ポリシーまたはアドホックベースでスナップショットとバックアップを作成することで、Trident protectで管理されているすべてのアプリケーションを保護できます。</block>
  <block id="e27f117e119beccd01579e6a8d0151fb" category="inline-link-macro">Trident protectを使用したファイルシステムのフリーズ設定の詳細</block>
  <block id="9efebf2c277b6c382e759b6b916fd0dd" category="admonition">データ保護処理中にファイルシステムをフリーズおよびフリーズ解除するようにTrident保護を設定できます。<block ref="d0a15703ee89b8fa8b780fb2dbace2bd" category="inline-link-macro-rx"></block>です。</block>
  <block id="ac84b7596169ab3fb6c24e8a5c85c234" category="section-title">KubeVirt VMによるデータ保護</block>
  <block id="c14dcfe7b0231c7a77642ffab50a55eb" category="summary">Trident protectを最新バージョンにアップグレードすると、新機能やバグ修正を利用できます。</block>
  <block id="91d6fa36b819133d3be4dc9c8bf2cf22" category="doc">Trident保護のアップグレード</block>
  <block id="9a4ef497aa1e88e71b08a41b069a9cf4" category="paragraph">Trident保護をアップグレードするには、次の手順を実行します。</block>
  <block id="08583ac87350c1205f57ca5d8c629482" category="list-text">Trident Helmリポジトリを更新します。</block>
  <block id="0f5b1b3a9bfb872579b78d2db623d3d8" category="list-text">Trident保護CRDをアップグレードします。</block>
  <block id="a16ec228f0e3336de76f224b11d860d9" category="list-text">アップグレードTrident保護：</block>
  <block id="08810911e9a818361e28207072354bd4" category="list-text">ファイルシステムがフリーズする（該当する場合）。<block ref="d0a15703ee89b8fa8b780fb2dbace2bd" category="inline-link-macro-rx"></block>です。</block>
  <block id="caf47630bbafdc416f6b6ecdb585e83e" category="list-text">フリーズされたファイルシステムは、該当する場合はフリーズ解除されます。</block>
  <block id="1eb6c79d30a4cb086ad406cb25fec350" category="list-text">*resourceFilter.resourceMatchers*: resourceMatcherオブジェクトの配列。この配列に複数の要素を定義した場合、それらはOR演算として照合され、各要素内のフィールド（グループ、種類、バージョン）はAND演算として照合されます。</block>
  <block id="effa92215c770083617150adc291c130" category="list-text">[Optional configuration settings]*を展開し、必要に応じて変更します。</block>
  <block id="fd8585ec0c8ba7001713251f9ab9c69e" category="paragraph">アプリケーションを別のクラスタにクローニング（クラスタ間クローニングを実行）するには、ソースクラスタでバックアップを作成し、別のクラスタにリストアします。デスティネーションクラスタにTrident protectがインストールされていることを確認します。</block>
  <block id="a1f41e52e9ddbd9f87ecd032c237b1c0" category="inline-link-macro">SnapMirrorレプリケーション</block>
  <block id="f6acb98f21e25882aaaa267339abcc92" category="admonition">を使用して、異なるクラスタ間でアプリケーションをレプリケートできます<block ref="69314cba6d14bf88b8e850c978056766" category="inline-link-macro-rx"></block>。</block>
  <block id="fe961357dbe4b6bf8b5503f4919ea35c" category="list-text">バックアップを含むオブジェクトストレージバケットのAppVault CRがデスティネーションクラスタで設定されていることを確認します。</block>
  <block id="baafbccab17d07f9ba18e7becb7c76d2" category="inline-link-macro">バックアップからデータをリストア</block>
  <block id="878bbf0662ed19ef900e4e06bfad92d2" category="list-text">デスティネーションクラスタで、<block ref="11860f9f3ec51316f8ebc9805806b6cd" category="inline-link-macro-rx"></block>を実行します。</block>
  <block id="4a0207b6a74b63dcaaa4d58fe75ec431" category="list-text">*resourceFilter.resourceSelectionCriteria*:(フィルタリングに必要) resourceMatchersで定義されたリソースを使用<block ref="f4d72a64acd8929c0cc9ed96a7a336cc" prefix=" " category="inline-code"></block>または<block ref="843f2812f595e7ec7c5036e89fde02d6" prefix=" " category="inline-code"></block>除外します。次のresourceMatchersパラメータを追加して、追加または除外するリソースを定義します。</block>
  <block id="5e77ee724e7a9c6f34c1fd6a65b3f3b5" category="list-text">* spec.storageClassName *：（_required_）クラスタ上の有効なストレージクラスの名前を選択します。ソース環境とピア関係にあるONTAP Storage VMにストレージクラスをリンクする必要があります。</block>
  <block id="b22804421b3e5bca94f2a9979721eb60" category="cell">ロールが割り当てられたGoogle CloudサービスアカウントのAPIキー<block ref="e50dbf86780cfad5e007e4a95a6aa71e" prefix=" " category="inline-code"></block> 。このレポートには、 Google Cloud サービスアカウントの秘密鍵ファイルの JSON 形式のコンテンツが含まれています（バックエンド構成ファイルにそのままコピーされます）。には<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block> 、、、、、の各キーのキーと値のペアを含める必要があります。<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block><block ref="b098ad43c65e68f3d8ce27a3c7e6f6e2" prefix=" " category="inline-code"></block><block ref="a4a9fd77bfb3720e66b510bef7ffe71a" prefix=" " category="inline-code"></block><block ref="2bfe9d72a4aae8f06a31025b7536be80" prefix=" " category="inline-code"></block><block ref="478cc0e49bfbb9ded4ffc7ea662d3968" prefix=" " category="inline-code"></block><block ref="98b215082431c21156af94f3aa69f838" prefix=" " category="inline-code"></block><block ref="8201fe8e688f4f948a62370fd1b411d4" prefix=" " category="inline-code"></block>、、および<block ref="61426bc7fdd11e59a5c98e7ee37e3dbb" prefix=" " category="inline-code"></block>。</block>
  <block id="d0e48e9528072c6ff90b82adeab94dea" category="list-text">NetApp Volume Admin）ロールが割り当てられたGoogle Cloudサービスアカウント <block ref="04bf1a6a0250bc9d4cba09ee34106dfc" prefix="(" category="inline-code"></block>。を参照してください <block ref="4f506c30a158c85db714d53536a12770" category="inline-link-macro-rx"></block>。</block>
  <block id="a13eeeef5ff2b7fe85692890fb5d28b3" category="open-title">Amazon S3（AWS）</block>
  <block id="b2aa71ee04e531f0b6d1f084ba45f52f" category="open-title">汎用 S3</block>
  <block id="1716834171e243de0f898a67621b6624" category="open-title">ONTAP S3</block>
  <block id="79832d443dadeb6d3b0637941d6ac067" category="open-title">StorageGRID S3</block>
  <block id="6b4d16571162a69eb03c99cb132a69ec" category="section-title">AppVault CRの例</block>
  <block id="d05c8b60cfd355fccac41017c33ca892" category="paragraph">次のCR例を使用して、クラウドプロバイダごとにAppVaultオブジェクトを作成できます。</block>
  <block id="59264d37bdf7f6cbf4f94ad00dacdce1" category="section-title">Trident保護CLIを使用したAppVaultの作成例</block>
  <block id="4db09810b323e73b4041a65c99bb14f8" category="paragraph">次のCLIコマンド例を使用して、プロバイダごとにAppVault CRSを作成できます。</block>
  <block id="c8dac6733f0c00d0b3b8b239841a0255" category="list-text">という名前のファイルを作成します<block ref="5744e710490761bdd5b4603b9b0487a7" prefix=" " category="inline-code"></block>。次のTrident保護設定が含まれていることを確認します。</block>
  <block id="d9802724acbde7ce7749f0884262496a" category="section-title">Trident保護コンテナのリソース制限を指定</block>
  <block id="723ff7c28b60307db94ddb35dd6cc517" category="paragraph">Trident保護のインストール後に、構成ファイルを使用してTrident保護コンテナのリソース制限を指定できます。リソース制限を設定すると、Trident保護処理で消費されるクラスタのリソースの量を制御できます。</block>
  <block id="45d7099b61647936da59ccfbaa49ca5c" category="list-text">という名前のファイルを作成します<block ref="e66ad8c89b28dc43a24e6e1689a79cdc" prefix=" " category="inline-code"></block>。</block>
  <block id="9f83417f7d6c999c56b0dcc3b274be23" category="list-text">環境のニーズに応じて、Trident保護コンテナのリソース制限オプションをファイルに入力します。</block>
  <block id="956fe3fe2ad4f9cb1b569d66b4ff1db5" category="list-text">ファイルから値を適用し<block ref="e66ad8c89b28dc43a24e6e1689a79cdc" prefix=" " category="inline-code"></block>ます。</block>
  <block id="a4af4e386bb379977acdb5a465780149" category="open-title">Trident保護CLIを使用したAppVaultの削除</block>
  <block id="7bbf9a1a0bbcbeb6a4fef133c3975079" category="paragraph">次のシェルログイン時に、tridentctl-protectプラグインで自動補完コマンドを使用できます。</block>
  <block id="0708d6413707329d6051a0456f0810ac" category="admonition">を使用すると、このコマンドの詳細なヘルプ情報を表示できます<block ref="deb04333ae980bc0147681e476e1941c" prefix=" " category="inline-code"></block>。</block>
  <block id="b0e7049d5aeb967991b6b3a21db08de3" category="paragraph">BackupRestore CRを使用して別のネームスペースにバックアップをリストアすると、Trident保護によって新しいネームスペースにアプリケーションがリストアされ、リストアしたアプリケーション用のアプリケーションCRが作成されます。リストアしたアプリケーションを保護するには、オンデマンドバックアップまたはSnapshotを作成するか、保護スケジュールを設定します。</block>
  <block id="4b405223d9feceac91c5ef8df77b1961" category="paragraph">カスタムリソース（CR）ファイルを使用して、スナップショットから別のネームスペースまたは元のソースネームスペースにデータをリストアできます。SnapshotRestore CRを使用して別のネームスペースにSnapshotをリストアすると、Trident保護によって新しいネームスペースにアプリケーションがリストアされ、リストアしたアプリケーション用のアプリケーションCRが作成されます。リストアしたアプリケーションを保護するには、オンデマンドバックアップまたはSnapshotを作成するか、保護スケジュールを設定します。</block>
  <block id="375efef64643c8aa6bb8e0ba2159a82a" category="list-text">プラグインバイナリの実行権限を有効にします。</block>
  <block id="eefd51253afc93c1ad54658882a65dec" category="list-text">必要に応じて、プラグインバイナリをホームディレクトリ内の場所にコピーできます。この場合、locationがPATH変数の一部であることを確認することをお勧めします。</block>
  <block id="75b0e724fe59ed9d6eda0fcd4679bfee" category="admonition">プラグインをPATH変数の場所にコピーすると、任意の場所からまたはを<block ref="e89ec374c6edc886ea12d28524834e68" prefix=" " category="inline-code"></block>入力してプラグインを使用でき<block ref="d4845d5856667a10aee97f3404a35627" prefix=" " category="inline-code"></block>ます。</block>
  <block id="dc5b2d9ecd49d3e5ee37059e2d80512f" category="section-title">TridentによるKubernetesクラスタ互換性の保護</block>
  <block id="9ac0dd27d420b7b48ca72e463ae95e18" category="inline-link">以下の手順を参照して</block>
  <block id="664d28801abc192d5c7dfd7bfa758e98" category="admonition">Trident保護をインストールするクラスタに、実行中のSnapshotコントローラと関連するCRDが設定されていることを確認します。スナップショットコントローラを取り付けるには、を参照してください<block ref="5d66944a2971d1b9b5f332812a6e737b" category="inline-link-rx"></block>。</block>
  <block id="9560d298aea880d389acf56a45410c4b" category="summary">Tridentとストレージバックエンドの間のトラフィックを保護するように暗号化を設定できます。</block>
  <block id="c994f1e00d22f7d8d4e7b3e7f50f8002" category="doc">Kerberos転送中暗号化</block>
  <block id="c8ea4672c0efc6fee26c8648f609a829" category="paragraph">Kerberos転送中暗号化を使用すると、管理対象クラスタとストレージバックエンドの間のトラフィックの暗号化を有効にすることで、データアクセスセキュリティを強化できます。</block>
  <block id="420bac2406e93da0c7c791aca209017d" category="paragraph">Tridentは、ストレージバックエンドとしてONTAPのKerberos暗号化をサポートしています。</block>
  <block id="796f801ad41f96aeb2e1a1950ed629e4" category="list-text">*オンプレミスONTAP *- Tridentは、Red Hat OpenShiftおよびアップストリームのKubernetesクラスタからオンプレミスのONTAPボリュームへのNFSv3 / NFSv4接続でKerberos暗号化をサポートしています。</block>
  <block id="0a710c309a5f6dc65b056833a5208521" category="paragraph">作成、削除、サイズ変更、スナップショット、クローン、 読み取り専用のクローンを作成し、NFS暗号化を使用するボリュームをインポートします。</block>
  <block id="2aff02c8ceb99a9445937af9d4d8f286" category="section-title">オンプレミスのONTAPボリュームでの転送中Kerberos暗号化の設定</block>
  <block id="330282591e8caa9814eb88ec524b89cf" category="paragraph">管理対象クラスタとオンプレミスのONTAPストレージバックエンドの間のストレージトラフィックに対してKerberos暗号化を有効にすることができます。</block>
  <block id="daf34fb0fcb74d9bcf85abcebcc8e1f2" category="admonition">オンプレミスのONTAPストレージバックエンドを使用するNFSトラフィックのKerberos暗号化は、ストレージドライバを使用した場合にのみサポートされ<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ます。</block>
  <block id="0ff02d27ae5cac1a12c6c403fd55443c" category="list-text">ユーティリティにアクセスできることを確認し<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ます。</block>
  <block id="bef890ed7cc869346d4b483cd3e3ab00" category="list-text">ONTAPストレージバックエンドへの管理者アクセス権があることを確認します。</block>
  <block id="160b05c1b85ce34d702a3568614baec1" category="list-text">ONTAPストレージバックエンドから共有するボリュームの名前を確認しておきます。</block>
  <block id="9fe985de654739fa6f48edb0d49059b4" category="inline-link">『NetApp NFSv4 Enhancements and Best Practices Guide』</block>
  <block id="9c6a0d551d50340cca48e6cfa4355566" category="list-text">Kerberos暗号化で使用するNFSv4ボリュームが正しく設定されていることを確認します。のNetApp NFSv4ドメインの設定セクション（13ページ）を参照してください<block ref="fcbfe3012009d21ef9ba8407142f85b6" category="inline-link-rx"></block>。</block>
  <block id="7c67bfc9153da2055f6d09209f9853c7" category="section-title">ONTAPエクスポートポリシーを追加または変更する</block>
  <block id="3afa4a2a4546fcf1b9a361d1bff9763b" category="paragraph">既存のONTAPエクスポートポリシーにルールを追加するか、ONTAP Storage VMのルートボリュームおよびアップストリームのKubernetesクラスタと共有するONTAPボリュームに対してKerberos暗号化をサポートする新しいエクスポートポリシーを作成する必要があります。追加するエクスポートポリシールールまたは新規に作成するエクスポートポリシーでは、次のアクセスプロトコルとアクセス権限がサポートされている必要があります。</block>
  <block id="e21233a7f0d7fedb5883aea1dfed27cf" category="paragraph-title">アクセスプロトコル</block>
  <block id="e10f51f4d0eb1b58929237c03db4b832" category="paragraph">NFS、NFSv3、およびNFSv4の各アクセスプロトコルを使用してエクスポートポリシーを設定します。</block>
  <block id="baedff73fdfff23f65e8b80727cd3088" category="paragraph-title">詳細を確認</block>
  <block id="892969be437eb53b05f372cc0ae74d6c" category="paragraph">ボリュームのニーズに応じて、次の3つのバージョンのいずれかを設定できます。</block>
  <block id="fda32d078836aa6e69a3497be5f9cdca" category="list-text">* Kerberos 5 *-（認証と暗号化）</block>
  <block id="7d55fc39e32469f330297f866ec40e41" category="list-text">* Kerberos 5i *-（ID保護による認証と暗号化）</block>
  <block id="ec7a355c2dad88f01ddce6c662ff507f" category="list-text">* Kerberos 5p *-（IDおよびプライバシー保護による認証および暗号化）</block>
  <block id="43c969c43b32e3dd3bcf607fcbe4eb43" category="paragraph">適切なアクセス権限を指定してONTAPエクスポートポリシールールを設定します。たとえば、Kerberos 5i暗号化とKerberos 5p暗号化が混在しているNFSボリュームをクラスタにマウントする場合は、次のアクセス設定を使用します。</block>
  <block id="0370275db54735bcb50d5bfce36de4e6" category="cell">読み取り専用アクセス</block>
  <block id="dbdb2754b99a3cb725e62ef04c72ee06" category="cell">読み取り/書き込みアクセス</block>
  <block id="a3a9521b6675631e988004e7b8ffe7b4" category="cell">スーパーユーザアクセス</block>
  <block id="15395d0642f86c5992abbca5e56e2b29" category="cell">UNIX</block>
  <block id="00d23a76e43b46dae9ec7aa9dcbebb32" category="cell">有効</block>
  <block id="f22873ba6efee4accc10bd5a3d3ca9eb" category="cell">Kerberos 5i</block>
  <block id="a98fd9001be872cb9763c171625ee881" category="cell">Kerberos 5p</block>
  <block id="9a83b6e7170a551799b737b273fde5e1" category="paragraph">ONTAPエクスポートポリシーおよびエクスポートポリシールールの作成方法については、次のドキュメントを参照してください。</block>
  <block id="bb53c6c29f127a298da7dd86bf00bb89" category="inline-link">エクスポートポリシーを作成する</block>
  <block id="2065c7b470f4d228b592158785fc8c0b" category="list-text"><block ref="2065c7b470f4d228b592158785fc8c0b" category="inline-link-rx"></block></block>
  <block id="8c47b652d31bca921bb367b0e3c5ec6d" category="inline-link">エクスポートポリシーにルールを追加する</block>
  <block id="249db3ace916cc1363d388978a8b6c5e" category="list-text"><block ref="249db3ace916cc1363d388978a8b6c5e" category="inline-link-rx"></block></block>
  <block id="c21c2b66c343dfe9db6298e59c2cc767" category="section-title">ストレージバックエンドの作成</block>
  <block id="449396632614b1e0731c51704890f8bd" category="paragraph">Kerberos暗号化機能を含むTridentストレージバックエンド構成を作成できます。</block>
  <block id="0848c0a5d21711a3f8967a344553c492" category="paragraph">Kerberos暗号化を設定するストレージバックエンド構成ファイルを作成する場合は、パラメータを使用して次の3つのバージョンのKerberos暗号化のいずれかを指定でき<block ref="21f59c061af833af5de20556ce76052d" prefix=" " category="inline-code"></block> ます。</block>
  <block id="619885da64e4ba4b0df04a00d78079b7" category="list-text"><block ref="47587c842cb0a2574a5a4c7c644b006d" prefix="" category="inline-code"></block> （認証と暗号化）</block>
  <block id="aa734ef649b1255faccfc198980bf49a" category="list-text"><block ref="600550ee922e257041b75142ddab2319" prefix="" category="inline-code"></block> （ID保護による認証と暗号化）</block>
  <block id="4197df0e0ac8f9480069ee1e0dc22543" category="list-text"><block ref="b148e7f5a01830ae530070588af5e9e6" prefix="" category="inline-code"></block> （IDおよびプライバシー保護による認証および暗号化）</block>
  <block id="c99e9f5ade1b20705438ad6882d112c2" category="paragraph">Kerberosレベルを1つだけ指定してください。パラメータリストで複数のKerberos暗号化レベルを指定した場合は、最初のオプションのみが使用されます。</block>
  <block id="926a7d5402fb3ed0da8fcd630e3a8f8c" category="list-text">管理対象クラスタで、次の例を使用してストレージバックエンド構成ファイルを作成します。括弧&lt;&gt;の値は、環境の情報で置き換えます。</block>
  <block id="2cd636101227e18554e5c5351bf5bbe3" category="list-text">前の手順で作成した構成ファイルを使用して、バックエンドを作成します。</block>
  <block id="3204b0a88f0c8e6cb89ef2653173ddf1" category="paragraph">ストレージクラスを作成して、Kerberos暗号化を使用してボリュームをプロビジョニングできます。</block>
  <block id="03111bbdda72125f143e084557265c1c" category="paragraph">ストレージクラスオブジェクトを作成するときは、パラメータを使用して、次の3つのバージョンのKerberos暗号化のいずれかを指定できます<block ref="e1d3d66c5926aa7fbc3186da8f9b476b" prefix=" " category="inline-code"></block> 。</block>
  <block id="85eee746a5d30d5149d419a3dfd2fe4e" category="list-text"><block ref="ebd2fabd7ee9d78e670334fba38c5a6b" prefix="" category="inline-code"></block> （認証と暗号化）</block>
  <block id="24dac19871e9929a42267b538a60ebe5" category="list-text"><block ref="82f5845550ca9ab77ce797c16bd7bca1" prefix="" category="inline-code"></block> （ID保護による認証と暗号化）</block>
  <block id="c36d9d41da2e174bfa8b3338450fb45c" category="list-text"><block ref="7a1dedb8f6c22fd4833b45267ad3b01a" prefix="" category="inline-code"></block> （IDおよびプライバシー保護による認証および暗号化）</block>
  <block id="4a2e7c9ecf75ac18d4daec2783256280" category="paragraph">Kerberosレベルを1つだけ指定してください。パラメータリストで複数のKerberos暗号化レベルを指定した場合は、最初のオプションのみが使用されます。ストレージバックエンド構成で指定した暗号化レベルがストレージクラスオブジェクトで指定したレベルと異なる場合は、ストレージクラスオブジェクトが優先されます。</block>
  <block id="0bae6577bb0c45b6f2d82896713df9f9" category="list-text">次の例を使用して、StorageClass Kubernetesオブジェクトを作成します。</block>
  <block id="bd9c5e9bd5f130a6fbdbcaeb04656652" category="list-text">ストレージクラスを作成します。</block>
  <block id="2472867b1c2b8a486fe64cfc08afeba5" category="list-text">ストレージクラスが作成されていることを確認します。</block>
  <block id="0a44f30bac4e15e0464a80627bef5882" category="section-title">ボリュームのプロビジョニング</block>
  <block id="37bd6ab74d66efd877ea77c0e69e593c" category="paragraph">ストレージバックエンドとストレージクラスを作成したら、ボリュームをプロビジョニングできるようになりました。手順については、を参照してください<block ref="70405bfb2744633a336a6c9abdd1df6e" category="inline-link-rx"></block>。</block>
  <block id="fe10ad21eb1ce607c403a8d609d5ab3e" category="section-title">Azure NetApp Filesボリュームでの転送中Kerberos暗号化の設定</block>
  <block id="cd21e25bc313d3805456542eac624499" category="paragraph">管理対象クラスタと単一のAzure NetApp FilesストレージバックエンドまたはAzure NetApp Filesストレージバックエンドの仮想プールの間のストレージトラフィックに対してKerberos暗号化を有効にすることができます。</block>
  <block id="04379b5e9a5ec6b970752d2b8d0341c8" category="list-text">管理対象のRed Hat OpenShiftクラスタでTridentが有効になっていることを確認します。</block>
  <block id="6c32a3d0f1a665987b98dde5a0f96d7d" category="inline-link">Azure NetApp Files のドキュメント</block>
  <block id="aa63a31f222305a4ce10d8c1020ab1fd" category="list-text">要件を確認し、の手順に従って、Kerberos暗号化用のAzure NetApp Filesストレージバックエンドの準備が完了していることを確認します。<block ref="54b351b1767d2d50eb8c87e19c20164c" category="inline-link-rx"></block></block>
  <block id="4f07c8d51fef64025d4b746305177733" category="paragraph">Kerberos暗号化機能を含むAzure NetApp Filesストレージバックエンド構成を作成できます。</block>
  <block id="5c6eaa8dd4c4134f6ad836e97ffdee13" category="paragraph">Kerberos暗号化を設定するストレージバックエンド構成ファイルを作成する場合は、次の2つのレベルのいずれかで適用するように定義できます。</block>
  <block id="bc0557be41ea94e344d7ece1f311b7d4" category="list-text">フィールドを使用した* storage backend level *<block ref="6a60a6d9955ef9fce24cf4e86efed7af" prefix=" " category="inline-code"></block></block>
  <block id="e30ee9a2b9976217a5fe28b412fe04d6" category="list-text">フィールドを使用した*仮想プールレベル*<block ref="533988f6253fcffab6270c1aafb50970" prefix=" " category="inline-code"></block></block>
  <block id="64864cec765a0e5c421369098904873c" category="paragraph">仮想プールレベルで構成を定義する場合、ストレージクラスのラベルを使用してプールが選択されます。</block>
  <block id="082ccae8192fda90d271d92200b3a7dd" category="paragraph">どちらのレベルでも、次の3つのバージョンのKerberos暗号化のいずれかを指定できます。</block>
  <block id="853434fc4aabccb1e3341f56ef2a9424" category="list-text"><block ref="9ce0da43b8420d1a89f0d00da04312a2" prefix="" category="inline-code"></block> （認証と暗号化）</block>
  <block id="44ea74e03aa9994870273996b8770ef6" category="list-text"><block ref="6bbaa5deea5e26abf8837d31bd265b6f" prefix="" category="inline-code"></block> （ID保護による認証と暗号化）</block>
  <block id="e22427c81cd5155061fad66ed3f13f52" category="list-text"><block ref="42b55bed7d0514cd2e2189a3edc9d87b" prefix="" category="inline-code"></block> （IDおよびプライバシー保護による認証および暗号化）</block>
  <block id="c51fc706f0eb21d747d3ff2e2bb6c38b" category="list-text">管理対象クラスタで、ストレージバックエンドを定義する必要がある場所（ストレージバックエンドレベルまたは仮想プールレベル）に応じて、次のいずれかの例を使用してストレージバックエンド構成ファイルを作成します。括弧&lt;&gt;の値は、環境の情報で置き換えます。</block>
  <block id="d51a5db438981d465f8fecc7ecbeb054" category="open-title">ストレージバックエンドレベルの例</block>
  <block id="83aab9b6ffc8c65b79350e009c49e5f4" category="open-title">仮想プールレベルの例</block>
  <block id="1738a6ff1f0b418ce16cf74aabdceff1" category="section-title">Snapshotからのインプレースボリュームのリストア</block>
  <block id="f29961e077241efec95d259658aa48f1" category="paragraph">Tridentでは、（TASR）CRを使用してSnapshotからボリュームをインプレースで迅速にリストアできます<block ref="2aabb3b01d0d54317a9eeef910e001f6" prefix=" " category="inline-code"></block>。このCRはKubernetesの必須アクションとして機能し、処理の完了後も維持されません。</block>
  <block id="0219777660eb822cd45c74808c60e5e6" category="paragraph">Tridentは、、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block><block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>、、で<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>のSnapshotリストアをサポートしています。<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>、および<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>ドライバ。</block>
  <block id="e0bc0596a7d966cd8dab3ee0e924c9b5" category="paragraph">バインドされたPVCと使用可能なボリュームSnapshotが必要です。</block>
  <block id="d785d18f53979794a4ef9e08d186e3c4" category="list-text">PVCステータスがバインドされていることを確認します。</block>
  <block id="d0f2b7254060d8a37c98c1eb4289586d" category="list-text">ボリュームSnapshotを使用する準備が完了していることを確認します。</block>
  <block id="da6aadede1bc870c9042c660fdf93f25" category="list-text">TASR CRを作成します。この例では、PVCおよびボリュームスナップショット用のCRを作成し<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block><block ref="06f2874897d3ec8426ec85e0ffda5544" prefix=" " category="inline-code"></block>ます。</block>
  <block id="68fb76b60d3c1f9302a04ef3eb761c08" category="admonition">TASR CRは、PVCおよびVSが存在する名前空間に存在する必要があります。</block>
  <block id="0c9991859e53bf37c58a2fd1233eb478" category="list-text">スナップショットからリストアするにはCRを適用します。この例では、Snapshotからリストアし<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>ます。</block>
  <block id="91f853f4fc1dc83a1a2f28c65af59d28" category="list-text">ほとんどの場合、障害が発生したときにTridentで処理が自動的に再試行されることはありません。この操作を再度実行する必要があります。</block>
  <block id="c83b74c2020dd836f5b401ecda0da78c" category="list-text">管理者アクセス権を持たないKubernetesユーザは、アプリケーションネームスペースにTASR CRを作成するために、管理者から権限を付与されなければならない場合があります。</block>
  <block id="cff310c77e35cf2f693ebbb39c78e89f" category="summary">Tridentでは、ディザスタリカバリ用にボリュームをレプリケートするために、ソースボリュームとデスティネーションボリューム間のミラー関係を作成できます。</block>
  <block id="50e2eea9ba53d70147772db1c5d25f79" category="doc">SnapMirrorによるボリュームのレプリケート</block>
  <block id="a682d8ef86abcae6c5a1db6186c5f02b" category="list-text">ボリューム（PVC）間のミラー関係を作成する</block>
  <block id="31a8f98d3378661a5b8abf15438f0bca" category="list-text">ボリューム間のミラー関係の削除</block>
  <block id="a6349012892be516e5729d501a9649a7" category="list-text">ミラー関係を解除する</block>
  <block id="2597cb6d27f572bb6d7d2fd15f414795" category="list-text">災害時（フェイルオーバー）にセカンダリボリュームを昇格する</block>
  <block id="40f7c55be912a395aed2502927d3fcfa" category="list-text">クラスタからクラスタへのアプリケーションのロスレス移行の実行（計画的なフェイルオーバーまたは移行時）</block>
  <block id="d193cd9a2432eca22e5cf0d06dcee1e6" category="section-title">レプリケーションの前提条件</block>
  <block id="55be807bf2be012ff44a04449cc5e8a8" category="paragraph">作業を開始する前に、次の前提条件を満たしていることを確認してください。</block>
  <block id="3404cce75db90acf6a9d52860721a139" category="list-title">ONTAP クラスタ</block>
  <block id="fbcc2a3b7506e5e36eb6f61b69bb75da" category="list-text">* Trident *：Tridentバージョン22.10以降が、バックエンドとしてONTAPを利用するソースとデスティネーションの両方のKubernetesクラスタに存在している必要があります。</block>
  <block id="5cc8ada79224d850ecd22fd22e550c47" category="list-title">ピアリング</block>
  <block id="02b05cdd8f0a8c426f307085cc1004f7" category="list-text">*クラスタとSVM *：ONTAPストレージバックエンドにピア関係が設定されている必要があります。詳細については、を参照してください<block ref="60333a598df416e49fbceb5a88dce370" category="inline-link-rx"></block> 。</block>
  <block id="792f00dfd96560df18fe1c6b56861893" category="list-text">* TridentとSVM *：ピア関係にあるリモートSVMをデスティネーションクラスタのTridentで使用できる必要があります。</block>
  <block id="0c5e1b5bc54261ccadd2a72af1047ded" category="list-title">サポートされるドライバ</block>
  <block id="3ce5b83f8896ef0d2e356d3972ec8898" category="section-title">ミラーPVCの作成</block>
  <block id="427a1ab7f39ee4f2dd7a0b7e35f572da" category="paragraph">以下の手順に従って、CRDの例を使用してプライマリボリュームとセカンダリボリュームの間にミラー関係を作成します。</block>
  <block id="4dc69f665f0d76c17a577a352dd15b25" category="list-text">プライマリKubernetesクラスタで次の手順を実行します。</block>
  <block id="cffc5263be00a76539edeeff72190d54" category="list-text">パラメータを指定してStorageClassオブジェクトを作成し<block ref="23041ca302bab724a5a0a4ee923c745d" prefix=" " category="inline-code"></block> ます。</block>
  <block id="f1fe26832c26eb686c85bd72da8a62f1" category="list-text">以前に作成したStorageClassを使用してPVCを作成します。</block>
  <block id="a306778c7affcc4dd2329c7f1e9a6389" category="list-text">ローカル情報を含むMirrorRelationship CRを作成します。</block>
  <block id="12551ccb4392cf7715384812c34ff7dc" category="paragraph">Tridentは、ボリュームの内部情報とボリュームの現在のデータ保護（DP）状態をフェッチし、MirrorRelationshipのstatusフィールドに値を入力します。</block>
  <block id="7e36329a511f28054ceb0cb2aba7de3a" category="list-text">TridentMirrorRelationship CRを取得して、PVCの内部名とSVMを取得します。</block>
  <block id="ce01c03f932076e82348fc5aaefacc7d" category="list-text">セカンダリKubernetesクラスタで次の手順を実行します。</block>
  <block id="dbe7fac150e57be9bc0d8e046792f4c3" category="list-text">trident.netapp.io/replication: trueパラメータを使用してStorageClassを作成します。</block>
  <block id="01d68e0f9630c032dc8a33358e46e65b" category="list-text">デスティネーションとソースの情報を含むMirrorRelationship CRを作成します。</block>
  <block id="b4dcd7f617380594be36d544e6823841" category="paragraph">Tridentは、設定した関係ポリシー名（ONTAPの場合はデフォルト）を使用してSnapMirror関係を作成して初期化します。</block>
  <block id="4ba5d2a91c95149a7ad924ebd0d9503d" category="list-text">セカンダリ（SnapMirrorデスティネーション）として機能するStorageClassを作成してPVCを作成します。</block>
  <block id="14c271d9e62dcf6baaab0fde456f080f" category="paragraph">TridentはTridentMirrorRelationship CRDをチェックし、関係が存在しない場合はボリュームの作成に失敗します。関係が存在する場合、Tridentは新しいFlexVol volumeを、MirrorRelationshipで定義されているリモートSVMとピア関係にあるSVMに配置します。</block>
  <block id="e71d1a5cbaac30e63ed507e4b62c705f" category="section-title">ボリュームレプリケーションの状態</block>
  <block id="d802b3b47bb3c6b52714c9817598fcb8" category="paragraph">Trident Mirror Relationship（TMR）は、PVC間のレプリケーション関係の一端を表すCRDです。宛先TMRには、目的の状態をTridentに通知する状態があります。宛先TMRの状態は次のとおりです。</block>
  <block id="546afd3b22376f948ae8d790e441d7da" category="list-text">*確立済み*：ローカルPVCはミラー関係のデスティネーションボリュームであり、これは新しい関係です。</block>
  <block id="724cfb5ec8bac42a80699bb79c4eccb9" category="list-text">*昇格*：ローカルPVCはReadWriteでマウント可能であり、ミラー関係は現在有効ではありません。</block>
  <block id="d323366aa32e60d08a0f93bda543af47" category="list-text">* reestablished *：ローカルPVCはミラー関係のデスティネーションボリュームであり、以前はそのミラー関係に含まれていました。</block>
  <block id="4c3cd5b62a43e82e03fffa6b238ed918" category="list-text">デスティネーションボリュームはデスティネーションボリュームの内容を上書きするため、ソースボリュームとの関係が確立されたことがある場合は、reestablished状態を使用する必要があります。</block>
  <block id="b2e7dc07859cd924ca5706b299986e57" category="list-text">ボリュームが以前にソースとの関係になかった場合、再確立状態は失敗します。</block>
  <block id="93f9c6ccc7d85e709509db31891ae5eb" category="section-title">計画外フェールオーバー時にセカンダリPVCを昇格する</block>
  <block id="4a76c8d930ec18b5aedc26b5d8e5246f" category="paragraph">セカンダリKubernetesクラスタで次の手順を実行します。</block>
  <block id="78ac02218b5a9367bdcb4881538477cc" category="list-text">TridentMirrorRelationshipの_spec.state_フィールド をに更新します<block ref="1fe57d6202c7cfbb0ee344b1e0a6fb37" prefix=" " category="inline-code"></block>。</block>
  <block id="ffe4cfc202d643b50342b93a4a11a82f" category="section-title">計画的フェイルオーバー中にセカンダリPVCを昇格</block>
  <block id="1d60b89a076d7f30b8efdef50e842f68" category="paragraph">計画的フェイルオーバー（移行）中に、次の手順を実行してセカンダリPVCをプロモートします。</block>
  <block id="3310d9a60c164accb7c262ab6e9fbc65" category="list-text">プライマリKubernetesクラスタでPVCのSnapshotを作成し、Snapshotが作成されるまで待ちます。</block>
  <block id="8b17b79902950942165541a8ab704363" category="list-text">プライマリKubernetesクラスタで、SnapshotInfo CRを作成して内部の詳細を取得します。</block>
  <block id="678346d79faaa65b2da52e6d7ddce845" category="list-text">セカンダリKubernetesクラスタで、_TridentMirrorRelationship_CRの_spec.state_フィールド を_promoted_に更新し、_spec.promotedSnapshotHandle_をSnapshotのinternalNameにします。</block>
  <block id="7b007b14980acd66e9301e02a5670f47" category="list-text">セカンダリKubernetesクラスタで、TridentMirrorRelationshipのステータス（status.stateフィールド）がPromotedになっていることを確認します。</block>
  <block id="f69101c0107c4bbf8f0ccc9141beb68b" category="section-title">フェイルオーバー後にミラー関係をリストアする</block>
  <block id="9a023cbe1d3be933d8edb6228f9901ce" category="paragraph">ミラー関係をリストアする前に、新しいプライマリとして作成する側を選択します。</block>
  <block id="1c7011adbcc0afa258396aff4f10266b" category="list-text">セカンダリKubernetesクラスタで、TridentMirrorRelationshipの_spec.remoteVolumeHandle_fieldの値が更新されていることを確認します。</block>
  <block id="ffb25f01fda2538ae98bc0c4b4d465a6" category="list-text">セカンダリKubernetesクラスタで、TridentMirrorRelationshipの_spec.mirror_fieldをに更新します<block ref="036bbe13de7250844b100bc381b59214" prefix=" " category="inline-code"></block>。</block>
  <block id="41a593c0bede63aac2726a18e4599087" category="section-title">その他の処理</block>
  <block id="567147b40ff26562a6dfcddbde29e62e" category="paragraph">Tridentでは、プライマリボリュームとセカンダリボリュームで次の処理がサポートされます。</block>
  <block id="253093d00b66ff2357df5085c04b2758" category="section-title">新しいセカンダリPVCへのプライマリPVCの複製</block>
  <block id="301dcece9e67241c29ebbbac8a94274e" category="paragraph">プライマリPVCとセカンダリPVCがすでに存在していることを確認します。</block>
  <block id="7f1c32cba6b98d1db7f3dfda1df76189" category="list-text">PersistentVolumeClaim CRDとTridentMirrorRelationship CRDを、確立されたセカンダリ（デスティネーション）クラスタから削除します。</block>
  <block id="e655fd5342cff178f54ae5f5b2a3b7b6" category="list-text">プライマリ（ソース）クラスタからTridentMirrorRelationship CRDを削除します。</block>
  <block id="3eb69a135044d3f308d140dccb1dbe5e" category="list-text">確立する新しいセカンダリ（デスティネーション）PVC用に、プライマリ（ソース）クラスタに新しいTridentMirrorRelationship CRDを作成します。</block>
  <block id="92c650dfb6284b5d24ed0e83a2338fa0" category="section-title">ミラー、プライマリ、またはセカンダリPVCのサイズ変更</block>
  <block id="66990a43216d28b5b6818b021d397574" category="paragraph">PVCは通常どおりサイズ変更できます。データ量が現在のサイズを超えると、ONTAPは自動的に宛先フレフxolを拡張します。</block>
  <block id="4e2626fed5da19a4be8255f16a331609" category="section-title">PVCからのレプリケーションの削除</block>
  <block id="e1abf7fa65d845d34c33d593ed070453" category="paragraph">レプリケーションを削除するには、現在のセカンダリボリュームで次のいずれかの操作を実行します。</block>
  <block id="b3dd2c563dffb09f03c72bc16a72be62" category="list-text">セカンダリPVCのMirrorRelationshipを削除します。これにより、レプリケーション関係が解除されます。</block>
  <block id="413ab8e64d0d4ccb3f08ef2a8653a525" category="list-text">または、spec.stateフィールドを_promoted_に更新します。</block>
  <block id="c00cff9971607d7a0409066a0ecc3bcd" category="section-title">（以前にミラーリングされていた）PVCの削除</block>
  <block id="e52ffc7f9894586bbf7c4260d92073c4" category="paragraph">Tridentは、レプリケートされたPVCがないかどうかを確認し、レプリケーション関係を解放してからボリュームの削除を試行します。</block>
  <block id="8ec9c60105332c1be8facc42b496e14b" category="section-title">TMRの削除</block>
  <block id="a956a14d229badbbde1032651b3586fd" category="paragraph">ミラー関係の片側のTMRを削除すると、Tridentが削除を完了する前に、残りのTMRが_PROMOTED_STATEに移行します。削除対象として選択されたTMRがすでに_promoted_stateにある場合、既存のミラー関係は存在せず、TMRは削除され、TridentはローカルPVCを_ReadWrite_にプロモートします。この削除により、ONTAP内のローカルボリュームのSnapMirrorメタデータが解放されます。このボリュームを今後ミラー関係で使用する場合は、新しいミラー関係を作成するときに、レプリケーション状態が_established_volumeである新しいTMRを使用する必要があります。</block>
  <block id="d41660149eb8930ad76a1dfe3dc5f2e3" category="section-title">ONTAPがオンラインのときにミラー関係を更新</block>
  <block id="7079164c5ba86439b0719782591106dd" category="paragraph">ミラー関係は、確立後にいつでも更新できます。フィールドまたはフィールドを使用して関係を更新できます<block ref="abb3a949c6d70e3e5d92f4ad2bf143a3" prefix=" " category="inline-code"></block><block ref="ff0b4e3d4dfe8f6074b6943947345d4d" prefix=" " category="inline-code"></block> 。デスティネーションボリュームを通常のReadWriteボリュームに昇格する場合は、_promotedSnapshotHandle_を使用して、現在のボリュームのリストア先となる特定のSnapshotを指定できます。</block>
  <block id="4eecab048a7c90cfb92e0f04884686e8" category="section-title">ONTAPがオフラインの場合にミラー関係を更新</block>
  <block id="e782fcb9f3e7e8fa8b5ccdb3169c0e42" category="paragraph">CRDを使用すると、TridentがONTAPクラスタに直接接続されていなくてもSnapMirror更新を実行できます。次のTridentActionMirrorUpdateの形式例を参照してください。</block>
  <block id="bc08468157c4a9e3a30eed7ba64cc309" category="paragraph"><block ref="1f9dfae8a369525bce4996df40963532" prefix="" category="inline-code"></block> TridentActionMirrorUpdate CRDの状態を反映します。_Succeeded_、_In Progress_、_Failed_のいずれかの値を指定できます。</block>
  <block id="239be7c008105ac7fd4ca34940e848dd" category="list-text">GKEクラスタに設定されたワークロードID、およびノードプールに設定されたGKEメタデータサーバ。</block>
  <block id="cf1b0c32b7f8d889140a0a7a048bc29b" category="list-text">Google Cloud NetAppのボリューム管理者（roles/gcp.admin NetApp）ロールまたはカスタムロールを持つGCPサービスアカウント。</block>
  <block id="b70329a4cd0d7e433e8af087eebce89a" category="list-text">新しいGCPサービスアカウントを指定するcloudProviderとcloudIdentityを含むTridentがインストールされます。以下に例を示します。</block>
  <block id="73a8d79444c307e1446b60eb6a9ba8f1" category="paragraph">AWS EKS用のTridentアドオンを設定する前に、次の条件を満たしていることを確認してください。</block>
  <block id="5c48b2cb013af0c5d292d6bc5659074c" category="section-title">CLIを使用したTrident EKSアドオンのインストールとアンインストール</block>
  <block id="1095f7331744c1accf45762c2da50a60" category="paragraph">Tridentは、KubernetesでAmazon FSx for NetApp ONTAPストレージ管理を合理化し、開発者や管理者がアプリケーションの導入に集中できるようにします。</block>
  <block id="aa9c9ff1836c624104eb3a256a7b8b69" category="section-title">Helmを使用したTridentのインストール</block>
  <block id="b0e9da2f71a439472cddf0553ae43edc" category="section-title">EKSアドオンを使用してTridentをインストールする</block>
  <block id="03023c37f6d85929cf0151fe858d3183" category="paragraph">Trident EKSアドオンには、最新のセキュリティパッチ、バグ修正が含まれており、AWSによってAmazon EKSと連携することが検証されています。EKSアドオンを使用すると、Amazon EKSクラスタの安全性と安定性を一貫して確保し、アドオンのインストール、構成、更新に必要な作業量を削減できます。</block>
  <block id="16a9eb0d1ef7d37ab7459bc9a67a8102" category="section-title">AWS向けTridentアドオンを有効にする</block>
  <block id="1d5144e260d8c4ece3c5d47a77d84c11" category="section-title">Trident EKSアドオンの更新</block>
  <block id="ccab466451ff5a867710cce1b28c33a0" category="section-title">Trident EKSアドオンのアンインストール/削除</block>
  <block id="d1548585dadda37a28905a23e22cf65d" category="section-title">バックアップから別のクラスタへのリストア</block>
  <block id="7fa8874b1f645ca2af9d81b51985b8fb" category="paragraph">元のクラスタで問題が発生した場合は、バックアップを別のクラスタにリストアできます。</block>
  <block id="dd4ee610bd1d035c73bc0cbcd80e46da" category="paragraph">次の前提条件が満たされていることを確認します。</block>
  <block id="1d6028c560c8f6dbee841737e60a3d9d" category="list-text">デスティネーションクラスタにTrident保護がインストールされています。</block>
  <block id="b20f8883edb9068c67a2faeb3c083d38" category="list-text">デスティネーションクラスタは、バックアップが格納されているソースクラスタと同じAppVaultのバケットパスにアクセスできます。</block>
  <block id="0425d0358a4cba7a7cce5ddd727ab6a2" category="list-text">Trident保護CLIプラグインを使用して、デスティネーションクラスタでAppVault CRが使用可能かどうかを確認します。</block>
  <block id="1ff83a5266e9e025c2984e0c10dea90e" category="admonition">アプリケーションのリストア用のネームスペースがデスティネーションクラスタに存在することを確認します。</block>
  <block id="8d433ae9a21c49e9e5433ebd408605c0" category="list-text">デスティネーションクラスタから使用可能なAppVaultのバックアップ内容を表示します。</block>
  <block id="378e6f0ba7080535a4462b5311befb40" category="paragraph">このコマンドを実行すると、AppVaultで使用可能なバックアップが表示されます。これには、元のクラスタ、対応するアプリケーション名、タイムスタンプ、アーカイブパスが含まれます。</block>
  <block id="053aba80de03f3fdf626d1c858342330" category="list-text">AppVault名とアーカイブパスを使用して、アプリケーションをデスティネーションクラスタにリストアします。</block>
  <block id="fceebbe32c1f7b24c54d6a4e8a0fa776" category="admonition">BackupRestore CRを使用できない場合は、手順2のコマンドを使用してバックアップの内容を表示できます。</block>
  <block id="4ef55c1fec2de9218af40d16cbc021a4" category="list-text">次のコマンドを使用してアプリケーションをリストアし、括弧内の値を環境の情報に置き換えます。namespace-mapping引数では、コロンで区切られた名前空間を使用して、ソース名前空間をsource1:dest1、source2:dest2の形式で正しいデスティネーション名前空間にマッピングします。例：</block>
  <block id="41ee1e1e674f49a8e3c78fc5517b1b83" category="inline-link">Trident 24.10</block>
  <block id="330905133ec61fb32dbdb0593cf466a2" category="list-text"><block ref="330905133ec61fb32dbdb0593cf466a2" category="inline-link-rx"></block></block>
  <block id="14151311f8b442ecc7db1533868dccd9" category="paragraph">推奨されませんが、2つのTridentインスタンスに同じバックエンドSVMを使用できます。インストール時に各インスタンスに一意のボリューム名を指定するか、ファイルで一意のパラメータを<block ref="57a3822fdb39e72cdc47d89fd04ce467" prefix=" " category="inline-code"></block>指定し<block ref="641b2675465e765661450709e2351a8e" prefix=" " category="inline-code"></block>ます。これは、両方のインスタンスに同じFlexVol volumeが使用されないようにするためです。</block>
  <block id="c45e7f5f358ba554413458272da37266" category="paragraph"><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバは、同じFlexVol volumeに最大200個のqtree（50~300の間で設定可能）、クラスタノードあたり100,000個、クラスタあたり2.4M個のqtreeを作成します。エコノミードライバによって処理される新しいを入力すると、<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>新しいqtreeに対応できるFlexVol volumeがすでに存在するかどうかが確認されます。qtreeに対応するFlexVol volumeが存在しない場合は、新しいFlexVol volumeが作成されます。</block>
  <block id="53f6fbaa0c2bc4ebb4fc98f8a0337c54" category="paragraph">これはドライバでも使用できますが、qtreeレベルではなく、FlexVol volumeレベルで使用でき<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ます。TridentでプロビジョニングされたボリュームのSnapshotを作成できるようにするには、backendパラメータオプションを、ONTAPバックエンドで定義されている目的のSnapshotポリシーに設定し<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>ます。ストレージコントローラで作成されたSnapshotは、Tridentでは認識されません。</block>
  <block id="68d4b8621bcc2d9eae1a68dc27dfa485" category="inline-link-macro">25.02</block>
  <block id="eaaf7bd308bf6f27888c8d18ba11417d" category="cell">2028年2月</block>
  <block id="5956c33dbd8c8ed6e363f54092a9d544" category="paragraph"><block ref="5956c33dbd8c8ed6e363f54092a9d544" category="inline-link-macro-rx"></block></block>
  <block id="29a2e5ba987103c3a239ad6ec13b96a2" category="list-text">、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、、<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block><block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>ドライバの場合、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>各永続ボリューム（PV）がFlexVol volumeにマッピングされるため、ボリュームSnapshotはNetApp Snapshotとして作成されます。NetAppのスナップショット・テクノロジーは'競合するスナップショット・テクノロジーよりも安定性'拡張性'リカバリ性'パフォーマンスを提供しますSnapshot コピーは、作成時とストレージスペースの両方で非常に効率的です。</block>
  <block id="9574cb59de58a7e6882179620abd42fd" category="list-text">ドライバの場合<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>、PVSの共有FlexVolボリューム上に作成されたLUNへのPVSマッピングは、関連付けられたLUNのFlexCloneを実行することで実現されます。ONTAP FlexCloneテクノロジを使用すると、大規模なデータセットのコピーをほぼ瞬時に作成できます。コピーと親でデータブロックが共有されるため、メタデータに必要な分しかストレージは消費されません。</block>
  <block id="20215ca4c00abcf8fb731d0f856d0e91" category="section-title">FCツール</block>
  <block id="fb2a1518f6d194cef3caaff16d0f8ee4" category="admonition">Elementバックエンドには（デフォルトを含めて）使用しない<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>でください。デフォルトでは、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>ドライバはこの設定を無視し、プレフィックスは使用しません。NetAppでは、Dockerボリュームマッピングに特定のtenantIDを使用するか、名前のマンジングが使用されている可能性がある場合には、DockerからDockerのバージョン、ドライバ情報、およびraw名が入力された属性データを使用することを推奨しています。</block>
  <block id="ede78805a80cf9b2284aa458924e07b2" category="paragraph">* ONTAP SANドライバ*：iSCSIまたはFCには指定しないでください。Tridentは、を使用して<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>、マルチパスセッションの確立に必要なiSCSI LIFまたはFC LIFを検出します。が明示的に定義されている場合は、警告が生成され<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c024b0a80a0f117a251e956f7b09ac4e" category="cell">*ドライバでのみサポートされてい<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ます。*iSCSI、<block ref="eac89e2640666fd1076a776e4b748fae" prefix=" " category="inline-code"></block>NVMe/TCP、または<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block>SCSI over Fibre Channel（FC；SCSI over Fibre Channel）に対してを選択します<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>。</block>
  <block id="36212bd37512e583deabaefb464f77f9" category="paragraph">使用する階層化ポリシー。デフォルトはです<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>。</block>
  <block id="b52d90bca507da030b84d478b8b8f150" category="paragraph">ドライバと<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバを使用すると、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>DockerボリュームごとにONTAP FlexVolが作成されます。ONTAPは、クラスタノードあたり最大1000個のFlexVol、最大12、000個のFlexVolをサポートします。Dockerボリュームの要件がこの制限の範囲内に収まる場合、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>Dockerボリューム単位のSnapshotやクローニングなど、FlexVolによって提供される追加機能のため、ドライバが推奨されるNASソリューションです。</block>
  <block id="35bf5cbb6338abecc1fe5e2fddecc6fa" category="example-title">SCSI-SAN &lt;code&gt; ONTAP &lt;/code&gt;ドライバの例</block>
  <block id="58c4d5bb52050e96221a67cebc52a666" category="paragraph">NFS、iSCSI、およびFCのボリューム作成オプションには、次のものがあります。</block>
  <block id="72291962244c35e29a2e95cd6bd139bf" category="list-text">Snapshotポリシーを使用してボリュームを作成し、ONTAPのデフォルトのSnapshotリザーブ（通常は5%）をそのまま使用します。</block>
  <block id="5e62a96ba0adfc3472a925ff92c33174" category="paragraph">NetApp Tridentを使用すると、オンプレミスのONTAPクラスタ（AFF、FAS、ASA）、ONTAP Select、Cloud Volumes ONTAP、Elementソフトウェア（NetApp HCI、SolidFire）、Azure NetApp Files、Amazon FSx for NetApp ONTAP、Cloud Volumes Service on Google Cloudなど、パブリッククラウドまたはオンプレミスの一般的なすべてのNetAppストレージプラットフォームでストレージリソースの消費と管理が可能になります。</block>
  <block id="90de0fd1d09f4fc27d99667555a8a12f" category="paragraph">ONTAPシステムは、オールフラッシュ、ハイブリッド、オールHDD構成で構成され、オンプレミスのFAS、AFA、ASAクラスタ、ONTAP Select、Cloud Volumes ONTAPなど、さまざまな導入モデルを提供します。Tridentは、次のONTAP導入モデルをサポートしています。</block>
  <block id="bde4e01f8df98626e0dc1c36a8e06a5a" category="admonition">TridentがインストールされているKubernetesクラスタを1.25から1.26以降にアップグレードする前に、を参照してください<block ref="1b428bb9b9fe27db6cd8932526864634" category="inline-link-macro-rx"></block>。</block>
  <block id="8f323a9e5c0c5162cc6e0d48e0cb1850" category="paragraph-title">サポートされるストレージドライバ：</block>
  <block id="8321592ce24c8a122ecf26a63cfca407" category="list-text">ONTAP - NAS</block>
  <block id="caafdf62a2c609bfa5316118231a1007" category="list-text">ONTAP - NAS -エコノミー</block>
  <block id="188c0d870c5f930d042bdaa1f1fc3573" category="list-text">SAN-SAN（iSCSI、FCP、ONTAP over TCP）</block>
  <block id="1bbe28a8ef9b1c85d07b013af0628d36" category="list-text">ONTAP SANエコノミー（iSCSIのみ）</block>
  <block id="db526afc657fdfec1ca176eb9d281f89" category="list-title">考慮すべきポイント：</block>
  <block id="f97169869bcbff98d85a1b7ec1d7b5f8" category="list-text">RWXアクセスモードが必要なライブマイグレーションワークフローでは、次の組み合わせがサポートされます。</block>
  <block id="d3701dd5a7c831a74d496a90c3a65f13" category="list-text">NFS +<block ref="7f5db5e0500761cacd6f89838e2ebdc5" prefix=" " category="inline-code"></block></block>
  <block id="42c7d371004c0674ae717618c4a08508" category="list-text">iSCSI+<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block>（rawデバイス）</block>
  <block id="e031968b595722f16da97146c3a92c69" category="list-text">NVMe/TCP+<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block>（rawデバイス）</block>
  <block id="381edc20137f75d1e418981c1361fd2c" category="list-text">FC+<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block>（rawデバイス）</block>
  <block id="b55333d21cb50b1d1d34c529c999482f" category="list-text">registry.k8s.io/sig-storage/csi-provisioner：v5.2.0</block>
  <block id="7e8b00e8f801232796015a8859867e55" category="list-text">registry.k8s.io/sig-storage/csi-node-driver-registrar：v2.13.0</block>
  <block id="0915385df687d0c4a0afb57a61f02af3" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>、<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、および<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>のみ。KubernetesのNon-Graceful Node Shutdown（NGN）と連携して、ノードに障害が発生した場合に、マウントされたボリュームを含むワークロードを新しいノードに安全に移行する機能をクラスタ管理者に提供します。</block>
  <block id="584255a02e82c085a6eee64514bf791a" category="paragraph">[強制切り離し（Force detach）]は、、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>、<block ref="c9cdb62835ea4d8965a6e946dc9826f0" prefix=" " category="inline-code"></block>、<block ref="bc63092df841150cda2e4fd2992a38d1" prefix=" " category="inline-code"></block>で<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>のみ使用できます。強制接続解除を有効にする前に、Kubernetesクラスタで非グレースフルノードシャットダウン（NGN）を有効にする必要があります。NGNはKubernetes 1.28以降ではデフォルトで有効になっています。詳細については、を参照してください <block ref="a0c86c823d7e699cfc277c93de351a2d" category="inline-link-macro-rx"></block>。</block>
  <block id="97949d2167cfb02925ebeb5fbc18e41c" category="admonition">ドライバまたは<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバを使用する場合<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>は、管理対象のエクスポートポリシーを使用してtaintが適用されたKubernetesノードからのアクセスをTridentが制限できるように、バックエンド構成のパラメータをに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>設定する必要<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>があります。</block>
  <block id="f27e6cf95381139bd9916c64f178d212" category="list-text">クラスタでKubernetes 1.24を実行している場合は、を使用し <block ref="ccef28639b5a7d8b851d32c1ca719ce3" category="inline-link-macro-rx"></block>ます。</block>
  <block id="b9f6abf28d1518cdaae0ed7e29a5727e" category="list-text">クラスタでKubernetes 1.25以降を実行している場合は、を使用します <block ref="d1039b29d019902f70f499d65ede99cb" category="inline-link-macro-rx"></block>。</block>
  <block id="572a8b759ae44dd81571fb9d11e9932b" category="paragraph">NetApp SnapMirrorレプリケーションは、次のONTAPソリューションのTrident protectで使用できます。</block>
  <block id="701fc71f0daf0d596d98b3af41d195dd" category="list-text">オンプレミスのNetApp FAS、AFF、ASAクラスタ</block>
  <block id="405c5315f2ee81c7d907857a97bc9ccc" category="list-text">FlexVol volumeへのバックアップアーティファクトの配置</block>
  <block id="f4d58905240b9c44d84e6ee73c8499ac" category="admonition">NetAppでは、FlexVolが配置されているSVMを別のSVMとのSnapMirror関係で保護することを推奨しています。</block>
  <block id="2e465fe2a334bfbbd0254091d76e5cf5" category="cell">注：3[]</block>
  <block id="c2f3f489a00553e7a01d369c103c7251" category="cell">いいえ</block>
  <block id="60fa17e80af13d37b16c3991f5b175a6" category="verse-content-simple">上記の表の脚注: Yesfootnote:1[]: Tridentで管理されないYesfootnote:2[]: Tridentで管理されるが、PVでは管理されないNOfootnote:3[]: TridentとPVで管理されないYesfootnote:4[]: raw-blockボリュームでサポートYesfootnote:5[]: Tridentでサポート</block>
  <block id="ce8f76b595bb8163817ad21f0d964fe2" category="admonition">Kubernetesのツリー内プロビジョニングツールは、現時点ではNFS、iSCSI、またはFC PVSのボリュームサイズ変更処理をサポートしていません。Tridentでは、NFS、iSCSI、FCの両方のボリュームの拡張がサポートされています。</block>
  <block id="e168cabed41efc63d96f214d5cbe189a" category="paragraph">Tridentでは、NFS、iSCSI、FC PVのサイズ変更がサポートされています。これにより、ユーザは Kubernetes レイヤを介してボリュームのサイズを直接変更できます。ボリュームを拡張できるのは、 ONTAP 、 SolidFire / NetApp HCI 、 Cloud Volumes Service バックエンドなど、主要なすべてのネットアップストレージプラットフォームです。あとで拡張できるようにするには、ボリュームに関連付けられているStorageClassでをに<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>設定し<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block>ます。永続的ボリュームのサイズを変更する必要がある場合は、永続的ボリューム要求で必要なボリュームサイズになるようにアノテーションを編集します<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block>。Tridentによって、ストレージクラスタ上のボリュームのサイズが自動的に変更されます。</block>
  <block id="1b5e17f09c6b94c6a943765fe4bf9d6c" category="list-text">パフォーマンス上の理由から、NetAppでは、ワーカーノードでAdvanced Encryption Standard New Instructions（AES-NI）をサポートすることを推奨しています。AES-NIサポートを確認するには、次のコマンドを実行します。</block>
  <block id="8d102642e270f6e890338a2cfc4a188d" category="paragraph">たとえば、2ノードONTAPクラスタでは、最大2、000個のFlexVolボリュームをホストできます。最大ボリューム数を 1250 に設定していると、非常に妥当な結果が得られます。ただし、SVMに1つのノードからしか割り当てられていない場合や、一方のノードから割り当てられたアグリゲートを（容量などの理由で）プロビジョニングできない場合は<block ref="acf6cbef6ee0ef07ee3fe13269233be8" category="inline-link-rx"></block>、Tridentでプロビジョニングされるすべてのボリュームのターゲットにもう一方のノードがなります。つまり、の値に達する前にそのノードのボリューム制限に達する可能性があり、その結果、Tridentとそのノードを使用するその他のボリューム処理の両方に影響が及ぶ可能性があり<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block>ます。* クラスタ内の各ノードのアグリゲートを、 Trident が使用する SVM に同じ番号で確実に割り当てることで、この状況を回避できます。 *</block>
  <block id="f3497351aae46692e603fedb2f2cd146" category="inline-link">ONTAPコマンド リファレンス</block>
  <block id="94ac1e66ef8b79949d7fe240ca1fc49e" category="paragraph">QoSポリシーグループの詳細については、を参照してください<block ref="c7075dcfeceb3e1e55c7a25ddec6d166" category="inline-link-rx"></block>。</block>
  <block id="6146d9e1c8e067801be76f7b7027b42f" category="paragraph">Tridentで作成されたNFSボリューム、iSCSI LUN、およびFC LUNへのアクセスを制限することは、Kubernetes環境のセキュリティ体制にとって重要な要素です。これにより、 Kubernetes クラスタに属していないホストがボリュームにアクセスしたり、データが予期せず変更されたりすることを防止できます。</block>
  <block id="fe7898282075be6913421f0b11f5c0e1" category="inline-link">SAN の管理</block>
  <block id="cd2793aaeed5e7f0429f516ecf5eb130" category="list-text"><block ref="8a4b824281db82475bec9857f32bde41" category="inline-link-rx"></block>（iSCSIの場合）</block>
  <block id="23db1fababbb1ae99bf5bf19e6f6f47b" category="list-text">NetAppでは、アイドル状態のボリュームをクローニングすることを推奨</block>
  <block id="3ca0a694ceba360e6f67566a611b37fb" category="paragraph">ボリュームはプロビジョニングの基本単位であり、NFS共有、iSCSI LUN、FC LUNなどのバックエンドエンドエンドポイントで構成されます。Kubernetesでは、これらはに直接対応し<block ref="3f91308865b7567ae097573f6d0519e9" prefix=" " category="inline-code"></block>ます。ボリュームを作成するときは、そのボリュームにストレージクラスが含まれていることを確認します。このクラスによって、ボリュームをプロビジョニングできる場所とサイズが決まります。</block>
  <block id="f732fd09d1f97b63aaad6d5a80382f0c" category="list-text">ONTAP ASA R2 for iSCSIのサポートが追加されました。</block>
  <block id="87959ecf0c52ae4baca9f7e962286ec1" category="list-text">ノードの正常でないシャットダウン時のONTAP NASボリュームに対する強制的な接続解除のサポートが追加されました。新しいONTAP - NASボリュームで、Tridentで管理されるボリューム単位のエクスポートポリシーを使用するようになりました。アクティブなワークロードに影響を与えることなく、アンパブリッシュ時に既存のボリュームを新しいエクスポートポリシーモデルに移行するためのアップグレードパスが提供されました。</block>
  <block id="09abe7a508b1461d2b42cd082e9680aa" category="list-text">cloneFromSnapshotアノテーションが追加されました。</block>
  <block id="9746cecbe2eafd28277700bbaea79ccf" category="list-text">ネームスペース間のボリュームクローニングのサポートが追加されました。</block>
  <block id="1cd9d07d7ac9faf3b1d1e464094fed79" category="list-text">強化されたiSCSI自己回復スキャンの修正により、ホスト、チャネル、ターゲット、およびLUN IDを指定して再スキャンを開始します。</block>
  <block id="c2653fd16e9e4da4d4d738616dcb956a" category="list-text">Kubernetes 1.32のサポートを追加。</block>
  <block id="2e110255627afe2fff57458d9bb2205b" category="list-text">* OpenShift *：</block>
  <block id="ddbeca6e89eb34fdc94eeec79b9f6a43" category="list-text">ROSAクラスタでのRHCOSの自動iSCSIノード準備のサポートが追加されました。</block>
  <block id="e5f47a8bc4c6e320936843808b4b8392" category="list-text">ONTAP SANドライバでのファイバチャネルのサポートが追加されました。</block>
  <block id="00a0b47f2d2eb76897798a0b983daf88" category="list-text">NVMe LUKSのサポートが追加されました。</block>
  <block id="890fc08a388302375744ade0476c1409" category="list-text">すべてのベースイメージのスクラッチイメージに切り替えました。</block>
  <block id="d6dc63ac67744b1aac236b69c66dfde2" category="inline-link-macro">問題#961</block>
  <block id="35805c702a0d37de58fd020d28318c88" category="list-text">iSCSIセッションはログインする必要があるが、ログインしない場合のiSCSI接続状態の検出とロギングが追加されました（<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block>）。</block>
  <block id="121a804f61cdaf83f9c80e5b2ecf5658" category="list-text">google-cloud-smb-volumesドライバでNetAppボリュームのサポートが追加されました。</block>
  <block id="92ce3c86905470d0feaa428d8438bf74" category="list-text">削除時にONTAPボリュームがリカバリキューをスキップできるようにするためのサポートが追加されました。</block>
  <block id="7b97d5f955a87ceaab8fdc5ee542dd5d" category="list-text">タグの代わりにSHAを使用してデフォルトイメージを上書きするサポートが追加されました。</block>
  <block id="8064b658df7d1098fbc06c88a182a398" category="list-text">tridentctlインストーラにimage-pull-secretsフラグを追加しました。</block>
  <block id="a6b7ff9774a7997f58d8eeff9907ae1f" category="inline-link-macro">問題#965</block>
  <block id="6cb0e6987f921e8d1b11fc9850d89d90" category="list-text">自動エクスポートポリシーにノードのIPアドレスがない問題を修正しました（<block ref="54a0e12625c53fbb79b83159edf0dab4" category="inline-link-macro-rx"></block>）。</block>
  <block id="2ad835ef65ba9fef1c3b178d86eb59b1" category="list-text">ONTAP - NAS - Economyでは、ボリュームポリシー単位に早めに切り替わる固定の自動エクスポートポリシー。</block>
  <block id="a794d83b092a8031769c2bcf2a88ceb5" category="inline-link-macro">問題#913</block>
  <block id="cfc9cd0ab1d20f67db270bed8d63126c" category="list-text">使用可能なすべてのAWS ARNパーティションをサポートするように、バックエンドの設定クレデンシャルを修正しました（<block ref="00fe04b68c89d56b5fe9076943919a54" category="inline-link-macro-rx"></block>）。</block>
  <block id="375e43b9a6d4ec413731b638ec0945b5" category="inline-link-macro">問題#924</block>
  <block id="50da178eec9235ba0a85999374d51cba" category="list-text">Tridentオペレータ（）で自動コンフィギュレータ調整を無効にするオプションが追加されました<block ref="95579fcabb606a95f307c6ba89588c08" category="inline-link-macro-rx"></block>。</block>
  <block id="16aa6756a13a48723b3d2bc4bf50c104" category="inline-link-macro">問題#976</block>
  <block id="60b04b91abae29736bd23b21579be5cb" category="list-text">CSI-resizerコンテナ()のSecurityContextを追加しました<block ref="a97be45bfcdf3eeaee81dc9917811f8f" category="inline-link-macro-rx"></block>。</block>
  <block id="cb1f1e88b6db83dc715d1cb1d8733445" category="section-title">Trident保護</block>
  <block id="b094c3f306a844e9e49992f69a84cfa4" category="paragraph">NetApp Trident Protectは、NetApp ONTAPストレージシステムとNetApp Trident CSIストレージプロビジョニングツールを基盤とするステートフルなKubernetesアプリケーションの機能と可用性を強化する、高度なアプリケーションデータ管理機能を提供します。</block>
  <block id="7df125a00671c08a40e0225c8e7bfe51" category="list-text">Kubevirt環境のアプリケーションレベルでフリーズ動作を制御する機能が追加されました。</block>
  <block id="bde8e1e3de96ead9884d920004bad3bf" category="list-text">AutoSupportプロキシ接続の設定のサポートが追加されました。</block>
  <block id="3a3a7f688efad3284b8088de98d9c990" category="list-text">Data Mover暗号化のシークレットを定義する機能（Kopia/Restic）が追加されました。</block>
  <block id="7bd24598cff0819911511e7a4114afc9" category="list-text">実行フックを手動で実行する機能が追加されました。</block>
  <block id="d8420a2285ade91fbb556a8705392d4e" category="list-text">Trident保護のインストール時にセキュリティコンテキスト制約（SCC）を設定する機能が追加されました。</block>
  <block id="397cc2a4d426cf97968c783f15ec2de3" category="list-text">Trident保護のインストール時にnodeSelectorを設定するためのサポートが追加されました。</block>
  <block id="b5b9bc3aab84e4b648c1432f95ac9294" category="list-text">AppVaultオブジェクトのHTTP/HTTPS出力プロキシのサポートが追加されました。</block>
  <block id="e7ce2b289382a615113880a71867a2fb" category="list-text">クラスタを対象としたリソースの除外を有効にする拡張ResourceFilter。</block>
  <block id="230ae1ea7310e8fa80a6cd9e6208085e" category="list-text">S3 AppVaultクレデンシャルでのAWSセッショントークンのサポートが追加されました。</block>
  <block id="639c61df343e77e3de0b8188942cb635" category="list-text">プレスナップショット実行フック後のリソース収集のサポートが追加されました。</block>
  <block id="31ddfac7cfd4824f2708b4b925145a29" category="list-text">一時ボリュームの管理が改善され、ONTAPボリュームリカバリキューがスキップされるようになりました。</block>
  <block id="b9b8b880b51afd88c2f4e04a85fe762e" category="list-text">SCCのアノテーションが元の値にリストアされました。</block>
  <block id="b045f8636f0c21a7fefb437149e20dc9" category="list-text">並列処理のサポートにより、リストア効率が向上します。</block>
  <block id="8f35f1b8a50531165f36731d30906b11" category="list-text">大規模なアプリケーションの実行フックタイムアウトのサポートが強化されました。</block>
  <block id="c7e79f1db15a592daab7f7427aef79d5" category="section-title">24.10の変更点</block>
  <block id="b4da90c52a04dd004929d86ec62cc931" category="list-text">ONTAP SANドライバでのファイバチャネルサポートのテクニカルプレビューを追加。</block>
  <block id="bf8ced7df51ab8a52eb2f62a26930270" category="list-text">ONTAPバージョン9.15.1以降で、デフォルトでONTAPI（ZAPI）ではなくRESTを使用するためのTridentのサポートが追加されました。</block>
  <block id="629823c949babd4c929b5092cd5e2745" category="list-text">ONTAP SANドライバのサイズ変更処理中にFlexVolボリュームが縮小されないようにするためのTridentが修正されました。</block>
  <block id="f327f341da3048e9e44264cc06a32d7e" category="list-text">ONTAPドライバにAmazon FSx Personalityを追加して、AWS IAMおよびSecretsManagerとの統合を可能にし、Tridentがバックアップを含むFSxボリュームを削除できるようにしました（<block ref="7c3258c670b686f5f475bd6b06dfec79" category="inline-link-macro-rx"></block>）。</block>
  <block id="0f6d5d982c20f6f746c8e4019cc039f8" category="list-text">ノードステージング処理中にゴーストiSCSIデバイスを識別して修正するためのLUN属性を取得するときに、LUNシリアル番号が照会されるようにするためのONTAPI（ZAPI）要求が修正されました。</block>
  <block id="1ae87fd6923d3446058e089c56a6c49d" category="list-text">ONTAP NASストレージドライバに、Amazon FSx for NetApp ONTAPを使用したSMBボリュームのサポートが追加されました。</block>
  <block id="4e48fbbb41f5d5816d9638612c6e4171" category="list-text">複数のFlexVolボリュームを管理する場合、ONTAP NASエコノミーストレージドライバのパフォーマンスが向上</block>
  <block id="bf5d13740edaf72b96d340da8b520aa2" category="paragraph">Google Cloud NetApp Volumeのバックエンド構成オプションについて説明し、構成例を確認します。</block>
  <block id="a61f1a0c3100fa19040c465723b8d138" category="example-title">SMBホリユウムノセツテイ</block>
  <block id="d7532ab2cf050869a37a3b301475208c" category="paragraph">Google Cloud NetApp VolumesをTridentのバックエンドとして設定できるようになりました。Google Cloud NetApp Volumeバックエンドを使用して、NFSボリュームとSMBボリュームを接続できます。</block>
  <block id="e996b7ab8a2ede8d8b06fc99b3a11062" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、または<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block></block>
  <block id="b9bc5d902a9cd0a94cdcf025103a3488" category="cell">要求されたボリュームサイズがこの値を超えている場合、プロビジョニングが失敗します。また、qtreeに対して管理するボリュームの最大サイズを制限し、オプションを使用するとFlexVol volumeあたりの最大qtree数をカスタマイズできます。<block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix=" " category="inline-code"></block></block>
  <block id="891bc9d98980555712816ab85ae4a747" category="list-text"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block>がに設定されてい<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>ます。これは、Tridentが、このバックエンドを使用してSVMに対してプロビジョニングされたボリュームごとにエクスポートポリシーを作成し、アドレスブロックを使用してルールの追加と削除を処理すること<block ref="c108f084ab28ac46ad3787ba09ae8304" prefix=" " category="inline-code"></block>を示します<block ref="3568c00ad84b08a31b2dfadbfd8ee221" prefix=" " category="inline-code"></block>。ボリュームがノードに接続されるまでは、そのボリュームへの不要なアクセスを防止するルールのない空のエクスポートポリシーが使用されます。ボリュームがノードに公開されると、Tridentは、指定したCIDRブロック内のノードIPを含む基盤となるqtreeと同じ名前のエクスポートポリシーを作成します。これらのIPは、親FlexVol volumeで使用されるエクスポートポリシーにも追加されます。</block>
  <block id="ce3bd20884ed2b4f4a604d922dbb0dd9" category="admonition">オンプレミスのONTAPクラスタ用のSMBボリュームを作成するには、SVMでNFSプロトコルとSMB / CIFSプロトコルの両方を設定する必要があります<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>。これらのプロトコルのいずれかを設定しないと、原因 SMBボリュームの作成が失敗します。</block>
  <block id="b6de3e094a7f00742b82e2ac02d7d167" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>または<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="b42a873c5558eb05b643cf896aa6e1a4" category="paragraph">クラスタ管理LIFまたはSVM管理LIFのIPアドレス。</block>
  <block id="3dba01512ea96ad84a108f0fc949477a" category="paragraph">Fully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定できます。</block>
  <block id="fcc539559cb740199f02074f11b246c3" category="paragraph">IPv6フラグを使用してTridentがインストールされている場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、のように角かっこで定義する必要があります<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。</block>
  <block id="3b4dab2ec7635dde859482b32c23ab9f" category="paragraph">シームレスなMetroClusterスイッチオーバーについては、を参照して<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>ください。</block>
  <block id="2c8c9fb51502e9a1b2d2539b4d21a27b" category="cell">プロトコル LIF の IP アドレス。IPv6フラグを使用してTridentがインストールされている場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、のように角かっこで定義する必要があります<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。* iSCSIの場合は指定しないでください。*Tridentは、を使用して<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>、マルチパスセッションの確立に必要なiSCSI LIFを検出します。が明示的に定義されている場合は、警告が生成され<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>ます。* MetroClusterの場合は省略してください。*を参照してください<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="1f5f7f2866fe3a2c557b2ea38e4c2137" category="cell">iSCSI、<block ref="eac89e2640666fd1076a776e4b748fae" prefix=" " category="inline-code"></block>NVMe/TCP、または<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block>SCSI over Fibre Channel（FC；SCSI over Fibre Channel）に対してを選択します<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>。</block>
  <block id="b1b6ee25d859768bce6271cfb4265c37" category="admonition">TridentでAmazon FSx on NetApp ONTAPを使用している場合、NetAppでは、IPアドレスではなく、LIFのDNS名を指定することを推奨します。</block>
  <block id="d5be4c1bab384a780d2912d10b295308" category="paragraph">スイッチオーバーとスイッチバックをシームレスに実行するには、を使用してSVMを指定し<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>、パラメータは省略します<block ref="924ff83ff1e671bacfb07ff12b845703" prefix=" " category="inline-code"></block>。例：</block>
  <block id="c905ec8a79a58aa12ad3c7ae35e3127d" category="example-title">SCSI over FC（FCP）の例</block>
  <block id="aecb281656d93e34b85fc03341498ff2" category="paragraph">ONTAPバックエンドでFCを使用してSVMを設定しておく必要があります。これはFCの基本的なバックエンド構成です。</block>
  <block id="d502f4db20ef2dbccab335781e870976" category="example-title">ONTAP SANエコノミードライバのformatOptionsの例</block>
  <block id="54ed52257df13a4cb85caecc569dfeff" category="paragraph">Tridentでは、[Comments]フィールドにプロビジョニングラベルが設定されます。コメントは、仮想プール上のすべてのラベルをプロビジョニング時にストレージボリュームにコピーするFlexVol volume Tridentに設定されます。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="684e3a49585228dba75783996b7b6fe7" category="admonition">バックエンドのCHAPシークレットを更新する場合は、を使用してバックエンドを更新する必要があります<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。ONTAP CLIまたはONTAPシステムマネージャを使用してストレージクラスタのクレデンシャルを更新しないでください。Tridentではこれらの変更を反映できません。</block>
  <block id="1f04e6944e16311a300b742aa0cfb55c" category="paragraph">iSCSI SCSI over FC</block>
  <block id="acb2e9160652c3e412ead9e870d11c9b" category="summary">KubernetesクラスタにTrident EKSアドオンを追加します。</block>
  <block id="a2aa5421f278a17c32520d5a0b59edb2" category="doc">EKSクラスタでのTrident EKSアドオンの設定</block>
  <block id="c4a27aca3b599e184c25bae01c45a9ec" category="paragraph">NetApp Tridentは、KubernetesでAmazon FSx for NetApp ONTAPストレージ管理を合理化し、開発者や管理者がアプリケーションの導入に集中できるようにします。NetApp Trident EKSアドオンには、最新のセキュリティパッチ、バグ修正が含まれており、AWSによってAmazon EKSと連携することが検証されています。EKSアドオンを使用すると、Amazon EKSクラスタの安全性と安定性を一貫して確保し、アドオンのインストール、構成、更新に必要な作業量を削減できます。</block>
  <block id="1ed7790b15234cd5e801f2adf2a3dcd8" category="inline-link-macro">Amazon EKSアドオン</block>
  <block id="cf83ec5a1f7760b5f6841c88c08cd788" category="list-text">アドオンを使用する権限を持つAmazon EKSクラスタアカウント。を参照してください <block ref="40db0d27bd24093e06ae540834459d19" category="inline-link-macro-rx"></block>。</block>
  <block id="1264c0dc5af1ae65d165b02064fb48da" category="list-text">EKSポッドがAWSリソースにアクセスできるようにするために、IAMロールとAWSシークレットを作成してください。手順については、を参照してください<block ref="0243716974e666f2f8c61577b454990b" category="inline-link-macro-rx"></block>。</block>
  <block id="5125c17a3f7aca891b87dc6ad4b9aa93" category="list-text">EKS Kubernetesクラスタで、*[アドオン]*タブに移動します。</block>
  <block id="07a5364a7a995818398d39d8d5f84d64" category="list-text">NetApp Trident *を探し、Tridentアドオンのチェックボックスを選択して* Next *をクリックします。</block>
  <block id="7f3424d52d579a5a23fa5102f22de8bd" category="list-text">次のコマンドを実行して、Tridentがクラスタに正しくインストールされていることを確認します。</block>
  <block id="5b06ec175e810e88c7f4e485931d2ce9" category="list-text">セットアップを続行し、ストレージバックエンドを設定します。詳細については、を参照してください <block ref="a2c0b79bf795dfa2b95204a4216320db" category="inline-link-macro-rx"></block>。</block>
  <block id="2f3961a883aa613983c8f34a8add7695" category="paragraph-title">CLIを使用してNetApp Trident EKSアドオンをインストールします。</block>
  <block id="fa1234b3e3fcccb885405485ab5cbefb" category="paragraph-title">CLIを使用してNetApp Trident EKSアドオンをアンインストールします。</block>
  <block id="aa8e98bf63904518342c90bd49a9ea9c" category="paragraph">次のコマンドは、Trident EKSアドオンをアンインストールします。</block>
  <block id="e462cafda39f4eb6d1800486fc401348" category="cell">要求されたボリュームサイズがこの値を超えている場合、プロビジョニングが失敗します。また、qtreeおよびLUNに対して管理するボリュームの最大サイズを制限し、オプションを使用すると、FlexVol volumeあたりのqtreeの最大数をカスタマイズできます。<block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix=" " category="inline-code"></block></block>
  <block id="e992eb9afeef39efec8f68b68ffade1d" category="paragraph">*ポリシーJSONの例*：</block>
  <block id="54fe765490f6a1e88df34666a34bd7de" category="paragraph">* trust-relationship.jsonファイル：*</block>
  <block id="383e53c41c71ed73661ac56b250f6ba3" category="paragraph">ファイルの次の値を更新し<block ref="d19984a25b3e536a13a6bc3036325ffd" prefix=" " category="inline-code"></block>ます。</block>
  <block id="e6fd9d7b1a119dcc259f2b06b2a2168c" category="list-text">*&lt;account_id&gt;*-お客様のAWSアカウントID</block>
  <block id="799fd029d6ab8a846f662458a1f8df55" category="list-text">*&lt;oidc_provider&gt;*- EKSクラスタのOIDC。oidc_providerを取得するには、次のコマンドを実行します。</block>
  <block id="053db598e2fbb7aa26ff7edbf6139941" category="paragraph">* IAMポリシーにIAMロールを関連付ける*：</block>
  <block id="069097b4881e6034a743e694f616726d" category="paragraph">ロールを作成したら、次のコマンドを使用して（上記の手順で作成した）ポリシーをロールに関連付けます。</block>
  <block id="02b550dde0cf971ab3461242774691c7" category="paragraph">* OICDプロバイダが関連付けられていることを確認します*：</block>
  <block id="25c5ea267b4be122e562399076209238" category="paragraph">OIDCプロバイダがクラスタに関連付けられていることを確認します。次のコマンドを使用して確認できます。</block>
  <block id="7c3f89bd6bb66984ef17d4765bf1f65a" category="open-title">eksctl</block>
  <block id="bc04665b1c712547a7dcc87033ae7152" category="paragraph">次のいずれかの方法でTridentをインストールできます。</block>
  <block id="a01b2c45a64c7d0c2a2aa3ce418eaa04" category="inline-link-macro">CSIボリュームのスナップショット機能を有効にする</block>
  <block id="9adc02aa546c3838bddb73a67ebaa4e2" category="paragraph">スナップショット機能を利用する場合は、CSIスナップショットコントローラアドオンをインストールします。詳細については、を参照してください <block ref="d2fce68a585fb4c517040885fb7393e9" category="inline-link-macro-rx"></block> 。</block>
  <block id="df5baf46554bffd06bf1e8e9ae5e6b52" category="paragraph">次の例では、Trident EKSアドオンをインストールします。</block>
  <block id="87d54c3153674640af4f36dd72f8953a" category="list-text">[Configure Trident by NetApp *]ページで、次の手順を実行します。</block>
  <block id="7d91a8c58620fc2b878600d5ab834bda" category="list-text">*クラスターからアドオンソフトウェアを完全に削除する*–NetAppは、クラスターに依存するリソースがない場合にのみ、クラスターからAmazon EKSアドオンを削除することを推奨します。コマンドからオプションを削除してアドオンを削除し<block ref="4b4ac0f998920a46fd2015e11d01d3e7" prefix=" " category="inline-code"></block><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block> ます。</block>
  <block id="996d0bc5ff30cfbcef97caeaf2c6b353" category="paragraph">ストレージバックエンドを作成するには、JSONまたはYAML形式の構成ファイルを作成する必要があります。ファイルには、使用するストレージのタイプ（NASまたはSAN）、ファイルの取得元のファイルシステム、SVM、およびその認証方法を指定する必要があります。次の例は、NASベースのストレージを定義し、AWSシークレットを使用して使用するSVMにクレデンシャルを格納する方法を示しています。</block>
  <block id="301909df91f724e7a48b15a1b5d05fa2" category="paragraph">次のコマンドを実行して、Tridentバックエンド構成（TBC）を作成および検証します。</block>
  <block id="d072ff8aa34f8a629a86f50ed8e738e5" category="list-text">YAMLファイルからTridentバックエンド構成（TBC）を作成し、次のコマンドを実行します。</block>
  <block id="f695eae3342584490d4ff28ac968bd5b" category="list-text">Tridentバックエンド構成（TBC）が正常に作成されたことを確認します。</block>
  <block id="1189a90ab4944cc8e995186943355be8" category="paragraph">構成ファイルが作成されたら、次のコマンドを実行してEKS内に作成します。</block>
  <block id="91997590df030f7b1753ee07ed8a9857" category="paragraph">ステータスを確認するには、次のコマンドを実行します。</block>
  <block id="2001e2e03a90bd5c85ca8982c01a0500" category="cell">FlexVol volumeあたりの最大LUN数は[50、200]の範囲で指定する必要があります。SANのみ。</block>
  <block id="14ed525d625786e77d722ce4d08ee599" category="cell">FlexVol volumeあたりの最大qtree数は[50、300]の範囲で指定する必要があります。</block>
  <block id="9a30deaecbfde403e36a8a700d09e3e1" category="cell">ONTAP REST API を使用するためのブーリアンパラメータ。に設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と、TridentはONTAP REST APIを使用してバックエンドと通信します。この機能にはONTAP 9.11.1以降が必要です。また、使用するONTAPログインロールには、アプリケーションへのアクセス権が必要です<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> 。これは、事前に定義された役割と役割によって実現され<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block><block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> ます。</block>
  <block id="43d8d272a15eda3f1fbfcedc2408b697" category="paragraph">AWS BottlerocketでNFSv3ボリュームをプロビジョニングするには、必要なをストレージクラスに追加し<block ref="e1d3d66c5926aa7fbc3186da8f9b476b" prefix=" " category="inline-code"></block>ます。</block>
  <block id="2b00559f1e8a052e6ec27fd2da2fc0ef" category="paragraph-title">RWXアクセスを備えたPVC</block>
  <block id="627d563f4445675e960fd39150a292ba" category="paragraph">ファイルシステムは、オンプレミスの ONTAP クラスタに似た、 Amazon FSX のプライマリリソースです。各 SVM 内には、ファイルとフォルダをファイルシステムに格納するデータコンテナである 1 つ以上のボリュームを作成できます。Amazon FSx for NetApp ONTAPは、クラウドのマネージドファイルシステムとして提供されます。新しいファイルシステムのタイプは * NetApp ONTAP * です。</block>
  <block id="e5fd3b07dfde2732fc5e3a9d4e7c5370" category="section-title">テスト済みのAmazonマシンイメージ（AMIS）</block>
  <block id="af2fcef81914e3ce8b2cbe1ab832c879" category="cell">亜美</block>
  <block id="c07ee5debf5f3a3fef16c1ee5e8e4942" category="cell">NAS</block>
  <block id="12b1f0215cde9ea0ca4aac0c3ade3a96" category="cell">NASエコノミー</block>
  <block id="b2f628a87c3b04816210b608f76d5fa0" category="cell">AL2023_x86_64_STANDARD</block>
  <block id="c1dfeb2129506a6914b9c6c3c0cdb647" category="cell">AL2_x86_64</block>
  <block id="9cfc5bb3d7caf552b74c3e5295bb5f11" category="cell">はい**</block>
  <block id="e732f4cda23726735e2b2cf9bc3ba76f" category="cell">BOTTLEROCKET_x86_64</block>
  <block id="01a9a3b8d0fcae3055dc91935e8ec6c6" category="cell">はい*</block>
  <block id="382b0f5185773fa0f67a8ed8056c7759" category="cell">N/A</block>
  <block id="1566bc91a0bfa1dbeba46107fc54f756" category="cell">AL2023_ARM_64_STANDARD</block>
  <block id="e3b9c2e4d8176e1074a9511b580d6396" category="cell">AL2_ARM_64</block>
  <block id="a28322bc0e8a38770a1af7cc1d4a9ad9" category="cell">BOTTLEROCKET_ARM_64</block>
  <block id="07e5351dce8b6c8e3f72745762bac773" category="paragraph">*テスト実施項目*：</block>
  <block id="583a5d19bce672251a82cb390b576d1a" category="list-text">NASについては、NFSv3とNFSv4.1の両方をテストしました。</block>
  <block id="8dba245dcac3bf8acf6067e0d62d01cb" category="list-text">SANについてはiSCSIのみをテストし、NVMe-oFはテストしませんでした。</block>
  <block id="6eee4bc92cc38369e7271225ec488e82" category="paragraph">*実行されたテスト*：</block>
  <block id="0524d900ed906479235e99cfc10e1cb6" category="list-text">作成：ストレージクラス、PVC、POD</block>
  <block id="12dbb8a3d281738c9cc213bc80fa2343" category="list-text">削除：ポッド、PVC（通常、qtree / LUN–エコノミー、NASとAWSバックアップ）</block>
  <block id="c50cb71bc70d27f0ecf850ff18d11479" category="summary">Tridentを使用すると、同じKubernetesクラスタ内の別のネームスペースから既存のボリュームまたはボリュームSnapshotを使用して新しいボリュームを作成できます。</block>
  <block id="fc61af20b92225aae2a169587940eb14" category="doc">ネームスペース全体でボリュームをクローニング</block>
  <block id="7d3b4ba16dd9908f0a9572976f62cb92" category="paragraph">Tridentを使用すると、同じKubernetesクラスタ内の別のネームスペースから既存のボリュームまたはボリュームSnapshotを使用して新しいボリュームを作成できます。</block>
  <block id="12bf911acc3865647e24aa6cc61fad9d" category="paragraph">ボリュームをクローニングする前に、ソースとデスティネーションのバックエンドのタイプとストレージクラスが同じであることを確認してください。</block>
  <block id="9e556d1188a1d7d3f911546d9c8f70f1" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block>ボリュームのクローンを作成するためのソースPVCの設定</block>
  <block id="4f371bbe8ba542b2ca00eb9f3a3a2716" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block>デスティネーションネームスペースにクローンPVCを作成します。</block>
  <block id="a77fe76c8980416f14767484ab56a324" category="paragraph">宛先ネームスペースの所有者は、PVCを作成して、送信元ネームスペースからPVCを複製します。</block>
  <block id="b739008e44cdaf094f62931a68086bb5" category="paragraph">セキュリティを確保するために、ネームスペース間でボリュームをクローニングするには、ソースネームスペースの所有者、クラスタ管理者、およびデスティネーションネームスペースの所有者が協力して対処する必要があります。ユーザロールは各手順で指定します。</block>
  <block id="6558f904ce916da3190d62209965d0ee" category="list-text">*ソースネームスペース所有者：*<block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block>ソースネームスペースにPVCを作成<block ref="612897f0683dd83be850731b14801182" prefix="(" category="inline-code"></block>）。注釈<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>を使用して、デスティネーションネームスペースと共有する権限を付与します。<block ref="176dbae9b2594398063073fa2462e819" prefix=" " category="inline-code"></block></block>
  <block id="848c08c0dad8da2f2f28ca678bbfbf1f" category="list-text">カンマ区切りリストを使用して、複数の名前空間にPVCを共有できます。たとえば、<block ref="01066aa74fe32f5dae708937da0fdc6f" prefix=" " category="inline-code"></block>です。</block>
  <block id="e49c2aab2a070ab6ebb8b78acc7d3685" category="list-text">を使用して、すべてのネームスペースと共有できます<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>。例えば、<block ref="b50a7cdb2a6c7bc49cf0ac66428e8a33" prefix=" " category="inline-code"></block></block>
  <block id="6844c666d46d26f14f45880c3b8cd2ec" category="list-text">PVCはいつでも更新してアノテーションを含めることができます<block ref="176dbae9b2594398063073fa2462e819" prefix=" " category="inline-code"></block>。</block>
  <block id="b49d0358b75283a3c4f7a2e7229fc097" category="list-text">*宛先ネームスペースの所有者：*<block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block>宛先ネームスペースに<block ref="2413b30c8869ee9ac5b416f44004a212" prefix=" " category="inline-code"></block>PVCを作成<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>）。または<block ref="bfd2f3d7d043509924eaac702957a99d" prefix=" " category="inline-code"></block>アノテーションを使用して、送信元PVCを指定します<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block>。</block>
  <block id="188811e4b8b33253d84403cd9a1fcfa9" category="list-text">ONTAP NASエコノミードライバを使用してプロビジョニングされたPVCでは、読み取り専用クローンはサポートされません。</block>
  <block id="18554a6310d1d501f5fdbbbc7a0cd7c6" category="summary">Tridentを使用すると、Kubernetesユーザは作成後にボリュームを拡張できます。ここでは、iSCSI、FC、NFSのボリュームを拡張するために必要な設定について説明します。</block>
  <block id="bda53ac9cab805b0770875d4365918b2" category="paragraph">Tridentを使用すると、Kubernetesユーザは作成後にボリュームを拡張できます。ここでは、iSCSI、NFS、およびFCのボリュームを拡張するために必要な設定について説明します。</block>
  <block id="1dea918d41199b513b961287c6579f4f" category="section-title">FC ボリュームを拡張します</block>
  <block id="213524ddd0b0daf2a171ee47c3596e00" category="paragraph">CSIプロビジョニングツールを使用して、FC永続ボリューム（PV）を拡張できます。</block>
  <block id="7ff05a6f045c4cd794027d9a80f2ee93" category="admonition">FCボリュームの拡張はドライバでサポートされ<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ており、Kubernetes 1.16以降が必要です。</block>
  <block id="7e60a488a5dff73b203319b9ad63006e" category="paragraph">サイズを変更するポッドにPVを接続します。FC PVのサイズを変更する場合は、次の2つのシナリオが考えられます。</block>
  <block id="3edd5ccaa0382772ccb1cc5a409488a8" category="list-text">デフォルトでは、TridentはPVCを管理し、バックエンドでFlexVol volumeとLUNの名前を変更します。フラグを渡して管理対象外のボリュームをインポートできます<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>。を使用する場合<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>、Tridentはオブジェクトのライフサイクル中、PVCまたはPVに対して追加の操作を実行しません。PVが削除されてもストレージボリュームは削除されず、ボリュームのクローンやボリュームのサイズ変更などのその他の処理も無視されます。</block>
  <block id="82ffd98bd5aacd62bc72d8aca0f53528" category="paragraph">ドライバを使用して作成される各ボリューム<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>は、ONTAPクラスタ上のFlexVol volumeになります。ドライバを使用したFlexVolボリュームのインポート<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>も同様に機能します。ONTAPクラスタにすでに存在するFlexVolボリュームは、PVCとしてインポートできます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。同様に、FlexGroupボリュームはPVCとしてインポートできます<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>。</block>
  <block id="b5556653d8db6b84df68b320ccd5d1a8" category="paragraph">Tridentでは、単一のLUNを含むONTAP SAN FlexVolボリュームをインポートできます。これは、ドライバと一致してい<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ます。ドライバは、PVCごとにFlexVol volumeを作成し、FlexVol volume内にLUNを作成します。TridentはFlexVol volumeをインポートし、PVC定義に関連付けます。</block>
  <block id="76f6a2d1bd679fa4c1b485fed91cd412" category="paragraph">管理対象ボリュームの場合、TridentはFlexVol volumeの名前を形式に、FlexVol volume内のLUNの名前をに<block ref="1793051c27c3288cfb3a1c86e4e41b41" prefix=" " category="inline-code"></block>変更<block ref="b1a57c8f543d163276a264ab84f98485" prefix=" " category="inline-code"></block>します。</block>
  <block id="4e0dca66d693b4377c93d787e9d5176a" category="paragraph">次に、バックエンドにあるFlexVol volume<block ref="5461c7e570fd7b4318a37f0dceb291c1" prefix=" " category="inline-code"></block>をインポートする例を示し<block ref="9c263b72b293041bdc16e8711bb55a99" prefix=" " category="inline-code"></block>ます。</block>
  <block id="aa39e6a781613c350b8408df39aa0171" category="paragraph">Tridentはドライバを使用したボリュームインポートをサポートしてい<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>ます。</block>
  <block id="89df083c083e8cfa84ef1517f2b9e609" category="paragraph-title">Google Cloud NetApp Volumeの例</block>
  <block id="3312627a317726be3901705d655e8582" category="paragraph">次の例は、ボリュームと一緒に<block ref="acdf8df0c694db089171ecaf51f80166" prefix=" " category="inline-code"></block>バックエンドにボリュームを<block ref="c082d32d434314708cccf35dd974ac32" prefix=" " category="inline-code"></block>インポートし<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>ます。</block>
  <block id="94154cfb6a6056267c34a431cd1a4224" category="paragraph">次の例は、同じリージョンに2つのボリュームがある場合にボリュームをインポートし<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>ます。</block>
  <block id="93c5b0ed9261693ca8644540ac8a1cd9" category="admonition">NetAppでは、NVMe/TCPにONTAP 9.12以降を推奨しています。</block>
  <block id="d019fe86b16ae6b783603693309fb4c6" category="section-title">SCSI over FCボリューム</block>
  <block id="09b3e69fece0c8fed98cbfa4f60560d0" category="paragraph">長時間実行されるs3バックアップ処理には、AWSセッショントークンの有効期限が十分であることを確認してください。バックアップ処理中にトークンの有効期限が切れた場合、処理が失敗することがあります。</block>
  <block id="5eb831e0d78e65bcd3dba1b12bc07037" category="inline-link">AWS APIのドキュメント</block>
  <block id="acc296a904bd0d4d976a52cfe9fe9b8c" category="list-text">現在のセッショントークンの有効期限を確認する方法については、を参照して<block ref="718365c4473e4015a2556ceb49bc6d0e" category="inline-link-rx"></block>ください。</block>
  <block id="47700faecc8b055ea48413402a7add11" category="inline-link">AWS IAMのドキュメント</block>
  <block id="40a9530583ad3747ca30675858b0a6cd" category="list-text">AWSリソースのクレデンシャルの詳細については、を参照してください<block ref="101809cc7793764f39e2d5fc223ea04c" category="inline-link-rx"></block>。</block>
  <block id="00d3f03654bed141c3478449f1760762" category="paragraph">長時間実行されるs3リストア処理には、AWSセッショントークンの有効期限が十分であることを確認してください。リストア処理中にトークンの有効期限が切れた場合、処理が失敗することがあります。</block>
  <block id="0c2517d08c2a451f035c427a4dc895e1" category="summary">ここでは、このリリースの既知の問題を示します。</block>
  <block id="34515f1d88b10d0db0a78eba6c533394" category="paragraph">ここでは、このリリースの製品の正常な使用に支障をきたす可能性がある既知の問題について説明します。</block>
  <block id="825cc355a6b503245e0d84d26f0e16d1" category="paragraph">現在のリリースに影響する既知の問題は次のとおりです。</block>
  <block id="dd298b4e9bfcd54db2048c92819679ad" category="section-title">大容量ファイルのResticバックアップのリストアが失敗することがある</block>
  <block id="beca1b1ae9141eb4cf9a371088911e0f" category="paragraph">Resticを使用して作成されたAmazon S3バックアップから30GB以上のファイルをリストアすると、リストア処理が失敗することがあります。回避策として、データムーバーとしてKopiaを使用してデータをバックアップします（Kopiaはバックアップのデフォルトのデータムーバーです）。手順については、を参照してください<block ref="1e108e5c10b0ba51ea4cfaf507765efb" category="inline-link-rx"></block> 。</block>
  <block id="7fc5875d06887df5109a87a0ada90eca" category="section-title">AppVault認証とパスワードの設定</block>
  <block id="8e2c4d33f50c044b257a84cd65ff1c79" category="section-title">Data Moverリポジトリのパスワード</block>
  <block id="e64d157c7a9e337d525d51f62d9d0809" category="section-title">Data Moverリポジトリパスワードシークレットの作成</block>
  <block id="fc114cb2ee6c7bff559d58e2a7454cab" category="paragraph">次の例を使用して、パスワードシークレットを作成します。AppVaultオブジェクトを作成するときに、Trident protectにこのシークレットを使用してData Moverリポジトリで認証するように指示できます。</block>
  <block id="571768fad7edd9c4f57173c592c1f86c" category="section-title">クラウドプロバイダのAppVaultキー生成例</block>
  <block id="3e2db83ddd4087c64413cfd7c14100b6" category="section-title">AppVaultの作成例</block>
  <block id="80b938565b2e1ff14bd06e780149b085" category="paragraph">各プロバイダのAppVault定義の例を次に示します。</block>
  <block id="dd180e899bea0f9a0eb538e256c19673" category="list-text">必要に応じて、ResticおよびKopiaリポジトリ暗号化用のカスタムパスワードを含むKubernetesシークレットを指定できます。詳細については、を参照してください <block ref="7bf3b37360a9f432b37d8ac6c9f10cd4" category="inline-xref-macro-rx"></block> 。</block>
  <block id="2b7c7776f596f179d63bae82e841e9fe" category="list-text">S3 AppVaultオブジェクトの場合、必要に応じて、キーを使用して発信S3トラフィックの出力プロキシURLを指定できます<block ref="ea739eb21b9424ad95fb5cd1b3ee7d1c" prefix=" " category="inline-code"></block>。</block>
  <block id="99313bdb05c30c161eb80ae8dc89265f" category="list-text">S3 AppVaultオブジェクトの場合は、引数を使用して送信S3トラフィックの出力プロキシURLをオプションで指定できます<block ref="c0b36cdbc2185c1fe6ee0b0c177312da" prefix=" " category="inline-code"></block>。</block>
  <block id="aafdbe511f8dcfce152fe32eec4b84a8" category="section-title">AppVault情報の表示</block>
  <block id="fe7f61a858dc37b884e97617cd26e1da" category="paragraph">Trident保護CLIプラグインを使用して、クラスタ上に作成したAppVaultオブジェクトに関する情報を表示できます。</block>
  <block id="ef3bab72151c3b40feca67b002c6d518" category="summary">特定のニーズに合わせて、Trident protectのデフォルト設定をカスタマイズします。</block>
  <block id="c465b5ba6226b5fce1902a4b68097d26" category="doc">Trident保護インストールのカスタマイズ</block>
  <block id="f59f3d4c8cdf79dc43502eea9ff82e75" category="paragraph">Trident保護のデフォルト設定をカスタマイズして、環境の特定の要件を満たすことができます。</block>
  <block id="df0ecee897380da18617ddb170abdeb0" category="paragraph">次の構成ファイルの例は、使用可能な設定を示しています。このファイルには、各リソース制限のデフォルト値が含まれています。</block>
  <block id="73d4542a63a157d0b7e3093eabec8fc9" category="section-title">セキュリティコンテキスト制約のカスタマイズ</block>
  <block id="d3b1c8ea61eed8a2b7579d4013d792b3" category="paragraph">Tridentプロテクトのインストール後、構成ファイルを使用して、TridentプロテクトコンテナのOpenShift Security Context Constraint（SCC；セキュリティコンテキスト制約）を変更できます。これらの制約により、Red Hat OpenShiftクラスタ内のポッドのセキュリティ制限が定義されます。</block>
  <block id="2708058a93672fbaa8bcf3e785e87b21" category="list-text">という名前のファイルを作成します<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block>。</block>
  <block id="468f17ddccd3b34c0d539404233a5e45" category="list-text">SCCオプションをファイルに追加し、環境のニーズに応じてパラメータを変更します。</block>
  <block id="616d9e371ad293e03cb7d5ad25d66c80" category="paragraph">次に、SCCオプションのパラメータのデフォルト値の例を示します。</block>
  <block id="0c98fb0c406324f0a1aa95f76be6abee" category="paragraph">次の表では、SCCオプションのパラメータについて説明します。</block>
  <block id="4241afd729bbb74051e3cba55f164b0d" category="cell">SCCリソースを作成できるかどうかを決定します。SCCリソースは、がに設定され<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、HelmのインストールプロセスでOpenShift環境が指定されている場合にのみ作成され<block ref="aac82cc6424e9b52c84a0dbdc2518a15" prefix=" " category="inline-code"></block>ます。OpenShiftで動作していない場合、またはがに設定されている<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>場合<block ref="aac82cc6424e9b52c84a0dbdc2518a15" prefix=" " category="inline-code"></block>、SCCリソースは作成されません。</block>
  <block id="fd9cec0b7219b39de0235d899bf5b2c0" category="cell">SCCの名前を指定します。</block>
  <block id="141351edcf12ef25b127186a711471ce" category="cell">Trident - protect-job</block>
  <block id="b988295c268025b49dfb3df26171ddc3" category="cell">優先度</block>
  <block id="18dbc63582d575814786eb13d8baf787" category="cell">SCCのプライオリティを定義します。優先度の高いSCCSは、低い値のSCCSよりも先に評価されます。</block>
  <block id="c4ca4238a0b923820dcc509a6f75849b" category="cell">1</block>
  <block id="ee747b6b4f133aa926c072d073f4a8d5" category="list-text">ファイルから値を適用し<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block>ます。</block>
  <block id="54b43aeb73b3f5136e6febff4f374663" category="paragraph">これにより、デフォルト値がファイルで指定された値に置き換えられ<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block>ます。</block>
  <block id="19ac5903f95d5ebe1db017be54990f37" category="section-title">Trident保護ポッドを特定のノードに制限する</block>
  <block id="2c9025d65a10f87c581d792f629f0b40" category="paragraph">KubernetesのnodeSelectorノード選択制約を使用すると、ノードラベルに基づいて、Trident保護ポッドを実行できるノードを制御できます。デフォルトでは、Trident保護はLinuxを実行しているノードに制限されます。必要に応じて、これらの制約をさらにカスタマイズできます。</block>
  <block id="e131fc2359f1f35a2fdb476c3f19bfdd" category="list-text">という名前のファイルを作成します<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block>。</block>
  <block id="785a1066f4a7291f0bd0c65d4529e79f" category="list-text">nodeSelectorオプションをファイルに追加し、ファイルを変更してノードラベルを追加または変更して、環境のニーズに応じて制限します。たとえば、次のファイルにはデフォルトのOS制限が含まれていますが、特定の地域とアプリ名も対象としています。</block>
  <block id="0b3a205b675b10deddbe1e4c76c36e22" category="list-text">ファイルから値を適用し<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block>ます。</block>
  <block id="86ff3a8cca72a77f236198059cede1b6" category="paragraph">これにより、デフォルトの制限がファイルで指定した制限に置き換えられます<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block>。</block>
  <block id="b8c29704f9b86600d95c1c0c4d902455" category="list-text">Helmを使用してTrident protectをインストールします。をクラスタ名に置き換えます<block ref="b90b2ffedb63ca3bd8795caf4397715e" prefix=" " category="inline-code"></block>。クラスタに割り当てられ、クラスタのバックアップとスナップショットの識別に使用されます。</block>
  <block id="029d1c6e95e08907e4a8d285674ab46b" category="inline-link-macro">グローバルTrident保護フリーズ設定</block>
  <block id="f0c05ba588826dcd6ebd5a2b3796d458" category="list-text">* metadata.annotations.protect.trident.netapp.io/skip-vm-freeze*:（_Optional _）このアノテーションは、スナップショットの前にファイルシステムがフリーズするKubeVirt環境など、仮想マシンから定義されたアプリケーションにのみ適用されます。スナップショット中にこのアプリケーションがファイルシステムに書き込むことを許可するかどうかを指定します。trueに設定すると、アプリケーションはグローバル設定を無視し、スナップショット作成時にファイルシステムに書き込むことができます。falseに設定すると、アプリケーションはグローバル設定を無視し、Snapshotの作成中にファイルシステムがフリーズします。指定しても、アプリケーション定義に仮想マシンが含まれていない場合、アノテーションは無視されます。指定しない場合、アプリケーションはに続きます<block ref="61895e61fe23c9afb5a69eafa8d9b7ba" category="inline-link-macro-rx"></block>。</block>
  <block id="1fdb8b98325df025bfd256fc475c0986" category="paragraph">アプリケーションの作成後にこのアノテーションを適用する必要がある場合は、次のコマンドを使用します。</block>
  <block id="221764e612f482dbef981bc478028287" category="list-text">次のいずれかの例を使用して、アプリケーション定義を作成して適用します。括弧内の値は、環境の情報に置き換えます。アプリケーション定義に名前空間とリソースを含めるには、例に示す引数をカンマで区切ったリストを使用します。</block>
  <block id="50b08150a783c8c645d4ae11790366e3" category="paragraph">必要に応じて、アプリケーションの作成時にアノテーションを使用して、スナップショット中にアプリケーションがファイルシステムに書き込むことができるかどうかを指定できます。これは、スナップショットの前にファイルシステムがフリーズするKubeVirt環境など、仮想マシンから定義されたアプリケーションにのみ該当します。アノテーションをに設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と、グローバル設定は無視され、Snapshotの作成時にファイルシステムに書き込むことができます。に設定する<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>と、アプリケーションはグローバル設定を無視し、スナップショット中にファイルシステムがフリーズします。アノテーションを使用しても、アプリケーション定義に仮想マシンが含まれていない場合、アノテーションは無視されます。注釈を使用しない場合、アプリケーションはに従います<block ref="61895e61fe23c9afb5a69eafa8d9b7ba" category="inline-link-macro-rx"></block>。</block>
  <block id="26f08cf1da862c1ae831c562f3621d09" category="paragraph">CLIを使用してアプリケーションを作成するときにアノテーションを指定するには、フラグを使用し<block ref="3164592cacced1f14eeb788e764306a8" prefix=" " category="inline-code"></block>ます。</block>
  <block id="1ab026b6049460749549c7e94872c903" category="list-text">アプリケーションを作成し、ファイルシステムフリーズ動作のグローバル設定を使用します。</block>
  <block id="5c69fd9a5297da7a82e38395fe1ca096" category="list-text">アプリケーションを作成し、ファイルシステムフリーズ動作のローカルアプリケーション設定を構成します。</block>
  <block id="c2c21ce64dd4770c44c8642d322a5424" category="admonition">クラスタ対象のリソースがアプリケーション定義で明示的に参照されている場合、またはいずれかのアプリケーションネームスペースへの参照がある場合、バックアップ、Snapshot、またはクローンに含まれます。</block>
  <block id="2358fb4006fff416413cb9bfc04e4b73" category="list-text">長時間実行されるリストア処理には、AWSセッショントークンの有効期限が十分であることを確認してください。リストア処理中にトークンの有効期限が切れた場合、処理が失敗することがあります。</block>
  <block id="df710f89ebb9e663bd3d66607a0bf413" category="inline-link">AWSのドキュメント</block>
  <block id="f3aa7db516c38030a276a5895520407a" category="list-text">AWSリソースのクレデンシャルの詳細については、を参照してください<block ref="968595e57d50a64e3fbe0f06bc16cb91" category="inline-link-rx"></block>。</block>
  <block id="3094ed24e92fa43f93a063b74aba1810" category="admonition">スナップショット前の実行フックでKubernetesリソースが追加、変更、または削除された場合、それらの変更はスナップショットまたはバックアップ、および後続のリストア処理に含まれます。</block>
  <block id="d323f0b96d7cc15909a8faf8b343f7a0" category="section-title">実行フックを手動で実行する</block>
  <block id="b634452964a2a438acc2e266661043f1" category="paragraph">テスト目的で、または失敗後にフックを手動で再実行する必要がある場合は、実行フックを手動で実行できます。実行フックを手動で実行するには、Owner、Admin、またはMemberの権限が必要です。</block>
  <block id="b363e23f5ecd8c7994b0a821469e303c" category="paragraph">実行フックを手動で実行するには、次の2つの基本ステップがあります。</block>
  <block id="799527cc898bf9953cb450f2b50e3184" category="list-text">リソースのバックアップを作成します。リソースを収集してバックアップを作成し、フックの実行場所を決定します。</block>
  <block id="d65fd71b39d33804450847f69ddd69c0" category="list-text">バックアップに対して実行フックを実行する</block>
  <block id="d07d4b96979a15c6dea6fb4556200241" category="example-title">手順1：リソースのバックアップを作成する</block>
  <block id="32f56b6a11303c523e67b3ef5e70618e" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付け<block ref="1f13ad2055ef28f62611a4ced3a8da82" prefix=" " category="inline-code"></block>ます。</block>
  <block id="10f8657004606b105a7612de4504c293" category="list-text">* spec.applicationRef *：（_required_）リソースのバックアップを作成するアプリケーションのKubernetes名。</block>
  <block id="854d053ea53b0a9b6012fe3af98a11f9" category="list-text">バックアップのステータスを表示します。この例のコマンドは、処理が完了するまで繰り返し使用できます。</block>
  <block id="5c04e29edc18bc5ad81fc61dec5eee00" category="list-text">バックアップが成功したことを確認します。</block>
  <block id="163cbd835d00fc0fb13923332a76e532" category="example-title">ステップ2:実行フックを実行する</block>
  <block id="89666a2351b355f4191600de4436dfe7" category="list-text">カスタムリソース（CR）ファイルを作成し、という名前を付け<block ref="433572a415d5824f82d7e7c9a0829077" prefix=" " category="inline-code"></block>ます。</block>
  <block id="3e0977039522c796fb780d1c0155fdb7" category="list-text">*spec.applicationRef *:(_required_)この値が、手順1で作成したResourceBackup CRのアプリケーション名と一致していることを確認します。</block>
  <block id="c4f09daab57e7cc61e19e7da88f84edc" category="list-text">*spec.appVaultRef *:(_required_)この値が、手順1で作成したResourceBackup CRのappVaultRefと一致していることを確認します。</block>
  <block id="021c431bf5a7e31ec81f982db93aa9f3" category="list-text">*spec.appArchivePath *：この値が、手順1で作成したResourceBackup CRのappArchivePathと一致していることを確認します。</block>
  <block id="e2399671182dcd28bddf5d44b11f7af2" category="list-text">*spec.stage *:(_required_)実行フックが実行されるアクションのステージを示す文字列。このフックランは、他のステージではフックを実行しません。有効な値：</block>
  <block id="aa9f056f37cdee5e5bcd47f7bc3ac1ba" category="list-text">手動実行フック実行要求を作成します。</block>
  <block id="42e563c466d27e9d4943ef1acd3703b7" category="list-text">実行フック実行のステータスを確認します。このコマンドは、処理が完了するまで繰り返し実行できます。</block>
  <block id="8430f2c56dfc9e79fcaf741392d54499" category="list-text">exechooksrunオブジェクトについて説明し、最終的な詳細とステータスを確認します。</block>
  <block id="b343abb76f62f4eef4afa255e885eee4" category="paragraph">Trident 25.02以降では、最新情報の概要に、TridentとTridentの両方の保護リリースの機能強化、修正、廃止に関する詳細が記載されています。</block>
  <block id="4fc9faf161c64ed80d0fb8ca9aa0882e" category="admonition">使用しているData Moverに応じて、そのData Moverに対応するパスワードだけを含める必要があります。たとえば、Resticを使用していて、今後Kopiaを使用する予定がない場合は、シークレットを作成するときにResticパスワードのみを含めることができます。</block>
  <block id="6a346946ba0777d650b6e41a4c30c7b6" category="paragraph">削除するAppVaultで使用されているすべてのスナップショットおよびバックアップCRSが削除されていることを確認します。</block>
  <block id="b00fc94596cde685c68e0bedddb72ec6" category="summary">kube-state-metricsとprometheusを使用して、Trident保護リソースの状態を監視できます。これにより、環境、ノード、ポッドに関する健常性情報が得られます。</block>
  <block id="9f496d568415fb10daa1a69c18a27d52" category="doc">Tridentによるリソース保護の監視</block>
  <block id="c3815bcedc348a572c0e7310d70e426d" category="paragraph">オープンソースのkube-state-metrics、Prometheus、Alertmanagerツールを使用して、Trident保護で保護されているリソースの健全性を監視できます。</block>
  <block id="57d16d79ebb62eb467b490200f5f3191" category="paragraph">kube-state-metricsサービスは、Kubernetes API通信からメトリクスを生成します。Trident protectと併用すると、環境内のリソースの状態に関する有用な情報が公開されます。</block>
  <block id="0e68741139605975f01bc532098ea92c" category="paragraph">Prometheusは、kube-state-metricsによって生成されたデータを取り込み、これらのオブジェクトに関する読みやすい情報として表示できるツールキットです。kube-state-metricsとprometheusを組み合わせることで、Trident protectで管理しているリソースの健全性とステータスを監視できます。</block>
  <block id="6d0450323deb4880d88d2da4155d7c76" category="paragraph">Alertmanagerは、Prometheusなどのツールから送信されたアラートを取り込み、設定した送信先にルーティングするサービスです。</block>
  <block id="45501c075fe75338b712d61db6d82f54" category="paragraph">これらの手順に記載されている構成とガイダンスは一例にすぎません。環境に合わせてカスタマイズする必要があります。具体的な手順とサポートについては、次の公式ドキュメントを参照してください。</block>
  <block id="d9bdb1d7869cec3eaa75aaa48b414845" category="inline-link">kube-state-metrics ドキュメント</block>
  <block id="28b29a811fcff582b069060bb6104048" category="list-text"><block ref="28b29a811fcff582b069060bb6104048" category="inline-link-rx"></block></block>
  <block id="695c33d174e4ad444d82403015632550" category="inline-link">Prometheusノトキユメント</block>
  <block id="94fa5821707b81f95ad49b7f10d2d4d6" category="list-text"><block ref="94fa5821707b81f95ad49b7f10d2d4d6" category="inline-link-rx"></block></block>
  <block id="853d2b8407eda505e00a8014afdb0ddf" category="inline-link">AlertManagerのドキュメント</block>
  <block id="e23d8cb1d9d009a1aa298e95526efcd3" category="list-text"><block ref="e23d8cb1d9d009a1aa298e95526efcd3" category="inline-link-rx"></block></block>
  <block id="b246a1443f359b6da345c33e0b25f47a" category="section-title">手順1：監視ツールをインストールする</block>
  <block id="08d75478cbb19385a09620acc4f7a148" category="paragraph">Trident保護でリソース監視を有効にするには、kube-state-metrics、Promethus、およびAlertmanagerをインストールして設定する必要があります。</block>
  <block id="2a2c51a8db12ee75c90da4a3fb0e1a0b" category="section-title">インストールkube-state-metrics</block>
  <block id="016aa0f0550f5a0506cb61b61568e043" category="paragraph">kube-state-metricsはHelmを使用してインストールできます。</block>
  <block id="ea6a84ebff4515f07a0f260b7cce7b83" category="list-text">kube-state-metrics Helmチャートを追加します。例：</block>
  <block id="d6cff887be77b3dc5c6f689b93bb9b32" category="list-text">Helmチャートの構成ファイルを作成します（例：<block ref="1da0bbdfeb5bb05830055a1515d9e2a9" prefix=" " category="inline-code"></block>）。次の設定例は、環境に合わせてカスタマイズできます。</block>
  <block id="cf5cf09f9422112814f7fa967e303283" category="listing-title">metrics-config.yaml：kube-state-metrics Helmチャート構成</block>
  <block id="eca99dda7e2a747b75c232f5c3e314a0" category="list-text">Helmチャートを展開してkube-state-metricsをインストールします。例：</block>
  <block id="1b61aa1e4c2991758aa9c5bea0047156" category="inline-link">kube-state-metricsカスタムリソースドキュメント</block>
  <block id="6c21207c2c29ab5841100bb2ca67480f" category="list-text">の手順に従って、Trident保護で使用されるカスタムリソースのメトリックを生成するようにkube-state-metricsを設定します。<block ref="0c2d96c77ebc80eb4f9df846c2904f4c" category="inline-link-rx"></block></block>
  <block id="88b8613d339947a37e41b1f514dcc42c" category="section-title">Prometheus をインストールする</block>
  <block id="6cfabcb4c640f9570382e21ec242a3c0" category="paragraph">の手順に従ってPrometheusをインストールできます。<block ref="9c3dd7b31d363d10addc1dc55a338e01" category="inline-link-rx"></block></block>
  <block id="7d512717b3f318d83bbce6f09e891a6f" category="section-title">AlertManagerのインストール</block>
  <block id="ee3b7d497a79c10fe3b10cda25267876" category="paragraph">の手順に従って、AlertManagerをインストールできます<block ref="34c399dcb7431f049905523dd168baa8" category="inline-link-rx"></block>。</block>
  <block id="9147f13af253be263e759a06097eea20" category="section-title">ステップ2：監視ツールが連携するように設定する</block>
  <block id="73be38664a808318efe65c02c4ce747c" category="paragraph">監視ツールをインストールしたら、それらが連携するように設定する必要があります。</block>
  <block id="68f04b43068f22f98aaa6513240dd2b5" category="paragraph">Prometheusでは、kube-state-metricsから指標を収集し、アラートをAlertmanagerに送信できるようになりました。これで、アラートをトリガーする条件とアラートの送信先を設定する準備ができました。</block>
  <block id="a42cb9abdbaf69f90fba5592304008cd" category="section-title">手順3：アラートとアラートの送信先を設定する</block>
  <block id="1138a7ff5cea0f83ce07834c8e02315c" category="paragraph">ツールが連携して動作するように設定したら、アラートをトリガーする情報の種類とアラートの送信先を設定する必要があります。</block>
  <block id="917045fa08d9c44ee88951e8cdb4023b" category="section-title">アラートの例：バックアップの失敗</block>
  <block id="e8665bc518bf7a6d63332be811e8f6cb" category="section-title">アラートを他のチャネルに送信するようにAlertManagerを設定する</block>
  <block id="c9272f0d68fac2055ba2d71be6c87b1b" category="paragraph">次の例では、Slackチャンネルに通知を送信するようにAlertManagerを設定します。この例を環境に合わせてカスタマイズするには、キーの値を環境で使用されているSlack Webhook URLに置き換え<block ref="aa8106611bcfe43fec48e6d1d371de52" prefix=" " category="inline-code"></block>ます。</block>
  <block id="792d490e884279c961aba837ccd9b67a" category="admonition">Trident保護では、選択したリソースとの関係に基づいて、一部のリソースが自動的に選択されます。たとえば、永続的ボリューム要求のリソースを選択し、そのリソースにポッドが関連付けられている場合、Trident保護では関連付けられているポッドもリストアされます。</block>
  <block id="d110d36251c4dd04b7da5ef237ac6063" category="inline-link">Kopiaドキュメント</block>
  <block id="7491b3d3a4aa89a2dd6445477c6b6e0a" category="list-text">Amazon S3（AWS）AppVaultオブジェクトの場合、必要に応じてsessionTokenを指定できます。これは、認証にシングルサインオン（SSO）を使用している場合に便利です。このトークンは、でプロバイダのキーを生成するときに作成され<block ref="cd932e77bb3df9634d58b2fd34398b6f" category="inline-xref-macro-rx"></block>ます。</block>
  <block id="620026f954fdad541c9d19554476345c" category="list-text">AppVaultオブジェクトを削除し、削除するAppVaultオブジェクトの名前に置き換え<block ref="bf09cf3bd2a9288a0bdf3d1b89b770a1" prefix=" " category="inline-code"></block>ます。</block>
  <block id="35d393329a969d87338f26cd6fe42238" category="list-text">Helmを使用してTrident protectをインストールします。をクラスタ名に置き換えます<block ref="ecc79c99c4f86f0db5cc7f200415205f" prefix=" " category="inline-code"></block>。クラスタに割り当てられ、クラスタのバックアップとスナップショットの識別に使用されます。</block>
  <block id="c14fd2bf15bccb33c362aafa6a463f49" category="section-title">ONTAPバックエンド定義ファイルに管理LIFとデータLIFの両方を定義する必要がありますか。</block>
  <block id="7279808725b91afce38762e4e1a8108b" category="paragraph">管理LIFは必須です。DataLIFの種類：</block>
  <block id="adfb1f23733ff9ee458d139c1df9f86f" category="list-text">ONTAP NAS：NetAppでは指定を推奨しています<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。指定しない場合、TridentはSVMからデータLIFをフェッチします。NFSのマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定すると、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散できます。詳細は、を参照してください。<block ref="879dc93198c7c5e8ce7148b6d1205d73" category="inline-link-macro-rx"></block></block>
  <block id="565b6e5803bd2aeffbb1b529ae150998" category="section-title">管理LIFとデータLIFにIPv6アドレスを使用できますか。</block>
  <block id="4464ed822c0b46fd0bb406f3addad477" category="section-title">バックエンドのDataLIFを更新できますか。</block>
  <block id="6299c4ccad2894e1fc64eb6059df19b8" category="paragraph">DataLIFの更新は、および<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>でのみ実行できます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。</block>
  <block id="50738c79b08f93cc8be7f7ee1a3ac387" category="paragraph">* ONTAP NASドライバ*：NetAppでは、を指定することを推奨しています<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。指定しない場合、TridentはSVMからデータLIFをフェッチします。NFSのマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定すると、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散できます。</block>
  <block id="2455735b04a718daf96631c95e2d2d2c" category="paragraph">AKSクラスタで管理IDまたはクラウドIDを使用する場合はに設定します<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>。EKSクラスタでクラウドIDを使用する場合は、に設定され<block ref="907695ffaef2806fea589c7d8d044679" prefix=" " category="inline-code"></block>ます。GKEクラスタでクラウドIDを使用する場合は、に設定します<block ref="9856712fdf7563a4074fc130ed9f0755" prefix=" " category="inline-code"></block>。</block>
  <block id="d73f3637b8d6ba73db2eed6c626bb0f7" category="paragraph">AKSクラスタでクラウドIDを使用する場合は、ワークロードID（「azure.workload.identity/client-id：xxxxxxxxxx-xxxx-xxxxxxx」）に設定します。EKSクラスタでクラウドIDを使用する場合は、AWS IAMロール（「eks.amazonaws.com/role-arn: arn：aws：iam：：123456：role / Trident -role」）に設定されます。GKEクラスタでクラウドIDを使用する場合は、クラウドID（「IAM.GKE.IO/gcp-service-account: xxxx@mygcpproject.iam.gserviceaccount.com」）に設定します。</block>
  <block id="f39a4edd3567c3db7a288d4b8203dbee" category="cell">NFS ホストのホスト名または IP アドレス。この値は、仮想マシンのdataLIFに設定する必要があります。</block>
  <block id="7a6f34ea0b1eec52267ce30c62d910ba" category="cell">NFS ホストのホスト名または IP アドレス。この値は、SVMのdataLIFに設定する必要があります。</block>
  <block id="65066f84c75170b9c4abad6591a73548" category="inline-link">データLIFでKerberosを有効にする</block>
  <block id="3d2c78553d28b3786f4ec9e513e0adba" category="list-text">NFSボリュームのKerberos暗号化をサポートするようにONTAP Storage VMを準備しておく必要があります。手順については、を参照してください<block ref="27faba9d44bb486b2290a75aafcee5c1" category="inline-link-rx"></block> 。</block>
  <block id="fdbf43c52ad3e72902872b8ada5c6dde" category="paragraph">この<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block>機能を使用すると、NFSクライアントがSVMに照会して使用可能なNFSエクスポートのリストを確認できます。Kubernetesクラスタに導入されたポッドは、に対してコマンドを実行して、使用可能なマウント（ポッドがアクセスできないマウントを含む）のリストを受け取ることができます<block ref="55fb64f15dd3d0c53de3a4d095218569" prefix=" " category="inline-code"></block>。これだけではセキュリティ上の妥協ではありませんが、権限のないユーザが NFS エクスポートに接続するのを阻止する可能性のある不要な情報が提供されます。</block>
  <block id="fcb4221a7bd32f5d31d2e30a8443eac9" category="list-text">ドライバまたは<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバの設定時にDataLIFを指定しないようにし<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ました。</block>
  <block id="3165be312bab247f04681069367db65a" category="list-text">ONTAP SANバックエンドに固有のSLMの問題が修正され、レポートノードに属するデータLIFのサブセットのみが公開されるようになりました。</block>
  <block id="a478d15e95ddd4ce45d4fe0b98b651a6" category="list-text">角かっこで指定した場合にONTAP SAN IPv6データLIFが機能するようになりました。</block>
  <block id="a7080c23e8c14c73db47d3f3e492003c" category="paragraph"><block ref="9e6b25667a12ee82b7da8f90b3adfb4d" prefix="" category="inline-code"></block><block ref="e831869c37ce314b5ade82786bf3348f" prefix=" " category="inline-code"></block></block>
  <block id="762a96bc52f41b6b53a4e2d27fd14560" category="cell">プロトコル LIF の IP アドレス。を指定することを推奨しますNetApp<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。指定しない場合、TridentはSVMからデータLIFをフェッチします。NFSのマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定すると、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散できます。初期設定後に変更できます。を参照してください <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。IPv6フラグを使用してTridentがインストールされている場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、のように角かっこで定義する必要があります<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。* MetroClusterの場合は省略してください。*を参照してください<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="6e7bd344d0c1260e0145e18171b598bb" category="paragraph">初期設定後にdataLIFを変更するには、次のコマンドを実行して新しいバックエンドJSONファイルに更新されたdataLIFを指定します。</block>
  <block id="df9bc5d5fd5d258576244d9b760ef3d9" category="admonition">PVCが1つ以上のポッドに接続されている場合、新しいデータLIFを有効にするには、対応するすべてのポッドを停止してから稼働状態に戻す必要があります。</block>
  <block id="a2b356ce90145d5d188d7705a9797bc1" category="cell">プロトコル LIF の IP アドレス。* ONTAP NASドライバ*：NetAppではdataLIFの指定を推奨しています。指定しない場合、TridentはSVMからデータLIFをフェッチします。NFSのマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定すると、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散できます。初期設定後に変更できます。を参照してください <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。* ONTAP SANドライバ*: iSCSIには指定しないでくださいTridentは、ONTAP選択的LUNマップを使用して、マルチパスセッションの確立に必要なiSCI LIFを検出します。データLIFが明示的に定義されている場合は警告が生成されます。IPv6フラグを使用してTridentがインストールされている場合は、IPv6アドレスを使用するように設定できます。IPv6アドレスは、[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]などの角かっこで定義する必要があります。</block>
  <block id="a0c3ccd8e55dd8a4f5f5ad3a5269e331" category="admonition">に慣れていない場合は<block ref="13aad4b6f98e790ff55e578921fa5ede" category="inline-link-macro-rx"></block>、今すぐそれを行うのに最適な時期です。</block>
  <block id="f54758d5b91452d3103cc1017fa70d71" category="admonition">KubernetesクラスタのTridentアーキテクチャの詳細については、を参照してください<block ref="2e4686c52a7aa47e7bc2aa3cfa953fbe" category="inline-link-macro-rx"></block>。</block>
  <block id="50a4fd89cedf0068776b972ce96fcceb" category="cell">ONTAP REST API を使用するためのブーリアンパラメータ。<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>に設定する<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>と、TridentはONTAP REST APIを使用してバックエンドと通信します。に設定する<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>と、TridentはONTAPI（ZAPI）呼び出しを使用してバックエンドと通信します。この機能にはONTAP 9.11.1以降が必要です。また、使用するONTAPログインロールには、アプリケーションへのアクセス権が必要です<block ref="045ed0306c61104cb0777ccd31ce648b" prefix=" " category="inline-code"></block> 。これは、事前に定義された役割と役割によって実現され<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block><block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> ます。Trident 24.06リリースおよびONTAP 9.151以降では、が<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>デフォルトでに設定されて<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>います。<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>ONTAPI（ZAPI）呼び出しを使用するようにに変更してください。<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block></block>
  <block id="e516fe45e3db545de8d5d292a67f4990" category="list-text">volumeMode：FileおよびvolumeMode：ブロック（rawデバイス）ストレージの両方について、KubeVirt / OpenShift仮想化VMのバックアップとリストアのサポートが追加されました。このサポートはすべてのTridentドライバと互換性があり、NetApp SnapMirrorとTrident保護を使用してストレージをレプリケートする際の既存の保護機能が強化されます。</block>
  <block id="fc1d748db1b5b488ce7af7d17ea15d55" category="inline-link-macro">ソフトウェア バージョンのサポート</block>
  <block id="1906137ea73af1894fec1becb00e0aee" category="summary">あなたはいくつかの素晴らしいNetApp TridentとTrident保護ブログを見つけることができます。</block>
  <block id="0db80d8cadbd011f12ade006191e47b0" category="doc">TridentとTridentによるブログの保護</block>
  <block id="c5497cf98d8e6141ba38e1421502c2d4" category="paragraph">NetApp TridentとTridentの保護に関する優れたブログは、こちらからご覧いただけます。</block>
  <block id="897b6a6a21c73524107071aff80ed94e" category="inline-link-macro">『Unlock Seamless iSCSI Storage Integration：A Guide to FSxN on ROSA Clusters for AWS』</block>
  <block id="6dc79a8e11fda729083bb4e518de411f" category="inline-link-macro">Tridentでのファイバ・チャネル・サポートの導入</block>
  <block id="767cfc132547de728a22c9fa992eabfc" category="section-title">Tridentによるブログの保護</block>
  <block id="a706b02fe1ef4870ecc8b588cbe37989" category="inline-link-macro">OpenShift仮想化VMのcrash-consistentバックアップおよびリストア処理</block>
  <block id="938cab8cf5785dfe0cd9ba76b4cae8f0" category="list-text">2025年3月13日：<block ref="94b3904630a42c759a6ceb844d104a7a" category="inline-link-macro-rx"></block></block>
  <block id="20e2f4e6733d3ac5dd3cfb83506a2882" category="inline-link-macro">NetApp Tridentを使用してGitOpsパターンをアプリケーションデータ保護に拡張</block>
  <block id="ccd722b2b8950bc9aa2b92826dcc4664" category="list-text">2025年3月11日：<block ref="751073ae4d07c4adc8a15e872b137421" category="inline-link-macro-rx"></block></block>
  <block id="bc057a27d4d8047073d6f5fa802c9c2b" category="inline-link-macro">Trident 25.02：エキサイティングな新機能でRed Hat OpenShiftのエクスペリエンスを向上</block>
  <block id="fb68b473f5b70bc40e206ef882be4c63" category="list-text">2025年3月3日：<block ref="ce0fc75766d0530b76aaabf87dc1b463" category="inline-link-macro-rx"></block></block>
  <block id="62ca59fefb174e2cae471bd3ff034f37" category="inline-link-macro">Trident protect Role-Based Access Controlの概要</block>
  <block id="2471f7ea5ea7dad7f60b4ece1fab4a9f" category="list-text">2025年1月15日：<block ref="685287f953e60833f62fba2c623c4cb9" category="inline-link-macro-rx"></block></block>
  <block id="4a685524952a84cef8685a87bb60f47a" category="inline-link">tridentctl protectの紹介：Trident保護のための強力なCLI</block>
  <block id="281486a8e7fd8f1c6bd6cf0c6bc7eba0" category="list-text">2024年11月11日：<block ref="b1528afdd7be1e71d2c311686269cf66" category="inline-link-rx"></block></block>
  <block id="c0d721f6d5aa4d159e2f9890fab5bbee" category="inline-link-macro">Kubernetesベースのデータ管理：Trident保護の新時代</block>
  <block id="78ec91ade28d11ab9c3f53f543bba8d3" category="list-text">2024年11月11日：<block ref="46b2057fd4479a7d4462fb82adc6f54b" category="inline-link-macro-rx"></block></block>
  <block id="244fede3edf8f2ab57f281d777777961" category="list-text">* spec.includedNamespaces*:(_required_)名前空間とラベルセレクタを使用して、アプリケーションが使用する名前空間とリソースを指定します。アプリケーション名前空間はこのリストに含まれている必要があります。ラベルセレクタはオプションで、指定した各名前空間内のリソースをフィルタリングするために使用できます。</block>
  <block id="cc8aa03bb88101c1901ab425b29a1901" category="list-text">* spec.includedClusterScopedResources*:（_Optional _）この属性を使用して、アプリケーション定義に含めるクラスタスコープリソースを指定します。この属性を使用すると、グループ、バージョン、種類、およびラベルに基づいてこれらのリソースを選択できます。</block>
  <block id="eba6898a839f426c3106a97f94614eb9" category="list-text">*groupVersionKind *:(_required_)クラスタスコープリソースのAPIグループ、バージョン、および種類を指定します。</block>
  <block id="8d8a8010684a930aa7760c829cad4141" category="list-text">*labelSelector *:(_Optional_)ラベルに基づいてクラスタスコープリソースをフィルタリングします。</block>
  <block id="47edbb9e6d6e6e874eb40c274a0e2e0f" category="sidebar">ブログの投稿</block>
  <block id="4a5fadb6b0890cea5e8d53c37411aaf0" category="cell"><block ref="bc35d038baf172a19349f289d31fbf9d" prefix="" category="inline-code"></block></block>
  <block id="022571ee546e1a953d857961a8cd0442" category="paragraph">設定したKubernetes StorageClassを使用してPVへのアクセスを要求するPersistentVolumeClaim（PVC）を作成します。その後、PVをポッドにマウントできます。</block>
  <block id="f79367bddbaecd3962f7c740a1b2178f" category="paragraph"><block ref="b1b93f46fc69df9fe663c091f4d6c2b4" category="inline-link-rx"></block>（PVC）は、クラスタ上のPersistentVolumeへのアクセス要求です。</block>
  <block id="79a251ee7369fdcdb0847d35254afcf8" category="paragraph">PVCを作成したら、ボリュームをポッドにマウントできます。</block>
  <block id="a305c8fb2137d8a4a767905590079e89" category="section-title">PVCの作成</block>
  <block id="06034bca671a3028021f1a722aac7b41" category="paragraph">Kubernetes StorageClassオブジェクトを設定してストレージクラスを作成し、Tridentでボリュームのプロビジョニング方法を指定します。設定したKubernetes StorageClassを使用してPVへのアクセスを要求するPersistentVolumeClaim（PVC）を作成します。その後、PVをポッドにマウントできます。</block>
  <block id="5de805965faeb85a54098223ea3a3334" category="paragraph">PVCを作成したら、ボリュームをポッドにマウントできます。</block>
  <block id="89fb75fa5ae260c326092b78970469ed" category="list-text">左側のナビゲーションペインで、*[クラスタ]*を選択します。</block>
  <block id="abdaa0762abc2037a71287c94bceae14" category="list-text">NetApp Trident CSIアドオンを設定するクラスタの名前を選択します。</block>
  <block id="691da62871e09bf9c944f36b9de07889" category="list-text">*アドオン*を選択し、*追加のアドオン*を選択します。</block>
  <block id="e6cd86d61f4639c8a27006c6c29b3e9f" category="list-text">「 * 次へ * 」を選択します。</block>
  <block id="ce7f62393ec7cbcc106793e2c9ab41e8" category="list-text">NetApp Trident CSIアドオンを更新するクラスタの名前を選択します。</block>
  <block id="f90a2b79ab21cae46f34d96bb4501334" category="list-text">[アドオン]タブを選択します。</block>
  <block id="38b15bc2ab2d3588a9a19b123eaec1b5" category="list-text">Trident by NetApp *を選択し、* Edit *を選択します。</block>
  <block id="302ef561e28f7d7cd13d1042cece78e1" category="list-text">「変更を保存」を選択します。</block>
  <block id="b7cd6be51eaf277b357ed1c976d66d06" category="list-text">左側のナビゲーションペインで、*[クラスタ]*を選択します。</block>
  <block id="1ca28d22337393f531c7c8028230ed76" category="list-text">NetApp Trident CSIアドオンを削除するクラスタの名前を選択します。</block>
  <block id="85f27397ddcaf9ec996f312d1d89ecf9" category="list-text">*アドオン*タブを選択し、* Trident by NetApp *を選択します。*</block>
  <block id="6f99fa9b2e1f4893851a8aeb82d171f9" category="list-text">「 * 削除」を選択します。</block>
  <block id="f8c91efdaebc08b292c83903943a18c8" category="admonition">[Conflict resolution method]で[Override]を選択すると、既存のアドオンの1つ以上の設定をAmazon EKSアドオン設定で上書きできます。このオプションを有効にしない場合、既存の設定と競合すると、操作は失敗します。表示されたエラーメッセージを使用して、競合のトラブルシューティングを行うことができます。このオプションを選択する前に、Amazon EKSアドオンが自己管理に必要な設定を管理していないことを確認してください。</block>
  <block id="3b19f031abb1ee1e70a3d19640060ff8" category="cell">AWS Secrets Managerに保存するFSx SVMのクレデンシャルを指定します。-<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>：シークレットのAmazonリソース名（ARN）。SVMのクレデンシャルが含まれています。-<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block>：に設定します<block ref="eb301fdabb7b8996ba898845d5546121" prefix=" " category="inline-code"></block>。詳細については、を参照してください <block ref="e10af1024bf046058eef4c68dff3462a" category="inline-link-macro-rx"></block> 。</block>
  <block id="f62b661d066f6d5a24622ec3438e051b" category="example-title">AWS FSx for ONTAPとSecrets Managerの設定</block>
  <block id="88f9965484e8785ad82e1b99cdae3ab3" category="section-title">AWS Secrets Managerシークレットの作成</block>
  <block id="646ed389b399156cbfb4923c9d8fbf95" category="paragraph">TridentはFSx SVMに対してAPIを発行してストレージを管理するため、そのためにはクレデンシャルが必要になります。これらのクレデンシャルを安全に渡すには、AWS Secrets Managerシークレットを使用します。そのため、AWS Secrets Managerシークレットをまだ作成していない場合は、vsadminアカウントのクレデンシャルを含むシークレットを作成する必要があります。</block>
  <block id="360f6e9d45a33dadfdb2b47fa3a32110" category="paragraph">次の例では、Trident CSIクレデンシャルを格納するAWS Secrets Managerシークレットを作成します。</block>
  <block id="1cb68d4d58173447ddb7517b51d352a9" category="paragraph">Tridentを正しく実行するには、AWSの権限も必要です。そのため、必要な権限をTridentに付与するポリシーを作成する必要があります。</block>
  <block id="49512d524988e02360eaf4f4bb2ad8f3" category="paragraph">出力が空の場合は、次のコマンドを使用してIAM OIDCをクラスタに関連付けます。</block>
  <block id="fa1c8065dc4d2b862bfba881472c0aac" category="admonition">を、前の手順で作成したロールのARNに置き換えます<block ref="2befb7722283d545949c6220c6548fe4" prefix=" " category="inline-code"></block>。</block>
  <block id="44308ffe82692c268b99d3caefca907e" category="list-text">お使いのFSxN Trident CSIアドオンの現在のバージョンを確認してください。をクラスタ名に置き換え<block ref="e2eb89f0ffaf521a0d2eeaffca04d117" prefix=" " category="inline-code"></block>ます。</block>
  <block id="a1dc4a2136ed260b34021d64aaa6980a" category="list-text">前の手順の出力でupdate availableで返されたバージョンにアドオンを更新します。</block>
  <block id="0ca34892a0e67f37b07d196ec272007d" category="list-text">NetAppでは、ONTAP SANを除くすべてのONTAPドライバでFlexVol自動拡張を使用することは推奨されていません。回避策として、Tridentはスナップショット予約の使用をサポートし、それに応じてFlexVolボリュームを拡張します。</block>
  <block id="67ed8fb72dc668ae9c7c1114df8f02ed" category="paragraph">についてFCおよびFC-NVMe SANホストの設定の詳細、を参照してください<block ref="ee9d56c9130a1d3814c95b35eb7c82a4" category="inline-link-macro-rx"></block>は。</block>
  <block id="1b9fede0aad66dda6d8b01b66280fff4" category="paragraph">*考慮事項*：* SCSI over FCはOpenShiftおよびKubeVirt環境でサポートされています。* SCSI over FCはDockerではサポートされていません。* iSCSIの自己回復機能は、SCSI over FCには適用されません。</block>
  <block id="5e6c49c79d451ce5d17472c430c69454" category="admonition">の下に<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block>含むを<block ref="2a81b35478c9ccb4f9392dcc40edb8e6" prefix=" " category="inline-code"></block>確認します<block ref="dd5ff67ba72768d33f75e645aa2b8e56" prefix=" " category="inline-code"></block>。</block>
  <block id="ce3d3f85c4d1d4dd7826863d9428b4e5" category="admonition">Tridentに関するサポートが必要な場合は、を使用してサポートバンドルを作成し<block ref="1d41e2024c69110ad6054ffc785ca8e0" prefix=" " category="inline-code"></block>、NetAppサポートに送信してください。</block>
  <block id="8ef3114bf1395e8f04d7b3404982499e" category="list-text">NVE暗号化フラグをに設定すると、NAE対応ボリュームを作成できます<block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block>。</block>
  <block id="351e2b20bd9ea864b69cd832f3a4a5df" category="list-text">バックエンドでNAEが有効になっていない場合、バックエンド構成でNVE暗号化フラグが（デフォルト値）に設定されていないかぎり、TridentでプロビジョニングされたボリュームはNVE対応になり<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>ます。</block>
  <block id="a346cffc17b34fc56f3020d8b33d30c3" category="paragraph">ストレージクラスとPVCが作成されたら、そのPVをポッドにマウントできます。ここでは、PVをポッドに接続するためのコマンドと設定例を示します。</block>
  <block id="f253a45a33bc62e467efd426699d9025" category="paragraph">デーモンを起動したら、Docker CLIインターフェイスを使用してボリュームを作成および管理できます。</block>
  <block id="a0ba0b0d751124c646a352594c7e9d7b" category="paragraph">残りのドライバはレースコンディションなどの問題の影響を受け、明確な「勝者」なしで1回の要求で多数のボリュームが作成される可能性があります。たとえば、Elementには、同じ名前で複数のIDを使用できる機能があります。</block>
  <block id="8904f6454065d44212063d39eeae5f07" category="paragraph">NFSマウントオプションをきめ細かく制御します。デフォルトは「-o nfsvers=3」です。*ドライバと<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバでのみ使用でき<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ます*。<block ref="71f7a3f48cfd3876cffba401813b7db0" category="inline-link-rx"></block>です。</block>
  <block id="6a3f2fe5a221ff5e914123b7d1d207ac" category="paragraph">Snapshotリザーブの割合。デフォルトはONTAPのデフォルトを使用する場合は""です。</block>
  <block id="5c43de330169c269435e59a6b0ec6a2e" category="paragraph"><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバは、自動的に管理されるFlexVolボリュームのプール内にONTAP qtreeとしてDockerボリュームを作成します。qtree の拡張性は、クラスタノードあたり最大 10 、 000 、クラスタあたり最大 2 、 40 、 000 で、一部の機能を犠牲にすることで大幅に向上しています。この<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバは、Dockerボリューム単位のSnapshotやクローニングをサポートしていません。</block>
  <block id="a21d144a1c4c6283532b218d06e428b5" category="admonition">Docker Swarmでは複数のノード間でのボリューム作成のオーケストレーションが行われないため、この<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバは現在Docker Swarmでサポートされていません。</block>
  <block id="a742d54fecc7e60d5a6c56568622bf9d" category="paragraph"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>ドライバは、自動的に管理されるFlexVolボリュームの共有プール内にONTAP LUNとしてDockerボリュームを作成します。この方法により、各 FlexVol が 1 つの LUN に制限されることはなく、 SAN ワークロードのスケーラビリティが向上します。ストレージアレイに応じて、 ONTAP はクラスタあたり最大 16384 個の LUN をサポートします。このドライバは、ボリュームが下位の LUN であるため、 Docker ボリューム単位の Snapshot とクローニングをサポートします。</block>
  <block id="8d848c284e4e3a777487dbfd26724083" category="paragraph">FlexGroupに適したFlexGroupとワークロードについては、を参照してください<block ref="fd26d63759e7985cecb8814cdedc189b" category="inline-link-rx"></block>。</block>
  <block id="9e2ebdd267bef148382aa48682e06bc5" category="paragraph">1つの環境で高度な機能と大規模な機能を利用するには、を使用して、別のを使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>して、Docker Volume Pluginの複数のインスタンスを実行し<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>ます。</block>
  <block id="86c8f953c394c19d7db6f6cf9882490e" category="paragraph"><block ref="6594f00105facbc68b3a919300221cc8" prefix="" category="inline-code"></block></block>
  <block id="fc03ab18d43301d015d44d432ae97eee" category="paragraph"><block ref="576b5b6204cfa4837c36a45307295380" prefix="" category="inline-code"></block><block ref="6d1394abf99896b6835a3be55cc2adce" prefix=" " category="inline-code"></block></block>
  <block id="ff0444fca20d2b690849631c3206bc5a" category="paragraph"><block ref="9e7d4cc1e0a49fb0aadd14f9a159a7ec" prefix="" category="inline-code"></block></block>
  <block id="839d5cbe0fec88e102ab7dee46577ac7" category="paragraph">Snapshot ポリシーが目的の値に設定されます。デフォルトはで、<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>ボリュームのSnapshotは自動的に作成されません。ストレージ管理者が変更しないかぎり、「default」というポリシーは、毎時6個、日次2個、週次2個のSnapshotを作成および保持するすべてのONTAPシステムに存在します。ボリューム内の任意のディレクトリを参照することで、Snapshotに保存されているデータをリカバリでき<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>ます。</block>
  <block id="c515dd3a067f21589c3e11d31e32462b" category="list-text">ブロックストレージドライバの_rwxアクセスモード_：ONTAP SAN（iSCSI、NVMe/TCP、FC）およびONTAP SANエコノミー（iSCSI）ドライバは、「volumeMode：Block」（rawデバイス）でのみサポートされます。これらのドライバでは<block ref="8da9b296683a7538d85fc38fcb987292" prefix=" " category="inline-code"></block>、ボリュームはrawデバイスモードで提供されるため、パラメータは使用できません。</block>
  <block id="8c1fabda63909c966d5b02c908178af2" category="paragraph">この例は、コマンドの実行後に作成され<block ref="6108feb94d9d09a19e33648dcce80003" prefix=" " category="inline-code"></block>、基本的なカスタムインストールを示しています。</block>
  <block id="a687cccb5ef434dd8df6734253a09535" category="paragraph">この例は、コマンドの実行後に作成され<block ref="2241cac556b278d16d0bb5f94117277a" prefix=" " category="inline-code"></block>、WindowsワーカーノードにTridentをインストールします。</block>
  <block id="de4b458ce26c7e2479c45bb915c621b5" category="paragraph">PVCの作成時に「No capacity pools found」エラーが表示される場合は、アプリケーション登録に必要な権限とリソース（サブネット、仮想ネットワーク、容量プール）が関連付けられていない可能性があります。デバッグを有効にすると、バックエンドの作成時に検出されたAzureリソースがTridentによってログに記録されます。適切なロールが使用されていることを確認します。</block>
  <block id="1c52b877ebb92e642f84ee1628240247" category="cell">常に「SolidFire - SAN」</block>
  <block id="31079062306e509fbecf7a2bd9485187" category="cell">「SolidFire _」+ストレージ（iSCSI）IPアドレス</block>
  <block id="1ed25c6118740d8ddd80ea0ce520e808" category="cell">「Trident」という名前のアクセスグループのIDを検索します。</block>
  <block id="c72dc6713f14ba2541824417f46e1cd6" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：｛"api"：false、"method"：true｝</block>
  <block id="cc1ae9a700356c7c519b4aee7dcbf53b" category="cell">"10.0.0.1 ","[2001：1234：abcd：：fe]"</block>
  <block id="1925cd490b13f25205214eccfe51fccd" category="admonition">「vsadmin」のクレデンシャルを使用する場合はSVMのクレデン<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>シャル、「admin」のクレデンシャルを使用する場合はクラスタのクレデンシャル<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>を使用する必要があります。</block>
  <block id="788fe8d661645297ab41d7c9235dcbb8" category="list-text">keep：mkfsの時点でブロックを破棄しないでください（ブロックの破棄は、最初はソリッドステートデバイスやスパース/シンプロビジョニングされたストレージで有効です）。これは廃止されたオプション「-K」に代わるもので、すべてのファイルシステム（xfs、ext3、およびext4）に適用できます。</block>
  <block id="470fa5f00d398bad1d1874a9b4d59d7b" category="cell">"["0.0.0.0/0"、"：：/0"]"</block>
  <block id="1e8d899088cef4cd1758075ac2b63721" category="cell">Snapshot「0」用にリザーブされているボリュームの割合</block>
  <block id="d8d01124b8b3fe614b475ad96fca4635" category="cell">がの<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>場合<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block><block ref="2954e92a9b4d0e998fe4893f8141649a" prefix=" " category="inline-code"></block>、""</block>
  <block id="5a71b77feca506fc8eba218b4e65048b" category="paragraph">Tridentはスナップショットからデータをリストアします。Snapshotリストアのステータスを確認できます。</block>
  <block id="9d577c00c4cbb5d99e7a8a6589113669" category="paragraph">Snapshotが関連付けられている永続ボリュームを削除すると、対応するTridentボリュームが「削除中」に更新されます。ボリュームSnapshotを削除してTridentボリュームを削除します。</block>
  <block id="27e9bd9989c090489f69126b9910d7d8" category="list-text">バックエンド定義にを含めることで、各バックエンドのデバッグログを取得することもできます<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>。たとえば、TridentログでAPI呼び出しとメソッドトラバーサルを取得するためにを指定します<block ref="825a719baa5b5b7445c98535815fac39" prefix=" " category="inline-code"></block>。既存のバックエンドはで構成<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>できます<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>。</block>
  <block id="1e8493e925b9f37d24c0573c08c6643a" category="list-text">ソースクラスタで、ソースアプリケーションのAppVaultを作成します。ストレージプロバイダに応じて、の例を環境に合わせて変更します<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>。</block>
  <block id="a42a308559809e0fc20b13ea51d5d3d4" category="list-text">ソースクラスタで、ソースアプリケーションCRを作成します。</block>
  <block id="85d88f09b637997959adc6d50a42d56f" category="list-text">デスティネーションクラスタで、ソースクラスタに適用したAppVault CRと同じソースアプリケーションAppVault CRを作成し、という名前を付けます（例：<block ref="3ad9e8b652d0a9a977e2534bf143ea29" prefix=" " category="inline-code"></block>）。</block>
  <block id="8af8219e9797756f7e348dd40e365632" category="list-text">デスティネーションクラスタに、デスティネーションアプリケーション用のデスティネーションAppVault CRを作成します。ストレージプロバイダに応じて、の例を環境に合わせて変更します<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>。</block>
  <block id="f454fc9c64d31c07a352c043fe184940" category="list-text">デスティネーションクラスタで、AppMirrorRelationship CRファイルを作成します。</block>
  <block id="3d9dc864aeb5b914422a6a665c53ceeb" category="list-text">（_オプション_）デスティネーションクラスタで、レプリケーション関係の状態とステータスを確認します。</block>
  <block id="fe07abfd92e0d0809a7eb71ce3f79b4b" category="list-text">デスティネーションクラスタで、AppMirrorRelationship CRファイル（など）を編集し<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block>、* spec.desiredState*の値をに変更します<block ref="2c42d7d277f63fcbe64b041b997ceaed" prefix=" " category="inline-code"></block>。</block>
  <block id="2ebd442ba9080ba8f10b660fd69bb379" category="list-text">オプション：ソースクラスタで、ソースアプリケーションのSnapshotを作成します。これにより、ソースクラスタからの最新の変更がキャプチャされます。</block>
  <block id="4d77fef9f6bd1f87593e41a1d32a7ea4" category="list-text">デスティネーションクラスタで、AppMirrorRelationship CRファイル（など）を編集し<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block>、spec.desiredStateの値をに変更します。<block ref="072f9734fceb02f516b50d4174ac0f18" prefix=" " category="inline-code"></block></block>
  <block id="cd7eea117bba074d0250983f81bb10e4" category="list-text">元のデスティネーションクラスタで、AppMirrorRelationship CRを削除します。これにより、デスティネーションがソースになります。新しいデスティネーションクラスタに保護スケジュールが残っている場合は削除します。</block>
  <block id="5ca8234bb17898bdaa8421e9bab83a0b" category="list-text">新しいデスティネーション（元のソースクラスタ）に両方のAppVault CRSが設定されていることを確認します。</block>
  <block id="e319bd320145e358af8fd5dbada2d800" category="list-text">ソースクラスタで、シャットダウンSnapshotを作成します。</block>
  <block id="47d8460d4aa2253d733ecb9b355e4319" category="list-text">ソースクラスタで、シャットダウンSnapshotが完了したら、シャットダウンSnapshotのステータスを取得します。</block>
  <block id="00e7f88da8b7690738f8546262d2fe54" category="list-text">ソースクラスタで、次のコマンドを使用して* shutdownsnapshot.status.appArchivePath *の値を探し、ファイルパスの最後の部分（basenameとも呼ばれます。最後のスラッシュのあとのすべての部分）を記録します。</block>
  <block id="579f2feb3d9edaa336d3ccb69c3fb855" category="list-text">次のように変更して、新しいデスティネーションクラスタから新しいソースクラスタへのフェイルオーバーを実行します。</block>
  <block id="23b4dec181e41ab3962cf73b28ffe58c" category="list-text">現在のディサイトクラスタで、AppMirrorRelationship CRを削除します。</block>
  <block id="6935ea1d99a0c26f0e4cddb80f444849" category="summary">Red Hat OpenShiftを使用する場合は、オペレータを使用してTridentをインストールできます。</block>
  <block id="c282cc9924716a0ecdcc1864c8821950" category="doc">TridentコミュニティオペレータからOpenShift認定オペレータへの切り替え</block>
  <block id="92da9bfce4b6635fcf5d3f3725accbbc" category="paragraph">NetAppコミュニティTridentオペレータからRed Hat OpenShift認定Tridentオペレータに切り替えるには、コミュニティオペレータをアンインストールしてから、OperatorHubを使用して認定オペレータをインストールする必要があります。</block>
  <block id="cec1c482e499b4748371d5e19359dacd" category="inline-link-macro">Tridentをインストールするための環境の準備</block>
  <block id="82c3da1e712e572f424c3b7bf7dafcaf" category="section-title">NetApp Trident Community Operatorのアンインストール</block>
  <block id="ae76609b28371ddbc9f46be837040994" category="list-text">OpenShiftコンソールを使用して、OperatorHubに移動します。</block>
  <block id="349838fb1d851d3e2014b9fe39203275" category="image-alt">インストール</block>
  <block id="2d8d10c295f87a1f17d2f37a4df9688d" category="list-text">NetApp Tridentコミュニティオペレータを検索します。</block>
  <block id="e1b3a07c6ba67335c1564ff539f1f885" category="admonition">[Delete all operand instances from this operator]*を選択しないでください。</block>
  <block id="615da270425b5ecb4fe6ddeed9358880" category="list-text">[ アンインストール ] をクリックします。</block>
  <block id="c7afcce8432c7e249a80e803d2a81180" category="section-title">OpenShift認定オペレータのインストール</block>
  <block id="6eaf33f9c2387a07f89fc20e19acffaa" category="list-text">Red Hat OperatorHubに移動します。</block>
  <block id="cccebca328e4674a8888d5dc22f61e0d" category="list-text">NetApp Trident演算子を検索して選択します。</block>
  <block id="9872de8cf3e5ac67cae81e5c17eaa5cc" category="list-text">画面の指示に従って、オペレータをインストールします。</block>
  <block id="52b8ffce119fe77b28034f2fdd35eb5f" category="section-title">検証</block>
  <block id="ba8b537f098a607b7119fc78961300eb" category="list-text">コンソールのOperatorHubをチェックして、新しい認定オペレータが正常にインストールされていることを確認します。</block>
  <block id="838483eae18a7bca44c25a90dc7f55c3" category="doc">OpenShift OperatorHubを使用したTridentのインストール</block>
  <block id="d569da5fb14cad502f71e232cdfcb4e4" category="paragraph">Red Hat OpenShiftを使用する場合は、Red Hat認定オペレータを使用してNetApp Tridentをインストールできます。Red Hat OpenShift Container PlatformからTridentをインストールするには、次の手順を実行します。</block>
  <block id="516a493e6df274ac5512ffaab7234ebf" category="section-title">Tridentオペレータの検索とインストール</block>
  <block id="7a200e69eab0d67b215ea6e3c6081797" category="list-text">OpenShift OperatorHubに移動し、NetApp Tridentを検索します。</block>
  <block id="9838ab5306db947832d94d1cd49a486a" category="list-text">インストールされている演算子のリストからTrident演算子を選択します。</block>
  <block id="b5a7424a278ddd01fa4e381b58d1e00d" category="list-text">演算子からすべてのオペランドインスタンスを削除する場合に選択します。</block>
  <block id="28ed84868f638999e59e306d6b87b07c" category="admonition">[この演算子からすべてのオペランドインスタンスを削除する]チェックボックスをオンにしないと、Tridentはアンインストールされません。</block>
  <block id="0e9e7400617f4a815b5ec92f2030b580" category="sidebar">OpenShift認定オペレータを使用してインストール</block>
  <block id="93e4eff1c01241084bfc9427074bacea" category="sidebar">OpenShift OperatorHubを使用したTridentのインストール</block>
  <block id="c9e3d6c8fc80db4773cf69e205f2b571" category="sidebar">TridentコミュニティオペレータからOpenShift認定オペレータへの切り替え</block>
  <block id="88f2acec92adfdf94ffec73a8fda60a6" category="paragraph">ボリュームクローニングはわずか数ステップでセットアップできます。</block>
  <block id="e44a637a848aa60ef27cfc477d692412" category="paragraph">Tridentは、PVとそのバックエンドストレージボリュームを作成します。</block>
  <block id="9f965f02f635b760a84c43d43aba854f" category="paragraph">インストールを開始する前に、を<block ref="a24ee29cd883cbf52de58a68b0fed1a7" category="inline-link-macro-rx"></block>参照してください。</block>
  <block id="d72c3d84865c2955b89cbf6e0ec00ada" category="inline-link-macro">問題#983</block>
  <block id="ac76c3fcac41a10bd5f709108875e6c6" category="list-text">デフォルト以外のイメージレジストリ()を使用しているときに、サイドカーイメージの名前とバージョンが誤って入力されるTrident演算子の問題を修正しました<block ref="524f95fe3800e5d3ef82e615d679c539" category="inline-link-macro-rx"></block>。</block>
  <block id="7bc2d7846b2e95d3f64a4d4f4b53cc3c" category="list-text">ONTAPフェイルオーバーのギブバック中にマルチパスセッションがリカバリできないという問題が修正されました（<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block>）。</block>
  <block id="212dff1a74c955a52357c5a67478720d" category="section-title">25.02の変更点</block>
  <block id="ef5363598e9b6f09c42a4f11b7798e31" category="section-title">24.10.1の変更点</block>
  <block id="fe28e2a5f749261aca15de7b9e5841d0" category="list-text">* Kubernetes *：Kubernetes 1.32のサポートを追加。</block>
  <block id="3da21bcb163e7e142caada3e22ac014f" category="list-text">TridentとTrident ASUPの依存関係を更新し、CVE-2024-45337およびCVE-2024-45310に対応。</block>
  <block id="eeda04a5133a10ebd4956c7d83dfd389" category="list-text">iSCSIの自己修復中に、一時的に正常でない非CHAPポータルのログアウトが削除されました（<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block>）。</block>
  <block id="78937357687a7b0292ed689d4e420485" category="inline-link">Red Hat のドキュメント</block>
  <block id="89e30b0f2c0e48835ff872a994fc749c" category="list-text">FC PVSでRHEL / Red Hat Enterprise Linux CoreOS（RHCOS）を実行するワーカーノードを使用する場合は、StorageClassでmountOptionを指定してインラインのスペース再生を実行します<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block>。を参照してください<block ref="65c95aeda8cb0b26307f9839dd3fefbf" category="inline-link-rx"></block>。</block>
  <block id="e80b6a304e29d5dfcb9150f47d69db94" category="section-title">TridentによるKubeVirtとOpenShiftによる仮想化のサポート</block>
  <block id="cffd29fb8e17cb30625130ee24cd667d" category="paragraph">Tridentは、KubeVirtおよびOpenShift仮想化用に次のONTAPドライバをサポートしています。</block>
  <block id="0ae326ef84f2a6bc4be48951f88c0162" category="list-text">OpenShift仮想化環境でストレージクラスを更新し、パラメータ（例：<block ref="6db865adcb81b7cf881ff9839476f850" prefix=" " category="inline-code"></block>）を使用<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>します。必要に応じて、のパラメータを<block ref="c6dda2fd1e6d70d582099348cfe6c847" prefix=" " category="inline-code"></block>使用してブロックデータボリュームの作成をCDIに通知し、ボリュームモードを明示的にブロックするように設定し<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block>ます。</block>
  <block id="daa6a182f8035711e9635994f572c7bc" category="list-text">OpenShift Container Platform（AMD64およびARM64）でサポートされるRed Hat Enterprise Linux CoreOS（RHCOS）のバージョン</block>
  <block id="2bf380408feee0a9443f217c907f0681" category="inline-link-macro">Red Hat OpenShiftのロギングに関するドキュメント</block>
  <block id="796814ebd3d324fe438f0c699c37c89e" category="admonition">次の表には、ロギングサービスに関連するストレージ構成に関連する変数のみを示します。展開に応じて、レビュー、設定、および使用する必要がある他のオプションを見つけることができます<block ref="202ad309c67a74272d432350a2d0cf76" category="inline-link-macro-rx"></block>。</block>
  <block id="3a298688c4d78e1b7532d3859cd16a57" category="inline-link-macro">Red Hat OpenShift Container Platform 3.11のドキュメント</block>
  <block id="620fb6046d1af07a3df48b291902887c" category="paragraph">ただし、最初のインストール後に導入する場合は、コンポーネントプレイブックを Ansible で使用する必要があります。このプロセスは、OpenShiftのバージョンによって若干変更される場合がありますので、お使いのバージョンに合わせてお読みください<block ref="87091f5bcd27af3d8592e461d451be85" category="inline-link-macro-rx"></block>。</block>
  <block id="95c7854cff26589ad1555baa8672c001" category="inline-link-macro">Red Hat OpenShift導入ガイド</block>
  <block id="757eaf1f1a551aabeb24f57705261f85" category="paragraph">上記の変数と導入プロセスは、 OpenShift の各バージョンで変更される可能性があります。使用しているバージョンを確認し、環境に合わせて構成されるようにして<block ref="1b29818189b1aff318eccaee960b09cb" category="inline-link-macro-rx"></block>ください。</block>
  <block id="4e602d306baa843baf9ed9bd9ce452b1" category="list-text">OpenShift Virtualization for ONTAPドライバのサポートが追加されました。</block>
  <block id="814077b936b9bc9d2731d0f5fd50fde3" category="list-text">iSCSI PVS のオンラインスペース再生を実行するには、作業者ノード上の基盤となる OS がボリュームにマウントオプションを渡す必要があります。これはRHEL/Red Hat Enterprise Linux CoreOS（RHCOS）インスタンスに当てはまります<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block><block ref="2ee633fb26bfccf07d490458d29f92a2" category="inline-link-rx"></block>。オンラインブロック破棄をサポートするには、discard mountOptionが^]に含まれていることを確認してください。<block ref="15699dd651c6fec3ed329f2bf55d54b4" category="inline-link-rx"></block><block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix="[" category="inline-code"></block></block>
  <block id="de6d7aa94730ba882f7284ac8e07a0d1" category="paragraph">ドライバを組み合わせて使用している場合は、ドライバに必要なすべてのツールをインストールする必要があります。最近のバージョンのRed Hat Enterprise Linux CoreOS（RHCOS）では、デフォルトでツールがインストールされています。</block>
  <block id="ce557c2f93da665463decf7b19e61b7b" category="list-text">iSCSI PVSでRHEL / Red Hat Enterprise Linux CoreOS（RHCOS）を実行するワーカーノードを使用する場合は、StorageClassでmountOptionを指定してインラインのスペース再生を実行します<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block>。を参照してください<block ref="65c95aeda8cb0b26307f9839dd3fefbf" category="inline-link-rx"></block>。</block>
  <block id="3992b498f2510c20f4dc0df9804e6038" category="list-text">Red Hat Enterprise Linux CoreOS（RHCOS）を使用している場合は、がワーカーノードで有効になっていて、デフォルトで起動されていることを確認してください<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block>。この設定には、 OpenShift MachineConfig を使用するか、イグニッションテンプレートを変更します。</block>
  <block id="aaa0c40b2c8011bdffe750a1ba36c398" category="paragraph"><block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>、およびを使用する<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block><block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>と、SMBボリュームを指定し、必要なActive Directoryクレデンシャルを指定できます。権限の有無にかかわらず、すべてのActive Directoryユーザ/パスワードをノードステージシークレットに使用できます。</block>
  <block id="1e0e0f35966b4297310419e9023a837b" category="admonition">TridentでプロビジョニングされたボリュームとこのバックエンドからSnapshotが残っている場合、バックエンドを削除すると、そのバックエンドで新しいボリュームがプロビジョニングされなくなります。バックエンドは引き続き「Deleting」状態になります。</block>
  <block id="e441c0f153e5f2e8328aa8c2e9badf45" category="list-text">kube-state-metricsとPrometheusを統合Prometheus構成ファイル<block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix="(" category="inline-code"></block>を編集）、kube-state-metricsサービス情報を追加します。例：</block>
  <block id="ce813b4c1248ec7e0f14b08f1a037497" category="listing-title">prometheus.yaml: kube-state-metrics サービスと Prometheus の統合</block>
  <block id="934a401d15e7226d8cb60e2a12f28611" category="list-text">アラートをAlertManagerにルーティングするようにPrometheusを設定します。Prometheus構成ファイル<block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix="(" category="inline-code"></block>を編集）、次のセクションを追加します。</block>
  <block id="2a88bf2582239d12cc0700d3c6857519" category="listing-title">prometheus.yaml: Alertmanagerにアラートを送信する</block>
  <block id="ae9aa1ddb34419c7b7b7f49feba7fb45" category="paragraph">次の例は、バックアップカスタムリソースのステータスが5秒以上に設定された場合にトリガーされるCriticalアラートを定義します<block ref="902b0d55fddef6f8d651fe1035b7d4bd" prefix=" " category="inline-code"></block>。この例を環境に合わせてカスタマイズし、このYAMLスニペットを構成ファイルに含めることができます<block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix=" " category="inline-code"></block>。</block>
  <block id="62c242d2e7dfd83a58d8ccf60227d68f" category="listing-title">rules.yaml: 失敗したバックアップに関する Prometheus アラートを定義する</block>
  <block id="70694773feb2b23c45e7ff7a6a3c3c8b" category="paragraph">電子メール、PagerDuty、Microsoft Teams、その他の通知サービスなどの他のチャネルに通知を送信するようにAlertManagerを設定するには、ファイルでそれぞれの設定を指定し<block ref="9001eaececb0884cbeb80659e81340ad" prefix=" " category="inline-code"></block>ます。</block>
  <block id="965357e3c90ccf3fba01174c6508d562" category="listing-title">alertmanager.yaml: Slackチャンネルにアラートを送信する</block>
  <block id="fb72ca78c839cefc52d39ebcecaf6827" category="paragraph">ボリュームスナップショットは以下でサポートされています<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 、 <block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 、 <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 、 <block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 、 <block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 、 <block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> 、 <block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> 、 そして<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>ドライバー。</block>
  <block id="02c19b7bc038d2af238bbd729bc3d9c4" category="list-text">AppVault CR を手動で作成する場合は、*spec.dataMoverPasswordSecretRef* フィールドを使用してシークレットを指定します。</block>
  <block id="0a636ed0406fe1d7ddf9db59b32011b3" category="list-text">Trident Protect CLIを使用してAppVaultオブジェクトを作成する場合は、 <block ref="66f22eb4f5e5b0147ea7521212b07044" prefix=" " category="inline-code"></block>秘密を指定するための引数。</block>
  <block id="d2a7dc5804ec844f3f7bfb903e97693f" category="section-title">S3互換ストレージのIAM権限</block>
  <block id="48f73146a4944adc8ee8fb44ba954d59" category="paragraph">Amazon S3、Generic S3などのS3互換ストレージにアクセスする場合、 <block ref="3d0b4c23d9ed62ec7d7cd16273ca2521" category="inline-link-rx"></block> 、 または<block ref="3a31dfad8c316380b9a5542d694c5833" category="inline-link-rx"></block> Trident Protectを使用する場合、提供するユーザー認証情報がバケットへのアクセスに必要な権限を持っていることを確認する必要があります。以下は、Trident Protectを使用したアクセスに必要な最小限の権限を付与するポリシーの例です。このポリシーは、S3互換バケットポリシーを管理するユーザーに適用できます。</block>
  <block id="d9b7f314625fb7dcf35c741afe65b676" category="inline-link">Amazon S3 ドキュメント</block>
  <block id="46d663191f16f782a681e5f6702a09d4" category="list-text">すべての ONTAP バックエンドでは、Trident では少なくとも 1 つのアグリゲートを SVM に割り当てる必要があります。</block>
  <block id="782b4a6bf31d7d564f002ed80e56a970" category="doc">データムーバータイムアウト注釈</block>
  <block id="2cf4114566459ea3b3a5ac507cb86fd9" category="paragraph">バックアップおよび復元操作中に、注釈を使用できます。 <block ref="f49fa3f76b2a4fcdf04dff369d417d84" prefix=" " category="inline-code"></block>データ移動操作のタイムアウトを設定します。このアノテーションは、データムーバーが特定の操作の完了をタイムアウトするまでの最大待機時間（秒単位）を指定します。これは、ネットワークの問題やその他の要因によってデータ移動操作が停止する可能性がある場合に特に役立ちます。プロセス全体に一般的なタイムアウトを設定するのではなく、停止した操作を検出して処理するのに役立ちます。たとえば、ネットワークの問題によりボリュームデータの復元が進まない場合、指定された期間に基づいて操作がタイムアウトします。</block>
  <block id="c2b7f24f4ddbaedb4e3d9e19f77eebac" category="paragraph">以下のように、このアノテーションを YAML ファイルで使用できます。</block>
  <block id="14a0e26cbe187a4754f8b523ffba6073" category="paragraph">この例では、注釈は<block ref="ec2a2895b09b6030ec8cc1b3c43ddc4d" prefix=" " category="inline-code"></block>復元操作で 2 秒以内に進行が見られない場合、操作は中止されます。</block>
  <block id="c49aaf233c16f1193a8d683c17866eea" category="admonition">注釈値が 0 以下の場合、操作は直ちに失敗します。</block>
  <block id="5ac5b84505fffb8149e9d0cb84ddedbe" category="admonition">復元操作中は、 <block ref="890b633d48ac6398f14ae722463da08b" prefix=" " category="inline-code"></block>仮想マシン (VM) 用に作成されたものは復元されません。</block>
  <block id="4d1a32c0e466ff9011c60655b98dbf71" category="inline-link-macro">Amazon EKS アドオンを使用した FSx for ONTAP の Trident バックエンドの自動構成</block>
  <block id="607ed18429282657fb3f6b377df32f8c" category="inline-link-macro">NetApp Trident と Google Cloud NetApp Volumes for SMB プロトコル</block>
  <block id="ee031d295c711ed3119e4ca1bf2829b1" category="inline-link-macro">NetApp ASA r2 システムのパワーを Kubernetes ブロック ストレージ向けに解放</block>
  <block id="a3148578e6ffde89485954832ff9be37" category="paragraph">Trident 25.06を実行していない場合は、以前のリリースのドキュメントがに基づいて提供されて<block ref="6d47e9235a19453f00cf246917b9e162" category="inline-link-macro-rx"></block>います。</block>
  <block id="a1862e00d8111386cdf238bd23bb97db" category="inline-link">Trident 25.02</block>
  <block id="25bdd2f6eb0ca7663bf4152396a74a09" category="list-text"><block ref="25bdd2f6eb0ca7663bf4152396a74a09" category="inline-link-rx"></block></block>
  <block id="e26bc895e5bb00237e35bd08e101a228" category="inline-link-macro">25.06</block>
  <block id="512754259e832a6faaee7e55aa2a0641" category="paragraph"><block ref="512754259e832a6faaee7e55aa2a0641" category="inline-link-macro-rx"></block></block>
  <block id="e388180fa8946253a28286d92fcbc393" category="cell">2028年6月</block>
  <block id="61a3094d46fa14bffb9067eeb8d3405a" category="paragraph"><block ref="61a3094d46fa14bffb9067eeb8d3405a" category="inline-link-macro-rx"></block></block>
  <block id="dfd4fd2ff3f0bcabea8bfd811d0db9b4" category="summary">Tridentは、NetAppが管理しているオープンソースのストレージプロビジョニングおよびオーケストレーションツールです。このコンテナを使用すると、 Docker と Kubernetes で管理されるコンテナ化アプリケーション用のストレージボリュームを作成できます。** Trident 25.06へのアップグレードに関する重要な情報については、リリースノートを参照してください。**</block>
  <block id="1c14876f05b759f9c9be73a49c84ddd4" category="doc">Trident 25.06ドキュメント</block>
  <block id="7b64f90c10ba527f2f6b6f1e6fb0c9fe" category="list-text">TridentでKubernetes 1.33がサポートされるようになりました。Kubernetesをアップグレードする前にTridentをアップグレード</block>
  <block id="f39d8c359b3284c30097b65ae4e0dccf" category="list-text">Kubernetes 1.27~1.33</block>
  <block id="d84962dc87f0a0b8de6c8bcc166c1868" category="list-text">NetApp の限定サポート下にあるオンプレミスの FAS、AFF、または ASA r2 (iSCSI および NVMe/TCP) クラスター バージョン。を参照して <block ref="50931d770a2149cdd08c9f8b08c33f00" category="inline-link-macro-rx"></block></block>
  <block id="9f7ace1a0a4d64a8dfa14012ff8f7e8c" category="paragraph">1.27 - 1.33</block>
  <block id="006871bfbb54929c1e2b37d3ce36b37f" category="cell">v1.27.0、v1.28.0、v1.29.0、v1.30.0、v1.31.0、 v1.32.0、v1.33.0</block>
  <block id="3e711dbc16f3de48b46eca5b86572321" category="list-text">Docker .io / NetApp / Trident：25.06.0</block>
  <block id="d010f8bd4e6cede4d3e51de4419c09aa" category="list-text">docker.io / netapp/trident-autosupport：25.06</block>
  <block id="3b72fba0c67a9cb87151e878d3ba37f9" category="list-text">registry.k8s.io/sig-storage/csi-attacher：v4.8.1</block>
  <block id="06489d7f99c3b214c8b9a539006a642c" category="list-text">registry.k8s.io/sig-storage/csi-resizer：v1.13.2</block>
  <block id="5b892dce2351df7e1f21d1004bc2cb19" category="list-text">registry.k8s.io/sig-storage/csi-snapshotter：v8.2.1</block>
  <block id="5647d06b79232a09c66557bdfc379908" category="list-text">docker.io/netapp/trident-operator：25.06.0（オプション）</block>
  <block id="d59cb19805caf164811cd6ff7d71da51" category="cell"><block ref="2a096ce9ce9c58c91575ae3f40daa915" prefix="" category="inline-code"></block></block>
  <block id="fcd7f4cc8a01becf1cfddb538266578c" category="cell"><block ref="f6ac10a5549303d8f00a11f375963f9b" prefix="" category="inline-code"></block></block>
  <block id="b59305925bb6ffc962ea48351db964e8" category="section-title">Trident 25.06に関する重要な情報</block>
  <block id="d7ccfdca42aadc41314f5df3ed2e4cbf" category="list-text">を使用し<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> 、展開とイメージレジストリの場所の名前を指定します。は <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 1つのレジストリまたは別のレジストリに配置できますが、すべてのCSIイメージは同じレジストリに配置する必要があります。この例では、<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block>はインストールするTridentのバージョンです。</block>
  <block id="9632d6ad86670e70a32c6b93e85ad9f4" category="paragraph">たとえば、のデフォルト値を変更するには<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>、次のコマンドを実行します。は、インストールするTridentのバージョンです。<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block></block>
  <block id="b34ad03c5088f36033c20b21d9aae4c2" category="list-text">を使用し<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block>、次の例のように導入環境の名前を指定します。<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block>は、インストールするTridentのバージョンです。</block>
  <block id="287d9354cd0e889ca3c170f1a20060ce" category="paragraph">で<block ref="02f3115b006f7541a477d52ea8c0f861" prefix=" " category="inline-code"></block>、イメージレジストリの場所を反映するように更新し<block ref="ff1ea91c85a440ad216d6d8dafdb2b4a" prefix=" " category="inline-code"></block> ます。は <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 1つのレジストリまたは別のレジストリに配置できますが、すべてのCSIイメージは同じレジストリに配置する必要があります。例えば：</block>
  <block id="3ce13997cacbb7668e6636ffb21ba04a" category="list-text"><block ref="a5ad704b64900183c3e85fea9edad0f0" prefix="" category="inline-code"></block> イメージがすべて1つのレジストリに格納されている場合。</block>
  <block id="b6e3b64ea99d65462c313d10936507a1" category="list-text"><block ref="f5f5dab4b39c35c32ac8846470b513ad" prefix="" category="inline-code"></block> TridentイメージがCSIイメージとは別のレジストリにある場合。</block>
  <block id="3821e533e08e97c63527fb3e1ab72017" category="list-text">ご使用の環境に適したバンドルYAMLファイルを使用してTridentをインストールします（__は、または<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>使用している&lt;bundle.yaml&gt;<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>のバージョンに基づいています）。たとえば、Trident 25.06をインストールする場合は、次のコマンドを実行します。</block>
  <block id="d180bc23594b2a81a598da69af7136af" category="list-text">を使用する <block ref="538f4beb16c8502421a8389e199d34ce" category="inline-link-macro-rx"></block>と、を使用してワンステップでアップグレードできます<block ref="9ba27131bd1269499334744b89769fac" prefix=" " category="inline-code"></block> 。Helmリポジトリを追加しなかった場合、またはHelmリポジトリを使用してアップグレードできない場合は、次の手順を実行します。</block>
  <block id="19edaf19feadf74a38c5b3da24fd64bd" category="list-text">コマンドを使用し<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> ます。は、<block ref="c49c0910ea156a14c49e617b509b605a" prefix=" " category="inline-code"></block> アップグレード先のバージョンを反映しています。</block>
  <block id="843e8c92f2887fa83e4564f86e6a7ca0" category="list-text">インストールされているバージョンの4リリースウィンドウ内にある任意のターゲットリリースに直接アップグレードできます。たとえば、24.06（または任意の24.06 DOTリリース）から25.06に直接アップグレードできます。</block>
  <block id="d4ea8129c0158e8c6ac0b3bb00a333e5" category="list-text">4つのリリースウィンドウ以外のリリースからアップグレードする場合は、複数の手順でアップグレードを実行します。4リリースのウィンドウに適合する最新リリースにアップグレードするには、アップグレード元のののアップグレード手順を使用し <block ref="a799aa6eaf3a5192b34ea19f24bb716f" category="inline-link-macro-rx"></block> ます。たとえば、23.07を実行していて、25.06にアップグレードする場合は、次の手順を実行します。</block>
  <block id="96643a0b653f3484db440bd905d8e591" category="list-text">23.07から24.06への最初のアップグレード。</block>
  <block id="0d5f6bd4062e1e564fa83bfc5eb6a64c" category="list-text">その後、24.06から25.06にアップグレードします。</block>
  <block id="bc08c4a5eed12311fe8187fb000dd58a" category="paragraph">Amazon S3ポリシーの詳細については、 <block ref="61017e44ea21b481e69f04f8ac510768" category="inline-link-rx"></block> 。</block>
  <block id="2508b93e69f47b3a094284dbdc9a09de" category="list-text">(_オプション_) 特定のラベルでマークされたリソースを含めるか除外するかを指定するフィルタリングを追加します。</block>
  <block id="b4d332d25d8164d8387707934254781d" category="admonition">両方が<block ref="a25777d0a6883efb33950a7cd7a8f9b9" prefix=" " category="inline-code"></block>そして<block ref="2021b5ec814a388ca04af6c6d6c2d16f" prefix=" " category="inline-code"></block>使用される、 <block ref="a25777d0a6883efb33950a7cd7a8f9b9" prefix=" " category="inline-code"></block>最初に実行し、次に<block ref="2021b5ec814a388ca04af6c6d6c2d16f" prefix=" " category="inline-code"></block>結果のリソースに適用されます。</block>
  <block id="6b556cca1436ef5909ccaa59f5aae989" category="paragraph">使用できます<block ref="e80c5db95c437e3b5acee80112bd1f1a" prefix=" " category="inline-code"></block>そして<block ref="484f02b530e920abf065e3f27b7a6d80" prefix=" " category="inline-code"></block>リソースを含めるか除外するかのフラグ<block ref="303a9ae359153efd5b4c1067cd875175" prefix=" " category="inline-code"></block>次の例に示すように、グループ、種類、バージョン、ラベル、名前、名前空間などです。</block>
  <block id="13001655f60b86601d45076ffb7e8cb4" category="list-text">*spec.snapshotRef*: (_オプション_): バックアップのソースとして使用するスナップショットの名前。指定しない場合は、一時Snapshotが作成されてバックアップされます。</block>
  <block id="ba2af206b00fb98d583a5fe7908af2cc" category="list-text">*metadata.annotations.protect.trident.netapp.io/full-backup*: (_オプション_) このアノテーションは、バックアップを非増分にするかどうかを指定するために使用されます。デフォルトでは、すべてのバックアップは増分バックアップです。ただし、このアノテーションがに設定されている場合、<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>バックアップは非増分になります。指定しない場合、バックアップはデフォルトの増分バックアップ設定に従います。リストアに伴うリスクを最小限に抑えるために、フルバックアップを定期的に実行してから、フルバックアップの間に増分バックアップを実行することを推奨します。</block>
  <block id="93b1107cde6ba041513cd9ccf7b4bae0" category="paragraph">オプションで、フラグを使用して、バックアップを非増分にするかどうかを指定できます<block ref="53f5240b338c91a0568f15e2562a35de" prefix=" " category="inline-code"></block>。デフォルトでは、すべてのバックアップは増分バックアップです。このフラグを使用すると、バックアップは非増分になります。リストアに伴うリスクを最小限に抑えるために、フルバックアップを定期的に実行してから、フルバックアップの間に増分バックアップを実行することを推奨します。</block>
  <block id="1770a13eba6600496a86d2f1cf357813" category="list-text">* metadata.annotations.protect.trident.netapp.io/full-backup-rule*:（_Optional_）このアノテーションは、フルバックアップのスケジュールを設定するルールを指定する場合に使用します。に設定して定期的なフルバックアップを実行することも、要件に応じてカスタマイズすることもできます<block ref="f9f90eeaf400d228facde6bc48da5cfb" prefix=" " category="inline-code"></block>。たとえば、日単位を選択した場合は、フルバックアップを実行する曜日を指定できます。</block>
  <block id="ab5807fb06fd654f730a4ed5a02bb950" category="paragraph">定期的なフルバックアップのフラグをに<block ref="f9f90eeaf400d228facde6bc48da5cfb" prefix=" " category="inline-code"></block>設定することも、要件に基づいてカスタマイズすることもできます<block ref="61df7cc86eb24ab1300f0e74e74bb50c" prefix=" " category="inline-code"></block>。たとえば、日単位を選択した場合は、フルバックアップを実行する曜日を指定できます。たとえば、月曜日と木曜日にフルバックアップをスケジュールする場合に使用し<block ref="d416cce9d6bcb838c8958b9fbb84dffa" prefix=" " category="inline-code"></block>ます。</block>
  <block id="396e0c641a3eb6083fa0ba7badcff8ac" category="admonition">回収ポリシーが設定されていることを確認する<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>オブジェクトストレージからすべてのバックアップデータを削除します。このポリシーのデフォルト設定は<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>偶発的なデータ損失を防ぐためです。ポリシーが変更されていない場合は、 <block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>バックアップ データはオブジェクト ストレージに残り、手動で削除する必要があります。</block>
  <block id="28b0a2e1fa7af6d4a2a83bc61c130c0f" category="list-text">クラスターに接続されている NetApp ストレージが Trident 24.02 以降を使用していることを確認します (Trident 24.10 を推奨)。</block>
  <block id="089456655f37605dd109f3d8c7ece010" category="list-text">*NetApp Trident*: NetApp Trident は、ONTAP をバックエンドとして使用するソース Kubernetes クラスターと宛先 Kubernetes クラスターの両方に存在する必要があります。Trident保護では、次のドライバに基づくストレージクラスを使用したNetApp SnapMirrorテクノロジによるレプリケーションがサポートされます。</block>
  <block id="070b998f5495f2da2fb3ac5053772d1e" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block> : NFS</block>
  <block id="48af35aa41f6c14dcd31a429e161cd45" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> : iSCSI</block>
  <block id="af09466318992e13530265625ea96e63" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> : FC</block>
  <block id="53b96f55224c3a6f51becdf09ad8ffe6" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> : NVMe/TCP (最低でも ONTAP バージョン 9.15.1 が必要)</block>
  <block id="a167444fdea2847400372052380975f2" category="inline-link-macro">ONTAP Oneに含まれるライセンス</block>
  <block id="e25ea621e214708b88885c09ed9b5b9b" category="paragraph">ONTAP 9.10.1 以降、すべてのライセンスは、複数の機能を有効にする単一のファイルである NetApp ライセンス ファイル (NLF) として提供されます。詳細については、を参照してください <block ref="99e347051ec17074ee747e0bde509d7d" category="inline-link-macro-rx"></block> 。</block>
  <block id="afafd0e230868b7ce6a0a4fcf57ee6d2" category="admonition">SnapMirror 非同期保護のみがサポートされます。</block>
  <block id="39741179a069c04c2421056e0f2b56fa" category="list-text">*NetApp Trident と SVM*: ピアリングされたリモート SVM は、宛先クラスタ上の NetApp Trident で使用できる必要があります。</block>
  <block id="961ce5b35a999d2dc3f7e386f74eb614" category="list-text">qtreeボリュームでは、バックアップから別のネームスペースまたは元のネームスペースへの復元がサポートされています。ただし、スナップショットから別のネームスペースまたは元のネームスペースへの復元はサポートされていません。</block>
  <block id="ffbfa7c1456b1cb991affd8a76d54fd1" category="section-title">サポートされている注釈</block>
  <block id="738d4e5947ef1239f584cd47619cf356" category="paragraph">このセクションでは、システムのさまざまな動作を設定するためにサポートされているアノテーションの一覧を示します。ユーザーがアノテーションを明示的に設定しない場合、システムはデフォルト値を使用します。</block>
  <block id="f49fa3f76b2a4fcdf04dff369d417d84" category="cell">保護.trident.netapp.io/データムーバータイムアウト秒</block>
  <block id="a666ad37acca2b6a0ee400d7b2acf088" category="cell">データ ムーバー操作を停止できる最大時間 (秒単位)。</block>
  <block id="3b2f6f0bb673ee02e8aafe624e2e971f" category="cell">保護.trident.netapp.io/kopia-content-cache-size-limit-mb</block>
  <block id="f044e4dc5e5fdde631180451c25a973c" category="cell">Kopia コンテンツ キャッシュの最大サイズ制限 (メガバイト単位)。</block>
  <block id="0ae48837f8ebc5da6e90828852d02027" category="admonition">バージョン 25.06 以降ではこの手順は必要ありません。</block>
  <block id="ed98e5c2a168d1606df0370fe371df28" category="paragraph">バージョン24.10からアップグレードする場合、アップグレード中に実行されているスナップショットが失敗する可能性があります。この失敗によって、手動またはスケジュールされたスナップショットの今後の作成が妨げられることはありません。アップグレード中にスナップショットが失敗した場合は、アプリケーションを保護するために、手動で新しいスナップショットを作成できます。</block>
  <block id="756accba0f305693c47126f932bd7ac6" category="paragraph">潜在的な障害を回避するために、アップグレード前にすべてのスナップショットスケジュールを無効にし、アップグレード後に再度有効にすることができます。ただし、これにより、アップグレード期間中にスケジュールされたスナップショットが失われます。</block>
  <block id="8e903b2b577c535f6f70248f34e61228" category="list-text">このコマンドを実行すると、CRDの管理を<block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block>に<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block> ：</block>
  <block id="da4df818678014568aed9623276fd9f5" category="list-text">このコマンドを実行してHelmシークレットを削除します。 <block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block>チャート：</block>
  <block id="aeea10a9d4e3d29e20b749a201f0ae46" category="admonition">アンインストールしないでください<block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block> Helm を使用してチャートを作成しないでください。CRD と関連データが削除される可能性があります。</block>
  <block id="685db7ca1bcc71c55d1592c71e464158" category="section-title">フェイルオーバーおよびリバース操作中の実行フック</block>
  <block id="bfc5a6b94bc23ccc51c85a2aa1cb71b4" category="paragraph">AppMirror 関係を使用してアプリケーションを保護する場合、フェイルオーバーおよびリバース操作中に注意する必要がある実行フックに関連する特定の動作があります。</block>
  <block id="3d11bc959173dddd2997400e7bdf4d67" category="list-text">フェイルオーバー中、実行フックはソースクラスターから宛先クラスターに自動的にコピーされます。手動で再作成する必要はありません。フェイルオーバー後、実行フックはアプリケーション上に存在し、関連するアクションの実行中に実行されます。</block>
  <block id="ba9dd6212c2e02686051fbf28e548584" category="list-text">リバース同期またはリバース再同期中、アプリケーション上の既存の実行フックはすべて削除されます。ソースアプリケーションがターゲットアプリケーションになると、これらの実行フックは無効となり、実行されないように削除されます。</block>
  <block id="98b9f287abe5860abcc3ab5364313188" category="paragraph">実行フックの詳細については、以下を参照してください。 <block ref="d0f7adc5528355d3ba6ac91271095c29" category="inline-link-macro-rx"></block> 。</block>
  <block id="f815c45e5a618fe75ef3a716b30b711d" category="list-text">必要に応じて、ソース クラスターでソース アプリケーションのスナップショットを取得します。このSnapshotは、デスティネーションクラスタのアプリケーションのベースとして使用されます。この手順を省略した場合は、スケジュールされた次のSnapshotが実行されて最新のSnapshotが作成されるまで待つ必要があります。</block>
  <block id="9399bd959f53d5a7d8671b597df92df2" category="paragraph">下記のスケジュールに加えて、ピア接続されたONTAPクラスタ間で共通のスナップショットを維持するために、7日間の保持期間を持つ日次スナップショットスケジュールを別途作成することをお勧めします。これにより、スナップショットは最大7日間利用可能になりますが、保持期間はユーザーの要件に応じてカスタマイズできます。</block>
  <block id="bd8250ba3a5ac73f1ca0ba8c92937c5a" category="paragraph">フェイルオーバーが発生した場合、システムはこれらのスナップショットを最大7日間、逆操作に使用できます。このアプローチにより、すべてのデータではなく、最後のスナップショット以降に行われた変更のみが転送されるため、逆操作のプロセスがより高速かつ効率的になります。</block>
  <block id="af22b57fbc1d302d6a0b83cb06ce9e6a" category="paragraph">アプリケーションの既存のスケジュールがすでに必要な保持要件を満たしている場合は、追加のスケジュールは必要ありません。</block>
  <block id="84caf200e79d5962bc7f3516e9ad328c" category="open-title">CRを使用したスナップショットの作成</block>
  <block id="3feb4a62c8b59cd52ae22845d363c901" category="open-title">CLIを使用したスナップショットの作成</block>
  <block id="e995d56efd9e31d97825dd79be4d1383" category="inline-link-macro">ASA R2ストレージシステムの詳細</block>
  <block id="19bf8687ff63071d6f6661c290cba7c2" category="admonition">LUKS暗号化はASA r2システムではサポートされていません。ASAr2システムの詳細については、以下を参照してください。 <block ref="40f055dd42976ff294174231df35e37e" category="inline-link-macro-rx"></block> 。</block>
  <block id="8e1b080c70f6bd5a6a7f2755f82fb95b" category="paragraph">NetApp Tridentは、 <block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 、 <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 、 <block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 、 そして<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>ストレージ ドライバー。ドライバまたは<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ドライバを使用している場合、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>クローニングはサポートされません。既存のボリュームから新しいボリュームを作成すると、新しい Snapshot が作成されます。</block>
  <block id="9470f4768dd90ef0be0fb76cb2f6e04b" category="admonition">異なるストレージクラスに関連付けられたPVCのクローン作成は避けてください。互換性を確保し、予期しない動作を防ぐため、クローン作成操作は同じストレージクラス内で実行してください。</block>
  <block id="0f3fb6e27b9de1539a220130039ade03" category="admonition">VolumeSnapshot のライフサイクルはソース PVC から独立しています。つまり、ソース PVC が削除された後もスナップショットは保持されます。スナップショットが関連付けられている PVC を削除すると、 Trident はその PVC のバッキングボリュームを *Deleting* 状態でマークしますが、完全には削除しません。関連付けられている Snapshot がすべて削除されると、ボリュームは削除されます。</block>
  <block id="24cf288d698c32f6be78d78ed4ae2da4" category="section-title"><block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block>Kubernetesオブジェクト</block>
  <block id="03925a5c554c5613d08fccbd8b32b9f8" category="paragraph">Kubernetes<block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block>オブジェクトはに似てい<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>ます。これらは複数のストレージクラスを定義するのに役立ち、ボリュームグループスナップショットによって参照され、スナップショットを必要なスナップショットクラスに関連付けます。各ボリュームグループスナップショットは、単一のボリュームグループスナップショットクラスに関連付けられます。</block>
  <block id="fff4777b7ca5b9c8c8cf5e2bcba4f07c" category="paragraph">あ<block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block>スナップショットのグループを作成するには、管理者が定義する必要があります。ボリュームグループスナップショットクラスは、以下の定義で作成されます。</block>
  <block id="8245adeb076e6d9db9f6ac77dfb4c7e3" category="paragraph">はTridentによって処理されます。に実行するアクションを指定します。<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>設定されている<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>スナップショットが削除されると、ボリューム グループのスナップショット オブジェクトと、ストレージ クラスター上の基礎となるスナップショットが削除されます。または、に設定する<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>と、<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>物理Snapshotが保持されます。</block>
  <block id="0eb0a72ef062acee4c89d5b3ff32da7f" category="section-title"><block ref="7afb2b9a0abcf6292858fe2f3450e700" prefix=" " category="inline-code"></block>Kubernetesオブジェクト</block>
  <block id="94d3b435d2b11531835e041026e7588f" category="paragraph">Kubernetes <block ref="7afb2b9a0abcf6292858fe2f3450e700" prefix=" " category="inline-code"></block>オブジェクトは、複数のボリュームのスナップショットを作成するための要求です。PVCがユーザーによるボリュームへの要求を表すのと同様に、ボリュームグループスナップショットは、ユーザーによる既存のPVCのスナップショットを作成するための要求です。</block>
  <block id="317c0b5a54de9fa8dd62802a550228c3" category="paragraph">ボリュームグループスナップショットのリクエストが来ると、Tridentはバックエンドのボリュームのグループスナップショットの作成を自動的に管理し、一意のスナップショットを作成してスナップショットを公開します。 <block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>物体。既存の PVC からスナップショットを作成し、新しい PVC を作成するときにスナップショットを DataSource として使用できます。</block>
  <block id="3edcdec1ed853ba69f1224c7c43702c5" category="admonition">VolumeGroupSnapshot のライフサイクルはソース PVC とは独立しています。つまり、ソース PVC が削除された後もスナップショットは保持されます。スナップショットが関連付けられている PVC を削除すると、 Trident はその PVC のバッキングボリュームを *Deleting* 状態でマークしますが、完全には削除しません。ボリュームグループスナップショットは、関連するすべてのスナップショットが削除されると削除されます。</block>
  <block id="8ea50d112474393280399a928479890a" category="section-title"><block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>Kubernetesオブジェクト</block>
  <block id="bf0839da8b1efda893b043a219a1630e" category="paragraph">Kubernetes <block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>オブジェクトは、すでにプロビジョニングされたボリュームから取得されたグループ スナップショットを表します。これは、に似て<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>おり、ストレージクラスタにプロビジョニングされたSnapshotを示します。オブジェクトと<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>オブジェクトと同様に、<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>Snapshotが作成されると、<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>オブジェクトはSnapshotの作成を要求したオブジェクトへの1対1のマッピングを保持し<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>ます。</block>
  <block id="85cb66a45776909e333f8847ee91255d" category="paragraph">その<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>オブジェクトには、スナップショットグループを識別する詳細が含まれます。 <block ref="e8dbdd2405d28658285ebd383044be1a" prefix=" " category="inline-code"></block>およびストレージ システム上に存在する個別の volumeSnapshotHandles。</block>
  <block id="a4314d759b2ba28d3d385366f2595052" category="paragraph">スナップショット要求が届くと、Tridentはバックエンドにボリュームグループのスナップショットを作成します。ボリュームグループのスナップショットが作成されると、Tridentは<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>オブジェクトを作成し、スナップショットを Kubernetes API に公開します。</block>
  <block id="fc679dfce4052095eac6de2f7f86cd16" category="paragraph">リリース ノートには、NetApp Trident の最新バージョンの新機能、拡張機能、およびバグ修正に関する情報が記載されています。</block>
  <block id="08f1535b065719df5968364b00b95026" category="paragraph">新機能の概要には、Trident と Trident Protect の両方のリリースの機能強化、修正、廃止に関する詳細が記載されています。</block>
  <block id="b73e3aa94514d51e32ca4c9fa306ce1e" category="inline-link-macro">ボリュームグループスナップショットの操作</block>
  <block id="d5bb517310bc551b239857e32401ac1f" category="inline-link-macro">安全なSMBを有効にする</block>
  <block id="6bcdf917188bd0a976b410952a796d4b" category="list-text">iSCSI ボリュームのノード操作のスケーラビリティを向上させるために、Trident ノードの同時実行性が強化されました。</block>
  <block id="03384ffa27aceef186890eaae584f3c4" category="list-text">追加した<block ref="b5073479eb6368548b299ea4d08aa8b7" prefix=" " category="inline-code"></block> LUKS ボリュームを開いて、スペース再利用のための破棄/TRIM コマンドを許可する場合。</block>
  <block id="f216940dceac21552e55089b0f450059" category="list-text">LUKS で暗号化されたボリュームをフォーマットする際のパフォーマンスが向上しました。</block>
  <block id="aca9eafb022610d731f3f94197f227fd" category="list-text">障害が発生したが部分的にフォーマットされた LUKS デバイスの LUKS クリーンアップが強化されました。</block>
  <block id="fdba6fb56d2b6fb4d3d2af782f7f8e33" category="list-text">NVMe ボリュームの接続と切断に対する Trident ノードの冪等性が強化されました。</block>
  <block id="ab129514c6ec5bf9326f9283a0c4b73d" category="list-text">追加した<block ref="93e2011fcb40991e51f3f8427fdcfb82" prefix=" " category="inline-code"></block> ONTAP-SAN-Economy ドライバーの Trident ボリューム構成にフィールドを追加します。</block>
  <block id="78eb403f568b0e64b07699199ebc4992" category="admonition">実稼働環境では使用しないでください。</block>
  <block id="3dd4403c2b5ea69ecfbe030e29eee853" category="list-text">[テクニカルプレビュー] Tridentコントローラーの同時操作を、 <block ref="663f61c1cf47f8a531c8d769e8bf59f4" prefix=" " category="inline-code"></block>機能フラグ。これにより、コントローラー操作を並列実行できるようになり、高負荷環境や大規模環境でのパフォーマンスが向上します。</block>
  <block id="8a54b5275af086a6a2bb3983856d3f56" category="admonition">この機能は実験段階であり、現在は ONTAP-SAN ドライバー (iSCSI および FCP プロトコル) を使用した限定的な並列ワークフローをサポートしています。</block>
  <block id="969ab4db9d9d63b4573cc75a0b550b21" category="list-text">[技術プレビュー] ANF ドライバーによる手動 QOS サポートが追加されました。</block>
  <block id="fa420d9ecbb50720fc93ab14f7943b42" category="list-text">基礎となる SCSI ディスクが利用できない場合に、マルチパス デバイスのサイズが一致しないままになる可能性がある CSI NodeExpandVolume の問題を修正しました。</block>
  <block id="69e0fec3be54a3b91103c8c7b788339f" category="list-text">ONTAP-NAS および ONTAP-NAS-Economy ドライバーの重複したエクスポート ポリシーをクリーンアップできない問題を修正しました。</block>
  <block id="6e02211c85412fa0d990bce8af9e671f" category="list-text">GCNVボリュームがNFSv3にデフォルト設定される問題を修正<block ref="e477739f39dbd2f1e1c5268912135e92" prefix=" " category="inline-code"></block>設定されていません。NFSv3とNFSv4の両方のプロトコルがサポートされています。 <block ref="e477739f39dbd2f1e1c5268912135e92" prefix=" " category="inline-code"></block>指定されていない場合は、ホストのデフォルトの NFS バージョン (NFSv3 または NFSv4) が使用されます。</block>
  <block id="aaa014969ef27003313b67f83fe7091d" category="inline-link-macro">問題#831</block>
  <block id="cd620e798a4bbf9171d504843ebb70d0" category="list-text">Kustomize を使用して Trident をインストールする際のデプロイメントの問題を修正しました ( <block ref="ae3bb668f87d2aa74a2bfe43dedc0001" category="inline-link-macro-rx"></block> ）。</block>
  <block id="81a9708305846c55b26ba31f647ab071" category="inline-link-macro">問題#1016</block>
  <block id="11cdedcfa10c010ee258407d4a2535c9" category="list-text">スナップショットから作成されたPVC のエクスポート ポリシーが欠落していた問題を修正しました ( <block ref="dfbabc79dc25039e80d49a5ce74702bc" category="inline-link-macro-rx"></block> ）。</block>
  <block id="1e655d3e31833883db169632edf4c07d" category="list-text">ANF ボリューム サイズが 1 GiB の増分に自動的に調整されない問題を修正しました。</block>
  <block id="c2c862a452feb157ea36fc61c62cb6d5" category="list-text">Bottlerocket で NFSv3 を使用する際の問題を修正しました。</block>
  <block id="d3c869af5d0f4ee5e35def393587ffea" category="inline-link-macro">問題#1008</block>
  <block id="21a4addc7283b0fef748a52987809884" category="list-text">SolidFireバックエンドを使用してボリュームをクローンする際のタイムアウトを修正しました（ <block ref="ff387119bc332768d9a3831513d005d5" category="inline-link-macro-rx"></block> ）。</block>
  <block id="1d85be817e7793c5b5423dbe7a618b9b" category="list-text">サイズ変更に失敗したにもかかわらず、ONTAP-NAS-Economy ボリュームが最大 300 TB まで拡張される問題を修正しました。</block>
  <block id="9bfdfc993711fd8c92649ae6040af106" category="list-text">ONTAP REST API を使用しているときにクローン分割操作が同期的に実行される問題を修正しました。</block>
  <block id="d7061136425214e6ed7ba38910be5772" category="section-title">非推奨:</block>
  <block id="eb0a31990fe8d3afbb4177136e0a9c3b" category="list-text">*Kubernetes*: サポートされる最小 Kubernetes を v1.27 に更新しました。</block>
  <block id="df6370ee6ad8bc05b4c28dc223a119ea" category="list-text">復元時間が改善され、より頻繁に完全バックアップを実行するオプションが提供されます。</block>
  <block id="6d133839389fad9d044a57e7cd98852e" category="list-text">Group-Version-Kind (GVK) フィルタリングによるアプリケーション定義と選択的復元の粒度が向上しました。</block>
  <block id="d22659d02ebeb222423ac210fcf66e17" category="list-text">AppMirrorRelationship (AMR) を NetApp SnapMirror と併用する場合、完全な PVC レプリケーションを回避するために、効率的な再同期とリバース レプリケーションを実行します。</block>
  <block id="9f36be3db329921235443aaf292d3420" category="list-text">EKS Pod Identity を使用して AppVault バケットを作成する機能が追加され、EKS クラスターのバケット認証情報でシークレットを指定する必要がなくなりました。</block>
  <block id="608712f29e31abc332f5d43892969412" category="list-text">必要に応じて、復元名前空間内のラベルと注釈の復元をスキップする機能を追加しました。</block>
  <block id="6d520f4b800d8a65184cb0662edd01eb" category="list-text">AppMirrorRelationship (AMR) は、ソース PVC の拡張をチェックし、必要に応じて宛先 PVC で適切な拡張を実行します。</block>
  <block id="68782d548164f602a09d8cf18a70a1a6" category="list-text">以前のスナップショットのスナップショット注釈値が新しいスナップショットに適用されるバグを修正しました。現在はすべてのスナップショット注釈が正しく適用されています。</block>
  <block id="dec377bcea0a22bcf50bcfa52f5bd102" category="list-text">定義されていない場合は、デフォルトでデータ ムーバー暗号化 (Kopia / Restic) のシークレットを定義します。</block>
  <block id="2b587d6f0a98259d243f20158ba733b9" category="list-text">S3 appvault 作成の検証とエラー メッセージが改善されました。</block>
  <block id="38ada36ef84c3af0ce6c4562c412938e" category="list-text">AppMirrorRelationship (AMR) は、失敗を回避するために、バインドされた状態の PV のみを複製するようになりました。</block>
  <block id="e06ab528ad98b563963e366c18280c8d" category="list-text">多数のバックアップがある AppVault で AppVaultContent を取得するときにエラーが表示される問題を修正しました。</block>
  <block id="8009158785ac016dca3550bd3aadcf47" category="list-text">障害を回避するために、KubeVirt VMSnapshots は復元およびフェイルオーバー操作から除外されます。</block>
  <block id="96c54179d89a7223d86e09ea0181939b" category="list-text">Kopia のデフォルトの保持スケジュールが、ユーザーがスケジュールで設定した内容を上書きしたために、スナップショットが早期に削除されるという Kopia の問題を修正しました。</block>
  <block id="ccc6e323e1b274244c3180ae807ca261" category="section-title">25.02.1の変更点</block>
  <block id="09d5dcc1026143b7c8b97aead4ec1396" category="cell">使用率がこの割合を超えている場合は、プロビジョニングが失敗します。*Amazon FSx for ONTAP には適用されません*。</block>
  <block id="6830d19c259617eba954cda2aa1d541d" category="cell"><block ref="c860a3f92e27bd5d0798ef97b9454101" prefix="" category="inline-code"></block></block>
  <block id="3c26595dc5f4e2d90bc81b000429b6a7" category="cell">SMB共有へのフルアクセス権を持つActive Directory管理者ユーザーまたはユーザーグループ。このパラメータを使用して、SMB共有へのフルコントロール権限を持つ管理者権限を付与します。</block>
  <block id="007eb2831357fc17158f683f6dcff454" category="section-title">セキュアな中小企業の例</block>
  <block id="d31bd17463bbf5861b916a74d031385b" category="section-title">ontap-nas ドライバーを使用したバックエンド構成</block>
  <block id="0f4ec0551cca9ca01494fc00becd7670" category="section-title">ontap-nas-economy ドライバーを使用したバックエンド構成</block>
  <block id="423fe93aaec50040bb6be02e84f7efdf" category="section-title">ストレージプールを使用したバックエンド構成</block>
  <block id="932c29a089501176987cc43435fb9490" category="section-title">ontap-nas ドライバーを使用したストレージクラスの例</block>
  <block id="6710620e6b99c9d38a3eae8738824721" category="admonition">必ず追加してください<block ref="4ab6864fc58ecd8b598ee10dfe2ac311" prefix=" " category="inline-code"></block>セキュアSMBを有効にします。バックエンドまたはPVCで設定された構成に関係なく、アノテーションがないとセキュアSMBは機能しません。</block>
  <block id="df600c813a46f3b822f7e5f064845591" category="section-title">ontap-nas-economy ドライバーを使用したストレージクラスの例</block>
  <block id="14026c1ce10412c2adbe88758af8fecd" category="section-title">単一の AD ユーザーによる PVC の例</block>
  <block id="6588dbd33e470b3f0858ad0b7d2075c2" category="section-title">複数の AD ユーザーによる PVC の例</block>
  <block id="353061699a2e052736b77ea68a2871e3" category="paragraph">25.06リリース以降、NetApp Tridentは、以下の方法で作成されたSMBボリュームの安全なプロビジョニングをサポートします。 <block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>そして<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>バックエンド。セキュア SMB を有効にすると、アクセス制御リスト (ACL) を使用して、Active Directory (AD) ユーザーおよびユーザー グループに SMB 共有への制御されたアクセスを提供できます。</block>
  <block id="fad725216d945a6443f15949ae73b316" category="list-title">覚えておいてください</block>
  <block id="fc531b442f38e267ff561d8bd20a3d71" category="list-text">インポート<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ボリュームはサポートされていません。</block>
  <block id="ae588b4a9791f58d2c577c52692f45d9" category="list-text">読み取り専用クローンのみがサポートされています<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>ボリューム。</block>
  <block id="250a0cf82016b0cf28e3072852df48ed" category="list-text">Secure SMB が有効になっている場合、Trident はバックエンドに記載されている SMB 共有を無視します。</block>
  <block id="87275c5e346f7178346f0399a6ceb9de" category="list-text">PVC アノテーション、ストレージ クラス アノテーション、およびバックエンド フィールドを更新しても、SMB 共有 ACL は更新されません。</block>
  <block id="972efd467b8594821be7b5680a32c911" category="list-text">クローン PVC の注釈で指定された SMB 共有 ACL は、ソース PVC の ACL よりも優先されます。</block>
  <block id="a3a338c1a9eb99aaf1ddaad940b0c906" category="list-text">セキュアSMBを有効にする際は、有効なADユーザーを指定してください。無効なユーザーはACLに追加されません。</block>
  <block id="4dcf9ab5a157e5be3f0891588273273e" category="list-text">バックエンド、ストレージ クラス、PVC で同じ AD ユーザーに異なる権限を指定した場合、権限の優先順位は PVC、ストレージ クラス、バックエンドの順になります。</block>
  <block id="e56268d5a3bb9869b9e76613edc53128" category="list-text">セキュアSMBは以下でサポートされています<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>管理対象ボリュームのインポートには適用され、管理対象外ボリュームのインポートには適用されません。</block>
  <block id="315910c69a0b41f8011b0ed2cbf00430" category="list-text">次の例に示すように、TridentBackendConfig で adAdminUser を指定します。</block>
  <block id="73f6ef8943a1983b789b024c7bfecf20" category="list-text">ストレージ クラスに注釈を追加します。</block>
  <block id="f89369f9c30ff9c8236b833fb1b96aef" category="paragraph">追加する<block ref="b85be3102972ffc22dfe9101b510b6f3" prefix=" " category="inline-code"></block>ストレージクラスにアノテーションを追加することで、セキュアSMBを確実に有効にすることができます。アノテーションに指定されたユーザー値は<block ref="b85be3102972ffc22dfe9101b510b6f3" prefix=" " category="inline-code"></block>で指定されたユーザー名と同じである必要があります<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>秘密。の権限は<block ref="f28185d762af16471070289c69f72331" prefix=" " category="inline-code"></block> 。</block>
  <block id="79731e026bd64a3983c4d0a2b46c0516" category="list-text">PVCを作成します。</block>
  <block id="151c5a9798f5c6d94a52ac5bce7f9436" category="paragraph">次の例では、PVC を作成します。</block>
  <block id="fde1abb5537b55c34521d414267b3f70" category="inline-link-macro">ASA r2システム</block>
  <block id="3cc22aeaf9742834647a32871fcf9142" category="inline-link-macro">ASA r2 システムと他の ONTAP システムの違いについて詳しくは、こちらをご覧ください。</block>
  <block id="1fb5039067c7374148ef72425e995a96" category="paragraph"><block ref="9f40590ca1185cea7261c2a60fc922ea" category="inline-link-macro-rx"></block>ストレージ層の実装は他のONTAPシステム（ASA、AFF、FAS）とは異なります。これらの違いは、記載されている特定のパラメータの使用に影響します。<block ref="54401c26bff345016bccb2761388f645" category="inline-link-macro-rx"></block>です。</block>
  <block id="e6a4a47ba933fc66b26212913912ce7d" category="admonition">のみ<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバー (iSCSI および NVMe/TCP プロトコル付き) は、ASA r2 システムでサポートされています。</block>
  <block id="c8863c7edb3430d82345fb2d429904cc" category="paragraph">、システムがASA r2であることを指定する必要がありません。<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>として<block ref="d45aebe724c55b101f2ae8924ba3d486" prefix=" " category="inline-code"></block> TridentはASA r2または従来のONTAPシステムを自動的に検出します。以下の表に示すように、一部のバックエンド設定パラメータはASA r2システムには適用されません。</block>
  <block id="ad622c65f52f8bde8780fec7bcab74a6" category="cell">CHAPを使用してONTAP SANドライバのiSCSIを認証します（ブーリアン）。バックエンドで指定されたSVMのデフォルト認証として双方向CHAPを設定して使用する場合は、Tridentのをに設定し<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>ます。詳細については、を参照してください <block ref="866e591dc2a03ecc454dad25a664ca86" category="inline-link-macro-rx"></block> 。*FCP または NVMe/TCP ではサポートされません。*</block>
  <block id="8ecd39a3ee998e2e8b3b033dc8756c23" category="paragraph">*ASA r2 システムには指定しないでください*。</block>
  <block id="e35a87c3115267331b4387f1e07a5e0a" category="cell">使用率がこの割合を超えている場合は、プロビジョニングが失敗します。Amazon FSx for NetApp ONTAPバックエンドを使用している場合は、を指定しないで<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>ください。指定されたと<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>には<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>、アグリゲートの使用量を取得してTridentを使用して制限するために必要な権限が含まれていません。*ASA r2 システムには指定しないでください*。</block>
  <block id="3964653e783e46fb3a1ae3dc4aaa54ad" category="paragraph">*対応機種<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>そして<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> iSCSI プロトコルを使用したドライバー。 **iSCSI および NVMe/TCP プロトコルを使用する場合、ASA r2 システムでもサポートされます。*</block>
  <block id="bf1a2c4f1b2b258c38cce886d156e3c6" category="cell">"true" *指定されている場合は、 <block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> ASA r2 システムの場合*。</block>
  <block id="4ff68efad333313447b8808c20a63224" category="cell">スペースリザベーションモード：「none」（シン）または「volume」（シック）。*設定<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> ASA r2* システムの場合。</block>
  <block id="d5ff78b8f84bf2feac9559d3c4a5d31c" category="cell">使用するSnapshotポリシー。*設定<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> ASA r2 システムの場合*。</block>
  <block id="a75bcbe76d1f50305372e9c85d59b73c" category="cell">Snapshot用にリザーブされているボリュームの割合。*ASA r2 システムには指定しないでください*。</block>
  <block id="c2ae626eaa4dcf2be1d158758d5f789a" category="cell">"false" *指定されている場合は、 <block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> ASA r2 システムの場合*。</block>
  <block id="317afded0cc22ff8de16ceec60d3e0ed" category="cell">"" *設定<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> ASA r2 システムの場合*。</block>
  <block id="d716a23a6e731bf750989a45cf32a804" category="cell">階層化ポリシーは「なし」を使用します。*ASA r2 システムでは指定しないでください。*</block>
  <block id="9e925e9341b490bfd3b4c4ca3b0c1ef2" category="inline-link-macro">これ</block>
  <block id="5a401de4946c2175a17ad6fda3a04781" category="admonition"><block ref="9f40590ca1185cea7261c2a60fc922ea" category="inline-link-macro-rx"></block>ストレージ層の実装は他のONTAPシステム（ASA、AFF、FAS）とは異なります。ASAは、アグリゲートの代わりにストレージアベイラビリティゾーンが使用されます。<block ref="261295ed43e7c9d663fb0a84ba5b2157" category="inline-link-macro-rx"></block> ASA r2 システムで SVM にアグリゲートを割り当てる方法に関するナレッジベースの記事。</block>
  <block id="6fddcf0bbb95fe4fb7de4f5f2e53ee74" category="paragraph">Kubernetes の永続ボリューム（PV）のボリュームグループスナップショット NetApp Trident は、複数のボリュームのスナップショット（ボリュームスナップショットのグループ）を作成する機能を提供します。このボリュームグループスナップショットは、同じ時点で作成された複数のボリュームのコピーを表します。</block>
  <block id="9c3e7c7a7d7349669946d43b4988c3ed" category="admonition">VolumeGroupSnapshot は、ベータ API を備えた Kubernetes のベータ機能です。VolumeGroupSnapshotに必要な最小バージョンは Kubernetes 1.32 です。</block>
  <block id="54100cbc57b96027d8dd74891c09bf53" category="section-title">ボリュームグループのスナップショットを作成する</block>
  <block id="e5c9406711c4a7cf7784d95bdf1a2d03" category="paragraph">ボリュームグループスナップショットは、 <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ドライバーはiSCSIプロトコル専用で、ファイバーチャネル（FCP）やNVMe/TCPではまだサポートされていません。始める前に</block>
  <block id="5b01a9092d1abd7706608bb162c6b8b5" category="list-text">Kubernetes のバージョンが K8s 1.32 以上であることを確認してください。</block>
  <block id="16a63a09f76aeddeabaee67b10b15b73" category="paragraph">Kubernetesディストリビューションに外部スナップショットコントローラとCRDが含まれていない場合は、 <block ref="048c22f74eff12037af96b48becdf135" category="inline-xref-macro-rx"></block> 。</block>
  <block id="1f8b4b5fe121a8bf806f02d7e43e97b5" category="admonition">GKE 環境でオンデマンド ボリューム グループ スナップショットを作成する場合は、スナップショット コントローラを作成しないでください。GKEでは、内蔵の非表示のスナップショットコントローラを使用します。</block>
  <block id="651dc2c39783e984f4c34a8de9e5bdf1" category="list-text">スナップショットコントローラYAMLで、 <block ref="ba99addb5e4a87e02dbb279026aee6f0" prefix=" " category="inline-code"></block>ボリューム グループのスナップショットが有効になっていることを確認するには、機能ゲートを 'true' に設定します。</block>
  <block id="8a30cbf1912a9801e2b44d7e46629b37" category="list-text">ボリューム グループ スナップショットを作成する前に、必要なボリューム グループ スナップショット クラスを作成します。</block>
  <block id="044fa4af347bac1f72b867321db43dc5" category="list-text">VolumeGroupSnapshot を作成できるようにするには、すべての PVC/ボリュームが同じ SVM 上にあることを確認します。</block>
  <block id="b05416d74805ad470e82fbd185a80f60" category="inline-link-macro">ボリュームグループスナップショットクラス</block>
  <block id="4142b8b09dc7a34d6ec584224ea12401" category="list-text">VolumeGroupSnapshot を作成する前に、VolumeGroupSnapshotClass を作成します。詳細については、を参照してください <block ref="4379abd46d192befbb8bdad98f8a5d59" category="inline-link-macro-rx"></block>。</block>
  <block id="62db7d93a1dcd7da96e447092fe6fc94" category="list-text">既存のストレージ クラスを使用して必要なラベルを持つ PVC を作成するか、これらのラベルを既存の PVC に追加します。</block>
  <block id="e7593a56264dced725b58e1dcee9feba" category="paragraph">。要件に応じてラベルのキーと値を定義します</block>
  <block id="88ee2eefee7a24d49764bba2f82da06c" category="list-text">同じラベルのVolumeGroupSnapshotを作成する<block ref="976d0352c3b3c8881b2f195b2b26322b" prefix="(" category="inline-code"></block> ) を PVC で指定します。</block>
  <block id="9d802b9a265ada16030457d797e599c4" category="paragraph">この例では、ボリューム グループのスナップショットを作成します。</block>
  <block id="52d80f524a1f3e7aa3025bacef197f8a" category="section-title">グループスナップショットを使用してボリュームデータを回復する</block>
  <block id="ee9a128a343c337cf14116c1aecbb76c" category="paragraph">ボリュームグループスナップショットの一部として作成された個々のスナップショットを使用して、個々の永続ボリュームを復元できます。ボリュームグループスナップショットをユニットとして復元することはできません。</block>
  <block id="76716637a3c3927e6595526c04493e52" category="paragraph">詳細については、を参照してください <block ref="614ee046be6d137fe1c3eadbaba6d9fe" category="inline-link-macro-rx"></block>。</block>
  <block id="8b278511419cd00303a31bff3e658d7b" category="section-title">関連付けられたグループスナップショットを含む PV を削除する</block>
  <block id="3f0f9a5202405094b6d608bca6feef12" category="paragraph">グループボリュームのスナップショットを削除する場合:</block>
  <block id="24c108ca3f67c96a3a0fc4a98ab3f465" category="list-text">グループ内の個々のスナップショットではなく、VolumeGroupSnapshots 全体を削除できます。</block>
  <block id="f3a07fd55b2a15dd2fe4a64f0a2e01e1" category="list-text">PersistentVolume のスナップショットが存在している間に PersistentVolume が削除された場合、ボリュームを安全に削除する前にスナップショットを削除する必要があるため、Trident はそのボリュームを「削除中」状態に移行します。</block>
  <block id="982deda5497c5c5a268ba1212d419648" category="list-text">グループ化されたスナップショットを使用してクローンを作成し、その後グループを削除する場合、クローン時に分割操作が開始され、分割が完了するまでグループを削除することはできません。</block>
  <block id="4379abd46d192befbb8bdad98f8a5d59" category="list-text"><block ref="4379abd46d192befbb8bdad98f8a5d59" category="inline-link-macro-rx"></block></block>
  <block id="d075b47d76ffc95cce31e3ff1a3bf887" category="paragraph">Tridentでは、ディザスタリカバリ用にデータをレプリケートするために、ピア関係にあるクラスタのソースボリュームとデスティネーションボリュームの間のミラー関係をサポートしています。  Trident Mirror Relationship (TMR) と呼ばれる名前空間のカスタム リソース定義 (CRD) を使用して、次の操作を実行できます。</block>
  <block id="2d78d4f2531b53f3a4980133900540f7" category="paragraph">NetApp Trident は、次のドライバーでサポートされるストレージ クラスを使用して、NetApp SnapMirror テクノロジーによるボリューム レプリケーションをサポートします。** <block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> : NFS ** <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> : iSCSI ** <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> : FC ** <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> : NVMe/TCP (最低でも ONTAP バージョン 9.15.1 が必要)</block>
  <block id="a6d2a1b8501003e74309a1ac77e249d4" category="admonition">SnapMirrorを使用したボリュームレプリケーションは、ASA r2システムではサポートされていません。ASAr2システムの詳細については、以下を参照してください。 <block ref="40f055dd42976ff294174231df35e37e" category="inline-link-macro-rx"></block> 。</block>
  <block id="b2b0186a010875b0d453752a8aa06a4c" category="section-title">サービス アカウントの関連付け (IRSA) 用の Pod Identity または IAM ロールを作成する</block>
  <block id="152bceec6d4e34c053208d61763334bc" category="paragraph">Kubernetes サービスアカウントを設定して、EKS ポッド ID またはサービスアカウントの関連付け (IRSA) 用の IAM ロールを持つ AWS Identity and Access Management (IAM) ロールを引き受けることができます。これにより、このサービスアカウントを使用するように設定されたすべてのポッドは、そのロールがアクセス権限を持つすべての AWS サービスにアクセスできるようになります。</block>
  <block id="0522426ad683048758e710700760f5a9" category="open-title">ポッドのアイデンティティ</block>
  <block id="acbe8cfddfd64fba35512f543affb372" category="paragraph">Amazon EKS ポッドアイデンティティの関連付けは、Amazon EC2 インスタンスプロファイルが Amazon EC2 インスタンスに認証情報を提供するのと同様に、アプリケーションの認証情報を管理する機能を提供します。</block>
  <block id="870d5f69e46397da39e4d5bc6a55edc4" category="paragraph">*EKS クラスターに Pod Identity をインストールします*:</block>
  <block id="3a735289083f3ebf5b12bf1252f47e70" category="paragraph">AWS コンソールまたは次の AWS CLI コマンドを使用して、Pod ID を作成できます。</block>
  <block id="6b12dab36e102678866ee1a9295bf251" category="inline-link-macro">Amazon EKS ポッドアイデンティティエージェントを設定する</block>
  <block id="f0e49b3188e2241a1fd992e7697df37f" category="paragraph">詳細については、 <block ref="223f02a97a1894440d2727b156e834b6" category="inline-link-macro-rx"></block> 。</block>
  <block id="4fcddd38c3384849e906ff198dca9a35" category="paragraph">*trust-relationship.json を作成*:</block>
  <block id="9eaa0d9301ed8e0e6ec8d359da513e09" category="paragraph">EKS サービスプリンシパルがポッド ID に対してこのロールを引き受けられるように、trust-relationship.json を作成します。次に、以下の信頼ポリシーを持つロールを作成します。</block>
  <block id="c256d9b106d5b83ccc940e1c11d40213" category="paragraph">*trust-relationship.json ファイル*:</block>
  <block id="d5bcbf5d17aa3658058051153a3abb49" category="paragraph">*IAM ロールにロールポリシーをアタッチします*:</block>
  <block id="5855de3e8f302cffda094dad3434d14d" category="paragraph">前の手順のロールポリシーを、作成した IAM ロールにアタッチします。</block>
  <block id="ae33daeae7be898405819838f197197f" category="paragraph">*ポッド ID の関連付けを作成する*:</block>
  <block id="bfb2fc1510ac240a94b2b84a57023dfd" category="paragraph">IAM ロールと Trident サービス アカウント (trident-controller) の間にポッド ID の関連付けを作成します。</block>
  <block id="37d9be75a57d7c290f4624befaf41cba" category="open-title">サービス アカウントの関連付け (IRSA) の IAM ロール</block>
  <block id="58b24f910cf7a97cc3ea8486155b2ee3" category="paragraph">*AWS CLI の使用*:</block>
  <block id="4411692a55eac3faa65c355f682424c8" category="paragraph">*eksctl を使用している場合*、次の例を使用して EKS のサービス アカウントの IAM ロールを作成します。</block>
  <block id="de756da101866f0bf66d3cfdb32b337b" category="list-text">次の例を使用して Trident をインストールします。</block>
  <block id="3840ce271260ab4b489b1664491a7ae0" category="open-title">サービス アカウント アソシエーション (IRSA)</block>
  <block id="682fae06c762bb51c348b65f07930993" category="list-text">*クラウド プロバイダー* と *クラウド ID* の値を設定します。</block>
  <block id="eff2bb231132a96a28f9d538ef100a34" category="paragraph">iSCSI を使用する場合は、クライアントマシンで iSCSI が有効になっていることを確認してください。AL2023Worker node OS を使用している場合は、helm インストール時に node prep パラメータを追加することで、iSCSI クライアントのインストールを自動化できます。</block>
  <block id="586ac0fdd530431245eb98eb3aa882f4" category="list-text">アドオンを選択するには、次の手順に従います。</block>
  <block id="b2bd1d3671dec54e9318ab4475e27324" category="list-text">*AWS Marketplace アドオン* セクションまでスクロールし、検索ボックスに *「Trident」* と入力します。</block>
  <block id="93883402b9e962f4416b72849cb667c9" category="list-text">Trident by NetApp ボックスの右上隅にあるチェックボックスを選択します。</block>
  <block id="77b0a7753de002b03ddc52594a9208ee" category="list-text">IRSA 認証を使用している場合は、オプション構成設定で使用可能な構成値を必ず設定してください。</block>
  <block id="4881bf2869ec064993ab03177d502022" category="list-text">*アドオン構成スキーマ* に従って、*構成値* セクションの *configurationValues* パラメータを、前の手順で作成した role-arn に設定します (値は次の形式である必要があります)。</block>
  <block id="7347242fe06ebf43402a11cc7e289da8" category="paragraph">*1.作成する<block ref="feef18acfb11dc53b7100577c6d640c4" prefix=" " category="inline-code"></block>ファイル*：</block>
  <block id="ac85dba04837be45d97d83025fa9bef9" category="paragraph">*Pod Identity の場合は、次の形式を使用します*:</block>
  <block id="08ec33a477c6b216472cd10065483760" category="paragraph">*IRSA 認証の場合は、次の形式を使用します*:</block>
  <block id="895c408250687425783cbd96dd25276d" category="paragraph">*2.Trident EKS アドオンをインストールします。*</block>
  <block id="3cec1ada82beb8b8e724d5114558490c" category="paragraph">EKSクラスタはさまざまなオペレーティングシステムをサポートしていますが、AWSではコンテナとEKS用に特定のAmazon Machine Images（AMIS）が最適化されています。次の AMI は NetApp Trident 25.02 でテストされています。</block>
  <block id="e5d0cb04635aeb2a6f06f54da8303683" category="admonition">目的のAMIがここにリストされていない場合、サポートされていないという意味ではなく、単にテストされていないことを意味します。このリストは、AMI が動作することがわかっている場合のガイドとして機能します。</block>
  <block id="324844cd8fa64fd82920fe6f11dc588d" category="list-text">2025年5月9日: <block ref="86b6d8d044348a051fe7477baf34debb" category="inline-link-macro-rx"></block></block>
  <block id="cbe74dc7c890979d924675df2fa27a35" category="list-text">CSIボリュームグループスナップショットのサポートを追加しました。 <block ref="ee21100dace47d83bcefcb7dea09cdd3" prefix=" " category="inline-code"></block> ONTAP-SAN iSCSI ドライバー用のボリューム グループ スナップショット Kubernetes API。を参照して <block ref="b136941d5c2c98d5e9ff86fd07e97048" category="inline-link-macro-rx"></block></block>
  <block id="5e93028f6e11493fcce0c15271413cc3" category="list-text">iSCSI に加えて、NVMe/TCP 用の ONTAP ASA r2 のサポートが追加されました。を参照して <block ref="0ffed2115293f61a0df2b3c8f01851e1" category="inline-link-macro-rx"></block></block>
  <block id="674d1c5daba14e57bb12199e316a830d" category="list-text">ONTAP-NASおよびONTAP-NAS-EconomyボリュームにセキュアSMBサポートを追加しました。ActiveDirectoryユーザーとグループをSMBボリュームで使用できるようになり、セキュリティが強化されました。を参照して <block ref="4f989a35378d98430cb4c4899de0cc08" category="inline-link-macro-rx"></block></block>
  <block id="68e904dfe8bbc558c556cc39aaca54b6" category="list-text">NVMe バックエンドの SnapMirror を使用したボリューム レプリケーションのサポートが追加されました。を参照して <block ref="0837d9a30d067376d83aa60bb79334f8" category="inline-link-macro-rx"></block></block>
  <block id="afce633f05d99c109d2b0429ee891495" category="admonition">25.06 より前のバージョンからアップグレードする場合は、CRD が Trident 保護 Helm チャートに含まれるようになったため、この手順は必須です。</block>
  <block id="b71ccf1062cee8c376a7eb37e3c42603" category="cell">LUKS暗号化を有効にします。を参照してください <block ref="569f9f91cdcc19909b8acbf6f423daf7" category="inline-link-macro-rx"></block>。</block>
  <block id="af4e755c6284fa61e563c93320e97aaa" category="paragraph">Trident は、Kubernetes 内の通信に次のポートを使用します。</block>
  <block id="ef46cb32ba76d79fbc7bfb7586fff578" category="list-text">最新バージョンにアップグレードしたことを確認してください。 <block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block> 。</block>
  <block id="aa56a1d260c6089f006323437ab5613f" category="list-text">推奨されるFlexGroupメンバー/ボリュームの最小サイズは 100 GiB です。</block>
  <block id="006ae665d682a3f9a5488cf901070b36" category="list-text">10 GiB のボリュームを作成します。</block>
  <block id="865cd97dd9f832e1d9213d79b236a1ab" category="list-text">スナップショット付きの 100 GiB ボリュームを作成します。</block>
  <block id="6c374189e15747b9b59cf004c2d1d7f2" category="paragraph">最小ボリュームサイズは 20 MiB です。</block>
  <block id="32ba3ea0fdfbd643c0ee55450e506969" category="paragraph">ボリュームのサイズ。デフォルトは 1 GiB または構成エントリ...「defaults」: {"size": "5G"}。</block>
  <block id="fb489bd0bae5618bdc73d177f2d64e38" category="list-text">10 GiB のゴールド ボリュームを作成します。</block>
  <block id="81271f59b907de8227da8c807392b336" category="list-text">100 GiB の Bronze ボリュームを作成します。</block>
  <block id="e19486e0f435d5132bb0d59bf69d3994" category="list-text">デフォルトのボリュームサイズを上書きします。ドライバーを使用して20 GiBのボリュームを作成するには、次の例を参照してください。</block>
  <block id="47d9ed5ad2795e2453dc7725d8fdeadc" category="paragraph">バックエンドを作成する際には、一般的に一連のパラメータを指定できます。管理者が同じストレージ認証情報と異なるパラメータセットを持つ別のバックエンドを作成することは不可能でした。仮想プールの導入により、この問題は軽減されました。仮想プールは、バックエンドとKubernetesストレージクラスの間に導入されたレベル抽象化であり、管理者は、バックエンドに依存しない方法で、Kubernetesストレージクラスを介してセレクタとして参照できるラベルとともにパラメータを定義できます。仮想プールは、 Tridentを使用してサポートされているすべてのNetAppバックエンドに対して定義できます。そのリストには、 SolidFire/ NetApp HCI、 ONTAP、GCPのCloud Volumes Service 、 Azure NetApp Filesが含まれます。</block>
  <block id="193dc4f3e19f36ad5c6f2ad43ea53a42" category="list-text">報告された PVC サイズが使用可能であることを保証するために、LUKS LUN に 18 MiB のオーバーヘッドを追加しました。</block>
  <block id="85034b8ca1df8fbc112b8206cf773406" category="list-text">ONTAPドライバーは、20 MiB 未満のボリューム サイズ ( <block ref="91ddf20e925712134071a4cc83fc66a3" category="inline-link-macro-rx"></block> ）。</block>
  <block id="fcc2bb4278d843dbf9fdbcf83a214131" category="admonition">* NetApp Trident 25.06 リリース以降、手動 QoS 容量プールがテクニカル プレビューとしてサポートされます。*</block>
  <block id="b4d452ddff320a381a09f71d2351e4c6" category="cell"><block ref="d6f0e0bdb2f24a4f559dd8f512235cb3" prefix="" category="inline-code"></block></block>
  <block id="669b3bc77d6c32aa7e2c1bfe7cc9b452" category="cell">QoSタイプ（自動または手動）を表します。* Trident 25.06のテクニカルプレビュー*</block>
  <block id="06b9281e396db002010bde1de57262eb" category="cell">オート</block>
  <block id="ae4d8eab27ac4c80edb95b30fc583854" category="cell"><block ref="08566efed9fdb13392ea1b11d6b533a4" prefix="" category="inline-code"></block></block>
  <block id="dd71c14df42fdb8389de90b03536c45f" category="cell">許容される最大スループットを設定します。手動QoS容量プールでのみサポートされます。* Trident 25.06のテクニカルプレビュー*</block>
  <block id="3eef9a5398f4b353f217625ca5768cc0" category="cell"><block ref="60f649f49ce41c3f0123ddceb5c9f688" prefix="" category="inline-code"></block></block>
  <block id="b70d8bcceb91e3665bafe307a5b97682" category="example-title">手動 QoS 容量プールを使用したバックエンドの例</block>
  <block id="3ffc8f9f72c24f82c0703e3b5a78db96" category="paragraph">このバックエンド構成では、Azureの<block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block>手動 QoS 容量プールを備えた場所。* NetApp Trident 25.06 のテクニカル プレビュー*。</block>
  <block id="8c63942428249eaa15437c7e07b3dd1e" category="paragraph">のために<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>そして<block ref="10be922aa0fd75bc53ab71eda9229763" prefix=" " category="inline-code"></block> Tridentは、SnapshotReserveのパーセンテージとPVCに基づいてFlexVolのサイズが適切に設定されるよう、新しい計算方法を採用しました。ユーザーがPVCを要求すると、 Tridentは新しい計算方法を用いて、より多くのスペースを持つ元のFlexVolを作成します。この計算により、ユーザーはPVCで要求した書き込み可能なスペースを確実に受け取り、要求したスペースよりも少ないスペースを受け取ることはありません。v21.07より前のバージョンでは、ユーザーがSnapshotReserveを50%に設定してPVC（例えば5GiB）を要求した場合、書き込み可能なスペースは2.5GiBしか得られませんでした。これは、ユーザーが要求したのはボリューム全体であり、 <block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>そのパーセンテージです。TridentTridentでは、ユーザーが要求するのは書き込み可能なスペースであり、 Tridentはそれを定義します。 <block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>全体の量に対する割合として数値をこれは適用されない<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>。これがどのように機能するかを確認するには、次の例を参照してください</block>
  <block id="a9d0225032890b6fff6306b9c33e2cc9" category="paragraph">snapshotReserve = 50%、PVCリクエスト = 5 GiBの場合、ボリュームの合計サイズは5/0.5 = 10 GiBとなり、使用可能なサイズはユーザーがPVCリクエストで要求した5 GiBになります。 <block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block>コマンドを実行すると、次の例のような結果が表示されます。</block>
  <block id="b2badedae3a2fdd602b26112668ed612" category="paragraph">以前のインストールからの既存のバックエンドは、 Tridentをアップグレードする際に、上記のようにボリュームをプロビジョニングします。アップグレード前に作成したボリュームについては、変更を反映させるためにボリュームのサイズを変更する必要があります。例えば、2GiBのPVCで<block ref="01d8e11bde220373533705ed26796e25" prefix=" " category="inline-code"></block>以前の設定では、1GiBの書き込み可能領域を持つボリュームが作成されていました。例えば、ボリュームを3GiBにサイズ変更すると、6GiBのボリュームで3GiBの書き込み可能領域がアプリケーションに提供されます。</block>
  <block id="d3b60a0dd59d810307a1e694f1de96a1" category="paragraph">にTridentがFlexVolに追加する10%の容量です。<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> = 5%、PVC要求 = 5 GiBの場合、ボリュームの合計サイズは5.79 GiB、使用可能なサイズは5.5 GiBです。 <block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block>コマンドを実行すると、次の例のような結果が表示されます。</block>
  <block id="d16fccbbd08210b8ff7b8b31329268bb" category="paragraph">Trident はこの PVC に対して 20 MiB の NFS PV を作成する必要があります。</block>
  <block id="59dd268b21bd1a23faa29555b52ba22b" category="paragraph">新しく作成した20 MiBのPVを1 GiBにサイズ変更するには、PVCを編集して設定します。 <block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> 1 GiBまで:</block>
  <block id="55b94ed9b78fb336b981481557e7d219" category="list-text">2025年4月15日: <block ref="1d74efb61b1c97b9032a1222a24185b1" category="inline-link-macro-rx"></block></block>
  <block id="38873c8c72328929e064d07375c3bb64" category="inline-link-macro">Trident 25.02 でファイバーチャネルプロトコルを活用し、Kubernetes 上の永続ストレージを実現する</block>
  <block id="c6fc47f295f8e48564562b41d6234e74" category="list-text">2025年4月14日: <block ref="519219109d85923b9dfc4c314bbb8b20" category="inline-link-macro-rx"></block></block>
  <block id="f752aa3cc1916f79a2806e72dfc8b4b5" category="list-text">2025年4月14日: <block ref="e28ddf0afaf73832b19731c7248b6de5" category="inline-link-macro-rx"></block></block>
  <block id="e828b47619f791883b7abff60a3529bc" category="inline-link-macro">新しい認定オペレーターによる Red Hat OpenShift へのTrident のインストールの簡素化</block>
  <block id="02062222c04c114bc7fc20acf792eca9" category="list-text">2025年3月31日: <block ref="20f7b4cad613435492a1b3cb3c26a028" category="inline-link-macro-rx"></block></block>
  <block id="7259adf488b8a65d6f49febc93ff44f1" category="inline-link-macro">Google Cloud NetApp Volumesを使用した中小企業向けTridentのプロビジョニング</block>
  <block id="1759bd5240df424d309ad71c96b867f8" category="list-text">2025年3月27日: <block ref="90bc67f83290246dad8f0bc76fd49c2c" category="inline-link-macro-rx"></block></block>
  <block id="b6bbcc8be7319fca806d894645c63253" category="list-text">2025年3月05日: <block ref="c5953f971a0752feeb8ffbf7d9258789" category="inline-link-macro-rx"></block></block>
  <block id="469a8897f90d7e07ede75ff9b199e586" category="inline-link-macro">Trident、GKE、 Google Cloud NetApp Volumesを使用したクラウド ID の導入</block>
  <block id="cb2e2f8e2789874710f34e485efc824e" category="list-text">2025年2月27日: <block ref="46c84c372fb557e16383c0494f1255f5" category="inline-link-macro-rx"></block></block>
  <block id="869493e7a782c2bac6bf8778d6bf749e" category="list-text">2024年12月12日: <block ref="5c3a9e150bc491524071eb191093dabe" category="inline-link-macro-rx"></block></block>
  <block id="afd55df73a814282b1a34c79040d709a" category="inline-link-macro">Trident 25.01: 新機能と機能強化によるKubernetesストレージエクスペリエンスの強化</block>
  <block id="13c401b1f27132099b945b95025ca748" category="list-text">2024年11月26日: <block ref="4a1bf3162dde1793089483cf7682fb86" category="inline-link-macro-rx"></block></block>
  <block id="0d5eeacaefc73b7986c8f85945c72129" category="inline-link-macro">NetApp TridentとGoogle Cloud NetApp Volumes</block>
  <block id="02104a16ef3fcf06a78872f4f5aea5d2" category="inline-link-macro">Tridentを使用したAmazon FSx for NetApp ONTAPと Red Hat OpenShift Service on AWS (ROSA) の連携</block>
  <block id="e2218d0205cdf02ed15039a9eb215920" category="list-text">2024年10月29日: <block ref="ecf88162cd631914aa447c7edeaa2e6e" category="inline-link-macro-rx"></block></block>
  <block id="e7eb7f68cb5a04d95a6152e9d6ab37ec" category="inline-link-macro">ROSA とAmazon FSx for NetApp ONTAP上の OpenShift Virtualization を使用した VM のライブマイグレーション</block>
  <block id="96788723465bd45962aba2ba495bac79" category="list-text">2024年10月29日: <block ref="231a583c773a423673d617a1071353b9" category="inline-link-macro-rx"></block></block>
  <block id="c5b6456f211505596899eb36c3ee09e4" category="inline-link-macro">NVMe/TCP を使用して、Amazon EKS 上の最新のコンテナ化されたアプリケーションでONTAPストレージを使用する</block>
  <block id="3373d53eb859a1fef914c3f5ca7b306d" category="list-text">2024年7月08日: <block ref="0549a17fef857ef2806f9656f7495ac5" category="inline-link-macro-rx"></block></block>
  <block id="782250194e3b8d07e3c01ee076d7abd9" category="inline-link-macro">Google Cloud NetApp Volumes Flex とAstra Tridentによるシームレスな Kubernetes ストレージ</block>
  <block id="1c3ec9ce23b462e81e392f144f8c6527" category="list-text">2024年7月01日: <block ref="48908e9b9a4cb59db7244b631bf66632" category="inline-link-macro-rx"></block></block>
  <block id="c0575ecf088b36655f7a582773399ba0" category="inline-link-macro">OpenShift の統合イメージレジストリのバックエンドストレージとしてのONTAP</block>
  <block id="fa465e5731c44ee6dc77398eecb4493d" category="list-text">2024年6月11日: <block ref="99a2855a4f47b1b3fc2dd744ecb3c177" category="inline-link-macro-rx"></block></block>
  <block id="a35665637b8d8bcebbf303a7e9950cf2" category="inline-link-macro">Trident Protectの復元後フックを使用した災害復旧のためのレジストリフェイルオーバーの自動化</block>
  <block id="9eef003e4e8a5cd2654642dbf1806c35" category="list-text">2025年5月16日: <block ref="9c69f3b57e4c9e30a2d1dd0bbfc81eb9" category="inline-link-macro-rx"></block></block>
  <block id="351257ff03e16ff522106900a9f35e9e" category="inline-link-macro">NetApp Trident Protect を使用した OpenShift Virtualization の災害復旧</block>
  <block id="cc48e904c9802b69a8760ed8f894b251" category="list-text">2025年5月16日: <block ref="a57e639cf15650353686ed7219eb274b" category="inline-link-macro-rx"></block></block>
  <block id="a3bed2eca17a542318eff49566e65560" category="inline-link-macro">Trident Protectのバックアップと復元によるストレージクラスの移行</block>
  <block id="95d102ffaff20709e445a0302dc9209b" category="list-text">2025年5月13日: <block ref="9965527798b3d27a2b7fb71617212405" category="inline-link-macro-rx"></block></block>
  <block id="c00f8563a4e3023d2ff83b5b26a91edc" category="inline-link-macro">Trident Protect のリストア後フックを使用して Kubernetes アプリケーションを再スケールする</block>
  <block id="a3ca851cebfd3307178076015c1cb876" category="list-text">2025年5月09日: <block ref="ee88df603de21180a12f2f1bbd1e61b2" category="inline-link-macro-rx"></block></block>
  <block id="8f18e786e2a2dd5d70390afe4c75e024" category="inline-link-macro">Trident Protect のパワーアップ: 保護と災害復旧のための Kubernetes レプリケーション</block>
  <block id="ae7986fef0bfa9c9a4f730ee6bb5e0ac" category="list-text">2025年4月03日: <block ref="4ca932fa6234c864106756a287da48ac" category="inline-link-macro-rx"></block></block>
  <block id="1847ffdf7c6d0f8b1bbe8c2bb725a3ce" category="list-text">Rancher Kubernetes Engine 2 (RKE2) v1.27.x - 1.33.x</block>
  <block id="3e9612318eccb033e5737a43e626163d" category="admonition">Tridentは Rancher Kubernetes Engine 2 (RKE2) バージョン 1.27.x - 1.33.x でサポートされていますが、 Tridentは現在 RKE2 v1.28.5+rke2r1 でのみ認定されています。_</block>
  <block id="9c292a7d893942317e3d566cb6f6776c" category="paragraph">アプリケーションに対してデータ保護操作を実行する際は、AppVault CR を手動で作成するか、コマンドラインから作成する必要があります。AppVaultCR は環境によって異なりますので、このページの例を参考にして AppVault CR を作成してください。</block>
  <block id="e83cbbd4be53e68f06264e1522860ce6" category="admonition">Trident ProtectがインストールされているクラスタにAppVault CRが配置されていることを確認してください。AppVaultCRが存在しない場合、またはアクセスできない場合は、コマンドラインにエラーが表示されます。</block>
  <block id="05e673132e6ddc1f638835fcde244ff1" category="paragraph">AppVault CR を作成する前に、選択した AppVault とデータ ムーバーがプロバイダーおよび関連リソースに対して認証できることを確認してください。</block>
  <block id="2c2d23c6647059f96e585a1174a5c975" category="paragraph">CR またはTrident protect CLI プラグインを使用して AppVault オブジェクトを作成する際、Restic および Kopia 暗号化用のカスタムパスワードを含む Kubernetes シークレットを指定できます。シークレットを指定しない場合、 Trident protect はデフォルトのパスワードを使用します。</block>
  <block id="1850a20880f300b00b10477bfcbd6087" category="list-text">パスワードは安全な場所に保管してください。同じクラスタまたは別のクラスタにデータを復元する際に必要になります。クラスタまたは<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block>名前空間が削除されると、パスワードなしでバックアップやスナップショットを復元できなくなります。</block>
  <block id="9509f036573c9b78acc044938588f7c4" category="paragraph">次のコマンド例は、 Trident EKS アドオンをインストールします。<block ref="f235325f054788c50b512241d68cb329" prefix=" " category="inline-code"></block> （専用版あり）</block>
  <block id="cedb5a7bb4fc5e3e014ce0b58a3d5095" category="cell">iSCSIエコノミー</block>
  <block id="27a75f24043645e5e4d2b91bad951706" category="list-text">* ノードを再起動せずにPVを削除することはできません</block>
  <block id="029fec6571d8c4d36438994c07941953" category="list-text">** Tridentバージョン 25.02 の NFSv3 では動作しません。</block>
  <block id="87e881298a8d8cc2b3ffd068da55a0c1" category="list-text">EKS version: 1.32</block>
  <block id="38ec877f215b7bc2eb836f279c3374c5" category="list-text">インストール方法: Helm 25.06 および AWS アドオン 25.06</block>
  <block id="54cae3576f4c4ef43a60a75276a7afdb" category="paragraph">Tridentの使用<block ref="30e4ebd32bc870aef019efda0672389c" category="inline-link-macro-rx"></block>Tridentオペレーターをデプロイし、 Trident を1 つの手順でインストールできます。</block>
  <block id="5912b080dcb9b431aedfe3f22784a527" category="paragraph">仮想プールのラベルは次の文字を使用して定義できます。</block>
  <block id="89ff245fa0048aa9d5eeb6153a82f880" category="list-text">大文字<block ref="0c43922c2fd0b2886820ce8d59d0a425" prefix=" " category="inline-code"></block></block>
  <block id="568787cc8b0bed04e060c362d705b747" category="list-text">小文字<block ref="dcb844fadbceca7867ca91e26174469b" prefix=" " category="inline-code"></block></block>
  <block id="99be75de31964ff7afed59629c2827c9" category="list-text">数字<block ref="415d01607bfb64fa0b7efaf0fe064e86" prefix=" " category="inline-code"></block></block>
  <block id="f0fbfac7ddb67830c39dcddb2e0101aa" category="list-text">アンダースコア<block ref="b14a7b8059d9c055954c92674ce60032" prefix=" " category="inline-code"></block></block>
  <block id="c76231732eebaec2e2411ed7cfd30e2c" category="list-text">ハイフン<block ref="336d5ebc5436534e61d16e63ddfca327" prefix=" " category="inline-code"></block></block>
  <block id="e2cc5e54cd44b8315b1324dec48b3d79" category="paragraph">バックアップ データを復元することで、アプリケーションをクラスター間または異なるストレージ クラスに移行できます。</block>
  <block id="259898c4a16b145b9fb12c18949c2e58" category="paragraph">バックアップを宛先ストレージ クラスに復元することで、アプリケーションを 1 つのストレージ クラスから別のストレージ クラスに移行できます。</block>
  <block id="b34476802a6b2dff98e6f97e309970b2" category="inline-link-macro">高度なTrident Protect復元設定を使用する</block>
  <block id="22d9eb2f3982698c6f5c93edae216a51" category="list-text">詳細設定を使用して復元操作をカスタマイズできます。詳細については、<block ref="80b4b5e2c832cc4fcff1f69711f1c808" category="inline-link-macro-rx"></block> 。</block>
  <block id="3efe6f70bb45e527ed991c55df7d621d" category="admonition">Kopia をデータ ムーバーとして使用してバックアップを復元する場合、オプションで CR に注釈を指定するか、CLI を使用して Kopia が使用する一時ストレージの動作を制御できます。参照<block ref="08f67cdc0555f043586a8a4182d9187b" category="inline-link-rx"></block>設定できるオプションの詳細については、こちらをご覧ください。使用<block ref="26d4326deff4a9a34c8bff3eaf4ad7fc" prefix=" " category="inline-code"></block>Trident protect CLI で注釈を指定する方法の詳細については、コマンドを参照してください。</block>
  <block id="15910dd29963e5df5f2b5879472bcc00" category="admonition">SnapshotRestoreは、<block ref="b57d666629acffb30cc697faadc136b5" prefix=" " category="inline-code"></block>属性ですが、ソース ストレージ クラスと宛先ストレージ クラスが同じストレージ バックエンドを使用する場合のみです。復元しようとすると、<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>異なるストレージバックエンドを使用する場合、復元操作は失敗します。</block>
  <block id="4c2451a6dd1d1ce7a84476069f101573" category="summary">注釈、名前空間設定、およびストレージ オプションを使用して、 Trident保護の復元操作をカスタマイズできます。</block>
  <block id="3fbccf21ba46fe754417d45e7396e0e4" category="paragraph">注釈、名前空間設定、ストレージ オプションなどの詳細設定を使用して、特定の要件を満たすように復元操作をカスタマイズできます。</block>
  <block id="52391deb129507aac52d6fb22aaf137c" category="section-title">サポートされているフィールド</block>
  <block id="c87f7398b288400e3d2c984a3d997d7b" category="paragraph">このセクションでは、復元操作に使用できる追加のフィールドについて説明します。</block>
  <block id="11162de38772a3876602bb4d9d213f43" category="section-title">ストレージクラスのマッピング</block>
  <block id="b48c8c7ca3eb5e63afdfe6bbd74a35c9" category="paragraph">その<block ref="b57d666629acffb30cc697faadc136b5" prefix=" " category="inline-code"></block>属性は、ソース アプリケーションに存在するストレージ クラスからターゲット クラスター上の新しいストレージ クラスへのマッピングを定義します。これは、異なるストレージ クラスを持つクラスター間でアプリケーションを移行する場合や、BackupRestore 操作のストレージ バックエンドを変更する場合に使用できます。</block>
  <block id="27f5153068cecd37b6fa4a136586658d" category="sidebar">詳細設定を使用する</block>
  <block id="2c9ccd5e8999c2c36f29069165f327c3" category="admonition">Red Hat OpenShift を使用する場合は、OpenShift 環境における名前空間アノテーションの重要な役割に注意することが重要です。名前空間アノテーションにより、復元されたポッドが OpenShift のセキュリティ コンテキスト制約 (SCC) によって定義された適切な権限とセキュリティ構成に準拠し、権限の問題なくボリュームにアクセスできるようになります。詳細については、<block ref="f3121e004cef0b92f500227025367589" category="inline-link-rx"></block> 。</block>
  <block id="dcc6257f6685a427757ede81b2086cb2" category="admonition">OpenShift 4.19 以降、この機能でサポートされるTrident の最小バージョンは 25.06.1 です。</block>
  <block id="78b16a5d2427fb1cb647b8ff8e8936dd" category="section-title">25.06.1 の新機能</block>
  <block id="56f0b7f1d902abcea5e9a924acc8cf68" category="list-text">サブシステムからマップ解除される前に NQN がチェックされない問題を修正しました。</block>
  <block id="74ede3b036d836536636c89ae6208dc1" category="list-text">LUKS デバイスを複数回閉じようとするとボリュームのデタッチに失敗する問題を修正しました。</block>
  <block id="e593abd973cbfe8b821587be547d75a8" category="list-text">作成以降にデバイス パスが変更された場合の iSCSI ボリュームのステージング解除を修正しました。</block>
  <block id="ba928ee331d175497be64b1981e81596" category="list-text">ストレージ クラス間のボリュームのクローン作成をブロックします。</block>
  <block id="4f8bdbf86c4afec9c1de4e403735e1df" category="list-text">*OpenShift*: OCP 4.19 で iSCSI ノードの準備が失敗する問題を修正しました。</block>
  <block id="4437218698cd37b58221a09f0b779bab" category="list-text">SolidFireバックエンドを使用してボリュームをクローンする際のタイムアウトを増加しました（<block ref="ff387119bc332768d9a3831513d005d5" category="inline-link-macro-rx"></block> ）。</block>
  <block id="3dca4d7450a120a0a20749c485d209b2" category="section-title">25.06の変更点</block>
  <block id="70fec01f1a76dbea74bd12ad8fb20151" category="list-text">* NetApp Trident* をクリックしてインストール設定を開きます。</block>
  <block id="1ad8c45e73d79fb1d5606c962d0f3cda" category="list-text">必要なオプションを選択し、「*インストール*」をクリックしてオペレーター構成を開きます。</block>
  <block id="3bcd8afe0d2e66ac8ee08b64d8ab5aa9" category="admonition">必ず最新の Operator バージョンを選択してください。</block>
  <block id="e1834934410991eaa116cd9cffd2e554" category="list-text">すべてのパラメータをそのままにして、[インストール] をクリックします。</block>
  <block id="a1e30a9991b9e8abb01ef39a2da53ae9" category="paragraph">インストールが完了すると、インストールされたオペレーターのリストにオペレーターが表示され、使用できるようになります。</block>
  <block id="8b29df4adf6fbbaec0828beed4564d1b" category="list-text">オペレーターの詳細を表示するには、「*オペレーターの表示*」をクリックします。</block>
  <block id="7c7ed74fe0c2134a4029358fd7840eaa" category="list-text">* Trident Orchestrator* の下で、*インスタンスの作成* をクリックします。</block>
  <block id="7b61a3bcc8bbd41470bf0de7fcfd839e" category="list-text">*YAML ビュー* をクリックし、次の内容をフォームに貼り付けます。</block>
  <block id="9152cfa618e086866a5af7caaed0d2bd" category="list-text">Red Hat Enterprise Linux CoreOS (RHCOS) では iSCSI が有効化および構成されていません。</block>
  <block id="5df2f935f2bc3df2c6378f665b3d6659" category="list-text">追加できるのは<block ref="e9a7558decb5e432d8b7c4d536cc9876" prefix=" " category="inline-code"></block>すべての OpenShift ワーカー ノードで iSCSI サービスとマルチパス サービスの両方を設定および有効にするパラメーター。</block>
  <block id="f61306bfa8c6de676059739358d4479f" category="list-text">*作成*をクリックすると、 Trident Orchestrator が完全にインストールされます。</block>
  <block id="7f95b6a9d45bd5ee11107a5abb5dd69c" category="section-title">Tridentオペレーターをアンインストールする</block>
  <block id="b94d4c5305d8d32a875a24a5b1501274" category="admonition">SolidFireをご利用のお客様は、ボリュームの非公開時に発生する既知の問題のため、25.06.1 にアップグレードしないでください。この問題に対処するため、25.06.2 がまもなくリリースされる予定です。</block>
  <block id="4011c398b0ff3b95197b4f4713f3216e" category="list-text">バックエンドを更新するには、<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>コマンドと更新されたパス<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>ファイル。</block>
  <block id="f05848de69e82db6963b7b9c5322a67f" category="paragraph">*例*：<block ref="7aa76d5ff854a67029ba30d1a11e1e53" prefix=" " category="inline-code"></block></block>
  <block id="0884919e7c7d4a1981b4419350c63124" category="paragraph">Trident Protect を使用すると、管理者は、管理対象のクラスタとアプリケーションに関するログ、メトリック、トポロジ情報など、 NetAppサポートに役立つ情報を含むバンドルを生成できます。インターネットに接続している場合は、カスタム リソース (CR) ファイルを使用して、サポート バンドルをNetAppサポート サイト (NSS) にアップロードできます。</block>
  <block id="b8331cd182c8a703fc1ad6851d01da14" category="list-text">入力したら<block ref="699c503b46d4ca3ec78905dff3704cac" prefix=" " category="inline-code"></block>正しい値を持つファイルには、CR を適用します。</block>
  <block id="a2a6b0573b13313f05c747e88489eec6" category="section-title">サポートバンドルを監視して取得する</block>
  <block id="4ff0609d2c162c23c5b740871050dda7" category="paragraph">いずれかの方法を使用してサポート バンドルを作成した後、その生成の進行状況を監視し、ローカル システムに取得することができます。</block>
  <block id="8aadefe9cc0cc86a02267b80b207f617" category="list-text">待つ<block ref="f9826424ec573cdc9bb51c0f5cb897b0" prefix=" " category="inline-code"></block>到達する<block ref="07ca5050e697392c9ed47e6453f1453f" prefix=" " category="inline-code"></block>州。次のコマンドで生成の進行状況を監視できます。</block>
  <block id="3bea11acf8836689dcfed98dab0d1b2e" category="list-text">サポート バンドルをローカル システムに取得します。完了したAutoSupportバンドルからコピー コマンドを取得します。</block>
  <block id="ada844bd6c6a80bfce3dc4e9178eef4a" category="paragraph">見つける<block ref="768c4e4d1692df1d92007f61dbeb0a6a" prefix=" " category="inline-code"></block>出力からコマンドを取得して実行し、宛先引数を希望のローカル ディレクトリに置き換えます。</block>
  <block id="f928067a28069be4d1f767db45a657cb" category="paragraph">ONTAP REST API を使用するためのブール パラメーター。</block>
  <block id="19d6e9263401c68c1dd92f3647e19255" category="paragraph"><block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix="" category="inline-code"></block>に設定すると<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、 TridentはONTAP REST APIを使用してバックエンドと通信します。<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> Trident は、バックエンドとの通信に ONTAPI (ZAPI) 呼び出しを使用します。この機能にはONTAP 9.11.1 以降が必要です。さらに、使用するONTAPログインロールには、<block ref="045ed0306c61104cb0777ccd31ce648b" prefix=" " category="inline-code"></block>応用。これは、事前に定義された<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>そして<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block>役割。  Trident 24.06リリースおよびONTAP 9.15.1以降では、<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>設定されている<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>デフォルト; 変更<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>に<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>ONTAPI (ZAPI) 呼び出しを使用します。</block>
  <block id="39a2e6c36a2ad2c2884bcd5d8f474fbb" category="paragraph"><block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix="" category="inline-code"></block>NVMe/TCP に完全対応しています。</block>
  <block id="6f95f26584cb2bbbc9c25ed197bf9234" category="admonition">NVMe はONTAP REST API でのみサポートされ、ONTAPI (ZAPI) ではサポートされません。</block>
  <block id="32653402e1251f3e6f9db04a67492d01" category="paragraph">*指定されている場合、常に<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>ASA r2 システムの場合*。</block>
  <block id="e1b6f2a617a63649b238c99a6557a915" category="list-text">NVMeでネイティブにサポートされているDH-HMAC-CHAP</block>
  <block id="7fbe6e40125b7d1b2f5c5c05044e7526" category="section-title">証明書ベースの認証の有効化</block>
  <block id="42f93278b0d15c8d0f6613813bf586d5" category="section-title">双方向CHAPによる接続の認証</block>
  <block id="9ffdb95250e26c7a6b468126ac7c75b0" category="section-title">仕組み</block>
  <block id="81f2df0265026a1a04bda5484798a10d" category="section-title">認証情報をローテーションしてバックエンドを更新する</block>
  <block id="4bdb23ea513714e3ddde2986c05c669f" category="inline-link-macro">データの一貫性の強化: Tridentを使用した OpenShift 仮想化のボリューム グループ スナップショット</block>
  <block id="299fb00578f305c7fc8cabf601fd1c80" category="list-text">2025年8月19日:<block ref="e5b6bdace6eea699ef0d8738f7d6c354" category="inline-link-macro-rx"></block></block>
  <block id="a21cecd213989d401167ec6cfba8d998" category="list-text">2024年11月11日: <block ref="daed3e0cfbeb06368e36167c5fc4f468" category="inline-link-macro-rx"></block></block>
  <block id="dcae39a3bdbd6a2685507ccc14623d62" category="list-text">Prometheus ServiceMonitor CRD をクラスターに適用します。</block>
  <block id="e95fc483374f2aa2997fb27e7235f723" category="list-text">実行時に、ローカル環境がAppVault CRで定義されたオブジェクトストレージバケットに接続できることを確認してください。<block ref="f9adf231483d5dde9cfc10a610b748d3" prefix=" " category="inline-code"></block>指示。ネットワーク制限によりアクセスできない場合は、代わりに宛先クラスターのポッド内からTrident protect CLI を実行します。</block>
  <block id="710d51eba716c95765550f52a1c4fd61" category="cell"><block ref="4aff31f193e6ea4df2a1c4f841bad5d6" prefix="" category="inline-code"></block></block>
  <block id="68087b4c898b9466dc989d8086e173dc" category="cell">ほとんどの Kubernetes API 操作のデフォルトの 180 秒のタイムアウトをオーバーライドします (ゼロ以外の場合は秒単位)。</block>
  <block id="bd3dd99c8eae44e2ae2bfc8f00dc3db0" category="cell"><block ref="045117b0e0a11a242b9765e79cbf113f" prefix="" category="inline-code"></block></block>
  <block id="44a97f581d6467983edc4e5900722f32" category="list-text">手動のオペレーターベースのデプロイメントがあり、Helm ベースのTridentオペレーター デプロイメントを使用する場合は、最初にオペレーターを手動でアンインストールしてから、Helm インストールを実行する必要があります。これにより、Helm は必要なラベルとアノテーションを使用してTridentオペレーターをデプロイできるようになります。これを行わないと、Helm ベースのTridentオペレーターのデプロイメントは、ラベル検証エラーとアノテーション検証エラーで失敗します。</block>
  <block id="96fa331785e435bbddfc7f404fa5ce84" category="list-text">もしあなたが<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>ベースのデプロイメントでは、 Tridentをアンインストールせずに Helm ベースまたは Operator ベースのデプロイメントを実行できます。</block>
  <block id="ebc465247274e830568c785a604321aa" category="paragraph">Kubernetes 操作のタイムアウト。</block>
  <block id="487b75b94dd20a59c7005f9de6a6c4a0" category="admonition">その<block ref="d5276bb17ae062102e883a18454c2f1b" prefix=" " category="inline-code"></block>パラメータはTrident のインストールにのみ適用されます。</block>
  <block id="0784343c721b59e3c2426a1b76297982" category="admonition">その<block ref="b958a6de9ca123713491252f2ab02f59" prefix=" " category="inline-code"></block>パラメータはTrident のインストールにのみ適用されます。</block>
  <block id="8238f7162d9219360737b28886d1e81e" category="inline-link-macro">AutoSupportと名前空間フィルタリングオプションを構成する</block>
  <block id="f674ee7017be04f3990c16ce1e52c071" category="admonition">復元またはフェイルオーバー操作を実行する場合、<block ref="22416353aff9ef4322e1ee858f418ae4" prefix=" " category="inline-code"></block>そして<block ref="8028cf835d9b72ff2d6f835934c25568" prefix=" " category="inline-code"></block>復元またはフェイルオーバー操作から除外されます。これらの設定が Helm の初期インストール時に構成されていることを確認してください。詳細については、<block ref="be04583f34cff5b6411cf18afbc58993" category="inline-link-macro-rx"></block> 。</block>
  <block id="5db3625cb782a771bf36efc4994a8da5" category="section-title">追加のTrident Protect Helm チャート設定を構成する</block>
  <block id="a7532dec52b4d581a8873a3048e6e181" category="paragraph">特定の要件に合わせて、 AutoSupport設定と名前空間フィルタリングをカスタマイズできます。次の表は、使用可能な構成パラメータを示しています。</block>
  <block id="1fceae4a3c0d1966481601a7ac4d1f83" category="cell">自動サポートプロキシ</block>
  <block id="d93069a68fb6f0fccb979fdae4a99614" category="cell">NetApp AutoSupport接続用のプロキシ URL を構成します。これを使用して、サポート バンドルのアップロードをプロキシ サーバー経由でルーティングします。例：<block ref="3753b9fc3cbe6d0d91c7b449cad0b465" prefix=" " category="inline-code"></block> 。</block>
  <block id="c692f16bd0ca5b695511534a2e1eebfb" category="cell">autoSupport.insecure</block>
  <block id="ecf5fdf2786d609376e95f541c7dcdfa" category="cell">設定すると、 AutoSupportプロキシ接続のTLS検証をスキップします。<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> 。安全でないプロキシ接続にのみ使用してください。  （デフォルト：<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> ）</block>
  <block id="4dd202185370b5db00de876ba19c1bd1" category="cell">自動サポートが有効</block>
  <block id="5d75e627a269bd09b3b5ebef5a7bf257" category="cell">毎日のTrident Protect AutoSupportバンドルのアップロードを有効または無効にします。に設定すると<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>、スケジュールされた毎日のアップロードは無効になっていますが、サポート バンドルを手動で生成することはできます。  （デフォルト：<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> ）</block>
  <block id="22416353aff9ef4322e1ee858f418ae4" category="cell">スキップ名前空間注釈の復元</block>
  <block id="a91c3b0476974e9ec186952f05c189f1" category="cell">バックアップおよび復元操作から除外する名前空間注釈のコンマ区切りリスト。注釈に基づいて名前空間をフィルタリングできます。</block>
  <block id="8028cf835d9b72ff2d6f835934c25568" category="cell">スキップ名前空間ラベルの復元</block>
  <block id="3f1cf3db23b5a0d9cdd2db63b9b30061" category="cell">バックアップおよび復元操作から除外する名前空間ラベルのコンマ区切りリスト。ラベルに基づいて名前空間をフィルタリングできます。</block>
  <block id="4afdb4a6c604cf0a9b830ec8cb0430c9" category="paragraph">これらのオプションは、YAML 構成ファイルまたはコマンドライン フラグを使用して構成できます。</block>
  <block id="bfb59a2948710affa80485c4339915a0" category="open-title">YAMLファイルを使用する</block>
  <block id="edd355ced63179ed49206f4f87774b11" category="list-text">設定ファイルを作成し、名前を付けます<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block>。</block>
  <block id="68691c61fb4efdab4eca4a7e06fa75c7" category="list-text">作成したファイルに、カスタマイズする構成オプションを追加します。</block>
  <block id="8050ee75d62c0711ec176f9e1481041b" category="list-text">入力したら<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block>正しい値を持つファイルの場合は、構成ファイルを適用します。</block>
  <block id="2ee46f1547524b1cfc2f8b760b44c719" category="open-title">CLIフラグを使用する</block>
  <block id="fc7791ffb26e7154ff5b48ab1b14bf8b" category="list-text">次のコマンドを<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block>個々のパラメータを指定するためのフラグ:</block>
  <block id="b3d3f9a2121425d368b2e48af67d611a" category="list-text">*クラスタ管理者:* 宛先名前空間の所有者に、宛先名前空間に TridentVolumeReference CR を作成する権限を付与するための適切な RBAC が設定されていることを確認します。<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block> ）。</block>
  <block id="74e502e81d780e5b5d204969a0d44635" category="list-text">*クラスター管理者:* 宛先名前空間の所有者に宛先名前空間に TridentVolumeReference CR を作成するための権限を付与するための適切な RBAC が設定されていることを確認します。</block>
  <block id="955d6e7ec20d5d3fcf83f82552f7d6e0" category="section-title">Amazon S3 (AWS) 認証用の EKS ポッド ID</block>
  <block id="67165804f666601e4155d69a62d46a7d" category="paragraph">Trident Protect は、Kopia データ ムーバー操作用の EKS Pod Identity をサポートします。この機能により、Kubernetes シークレットに AWS 認証情報を保存せずに、S3 バケットへの安全なアクセスが可能になります。</block>
  <block id="3c0f2c9a4c9b9d63ff7db27d3c3732d2" category="paragraph">* Trident Protect を使用した EKS Pod Identity の要件*</block>
  <block id="e674398aa14fe057d6f89aae4be1955a" category="paragraph">Trident Protect で EKS Pod Identity を使用する前に、次の点を確認してください。</block>
  <block id="6aa9f6ea95e8a0a226da6a3727f18bb1" category="list-text">EKS クラスターで Pod Identity が有効になっています。</block>
  <block id="ecadca4297640c38809298ae5d418fff" category="list-text">必要な S3 バケット権限を持つ IAM ロールを作成しました。詳細については、<block ref="d40f70e9b63b2ee09271e4f02ea6bf6d" category="inline-link-macro-rx"></block> 。</block>
  <block id="af030ad9c72e341fd6b3331215a88c19" category="list-text">IAM ロールは、次のTrident Protect サービス アカウントに関連付けられています。</block>
  <block id="5b71e41c96f404db1afa2e12eecd6500" category="list-text"><block ref="91bb592c84ad55997a90ac08be4392a4" prefix="" category="inline-code"></block></block>
  <block id="1aa00347a52b15ca93b318123bc06e86" category="list-text"><block ref="f7466ebc5710cc1f7aebdb3c2347f9e6" prefix="" category="inline-code"></block></block>
  <block id="7a9c1f2789b528ff73c69693fde3ecba" category="list-text"><block ref="12cb7c67caac3126c1f43145ffe66ca6" prefix="" category="inline-code"></block></block>
  <block id="71f3c1257dc9ab0b34ac201e2acb022c" category="list-text"><block ref="4853ba7c1c1c3978e9d7142231fc12a6" prefix="" category="inline-code"></block></block>
  <block id="aeb8fd34d676c01d8d9e00ea6a66b661" category="inline-link">AWS EKS ポッドアイデンティティのドキュメント</block>
  <block id="a1c4fb1e42d1fc14a6fe64030e00a952" category="paragraph">ポッドアイデンティティを有効にし、IAMロールをサービスアカウントに関連付ける詳細な手順については、<block ref="66ae84e756b5258fa5896e42189a8ba2" category="inline-link-rx"></block> 。</block>
  <block id="cedc87a271db7f699ec07464bfd0a9ee" category="paragraph">*AppVault 構成* EKS Pod Identity を使用する場合は、AppVault CR を次のように構成します。<block ref="df9bc6a254da3cea83fc8b7c71c71ea9" prefix=" " category="inline-code"></block>明示的な資格情報の代わりにフラグを使用します:</block>
  <block id="ed69194cde8739a857f51b02498a0c27" category="paragraph">AppVault CR を定義するときは、IAM 認証を使用していない限り、プロバイダーによってホストされているリソースにアクセスするための資格情報を含める必要があります。資格情報のキーを生成する方法はプロバイダーによって異なります。以下は、いくつかのプロバイダーのコマンド ライン キー生成の例です。次の例を使用して、各クラウド プロバイダーの資格情報のキーを作成できます。</block>
  <block id="0d96febdd171c11830ca8b96c7a4f8e4" category="admonition">KopiaデータムーバーでPod Identityを使用するEKS環境では、<block ref="84695890ad88faf0bb2d6cdae8c01d51" prefix=" " category="inline-code"></block>セクションを追加して<block ref="df9bc6a254da3cea83fc8b7c71c71ea9" prefix=" " category="inline-code"></block>の下で<block ref="c0828e0381730befd1f7a025057c74fb" prefix=" " category="inline-code"></block>代わりに構成してください。</block>
  <block id="3d939b5d63f5846e5d71053999d3972e" category="paragraph">Tridentインストーラーは、Kubernetes クラスターの PersistentVolume、PersistentVolumeClaim、StorageClass、および Secret リソースへの特定のアクセス権を持つ Kubernetes ClusterRole を作成します。。 <block ref="ddc7df443077796093efdaf5a64d03cd" category="inline-link-macro-rx"></block> 。</block>
  <block id="65f1acff2714c57d7d22160c1e0604ae" category="list-text">必要なアドオン設定を構成します。</block>
  <block id="a77e64d999da7477c22c11d171944968" category="list-text">IRSA（サービスアカウントのIAMロール）を使用している場合は、追加の構成手順を参照してください。<block ref="75a5fb22d89ca2450e7a1cb8fb11e3d1" category="inline-link-macro-rx"></block> 。</block>
  <block id="b2a83c40e86c786c07c31acad2909e42" category="admonition">*Pod Identity 関連付けを使用している場合は、これらの手順をスキップしてください。*</block>
  <block id="346a92db06c8942d8b2bd2e2de5c2796" category="paragraph">その<block ref="da3f7f170e13df7f56e057fc4226aa85" category="inline-link-rx"></block>オブジェクトは、そのクラスに使用されるプロビジョナーとしてTridentを識別し、ボリュームをプロビジョニングする方法をTrident に指示します。  NFS を使用するボリュームの Storageclass を設定するには、この例を使用します (属性の完全なリストについては、以下のTrident属性セクションを参照してください)。</block>
  <block id="7cb76a35f0ca09eacd7393285baf81df" category="paragraph">iSCSI を使用するボリュームの Storageclass を設定するには、次の例を使用します。</block>
  <block id="4789829a93714df585353f631620ef1d" category="paragraph-title">iSCSI を使用した PVC の例</block>
  <block id="325b282cbc15cc9dcde1a69271472526" category="paragraph">この例では、RWOアクセスを持つiSCSI用の基本PVCが、StorageClassに関連付けられています。<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> 。</block>
  <block id="4aac510e801e497da3b150682838f5f7" category="section-title">PVCを作成する</block>
  <block id="bef9303dd11d749d2facca8b3064630e" category="list-text">OpenShift 4.12、4.14 - 4.19 (OpenShift 4.19 で iSCSI ノードの準備を使用する場合、サポートされる最小Tridentバージョンは 25.06.1 です。)</block>
  <block id="3b30a7aea8a6f98824f61888e8628449" category="inline-link-macro">Red Hat 延長アップデートサポート (EUS) リリースライフサイクル</block>
  <block id="6b62784ed0975ba9ec1e2f69af860e25" category="admonition">Tridentは、OpenShiftの古いバージョンを引き続きサポートします。<block ref="d73f30265a77d175825591fd08508146" category="inline-link-macro-rx"></block>アップストリームで公式にサポートされなくなった Kubernetes バージョンに依存している場合でも同様です。このような場合、 Tridentをインストールするときに、Kubernetes バージョンに関する警告メッセージは無視しても問題ありません。</block>
  <block id="4efb4e385545dd4fb4a8cf16e5ef7763" category="paragraph">保護ポリシーは、定義されたスケジュールでスナップショット、バックアップ、またはその両方を作成することによってアプリを保護します。スナップショットとバックアップを時間ごと、日ごと、週ごと、月ごとに作成するように選択でき、保持するコピーの数を指定できます。 full-backup-rule アノテーションを使用して、増分以外の完全バックアップをスケジュールできます。デフォルトでは、すべてのバックアップは増分バックアップになります。定期的に完全バックアップを実行し、その間に増分バックアップを実行すると、復元に関連するリスクを軽減できます。</block>
  <block id="71f68550bd8133367f60c4ea58f6680d" category="list-text">スナップショットのスケジュールを作成するには、以下を設定します。<block ref="90d510783632c9f8604cd880d9f84137" prefix=" " category="inline-code"></block>ゼロにし、<block ref="460d2880d85882a9c98985b9b97c15f8" prefix=" " category="inline-code"></block>ゼロより大きい値にします。設定<block ref="460d2880d85882a9c98985b9b97c15f8" prefix=" " category="inline-code"></block>ゼロに設定すると、スケジュールされたバックアップではスナップショットが作成されますが、それらは一時的なものであり、バックアップが完了するとすぐに削除されます。</block>
  <block id="183c1f11eb5fcbc4a480f1ed7ec6315d" category="list-text">*spec.backupRetention*: 保持するバックアップの数。ゼロは、バックアップを作成しないことを示します (スナップショットのみ)。</block>
  <block id="50b9f8f4650a278b466928c2105fc23a" category="list-text"><block ref="769cb50c95fd3a43c659aa73aba99e5b" prefix="" category="inline-code"></block>（指定する必要があります<block ref="aadd5cec42dbc02d51f62a1095401f59" prefix=" " category="inline-code"></block>）</block>
  <block id="03b866ae4a8a50619a4126154196606b" category="list-text"><block ref="c512b685438f41daa7386329a3b8f8d3" prefix="" category="inline-code"></block>（指定する必要があります<block ref="aadd5cec42dbc02d51f62a1095401f59" prefix=" " category="inline-code"></block>そして<block ref="9199af27775b1a2a876e6d7b25540711" prefix=" " category="inline-code"></block>）</block>
  <block id="2cfd34c47c4dbe46650e40185474bd21" category="list-text"><block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix="" category="inline-code"></block>（指定する必要があります<block ref="d5870327522a71f5b75f9d3793d0dc97" prefix=" " category="inline-code"></block>、 そして<block ref="4a04848e0e6e9423892ebc93ae61842d" prefix=" " category="inline-code"></block>）</block>
  <block id="e36f4a95a41882feb14dd016e82700bc" category="list-text"><block ref="9030e39f00132d583da4122532e509e9" prefix="" category="inline-code"></block>（指定する必要があります<block ref="d5870327522a71f5b75f9d3793d0dc97" prefix=" " category="inline-code"></block>、 そして<block ref="9a7606959f42328ceeef95d70c353158" prefix=" " category="inline-code"></block>）</block>
  <block id="8461dc1f0cf640973db2ba7288efba21" category="list-text"><block ref="90589c47f06eb971d548591f23c285af" prefix="" category="inline-code"></block></block>
  <block id="85b77ce1b7f65fe79fd40e5b53ba60f5" category="list-text">*spec.dayOfMonth*: (_オプション_) スケジュールを実行する月の日付 (1 - 31)。粒度が「」に設定されている場合、このフィールドは必須です。<block ref="9030e39f00132d583da4122532e509e9" prefix=" " category="inline-code"></block> 。値は文字列として提供する必要があります。</block>
  <block id="c3d0b5531d946d2ff5d8deeeec3e7984" category="list-text">*spec.dayOfWeek*: (_オプション_) スケジュールを実行する曜日 (0 - 7)。値 0 または 7 は日曜日を示します。粒度が「」に設定されている場合、このフィールドは必須です。<block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix=" " category="inline-code"></block> 。値は文字列として提供する必要があります。</block>
  <block id="6bacf4f9c6600aa7f82b6f6b4f8a85e0" category="list-text">*spec.hour*: (_オプション_) スケジュールを実行する時刻 (0 - 23)。粒度が「」に設定されている場合、このフィールドは必須です。<block ref="c512b685438f41daa7386329a3b8f8d3" prefix=" " category="inline-code"></block> 、<block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix=" " category="inline-code"></block> 、 または<block ref="9030e39f00132d583da4122532e509e9" prefix=" " category="inline-code"></block>。値は文字列として提供する必要があります。</block>
  <block id="7793fda5cb73b26f1ecdca11dcd1383e" category="list-text">*spec.minute*: (_オプション_) スケジュールを実行する分 (0 - 59)。粒度が「」に設定されている場合、このフィールドは必須です。<block ref="769cb50c95fd3a43c659aa73aba99e5b" prefix=" " category="inline-code"></block> 、<block ref="c512b685438f41daa7386329a3b8f8d3" prefix=" " category="inline-code"></block> 、<block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix=" " category="inline-code"></block> 、 または<block ref="9030e39f00132d583da4122532e509e9" prefix=" " category="inline-code"></block>。値は文字列として提供する必要があります。</block>
  <block id="16220401716289e6ffa12bfc49da1d84" category="paragraph">バックアップとスナップショットのスケジュールの YAML の例:</block>
  <block id="ce230d4d200ba39549537496edaaef6a" category="paragraph">スナップショットのみのスケジュールの YAML の例:</block>
  <block id="19c776919085070d66d199dd494adbbf" category="paragraph">スナップショットのみのスケジュールの場合は、<block ref="39c61d5d6dee0f5540cfcb77307edd90" prefix=" " category="inline-code"></block> 0より大きい値を指定する<block ref="2c3fac80fc69264c6dbace5f18065639" prefix=" " category="inline-code"></block>。</block>
  <block id="1991a9f25a93e75eb693b6e02bc130ed" category="list-text">Trident Protect バックアップは、Linux コンピューティング ノードでのみサポートされます。  Windows コンピューティング ノードはバックアップ操作ではサポートされていません。</block>
  <block id="aff5adfa33a9913ad2ab5d578c3f08c8" category="cell">「300」</block>
  <block id="9d397fb20eca1ebda087637e32a30a7b" category="cell">「1000」</block>
  <block id="c58ac3825b86aa7d2974a07f7fa6034e" category="cell"><block ref="ddb26827be8b4407890c3c9d97a1cfaa" prefix="" category="inline-code"></block></block>
  <block id="5e7f36ac5097702b7b261f47121e2fca" category="paragraph">Kubernetes API サーバーと通信するときにコントローラーが使用する 1 秒あたりのクエリ数 (QPS) の制限。バースト値は QPS 値に基づいて自動的に設定されます。</block>
  <block id="2ab2e58818cb444e3077fcc7704f7079" category="cell"><block ref="f899139df5e1059396431415e770c6dd" prefix="" category="inline-code"></block>; オプション</block>
  <block id="a8e3858ca6cf43d168887f0054576cb6" category="list-text"><block ref="88e6af50844241df09da1b4f0fed0dc1" prefix="" category="inline-code"></block>: Autosupport Telemetry のコンテナ イメージ (デフォルトは「netapp/trident autosupport:&lt;current-version&gt;」)。<block ref="21e377b6d1724ef73707d1b42de99ab3" prefix=" " category="inline-code"></block> : Autosupport テレメトリを送信するためのプロキシのアドレス/ポート。<block ref="8ef3d4e948c6061ad15793e3bfd2660f" prefix=" " category="inline-code"></block> : ノードに必要なパッケージをインストールしようとします。<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block> : 何もインストールせずに YAML ファイルを生成します。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block> 、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block> : インストールのヘルプ。<block ref="a6bd80a942dd6d1c4d4b8aa4bd064415" prefix=" " category="inline-code"></block> : Tridentコントローラーの REST API の HTTP リクエスト タイムアウトをオーバーライドします (デフォルトは 1 分 30 秒)。<block ref="22f97752ec243e2f8fb13a584ff48f0d" prefix=" " category="inline-code"></block> : 内部イメージ レジストリのアドレス/ポート。<block ref="af58b91b0e366d67d75550c28c8b73bd" prefix=" " category="inline-code"></block> : すべての Kubernetes 操作のタイムアウト (デフォルトは 3 分 0 秒)。<block ref="931fef57514fa5bc71c5c9784dcb35b2" prefix=" " category="inline-code"></block> : kubelet の内部状態のホストの場所 (デフォルトは「/var/lib/kubelet」)。<block ref="ad595b91ed4748510a60df1c00ce5bd6" prefix=" " category="inline-code"></block> : Trident のログ形式 (テキスト、json) (デフォルトは「text」)。<block ref="1606f6268af560ddbfffdd3790afb4d2" prefix=" " category="inline-code"></block> : Trident が指定されたデータ ストレージ プロトコルを使用してボリュームを管理するために Kubernetes クラスターのノードを準備できるようにします。*現在、<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>サポートされている唯一の値です。OpenShift 4.19 以降、この機能でサポートされるTrident の最小バージョンは 25.06.1 です。*<block ref="120a4fcacf73dd87df1de81c4d7a2526" prefix=" " category="inline-code"></block> : Tridentによって使用されるレガシー PV の名前。これが存在しないことを確認します (デフォルトは「trident」)。<block ref="12ea064968b15f51e1c1a7444fe9f227" prefix=" " category="inline-code"></block> : Tridentによって使用されるレガシー PVC の名前。これが存在しないことを確認します (デフォルトは「trident」)。<block ref="284e51f7c35ac8708577507873ff928e" prefix=" " category="inline-code"></block> : 自動サポート バンドルをNetAppに自動的に送信しません (デフォルトは true)。<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block> : インストール中のほとんどの出力を無効にします。<block ref="356c2fa7142c3aee4cd6204d96ea0890" prefix=" " category="inline-code"></block> : インストールするTridentイメージ。<block ref="8a3f78e98fdbc7da7e036e7ae4598a23" prefix=" " category="inline-code"></block> : Kubernetes API リクエストの 1 秒あたりのクエリ数 (QPS) の制限 (デフォルトは 100、オプション)。<block ref="8026926641b283123174e50f80da83de" prefix=" " category="inline-code"></block> : セットアップ ディレクトリに存在する既存の YAML ファイルを使用します。<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> : Trident の通信には IPv6 を使用します。</block>
  <block id="85be3851760f745038ec3bba18d62914" category="list-text">新しいフラグを追加しました<block ref="8a3f78e98fdbc7da7e036e7ae4598a23" prefix=" " category="inline-code"></block>インストーラーに、 Tridentが Kubernetes API サーバーと通信するために使用する QPS 値を設定します。</block>
  <block id="d7a2654dbfab5a9156d117ed5f38d69d" category="cell"><block ref="b061e443e106870da185a3681948cf1b" prefix="" category="inline-code"></block></block>
  <block id="8f6c08227a11c89c47d71368ee8be24b" category="paragraph">スループットを向上させるために、同時Tridentコントローラー操作を有効にします。</block>
  <block id="a7b533ae6b857f339e48992cd45fb205" category="admonition">*技術プレビュー*: この機能はNetApp Trident 25.06 で実験的であり、現在はONTAP-SAN ドライバー (iSCSI および FCP プロトコル) を使用した限定的な並列ワークフローをサポートしています。</block>
  <block id="bf514a22294dc1e674b6fafac9463f62" category="cell">指定されたデータ ストレージ プロトコルを使用してボリュームを管理するために、 Tridentが Kubernetes クラスターのノードを準備できるようにします。 *現在、<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>サポートされている唯一の値です。*注意: OpenShift 4.19 以降、この機能でサポートされるTrident の最小バージョンは 25.06.1 です。</block>
  <block id="efb39fa310a7096844b88691811796ed" category="example-title">Tridentコントローラーの同時操作を有効にする</block>
  <block id="e6bd8d0922b2f21a4aea7439cad54ba6" category="paragraph">スループットを向上させるために同時Tridentコントローラ操作を有効にするには、<block ref="663f61c1cf47f8a531c8d769e8bf59f4" prefix=" " category="inline-code"></block>この例に示すように、インストール中にオプションを選択します。</block>
  <block id="6b37510d663e6eea4cd2d594f41e9e80" category="section-title">Trident SAN/iSCSI と EBS-CSI ドライバーの同時使用</block>
  <block id="dd601ed3d730aa713757843173c1c8c5" category="paragraph">AWS (EKS、ROSA、EC2、またはその他のインスタンス) で ontap-san ドライバー (iSCSI など) を使用する予定の場合、ノードに必要なマルチパス構成が Amazon Elastic Block Store (EBS) CSI ドライバーと競合する可能性があります。同じノード上の EBS ディスクに干渉せずにマルチパスが機能することを保証するには、マルチパス設定で EBS を除外する必要があります。この例では、<block ref="9ac80d53ede05256c28cf9e043eb423c" prefix=" " category="inline-code"></block> EBS ディスクをマルチパスから除外しながら必要なTrident設定を含むファイル:</block>
</blocks>