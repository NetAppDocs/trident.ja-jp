<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="8447c4879970f03c99a2bec36a05c141" category="summary">Trident の REST API を使用する場合は、 REST エンドポイントを直接使用できます。</block>
  <block id="a0ebcf8495639418ba9d4b85dbb67b8b" category="doc">Astra Trident REST API</block>
  <block id="319c1a7b5479ffa2a028b658ad5b7033" category="inline-link-macro">tridentctl コマンドとオプション</block>
  <block id="8b3c7aa88e751573c842f17535525f19" category="paragraph">API は次のように機能します。</block>
  <block id="2fab7aa97b6a2cfae6563e72aac5161e" category="list-text">get&lt;trident-address&gt;/trident/v1/&lt;object-type&gt;: そのタイプのすべてのオブジェクトを一覧表示します。</block>
  <block id="c34156b367bae1b376f09b89d3be7992" category="list-text">get&lt;trident-address&gt;/trident/v1/&lt; オブジェクトタイプ &gt;/&lt; オブジェクト名 &gt;: 名前付きオブジェクトの詳細を取得します。</block>
  <block id="6692e2cd6834e6b9b2151799cac2a9f8" category="paragraph">'POST &lt;trident-address&gt;/trident/v1/&lt;object-type&gt;` ：指定した型のオブジェクトを作成します。</block>
  <block id="3d2bacacf0178e742d5abb2abc32d431" category="list-text">オブジェクトを作成するには JSON 構成が必要です。各オブジェクトタイプの仕様については、を参照してください <block ref="e87a326653960de9774fcc58ee9fa490" category="inline-link-macro-rx"></block>。</block>
  <block id="5b2f45c3d098b61927afda859c9144f8" category="list-text">オブジェクトがすでに存在する場合、動作は一定ではありません。バックエンドが既存のオブジェクトを更新しますが、それ以外のすべてのオブジェクトタイプで処理が失敗します。</block>
  <block id="ecfc51243c8c28fc234ff87f1f9ddb88" category="paragraph">`D eleet&lt;trident-address&gt;/trident/v1/&lt; オブジェクトタイプ &gt;/&lt; オブジェクト名 &gt;` ：名前付きリソースを削除します。</block>
  <block id="80e4e3d3203325fb6aeb139614fd09f3" category="admonition">バックエンドまたはストレージクラスに関連付けられているボリュームは削除されず、削除されません。詳細については、を参照してください <block ref="e87a326653960de9774fcc58ee9fa490" category="inline-link-macro-rx"></block>。</block>
  <block id="ce94b1f7df7a6a05a559b66f96eff1cc" category="paragraph">これらの API の呼び出し方法の例については 'debug(d`) フラグを渡してください詳細については、を参照してください <block ref="e87a326653960de9774fcc58ee9fa490" category="inline-link-macro-rx"></block>。</block>
  <block id="a1582c89f8e85f372306a05848eafb68" category="summary">ネットアップのストレージ製品ポートフォリオは、 Kubernetes クラスタのさまざまな要素と統合され、高度なデータ管理機能を提供して、 Kubernetes 環境の機能、機能、パフォーマンス、可用性を強化します。</block>
  <block id="9944b094c4079f770fabc4ae629feb0f" category="doc">ネットアップの製品が Kubernetes と統合されます</block>
  <block id="3cce5f3eaf76e098ba8e28f7bbba3f92" category="section-title">アストラ</block>
  <block id="293b14f82e58fc3efc27bf18185a38c8" category="paragraph"><block ref="35a6b548833df39b8bbc748563b1938b" category="inline-link-rx"></block> Kubernetes 上で実行される大量のデータコンテナ化ワークロードを、パブリッククラウドとオンプレミスの間で簡単に管理、保護、移動できます。Astra は、ネットアップの実績のある拡張可能なストレージポートフォリオから、パブリッククラウドとオンプレミスに提供される Trident を使用して、永続的なコンテナストレージをプロビジョニングし、提供します。また、 Snapshot 、バックアップとリストア、アクティビティログ、アクティブクローニングによるデータ保護、ディザスタ / データリカバリ、データ監査、 Kubernetes ワークロードの移行のユースケースなど、アプリケーションに対応した高度なデータ管理機能も豊富に搭載されています。</block>
  <block id="253b40ae359ba25b56231803430c4873" category="section-title">ONTAP</block>
  <block id="51fd2fc669e51c6870f1148623240f69" category="paragraph">ONTAP は、あらゆるアプリケーションに高度なデータ管理機能を提供する、ネットアップのマルチプロトコルユニファイドストレージオペレーティングシステムです。ONTAP システムには、オールフラッシュ、ハイブリッド、オール HDD のいずれかの構成が採用されており、自社開発のハードウェア（ FAS と AFF ）、ノーブランド製品（ ONTAP Select ）、クラウドのみ（ Cloud Volumes ONTAP ）など、さまざまな導入モデルが用意されています。</block>
  <block id="cbb7697b4f6f189240d043ff70ca133c" category="admonition">Trident は、上記の ONTAP 導入モデルをすべてサポートしています。</block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="section-title">Cloud Volumes ONTAP</block>
  <block id="5c04ffbd0c110bf7b37d6b95eb756b75" category="paragraph"><block ref="700b45b9fca207b66f675c8d5dfb073b" category="inline-link-rx"></block> は、クラウドで ONTAP データ管理ソフトウェアを実行するソフトウェア型ストレージアプライアンスです。Cloud Volumes ONTAP は、本番ワークロード、ディザスタリカバリ、 DevOps 、ファイル共有、データベース管理に使用できます。ストレージ効率、高可用性、データレプリケーション、データ階層化、アプリケーションの整合性を提供することで、エンタープライズストレージをクラウドに拡張します。</block>
  <block id="4d82a1ec1af02725042c8c785564ee7a" category="section-title">NetApp ONTAP 対応の Amazon FSX</block>
  <block id="04452ff4732608f62e53d20e4b8f4c92" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> は、 NetApp ONTAP ストレージ・オペレーティング・システムを搭載したファイル・システムの起動と実行を可能にする、フルマネージドの AWS サービスです。FSX for ONTAP を使用すると、お客様は使い慣れたネットアップの機能、パフォーマンス、管理機能を活用しながら、 AWS にデータを格納する際のシンプルさ、即応性、セキュリティ、拡張性を活用できます。FSX for ONTAP は、 ONTAP のファイルシステム機能と管理 API の多くをサポートしています。</block>
  <block id="27bb76bfb1e4f9966c31f5042348cd1e" category="section-title">Element ソフトウェア</block>
  <block id="231afe47f3f37d3808096b36c28b4ded" category="inline-link">要素（ Element ）</block>
  <block id="1fdf61a8f946268990d8e15dd9069a6d" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block> ストレージ管理者は、パフォーマンスを保証し、ストレージの設置面積を合理化することで、ワークロードを統合できます。Element と API を組み合わせることでストレージ管理のあらゆる要素を自動化できるため、ストレージ管理者は少ない労力で多くの作業を行うことができます。</block>
  <block id="08edd2123939d5309dced149763a50ee" category="section-title">NetApp HCI</block>
  <block id="25f221cc63a7e1fa55b05c29420a72a2" category="paragraph"><block ref="2841e7defe3939e68d83d007d1ad666b" category="inline-link-rx"></block> 日常業務を自動化し、インフラ管理者がより重要な業務に集中できるようにすることで、データセンターの管理と拡張を簡易化します。</block>
  <block id="be17f8b9c728a6cb61cad5a2609b3888" category="paragraph">NetApp HCI は Trident によって完全にサポートされています。Trident では、コンテナ化されたアプリケーション用のストレージデバイスを、基盤となる NetApp HCI ストレージプラットフォームに直接プロビジョニングして管理できます。</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="section-title">Azure NetApp Files の特長</block>
  <block id="29e7ab00082418141d470583a19c28d3" category="paragraph"><block ref="2384314bcd106c8062815b2ed789c4ad" category="inline-link-rx"></block> は、ネットアップが提供するエンタープライズクラスの Azure ファイル共有サービスです。要件がきわめて厳しいファイルベースのワークロードも、ネットアップが提供するパフォーマンスと充実のデータ管理機能を使用して、 Azure でネイティブに実行できます。</block>
  <block id="b0cee72642f5457a71ddd0b49efb6d93" category="section-title">Cloud Volumes Service for Google Cloud</block>
  <block id="a3b5183ae6f5c3f1d6644448f795b5cb" category="inline-link">NetApp Cloud Volumes Service for Google Cloud</block>
  <block id="a1515efe69d0ac9d979af2bdfc068934" category="paragraph"><block ref="68704f3321dd8ca7029c03c29da7736a" category="inline-link-rx"></block> は、 NFS や SMB 経由で NAS ボリュームにオールフラッシュのパフォーマンスを提供する、クラウドネイティブのファイルサービスです。このサービスを使用すると、従来型アプリケーションを含むあらゆるワークロードを GCP クラウドで実行できます。フルマネージドサービスを提供し、一貫したハイパフォーマンス、瞬時のクローニング、データ保護、 Google Compute Engine （ GCE ）インスタンスへのセキュアなアクセスを実現します。</block>
  <block id="5ee08ab883e000ce6b739dbb0b6ff376" category="summary">Kubernetes システムの構成要素の詳細をご確認ください。</block>
  <block id="607ae6360b32f1bd6e559e915d414fab" category="doc">Kubernetes の概念</block>
  <block id="d60f0fff1c23a02458849862f593357e" category="inline-link">Kubernetes システム</block>
  <block id="a7018a5fd7b610274c7786aa5402e64d" category="paragraph">のコンポーネントの詳細については、を参照してください<block ref="f01a74527fa0343e793eb393c9d4809a" category="inline-link-rx"></block>。</block>
  <block id="7d4fab76513c90b603a722620cde60fe" category="doc">コマンドラインオプション</block>
  <block id="8db7df66ab1d7ab5f1dc947acdb5fae4" category="section-title">ロギング</block>
  <block id="7e2a14542a2613424ad88206fd2dd9aa" category="list-text">--debug: デバッグ出力をイネーブルにします。</block>
  <block id="55e727716c7f623987be58e50732c01e" category="list-text">-loglevel &lt;level&gt;` ：ロギングレベルを設定します（ debug 、 info 、 warn 、 error 、 fatal ）。デフォルトは info です。</block>
  <block id="30136395f01879792198317c11831ea4" category="section-title">Kubernetes</block>
  <block id="5700f5ae190580b01f6ed6c031668336" category="list-text">`-k8s_pod `: Kubernetes サポートを有効にするには ' このオプションまたは -k8s_api_server を使用しますこれを設定すると、 Trident はポッドの Kubernetes サービスアカウントのクレデンシャルを使用して API サーバに接続します。これは、サービスアカウントが有効になっている Kubernetes クラスタで Trident がポッドとして実行されている場合にのみ機能します。</block>
  <block id="24095e7ef85031e99914e2c5298a7ded" category="list-text">`-k8s_api_server &lt;insecure -address ： insecure -port&gt;`: このオプションまたは -k8s_pod を使用して Kubernetes サポートを有効にしますTrident を指定すると、セキュアでないアドレスとポートを使用して Kubernetes API サーバに接続されます。これにより、 Trident をポッドの外部に導入することができますが、サポートされるのは API サーバへのセキュアでない接続だけです。セキュアに接続するには、「 -k8s_pod 」オプションを使用してポッドに Trident を導入します。</block>
  <block id="9d77217a2dfe50f2575ced46f5e661d8" category="list-text">`-k8s_config_path&lt;file&gt;`: 必須。このパスを KubeConfig ファイルに指定する必要があります。</block>
  <block id="c5fd214cdd0d2b3b4272e73b022ba5c2" category="section-title">Docker です</block>
  <block id="1e071a3d810132af1c9f8f6a03ca5609" category="list-text">`-volume_driver &lt;name&gt;` ： Docker プラグインを登録するときに使用するドライバ名。デフォルトは 'NetApp' です</block>
  <block id="dfbbfd6bbf6bc798d1cbe8895d1cff22" category="list-text">`-ddriver_port &lt;port-number&gt;`: このポートでは 'UNIX ドメインソケットではなくリッスンします</block>
  <block id="3874d7b8c9196001f8bfe4c49f43b323" category="list-text">`-config &lt;file&gt;`: 必須。このパスをバックエンド構成ファイルに指定する必要があります。</block>
  <block id="50780f47f6839d47d60bc4555ee00c3f" category="section-title">REST</block>
  <block id="bfffd3cb0560af555e57dd6bad52a9be" category="list-text">`-address &lt;ip-or -host&gt;` ： Trident の REST サーバがリスンするアドレスを指定します。デフォルトは localhost です。localhost で聞いて Kubernetes ポッド内で実行しているときに、 REST インターフェイスにポッド外から直接アクセスすることはできません。ポッドの IP アドレスから REST インターフェイスにアクセスできるようにするには、「 -address 」を使用します。</block>
  <block id="049ad2e7bef322af60013bbdd35ebbe7" category="list-text">`-port &lt;port-number&gt;` ： Trident の REST サーバがリスンするポートを指定します。デフォルトは 8000 です。</block>
  <block id="188cb756fe8659cb2caf27ca6d1446b4" category="list-text">`-rest`: REST インタフェースを有効にしますデフォルトは true です。</block>
  <block id="afe272beb780ad53d441c342bf1c8c77" category="summary">Trident へのシンプルなアクセスを提供するコマンドラインユーティリティである tridentctl の詳細を確認できます。</block>
  <block id="7358b1fd077fa65f88fff87888fd2547" category="inline-link">Trident インストーラバンドル</block>
  <block id="4e49f66de2e2dc43c25555fe50639334" category="paragraph">。<block ref="5a856e83aada9750fe5389f8da94335b" category="inline-link-rx"></block> Astra Trident へのシンプルなアクセスを提供するコマンドラインユーティリティ「 tridentctl 」が含まれています。十分な権限を持つ Kubernetes ユーザは、このロールを使用して Astra Trident をインストールしたり、 Astra Trident ポッドが含まれるネームスペースを直接管理したりできます。</block>
  <block id="8ca34267f11cb69ea424bc0320f0e295" category="paragraph">使用方法については 'tridentctl --help' を実行してください</block>
  <block id="2dd878ee55d738aa02e6b0b162d45708" category="paragraph">使用可能なコマンド：</block>
  <block id="4386bd8da14af923cbb7ac011ffc048e" category="list-text">`create` ： Astra Trident にリソースを追加します。</block>
  <block id="f40f9a4cf242d0355aaf8d9e06617436" category="list-text">「削除」 : Astra Trident から 1 つ以上のリソースを削除します。</block>
  <block id="94b75e236d78fe800d1d32acc3882789" category="list-text">「 GET 」： Astra Trident から 1 つ以上のリソースを取得します。</block>
  <block id="bc9ef80dceea04796c6218fe96e05b30" category="list-text">「 help 」：任意のコマンドに関するヘルプ。</block>
  <block id="f5421bf790b945f508fa1b9f223318e5" category="list-text">`imag`: Astra Trident が必要とするコンテナイメージのテーブルを印刷しなさい。</block>
  <block id="40e65170f778aaa7f4ab7f645b3bb3df" category="list-text">import` ：既存のリソースを Astra Trident にインポートします。</block>
  <block id="a824e587817131e2052a450803b2d97c" category="list-text">install` ： Astra Trident をインストールします。</block>
  <block id="c90c365a06ede3139cad79d4e55673ee" category="list-text">logs` ： Astra Trident からログを印刷します。</block>
  <block id="e5c5ad2be68f58e910aa42a9fcc98141" category="list-text">'send': Astra Trident からリソースを送信します</block>
  <block id="3166458a066b2d14394e408f1f8fed84" category="list-text">uninstall: Astra Trident をアンインストールします。</block>
  <block id="8c8fcf9d4df8bd54d26dc748cc4bac55" category="list-text">`update` ： Astra Trident のリソースを変更します。</block>
  <block id="042aeda3cc45bf1f53a0e74660dbd924" category="list-text">アップグレード： Astra Trident のリソースをアップグレードします。</block>
  <block id="d014c15bf0496b645d02caf1704932f7" category="list-text">'ve rsion ： Astra Trident のバージョンを印刷します。</block>
  <block id="1c90ba5cf3791b6148c7887a696911ec" category="paragraph">フラグ：</block>
  <block id="568cd496b6bde641a886745edfa59ae7" category="list-text">`-d, --debug`: デバッグ出力。</block>
  <block id="fe27ec35afa597521f9616f18c32e556" category="list-text">`-h, --help` ： tridentctl のヘルプ。</block>
  <block id="874377d6c0baee9e8e842c8abf13d28c" category="list-text">`n,--namespace string`: Astra Trident 配備の名前空間。</block>
  <block id="463b413ea9e7764a789f3e987cb06fc8" category="list-text">`-o ,--output string`: 出力形式。JSON の 1 つ | yaml | name | wide | ps （デフォルト）。</block>
  <block id="85c5338e138fc6d122a579f7a07040bf" category="list-text">`s'--server string`: Astra Trident REST インタフェースのアドレス / ポート。</block>
  <block id="b8d486e9285b25b72d6efad05e41de4d" category="paragraph">create コマンドを実行して 'Astra Trident にリソースを追加できます</block>
  <block id="6d5c7e6905e460d1fba1f2dd1c0d2a8a" category="paragraph">利用可能なオプション : backend`: Astra Trident にバックエンドを追加します。</block>
  <block id="0d847e459450017616b8ab50b372ad2e" category="paragraph">「削除」コマンドを実行すると、 Astra Trident から 1 つ以上のリソースを削除できます。</block>
  <block id="16713f316b7cce82385c040efc32ac83" category="paragraph">使用可能なオプション：</block>
  <block id="417f8bf14ed5852917d189612c7d163c" category="list-text">backend`: Astra Trident から 1 つ以上のストレージバックエンドを削除します。</block>
  <block id="4896fd245b78ab9b7d044375c1fce85e" category="list-text">'Snapshot` ： Astra Trident から 1 つ以上のボリュームスナップショットを削除します。</block>
  <block id="cef6b6bb7932e7450e35eafc3d986f18" category="list-text">'torageclas' ： Astra Trident から 1 つ以上のストレージクラスを削除します</block>
  <block id="14eeaf8d1da512153855b759185ee129" category="list-text">'volume` ： Astra Trident から 1 つ以上のストレージボリュームを削除します</block>
  <block id="c7a7a677647f05a4032891d4aef5bed5" category="paragraph">get コマンドを実行すると 'Astra Trident から 1 つ以上のリソースを取得できます</block>
  <block id="2dd609bd837a41363817262fd314b0be" category="list-text">backend`: Astra Trident から 1 つ以上のストレージバックエンドを取得します。</block>
  <block id="ad4ba4a1b0612fa67f4386330ac00e9d" category="list-text">'Snapshot` ： Astra Trident から 1 つ以上のスナップショットを取得します。</block>
  <block id="5385ccfb9fd8a07e53dc1a6ac58a101d" category="list-text">「 torageclass 」： Astra Trident から 1 つ以上のストレージクラスを取得します。</block>
  <block id="060da5b15e6fb7129c04e18b3d96c702" category="list-text">'volume`: Astra Trident から 1 つ以上のボリュームを取得します</block>
  <block id="16ca0a361439e1f936eaa5c919443b10" category="paragraph">「 images 」フラグを実行すると、 Astra Trident が必要とするコンテナイメージのテーブルを印刷できます。</block>
  <block id="1008ac4609cab9210ae758ff8fee8127" category="paragraph">flags:*`-h, --help`: イメージのヘルプ。*`-v ,--k8s-version string`: Kubernetes クラスタのセマンティックバージョン。</block>
  <block id="df5ec83145dcd824f8daf85d89e5dd8a" category="paragraph">import volume コマンドを実行して、既存のボリュームを Astra Trident にインポートできます。</block>
  <block id="ccf1bb29ef5562c033962d35014005e9" category="paragraph">エイリアス : volume 'v</block>
  <block id="48c7ae9a5466415a6b9666ad86746640" category="list-text">`-f ,--filename string`: YAML または JSON PVC ファイルへのパス。</block>
  <block id="1bb2af29a08ab6ea9414a8656234b8c6" category="list-text">`-h, --help` ：ボリュームのヘルプ。</block>
  <block id="0ad393d5c23749c23f3855220b55375a" category="list-text">``-- 管理なし `: PV/PVC のみを作成しますボリュームのライフサイクル管理を想定しないでください。</block>
  <block id="42ddf993417d9568ca6a057fe55f9c63" category="paragraph">"install" フラグを実行して、 Astra Trident をインストールできます。</block>
  <block id="d14ef114d140fec912921e8447a4dd25" category="list-text">`--autosupport-image string` ： AutoSupport Telemetry のコンテナイメージ（デフォルトは「 NetApp/trident autosupport ： 20.07.0 」）。</block>
  <block id="fbd7cc4267716ab9206612c6dcaa206e" category="list-text">`-- autosupport - proxy string` : AutoSupport Telemetry を送信するためのプロキシのアドレス / ポート。</block>
  <block id="8bb3d6751910d39b8c964e90434b79db" category="list-text">`--csI`: CSI Trident をインストールします (Kubernetes 1.13 のみをオーバーライドしますが、機能ゲートが必要です ) 。</block>
  <block id="778cbd0cbbd73953bc965ad29269803c" category="list-text">`--enable-node-prep : 必要なパッケージをノードにインストールしようとします</block>
  <block id="23945a1dd08f0fb29fc1b73a02a2f48d" category="list-text">``--generate-custom-yaml `: インストールしないで YAML ファイルを生成します。</block>
  <block id="351ac43ddb05bc31fb7aa4d76c9098ed" category="list-text">`-h, --help`: インストールのヘルプ。</block>
  <block id="3b825e283b9b4452c1ef223373ad950d" category="list-text">`-- image-registry string : 内部イメージレジストリのアドレス / ポート。</block>
  <block id="ba7224837b2ded4b5b295c1012fcc2c0" category="list-text">`--k8s-timeout duration`: すべての Kubernetes 操作のタイムアウト ( デフォルトは 3m0s)</block>
  <block id="6018142252ad7b87dc139b3235ff4fd3" category="list-text">`-- kubbelet-dir string`: kubelet の内部状態のホストの場所 ( デフォルトは /var/lib/kubbelet") 。</block>
  <block id="e36f8ff54239eb329caf981624e29cb9" category="list-text">`--log-format string`: Astra Trident のログ形式 (text,JSON] ( デフォルトは "text") 。</block>
  <block id="75f452bd493d8727bcf31563cc9106b4" category="list-text">`--pv string`: Astra Trident が使用するレガシー PV の名前は、存在しないことを確認します ( デフォルトは "trident") 。</block>
  <block id="ba2a8d0773dc83972c406043a789e4dd" category="list-text">`--pvc string`: Astra Trident が使用する従来の PVC の名前は、存在しないことを確認します ( デフォルトは "trident") 。</block>
  <block id="6c99958eae5167b3baa561e4f7ee33f1" category="list-text">`--silence -autosupport` ： AutoSupport バンドルを自動的にネットアップに送信しないでください ( デフォルトは true) 。</block>
  <block id="77c96d54825d934e8abaadbc0049935d" category="list-text">`-- silent` : インストール中のほとんどの出力を無効にしなさい。</block>
  <block id="daeedc3203fdc6c1fb8dfe70e2381ed3" category="list-text">`--trident-image string`: インストールする Astra Trident イメージ。</block>
  <block id="9a7a8500c6fa970d6879b522c3e33437" category="list-text">`--use-custom-yaml `: setup ディレクトリに存在する既存の YAML ファイルを使用します。</block>
  <block id="bbf23448d408765a1240d287ed41ceff" category="list-text">`--use-ipv6` ： Astra Trident のコミュニケーションに IPv6 を使用します。</block>
  <block id="501416d02a886c81e8849b2f400e28a3" category="paragraph">"logs" フラグを実行して、 Astra Trident からログを印刷することができます。</block>
  <block id="be8607b2dc354b7010b1464ac140fc1b" category="list-text">`-a, --archive: 特に指定がない限り ' すべてのログを含むサポート・アーカイブを作成します</block>
  <block id="d8d07479f4d5c7f0ef2b0f51407f070c" category="list-text">`-h, --help`: ログのヘルプ。</block>
  <block id="f925a9593a051a85d10acec74988d84f" category="list-text">`-l, --log string`: アストラトライデントログを表示します。trident | auto | trident-operator | all （デフォルトは「 auto 」）のいずれかです。</block>
  <block id="d8a224d86fa21c6c564987d0848bf681" category="list-text">`-- ノード文字列 : ノードポッドログの収集元となる Kubernetes ノード名</block>
  <block id="a335d03b82ae4916c848dd419432f477" category="list-text">`-p, --previous `: 以前のコンテナインスタンスのログが存在する場合は、そのログを取得します。</block>
  <block id="d7d7c214e32f71943c71783fa9d5fb55" category="list-text">`-- sidecars` : sidecar コンテナのログを取得します</block>
  <block id="3121026e841bd19d147c54ac43e423c0" category="paragraph">'end' コマンドを実行して 'Astra Trident からリソースを送信できます</block>
  <block id="9ce1e94be8ccb1612967a7e2cbe69a6f" category="paragraph">利用可能なオプション： AutoSupport ： AutoSupport アーカイブをネットアップに送信します。</block>
  <block id="e980a564a92aa568234d9757a591756b" category="paragraph">uninstall フラグを実行して 'Astra Trident をアンインストールできます</block>
  <block id="328865de703bbe034177e6eb51dc3d28" category="paragraph">「 update 」コマンドを実行して、 Astra Trident のリソースを変更できます。</block>
  <block id="8680f448b33371bcb4778563a93f4702" category="paragraph">利用可能なオプション : backend`: Astra Trident のバックエンドを更新します。</block>
  <block id="87911de7a0bc3ff821f75ab303a0edc0" category="paragraph">'upgrade' コマンドを実行して 'Astra Trident のリソースをアップグレードできます</block>
  <block id="70cc5172db10ac60dd0b32e57285e85c" category="paragraph">使用可能なオプション : volume 'NFS/iSCSI から CSI に 1 つ以上の永続ボリュームをアップグレードします</block>
  <block id="2af72f100c356273d46284f6fd1dfc08" category="section-title">バージョン</block>
  <block id="9867997bba4e250bad7411d19fce3905" category="paragraph">「 rsion 」フラグを実行して、「 tridentctl 」のバージョンと Trident サービスを実行して印刷できます。</block>
  <block id="800f73959f4b721c78f4651c6b4b2052" category="paragraph">flags:*`--client`: クライアントバージョンのみ ( サーバは不要 )*`-h, --help`: バージョンのヘルプ。</block>
  <block id="04333ff788951193122a833ecd614950" category="summary">Kubernetes と Trident 、 Trident とストレージ、 Kubernetes とストレージの関係を決定するリソースオブジェクトがいくつかあります。これらのオブジェクトの中には Kubernetes で管理されるものと Trident で管理されるものがあります。</block>
  <block id="da1e63dd673a1932cebb48b6a81bbbb1" category="doc">Kubernetes オブジェクトと Trident オブジェクト</block>
  <block id="d107eefb0ce66911b186b03b9e9c337e" category="paragraph">リソースオブジェクトの読み取りと書き込みを行うことで、 REST API を使用して Kubernetes や Trident を操作できます。Kubernetes と Trident 、 Trident とストレージ、 Kubernetes とストレージの関係を決定するリソースオブジェクトがいくつかあります。これらのオブジェクトの中には Kubernetes で管理されるものと Trident で管理されるものがあります。</block>
  <block id="62499e0de79c4d07c7915a36f9faa0d8" category="section-title">オブジェクトは相互にどのように相互作用しますか。</block>
  <block id="b9ea565816618011ca591fc191fe5e63" category="paragraph">おそらく、オブジェクト、その目的、操作方法を理解する最も簡単な方法は、 Kubernetes ユーザからのストレージ要求を 1 回だけ処理することです。</block>
  <block id="ec7d6500a82a56ee8f5fff02eafa7af7" category="list-text">ユーザーは、「 PersistentVolumeClaim 」を作成して、特定のサイズの新しい「 PersistentVolume 」を、管理者が以前に設定した Kubernetes の「 torageClass 」から要求します。</block>
  <block id="6b25cc026b6f29464d3fce0f6ec67805" category="list-text">Kubernetes の「 torageClass 」は、 Trident をプロビジョニングツールとして識別し、要求されたクラスのボリュームのプロビジョニング方法を Trident に指示するパラメータを含んでいます。</block>
  <block id="5b078d6b19593ee6c55f428e2c85faa7" category="list-text">Trident は、対応する「 Backends 」と「 toragePools 」を識別する同じ名前の「 S torageClass 」を参照します。この名前は、このクラスのボリュームのプロビジョニングに使用できます。</block>
  <block id="ff099186f912c7abb21bcf68690c98d7" category="list-text">Trident は、対応するバックエンドにストレージをプロビジョニングし、 2 つのオブジェクトを作成します。 Kubernetes では、「 PersistentVolume 」とは、ボリュームを検索、マウント、処理する方法を Kubernetes に伝える「 PersistentVolume 」と、「 PersistentVolume 」と実際のストレージの関係を保持する Trident 内のボリュームです。</block>
  <block id="6d2ae40bc02e88464563ae42ae22d54c" category="list-text">Kubernetes は 'PersistentVolumeClaim を新しい 'PersistentVolume' にバインドしますPersistentVolume が実行される任意のホストに PersistentVolume をマウントする 'PersistentVolumeClaim を含むポッド。</block>
  <block id="490c1b0e3a604c81abb3db1b778ec07b" category="list-text">ユーザーは、 Trident を指す「 VolumeSnapshotClass 」を使用して、既存の PVC の「 VolumeSnapshot 」を作成します。</block>
  <block id="9f4e11d34d158ebd365226367c8b15d9" category="list-text">Trident が PVC に関連付けられているボリュームを特定し、バックエンドにボリュームの Snapshot を作成します。また ' スナップショットの識別方法を Kubernetes に指示する 'VolumeSnapshotContent' も作成します</block>
  <block id="c6a606bdd6882cd42de13f2ba3614285" category="list-text">ユーザーは 'VolumeSnapshot' をソースとして使用して 'PersistentVolumeClaim を作成できます</block>
  <block id="8ecb92f33c033b00fcf3c18e59c4b177" category="list-text">Trident は必要なスナップショットを識別し、「 PersistentVolume 」と「 Volume 」の作成に関連する一連のステップを実行します。</block>
  <block id="428895404a5e57e01a138a5df672d0fc" category="inline-link">永続ボリューム</block>
  <block id="173423532ed9a565a05f32db2c8f8172" category="admonition">Kubernetes オブジェクトの詳細については、を参照することを強く推奨します<block ref="92dc8ed82beb7484ab6097a3e91b0deb" category="inline-link-rx"></block> Kubernetes のドキュメントのセクション。</block>
  <block id="794a32773794ee6c545794c065d1a88b" category="paragraph">Kubernetes の「 PersistentVolumeClaim 」オブジェクトは、 Kubernetes クラスタユーザが作成したストレージの要求です。</block>
  <block id="43cf8e1465c61efc8b1b9bf71aa9931c" category="paragraph">Trident では、標準仕様に加えて、バックエンド構成で設定したデフォルト設定を上書きする場合に、ボリューム固有の次のアノテーションを指定できます。</block>
  <block id="55f6611cb342565cf0f5002400f53a95" category="cell">アノテーション</block>
  <block id="1527fede1d561a899313c8cb3eb1e7bf" category="cell">ボリュームオプション</block>
  <block id="db8a0bbeae97b94338c1b7a61e2a1ec3" category="cell">サポートされているドライバ</block>
  <block id="f3780100617165ed98557e3a6d2be72d" category="cell">trident.netapp.io/fileSystem</block>
  <block id="44d4d4eb1f08d8eb29766160086f61dd" category="cell">ファイルシステム</block>
  <block id="979f70bf9da982ee97ac075df4f048c3" category="cell">trident.netapp.io/cloneFromPVC</block>
  <block id="b4ead50a5ca4f307f7d61da7763ad204" category="cell">cloneSourceVolume の実行中です</block>
  <block id="46ec89aa5290ead7b514dd5182caa0a7" category="cell">trident.netapp.io/splitOnClone</block>
  <block id="58c1c86186ef8de4f6e12d8f3aed8b64" category="cell">splitOnClone</block>
  <block id="80f05e749a4f524e8c8a05fa19d5df0e" category="cell">ONTAP - NAS 、 ONTAP - SAN</block>
  <block id="d6f010e4b4bf9748dcaa34feb70188ce" category="cell">trident.netapp.io/protocol</block>
  <block id="81788ba0d7d02d81c063dbca621ba11b" category="cell">プロトコル</block>
  <block id="100b8cad7cf2a56f6df78f171f97a1ec" category="cell">任意</block>
  <block id="e9898504ff0569325d48acaee7e9ced9" category="cell">trident.netapp.io/exportPolicy</block>
  <block id="647ce4e5394e2e595e46b4fc50a628e9" category="cell">エクスポートポリシー</block>
  <block id="61396290e72fa7d707996351c8815bd6" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup</block>
  <block id="2902d12b1fe6d9ef5bd1a3474f2356e9" category="cell">trident.netapp.io/snapshotPolicy</block>
  <block id="0a236e7685e50a59df980d0a30929d6c" category="cell">Snapshot ポリシー</block>
  <block id="7f3bf2672240703dc69740ce11443cf2" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup 、 ONTAP-SAN</block>
  <block id="6224177007fc13e9e0d3789985ed165a" category="cell">trident.netapp.io/snapshotReserve</block>
  <block id="bb0d75280f9b683f2f1f0767fd0aff9b" category="cell">Snapshot リザーブ</block>
  <block id="1cb43054bed661d8c8457ddbb43e1b1b" category="cell">trident.netapp.io/snapshotDirectory</block>
  <block id="1ae33c448502ac3d326593aee304c21f" category="cell">snapshotDirectory の略</block>
  <block id="ec1739ebad429a70f25efc292c347f8e" category="cell">trident.netapp.io/unixPermissions</block>
  <block id="c005e78d4bd808038335c32dd84cf7da" category="cell">unixPermissions</block>
  <block id="69d900d222446aab8591b45a7363c9e7" category="cell">trident.netapp.io/blockSize</block>
  <block id="480d1b61a0432d1319f7504a3d7318dd" category="cell">ブロックサイズ</block>
  <block id="c0d2a793e71b152662b3e8cd2da00620" category="cell">solidfire - SAN</block>
  <block id="fc5f8320f80474f09bdd1e3c3849123e" category="paragraph">作成された PV に「削除」再利用ポリシーがある場合、 Trident は PV が解放されると（つまり、ユーザーが PVC を削除したときに）、 PV と元のボリュームの両方を削除します。削除操作が失敗した場合、 Trident は PV をマークします。そのような状態で操作が成功するか、 PV が手動で削除されるまで、定期的に再試行します。PV が「 + Retain + 」ポリシーを使用している場合、 Trident はそのポリシーを無視し、管理者が Kubernetes とバックエンドからクリーンアップすると想定します。これにより、ボリュームを削除する前にバックアップまたは検査を行うことができます。PV を削除しても、原因 Trident で元のボリュームが削除されないことに注意してください。REST API (tridentctl') を使用して削除してください。</block>
  <block id="5dad99bb31feaed11fecbe29cf682e51" category="paragraph">Trident では CSI 仕様を使用したボリュームスナップショットの作成がサポートされています。ボリュームスナップショットを作成し、それをデータソースとして使用して既存の PVC のクローンを作成できます。これにより、 PVS のポイントインタイムコピーを Kubernetes にスナップショットの形で公開できます。作成した Snapshot を使用して新しい PVS を作成できます。「 +On-Demand Volume Snapshots + 」を見て、これがどのように機能するかを確認してください。</block>
  <block id="2553df6c9f03b727070656d38019ad3e" category="paragraph">Trident には ' クローン作成用の cloneFromPVC' および 'plitOnClone' 注釈も用意されていますCSI 実装（ Kubernetes 1.13 以前）を使用しなくても、または Kubernetes リリースがベータ版のボリュームスナップショット（ Kubernetes 1.16 以前）をサポートしていない場合は、これらのアノテーションを使用して PVC のクローンを作成できます。Trident 19.10 は、 PVC からのクローニングの CSI ワークフローをサポートしていることに注意してください。</block>
  <block id="91adc865e5be78d779fd6aa38481ca58" category="admonition">CSI Trident では 'cloneFromPVC' および 'plitOnClone' 注釈を使用できますまた ' 従来の CSI 以外のフロントエンドも使用できます</block>
  <block id="96e0288ecc3c91f97de46420e70a4f8f" category="paragraph">例 : ユーザがすでに「 m ysql 」という PVC を持っている場合、ユーザは「 trident.netapp.io/cloneFromPVC: mysql 」などの注釈を使用して「 m ysqlclone 」という新しい PVC を作成できます。このアノテーションセットを使用すると、 Trident はボリュームをゼロからプロビジョニングするのではなく、 MySQL PVC に対応するボリュームのクローンを作成します。</block>
  <block id="ff0fa770e22db25a156c5e2d7f017283" category="paragraph">次の点を考慮してください。</block>
  <block id="5faae6e509c8aecf9f8815a4ceef02b3" category="list-text">アイドルボリュームのクローンを作成することを推奨します。</block>
  <block id="f89d76e06e88814705882a1faad838fb" category="list-text">PVC とそのクローンは、同じ Kubernetes ネームスペースに存在し、同じストレージクラスを持つ必要があります。</block>
  <block id="f769a6b54b1d1476b6628ebd1c4b98c4" category="list-text">また 'ONTAP-NAS' および 'ONTAP-SAN' ドライバを使用すると 'pvc 注釈 trident.netapp.io/splitOnClone` を trident.netapp.io/cloneFromPVC` と組み合わせて設定することが望ましい場合がありますTrident は 'trident.netapp.io/splitOnClone` を true に設定した場合 ' クローン・ボリュームを親ボリュームからスプリットするため ' 一部のストレージ効率を失うことなく ' クローン・ボリュームのライフサイクルを親ボリュームから完全に分離しますtrident.netapp.io/splitOnClone` を設定したり 'false に設定したりしないと ' 親ボリュームとクローンボリューム間の依存関係を作成する代わりに ' バックエンドでのスペース消費が削減されますこれにより ' クローンを最初に削除しない限り ' 親ボリュームを削除できなくなりますクローンをスプリットするシナリオでは、空のデータベースボリュームをクローニングする方法が効果的です。このシナリオでは、ボリュームとそのクローンで使用するデータベースボリュームのサイズが大きく異なっており、 ONTAP ではストレージ効率化のメリットはありません。</block>
  <block id="83a9930ebb180c904bf2e71e27928287" category="paragraph">「 sample-input' 」ディレクトリには、 Trident で使用する PVC 定義の例が含まれています。Trident ボリュームに関連するパラメータと設定の完全な概要については、 Trident ボリュームオブジェクトを参照してください。</block>
  <block id="6cb5412cc2fe8210c4d14d6d6b08ab79" category="paragraph">Kubernetes の 'PersistentVolume' オブジェクトは 'Kubernetes クラスタで利用できるようになったストレージの一部ですポッドに依存しないライフサイクルがあります。</block>
  <block id="292289b7334983e53d9fb9bd00d30820" category="admonition">Trident は 'PersistentVolume' オブジェクトを作成し ' プロビジョニングするボリュームに基づいて自動的に Kubernetes クラスタに登録します自分で管理することは想定されていません。</block>
  <block id="443f09ca4d0d1cc13b5baa064b90c0b7" category="paragraph">Trident をベースとする「 torageClass 」を参照する PVC を作成すると、 Trident は対応するストレージクラスを使用して新しいボリュームをプロビジョニングし、そのボリュームに新しい PV を登録します。プロビジョニングされたボリュームと対応する PV の構成では、 Trident は次のルールに従います。</block>
  <block id="b27c91fe87605abbb0d5240430518a1c" category="list-text">Trident は、 Kubernetes に PV 名を生成し、ストレージのプロビジョニングに使用する内部名を生成します。どちらの場合も、名前がスコープ内で一意であることが保証されます。</block>
  <block id="9c2f88a5c4297bd88ead0cd6314fe886" category="list-text">ボリュームのサイズは、 PVC で要求されたサイズにできるだけ近いサイズに一致しますが、プラットフォームによっては、最も近い割り当て可能な数量に切り上げられる場合があります。</block>
  <block id="0d35625a483152791f4e2d0b751a09cc" category="paragraph">Kubernetes の「 torageClass 」オブジェクトは、「 PersistentVolumeClaims 」内の名前によって指定され、一連のプロパティを持つストレージをプロビジョニングします。ストレージクラス自体が、使用するプロビジョニングツールを特定し、プロビジョニングツールが理解できる一連のプロパティを定義します。</block>
  <block id="f7738d717849274e5992d460fd2c0a75" category="paragraph">管理者が作成および管理する必要がある 2 つの基本オブジェクトのうちの 1 つです。もう 1 つは Trident バックエンドオブジェクトです。</block>
  <block id="e51377a773f4713e536b061eaa2d4b04" category="paragraph">Trident を使用する Kubernetes の「 torageClass 」オブジェクトは次のようになります。</block>
  <block id="39edc8618b50008d4cb2050414d6921f" category="paragraph">これらのパラメータは Trident 固有で、クラスのボリュームのプロビジョニング方法を Trident に指示します。</block>
  <block id="b16da8ed7f6c8cce3011dc2b6c7bd1a4" category="paragraph">ストレージクラスのパラメータは次のとおりです。</block>
  <block id="f2bbdf9f72c085adc4d0404e370f0f4c" category="cell">属性</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="cell">を入力します</block>
  <block id="b651efdb98a5d6bd2b3935d0c3f4a5e2" category="cell">必須</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">説明</block>
  <block id="736b91750e516139acc13c5eb6564f92" category="cell">属性（ Attributes ）</block>
  <block id="59a1e7292a0114529fb1b3401b37bc28" category="cell">[string] 文字列をマップします</block>
  <block id="7fa3b767c460b54a2be4d49030b349c7" category="cell">いいえ</block>
  <block id="1b40216e6fe613bd013bf8710182e650" category="cell">後述の「属性」セクションを参照してください</block>
  <block id="c614017642b6cfd9e6a25c7df122d917" category="cell">ストレージプール</block>
  <block id="b8f32852327d2ffce86ae3ead4fdfb52" category="cell">[string] StringList をマップします</block>
  <block id="bdd0ddb870ed9de6f6e7d3a75200e9f7" category="cell">内のストレージプールのリストへのバックエンド名のマッピング</block>
  <block id="145d1b89a9f9ed8bdc16d1f7a814cace" category="cell">AdditionalStoragePools</block>
  <block id="6907a73ad9068ddf5f99d022102220bb" category="cell">内のストレージプールのリストへのバックエンド名のマッピング</block>
  <block id="7df974d787ead594df017a11672f2f0e" category="cell">excludeStoragePools</block>
  <block id="99ba77776c83983f5ecbd2b51f2b43ef" category="cell">内のストレージプールのリストへのバックエンド名のマッピング</block>
  <block id="f74d4b2b456fb453c0980710290f66eb" category="paragraph">ストレージ属性とその有効な値は、ストレージプールの選択属性と Kubernetes 属性に分類できます。</block>
  <block id="2fdf10f3f64b631cd3a137740de02f8b" category="section-title">ストレージプールの選択の属性</block>
  <block id="1f5912cd581dba393d5eecc43059adf4" category="paragraph">これらのパラメータは、特定のタイプのボリュームのプロビジョニングに使用する Trident で管理されているストレージプールを決定します。</block>
  <block id="c82a6100dace2b41087ba6cf99a5976a" category="cell">値</block>
  <block id="6bb24468956384c482a8b5a901fb6383" category="cell">提供</block>
  <block id="15c2d85f1fae22a3c3a0594510a1f611" category="cell">リクエスト</block>
  <block id="7aa57840938d59b415c1e10dcd1f7173" category="cell">でサポートされます</block>
  <block id="0e72be2e13bf8a2ff8078d3435e5aa7c" category="cell">メディア ^1</block>
  <block id="b45cffe084dd3d20d928bee85e7b0f21" category="cell">文字列</block>
  <block id="9ccd7f94313a98beb95801927907a0ab" category="cell">HDD 、ハイブリッド、 SSD</block>
  <block id="9bf3032f6854fb376cd8e3e92e11b077" category="cell">プールにはこのタイプのメディアが含まれています。ハイブリッドは両方を意味します</block>
  <block id="5c79c761bae4c27e96c04e54d1da1e91" category="cell">メディアタイプが指定されました</block>
  <block id="c9cb5e737e2746339fd0b462332c8740" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup 、 ONTAPSAN 、 solidfire-san-SAN 、 solidfire-san-SAN のいずれかに対応しています</block>
  <block id="b713baf75bcf13859037b5274d27d4b8" category="cell">プロビジョニングタイプ</block>
  <block id="6026fbd9abd05590949de220154e3262" category="cell">シン、シック</block>
  <block id="3064025fe3541bec9942e14fcaedfab7" category="cell">プールはこのプロビジョニング方法をサポートします</block>
  <block id="cf65591e3da90317fc132ea7464105d8" category="cell">プロビジョニング方法が指定されました</block>
  <block id="55b56fb238360663afa6230ad82e74a0" category="cell">backendType</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="0e1201d4d96df2d9d03c9c66b90874a1" category="cell">プールはこのタイプのバックエンドに属しています</block>
  <block id="c4efe19137f43450149d48fddbab6c28" category="cell">バックエンドが指定されて</block>
  <block id="a04622349b3ede0d4176ca2c2e161763" category="cell">すべてのドライバ</block>
  <block id="695633290d050f31cec0c9d4bd4a57fe" category="cell">Snapshot</block>
  <block id="c506ff134babdd6e68ab3e6350e95305" category="cell">ブール値</block>
  <block id="ac1ffb15effdc77a86029972670d022f" category="cell">true false</block>
  <block id="4ac43bef181074fbd4a1f3620b46f77f" category="cell">プールは、 Snapshot を含むボリュームをサポートします</block>
  <block id="13410bff9f7871113a6af273e2a1b97f" category="cell">Snapshot が有効なボリューム</block>
  <block id="bc3832c405ec6cb9c831849328240f3b" category="cell">クローン</block>
  <block id="609d32aa243917905f282544b543752a" category="cell">プールはボリュームのクローニングをサポートします</block>
  <block id="bcb81802de31cf9c717de3c1d6c2f610" category="cell">クローンが有効なボリューム</block>
  <block id="5bdf74912a51c34815f11e9a3d20b609" category="cell">暗号化</block>
  <block id="5f2f2cc138a8bc7067c7f61ab4db0f4d" category="cell">プールでは暗号化されたボリュームをサポート</block>
  <block id="0bda31a93b84fd2b45a90df39c4c8049" category="cell">暗号化が有効なボリューム</block>
  <block id="dcc09b4a72e31323b652676ce4677771" category="cell">ONTAP-NAS 、 ONTAP-NAS-エコノミー 、 ONTAP-NAS-FlexArray グループ、 ONTAP-SAN</block>
  <block id="79073619fba8242703524f16870ff858" category="cell">IOPS</block>
  <block id="fa7153f7ed1cb6c0fcf2ffb2fac21748" category="cell">整数</block>
  <block id="86e5d65893929e5d38b4bdcb9fb48ecd" category="cell">正の整数</block>
  <block id="bf57d1db8292b2855fa998a86562cfa7" category="cell">プールは、この範囲内で IOPS を保証する機能を備えています</block>
  <block id="342a7ce5bb7debc6ba84dc2a3bced587" category="cell">ボリュームで IOPS が保証されました</block>
  <block id="895f3d78c77292d9761bdabdc3cf0c99" category="paragraph">^1 ^ ： ONTAP Select システムではサポートされていません</block>
  <block id="5b3c68bde0b3658758a8ebf47ec6abf1" category="paragraph">ほとんどの場合、要求された値はプロビジョニングに直接影響します。たとえば、シックプロビジョニングを要求した場合、シックプロビジョニングボリュームが使用されます。ただし、 Element ストレージプールでは、提供されている IOPS の最小値と最大値を使用して、要求された値ではなく QoS 値を設定します。この場合、要求された値はストレージプールの選択のみに使用されます。</block>
  <block id="311fa7e17587a62a6fdcb110253feed7" category="paragraph">理想的には ' 属性だけを使用して ' 特定のクラスのニーズを満たすために必要なストレージの特性をモデル化できますTrident は ' 指定した属性の _ALL_ に一致するストレージ・プールを自動的に検出して選択します</block>
  <block id="d0c865b74e0c4b4b387506e9e95d22b2" category="paragraph">「 attributes 」を使用してクラスに適切なプールを自動的に選択できない場合は、「 toragePools 」および「 additionalStoragePools 」パラメータを使用してプールをさらに改良したり、特定のプールセットを選択したりできます。</block>
  <block id="06a87a25fa98442cf561762851213f7e" category="paragraph">'toragePools' パラメータを使用すると ' 指定した属性に一致するプールのセットをさらに制限できますつまり 'attributes' パラメータと 'toragePools' パラメータで指定されたプールの交点をプロビジョニングに使用しますどちらか一方のパラメータを単独で使用することも、両方を同時に使用することも</block>
  <block id="0c66a737e57eb6ac0885d2ba6d87cc12" category="paragraph">「 additionalStoragePools 」パラメータを使用すると、「 attributes 」パラメータと「 toragePools 」パラメータで選択されたプールに関係なく、 Trident がプロビジョニングに使用するプールのセットを拡張できます。</block>
  <block id="2ed95c63c6e58641d710e098e7e23154" category="paragraph">excludeStoragePools' パラメータを使用して、 Trident がプロビジョニングに使用するプールのセットをフィルタリングできます。このパラメータを使用すると、一致するプールがすべて削除されます。</block>
  <block id="9f8bfd75f7eb5b95503bb0abedf83b40" category="paragraph">'toragePools' パラメータと 'additionalStoragePools' パラメータでは ' 各エントリは '&lt;backend&gt;:&lt;storagePoolList&gt;' の形式で指定したバックエンドのストレージプールのカンマ区切りリストですたとえば、「 additionalStoragePools 」の値は「 ontapnas_192.168.1.100 ： aggr1 、 aggr2 ； solidfire_192.168.1.101 ： bronze 」のようになります。これらのリストでは、バックエンド値とリスト値の両方に正規表現値を使用できます。tridentctl get backend を使用してバックエンドとそのプールのリストを取得できます</block>
  <block id="c087dddd46fcf0fbbf390abeff2216c3" category="section-title">Kubernetes の属性</block>
  <block id="d05956159ee82aafaaacfe08d33d3be6" category="paragraph">これらの属性は、動的プロビジョニングの際に Trident が選択するストレージプール / バックエンドには影響しません。代わりに、 Kubernetes Persistent Volume でサポートされるパラメータを提供するだけです。ワーカーノードはファイルシステムの作成操作を担当し、 xfsprogs などのファイルシステムユーティリティを必要とする場合があります。</block>
  <block id="0e6ac0d7fca9c59e6545312a071555b6" category="cell">関連するドライバ</block>
  <block id="ae6b2a160dd2fafdee385c348edee0c1" category="cell">Kubernetes のバージョン</block>
  <block id="7cfbb6f07899c8071ff38e69dca190e2" category="cell">FSstype （英語）</block>
  <block id="64b6d80cc167d5c657b60054dbe396ee" category="cell">ext4 、 ext3 、 xfs など</block>
  <block id="7928a56d4874d982a06a59e3f30f6935" category="cell">ブロックボリュームのファイルシステムのタイプ</block>
  <block id="b1c94ca2fbc3e78fc30069c8d0f01680" category="cell">すべて</block>
  <block id="2435c5eb0d842c13f635d4b1d6667a52" category="paragraph">Trident インストーラバンドルには、「 `sample -input/storageclass-*.yaml 」で Trident で使用するストレージクラス定義の例がいくつか用意されています。Kubernetes ストレージクラスを削除すると、対応する Trident ストレージクラスも削除されます。</block>
  <block id="65d18b5db5d5f35e4ddc5c696687d1bd" category="paragraph">Kubernetes 'VolumeSnapshotClass' オブジェクトは 'S torageClasses' に似ていますこの Snapshot コピーは、複数のストレージクラスの定義に役立ちます。また、ボリューム Snapshot によって参照され、 Snapshot を必要な Snapshot クラスに関連付けます。各ボリューム Snapshot は、単一のボリューム Snapshot クラスに関連付けられます。</block>
  <block id="031e09713b698739db52cb150ef97605" category="paragraph">スナップショットを作成するには 'VolumeSnapshotClass' を管理者が定義する必要がありますボリューム Snapshot クラスは、次の定義で作成されます。</block>
  <block id="879cd061c6bf448cd6fc39dd56947611" category="paragraph">「 driver 」は、「 csi-snapclass 」クラスのボリュームスナップショットの要求が Trident によって処理される Kubernetes を指定します。「要素ポリシー」は、スナップショットを削除する必要がある場合に実行されるアクションを指定します。「削除ポリシー」が「削除」に設定されている場合、 Snapshot を削除すると、ボリューム Snapshot オブジェクトおよびストレージクラスタ上の基盤となる Snapshot は削除されます。または、「 Retain 」に設定すると、「 VolumeSnapshotContent 」と物理スナップショットが保持されます。</block>
  <block id="7ba558df52a052235cf288011e5d667c" category="paragraph">Kubernetes の VolumeSnapshot オブジェクトは ' ボリュームのスナップショットを作成する要求ですPVC がボリュームに対するユーザからの要求を表すのと同様に、ボリュームスナップショットは、ユーザが既存の PVC のスナップショットを作成する要求です。</block>
  <block id="f67af493d1fd83b472d5f27307b2f3d9" category="paragraph">ボリュームスナップショット要求が受信されると、 Trident はバックエンドでのボリュームのスナップショット作成を自動的に管理し、ユニークな「 VolumeSnapshotContent 」オブジェクトを作成することによってスナップショットを公開します。既存の PVC からスナップショットを作成し、新しい PVC を作成するときにスナップショットを DataSource として使用できます。</block>
  <block id="53847015682974d066a919b1b45a44a5" category="admonition">VolumeSnapshot のライフサイクルはソース PVC とは無関係です。ソース PVC が削除されても、スナップショットは維持されます。スナップショットが関連付けられている PVC を削除すると、 Trident はその PVC のバッキングボリュームを *Deleting* 状態でマークしますが、完全には削除しません。関連付けられている Snapshot がすべて削除されると、ボリュームは削除されます。</block>
  <block id="e562bdcf97dce6973a736651f45eb054" category="paragraph">Kubernetes の「 VolumeSnapshotContent 」オブジェクトは、すでにプロビジョニングされているボリュームから取得されたスナップショットを表します。これは「 PersistentVolume 」と似ており、ストレージ・クラスタ上でプロビジョニングされた Snapshot を表します。「 PersistentVolumeClaim 」および「 PersistentVolume 」オブジェクトと同様に、スナップショットが作成されると、「 VolumeContent Snapshot」 オブジェクトは「 VolumeSnapshot 」オブジェクトへの 1 対 1 のマッピングを保持します。これは、スナップショットの作成を要求しました。</block>
  <block id="ca8035550d447392debfcaeb62855bd3" category="admonition">Trident は「 VolumeSnapshotContent 」オブジェクトを作成し、プロビジョニングするボリュームに基づいて自動的に Kubernetes クラスタに登録します。自分で管理することは想定されていません。</block>
  <block id="af741aec1c66e51c00d35a38f92471de" category="paragraph">「 VolumeSnapshotContent 」オブジェクトには、スナップショットを一意に識別する詳細（「 napshotHandle 」など）が含まれています。この「 napshotHandle 」は、 PV の名前と「 VolumeSnapshotContent 」オブジェクトの名前を組み合わせた一意のものです。</block>
  <block id="b22c73e808eef321ee9941ec2e58b64f" category="paragraph">Trident では、スナップショット要求を受信すると、バックエンドにスナップショットが作成されます。スナップショットが作成されると、 Trident は「 VolumeSnapshotContent 」オブジェクトを構成し、そのスナップショットを Kubernetes API に公開します。</block>
  <block id="7c43d52062b795d2d8e7f33b9dbbf671" category="paragraph">Kubernetes カスタムリソースは、管理者が定義した Kubernetes API 内のエンドポイントであり、類似するオブジェクトのグループ化に使用されます。Kubernetes では、オブジェクトのコレクションを格納するためのカスタムリソースの作成をサポートしています。これらのリソース定義を取得するには 'kubectl get CRDs' を実行します</block>
  <block id="09d4c17e4e0e002375326eee41d0f77f" category="paragraph">カスタムリソース定義（ CRD ）と関連するオブジェクトメタデータは、 Kubernetes によってメタデータストアに格納されます。これにより、 Trident の独立したストアが不要になります。</block>
  <block id="798d49964270b9d2f638171af7258d00" category="paragraph">19.07 リリース以降、 Trident は多数の「 CustomResourceDefinition 」オブジェクトを使用して、 Trident バックエンド、 Trident ストレージクラス、 Trident ボリュームなどの Trident オブジェクトの ID を保持します。これらのオブジェクトは Trident によって管理されます。また、 CSI のボリュームスナップショットフレームワークには、ボリュームスナップショットの定義に必要ないくつかの SSD が導入されています。</block>
  <block id="9f59afd5e4687b9960361128f049dae4" category="paragraph">CRD は Kubernetes の構成要素です。上記で定義したリソースのオブジェクトは Trident によって作成されます。簡単な例として 'tridentctl' を使用してバックエンドを作成すると ' 対応する tridentBackendsCRD オブジェクトが Kubernetes によって消費されるように作成されます</block>
  <block id="7cdfd680fe492e028cde251c38475469" category="paragraph">Trident の CRD については、次の点に注意してください。</block>
  <block id="adecfe476427253e9c680a7c5150a9cc" category="list-text">Trident をインストールすると、一連の CRD が作成され、他のリソースタイプと同様に使用できるようになります。</block>
  <block id="b54c0b51e5e24cea2035a3e3624c5719" category="list-text">Trident の以前のバージョンからアップグレードする場合（ステートを維持するために「 etcd」 を使用したもの）、 Trident インストーラは「 etcd' キーバリューデータストア」からデータを移行し、対応する CRD オブジェクトを作成します。</block>
  <block id="c4b35352cbf7a52a9444a610687067f8" category="inline-link-macro">Trident をアンインストールします</block>
  <block id="193c267230acf55be171a6a179560847" category="paragraph">Trident は 'Kubernetes のプロビジョニング・フィールドに csi.trident.netapp.io`/`netapp.io/trident` を指定する 'S torageClass' オブジェクトに一致するストレージ・クラスを作成しますストレージクラス名は、そのストレージクラスが表す Kubernetes の「 torageClass 」オブジェクトの名前と一致します。</block>
  <block id="64cf33bfeab6c6bd8aa626b86fda9cbd" category="admonition">Kubernetes では、 Trident をプロビジョニングツールとして使用する Kubernetes 「 torageClass 」が登録されると、これらのオブジェクトが自動的に作成されます。</block>
  <block id="51fa0a833f47d8f00ee2677c6fa7b075" category="paragraph">ストレージクラスは、ボリュームの一連の要件で構成されます。Trident は、これらの要件と各ストレージプール内の属性を照合し、一致する場合は、そのストレージプールが、そのストレージクラスを使用するボリュームのプロビジョニングの有効なターゲットになります。</block>
  <block id="04d84bba5a5e103ae9c192c03a7ad2f3" category="paragraph">REST API を使用して、ストレージクラスを直接定義するストレージクラス設定を作成できます。ただし、 Kubernetes の導入では、新しい Kubernetes の「 torageClass 」オブジェクトを登録するときに、これらのオブジェクトが作成されることを期待しています。</block>
  <block id="21283df20640a21f468122a427ef1bfc" category="section-title">Trident バックエンドオブジェクト</block>
  <block id="3c244b984a2188556c1115a5a27dbe1b" category="paragraph">バックエンドとは、 Trident がボリュームをプロビジョニングする際にストレージプロバイダを表します。 1 つの Trident インスタンスであらゆる数のバックエンドを管理できます。</block>
  <block id="d71c5fad4769c19422c07158e24510ba" category="admonition">これは、自分で作成および管理する 2 つのオブジェクトタイプのうちの 1 つです。もう 1 つは、 Kubernetes の「 torageClass 」オブジェクトです。</block>
  <block id="54fd1dc39c3eecd913b4c9140522996c" category="paragraph">ストレージプールは、各バックエンドでのプロビジョニングに使用できる個別の場所を表します。ONTAP の場合、これらは SVM 内のアグリゲートに対応します。NetApp HCI / SolidFire では、管理者が指定した QoS 帯域に対応します。Cloud Volumes Service の場合、これらはクラウドプロバイダのリージョンに対応します。各ストレージプールには、パフォーマンス特性とデータ保護特性を定義するストレージ属性があります。</block>
  <block id="4ab1440e71a70a97c4966bcc0095f02b" category="paragraph">他のオブジェクトとは異なり、ストレージプールの候補は常に自動的に検出されて管理されます。</block>
  <block id="894765102686902c6acc3024e5bdb9bd" category="paragraph">ボリュームは、 NFS 共有や iSCSI LUN などのバックエンドエンドエンドエンドポイントで構成される、プロビジョニングの基本単位です。Kubernetes では ' これらは 'PersistentVolumes' に直接対応しますボリュームを作成するときは、そのボリュームにストレージクラスが含まれていることを確認します。このクラスによって、ボリュームをプロビジョニングできる場所とサイズが決まります。</block>
  <block id="2e53db54827c8c05b7bfe9cb31f299d9" category="admonition">Kubernetes では、これらのオブジェクトが自動的に管理されます。Trident がプロビジョニングしたものを表示できます。</block>
  <block id="22fcc98910d0241e9835f502b7cb2398" category="admonition">関連付けられた Snapshot がある PV を削除すると、対応する Trident ボリュームが * Deleting * 状態に更新されます。Trident ボリュームを削除するには、ボリュームの Snapshot を削除する必要があります。</block>
  <block id="05353bc86910df31b2da9c8d3d26aad1" category="paragraph">ボリューム構成は、プロビジョニングされたボリュームに必要なプロパティを定義します。</block>
  <block id="ce9af1e3f0493eb7d5ffdf584ed763ba" category="cell">Trident API のバージョン（「 1 」）</block>
  <block id="b068931cc450442b63f5b3d276ea4297" category="cell">名前</block>
  <block id="a6105c0a611b41b08f1209506350279e" category="cell">はい。</block>
  <block id="017dbd2b0a2195c3e8052cdff67bad39" category="cell">作成するボリュームの名前</block>
  <block id="78ec9b60245b46a4f05158076962ace9" category="cell">ストレージクラス</block>
  <block id="fa00f346deccdbebef2b3cc0702d41de" category="cell">ボリュームのプロビジョニング時に使用するストレージクラス</block>
  <block id="f7bd60b75b29d79b660a2859395c1a24" category="cell">サイズ</block>
  <block id="264c52ca068dfed30f5826bb054839f4" category="cell">プロビジョニングするボリュームのサイズ（バイト単位）</block>
  <block id="4f18882934f0472b4bfa32928bf92f14" category="cell">使用するプロトコルの種類：「 file 」または「 block 」</block>
  <block id="252c6d364cc1a0437939a4f01b0717ae" category="cell">インターン名</block>
  <block id="2857a43e58983276d059c0e6e2fcb0e9" category="cell">Trident が生成した、ストレージシステム上のオブジェクトの名前</block>
  <block id="e94d46d7c89bcb7e6ac2e2df4d21bafb" category="cell">ONTAP （ NAS 、 SAN ）：クローンを親からスプリットします</block>
  <block id="819549a86d14e849e1d0042c9156d781" category="cell">ONTAP - * ：使用する Snapshot ポリシー</block>
  <block id="e38882545bfedafc7e8ec5973b2e6dd8" category="cell">ONTAP - * ： Snapshot 用にリザーブされているボリュームの割合</block>
  <block id="fc86db1233bfa77d5143dcaae9842cb1" category="cell">ONTAP-NAS* ：使用するエクスポートポリシー</block>
  <block id="48e1d8180a61943f438c259b2b6715f8" category="cell">ONTAP-NAS* ： Snapshot ディレクトリが表示されているかどうか</block>
  <block id="3f7c94eec4bbf43962e1667f5a334469" category="cell">ONTAP-NAS* ：最初の UNIX 権限</block>
  <block id="4b2d5d83aef608a3fb59ec6eda8bea26" category="cell">SolidFire - * ：ブロック / セクターサイズ</block>
  <block id="62fe71ae4f6a04a6937feb48ba5dc4f4" category="cell">ファイルシステムのタイプ</block>
  <block id="49539689cebb34166a417b3b666818e5" category="paragraph">ボリューム設定を使用して、 REST API を使用してボリュームを直接プロビジョニングできますが、 Kubernetes 環境では、ほとんどのユーザが標準の Kubernetes の「 PersistentVolumeClaim 」メソッドを使用することを想定しています。Trident は、プロビジョニングプロセスの一環として、このボリュームオブジェクトを自動的に作成します。</block>
  <block id="a1b3787bbd275b7ed5812d022dd36932" category="paragraph">Snapshot はボリュームのポイントインタイムコピーで、新しいボリュームのプロビジョニングやリストア状態に使用できます。Kubernetes では ' これらは 'VolumeSnapshotContent' オブジェクトに直接対応します各 Snapshot には、 Snapshot のデータのソースであるボリュームが関連付けられます。</block>
  <block id="cdf5c8d3dd31e49b82a5b3e2c4a65280" category="paragraph">個々の「スナップショット」オブジェクトには、以下のプロパティが含まれています。</block>
  <block id="27118326006d3829667a400ad23d5d98" category="cell">文字列</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="paragraph">はい。</block>
  <block id="de73fbae2864dd61c921cf0648a9717a" category="cell">Trident Snapshot オブジェクトの名前</block>
  <block id="8e744456fb3d02d69442038d3e771460" category="cell">ストレージシステム上の Trident Snapshot オブジェクトの名前</block>
  <block id="617a43eb0446f84414df73cce2997fa1" category="cell">ボリューム名</block>
  <block id="b58c8ff1e837af6dafa971bf3d320646" category="cell">Snapshot を作成する永続的ボリュームの名前</block>
  <block id="2c2aed4b417a0f9c189d7ad6414ae28c" category="cell">ボリュームの内部名</block>
  <block id="db1a117103c348ebaec41f9e249554c3" category="cell">ストレージシステムに関連付けられている Trident ボリュームオブジェクトの名前</block>
  <block id="73f3d5934fdd36989f24cbae94ab423b" category="paragraph">Kubernetes の「 VolumeSnapshot 」オブジェクト要求が作成されると、 Trident は元のストレージシステム上にスナップショットオブジェクトを作成することによって動作します。このスナップショットオブジェクトの「 internalName 」は、プレフィックス「 snapshot-` と「 VolumeSnapshot 」オブジェクトの「 UID 」を組み合わせることによって生成されます（例：「 snapshot-e8d8d8a0ca-9826-11e9-9807-525400f3f660 」）。「 volumeName 」と「 volumeInternalName 」には、バッキングボリュームの詳細を取得して値を設定します。</block>
  <block id="e977c869b42c54e3c7d8fb9c071aab2b" category="summary">Trident が通信するポートの詳細をご確認ください。</block>
  <block id="b229055f6bd047c28dfc84c9bee4c252" category="doc">Astra Trident ポート</block>
  <block id="219abf04d1bb79760c15ca6966b68fb3" category="paragraph">Astra Trident は次のポート経由で通信：</block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">ポート</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">目的</block>
  <block id="7e6b20d014d1c659e4eaf20dc2dcd7eb" category="cell">8443</block>
  <block id="69bbf3571db03f0487c04a8254d15c75" category="cell">バックチャネル HTTPS</block>
  <block id="bc3c4a6331a8a9950945a1aa8c95ab8a" category="cell">8001</block>
  <block id="e5a4c481cc6f5935efb2c9d381f2e342" category="cell">Prometheus 指標エンドポイント</block>
  <block id="67ff32d40fb51f1a2fd2c4f1b1019785" category="cell">8000</block>
  <block id="10f5b805a46ea829cc3b9d8560a224ae" category="cell">Trident REST サーバ</block>
  <block id="35cf0f704286108deb76366a16415140" category="cell">17546</block>
  <block id="fb1396f82d0096741ea1b06f8cee2340" category="cell">Trident デミ作用 / レディネスプローブポートは、 Trident デミ作用ポッドで使用されます</block>
  <block id="d59b86d1714966230da7a00672e40912" category="summary">ここに記載された推奨事項に従って、 Astra Trident のインストールを確実にセキュリティで保護してください。</block>
  <block id="2fae32629d4ef4fc6341f1751b405e45" category="doc">セキュリティ</block>
  <block id="44a736677691eaca5e5d3d6b5c770b22" category="section-title">Astra Trident を独自のネームスペースで実行</block>
  <block id="347d4c35796a862cf20cdcdebfe59e57" category="paragraph">アプリケーション、アプリケーション管理者、ユーザ、および管理アプリケーションが Astra Trident オブジェクト定義またはポッドにアクセスしないようにして、信頼性の高いストレージを確保し、悪意のあるアクティビティをブロックすることが重要です。</block>
  <block id="47d7f9fac441e60d9523d256d02aa8ba" category="paragraph">他のアプリケーションやユーザを Astra Trident から分離するには、 Astra Trident を必ず独自の Kubernetes ネームスペース（ trident` ）にインストールしてください。Astra Trident を独自の名前空間に配置することで、 Kubernetes 管理担当者のみが Astra Trident ポッドにアクセスでき、名前空間 CRD オブジェクトに格納されたアーティファクト（バックエンドや CHAP シークレット（該当する場合）にアクセスできるようになります。Astra Trident ネームスペースへのアクセスを管理者のみに許可し、 tridentctl アプリケーションへのアクセスを許可する必要があります。</block>
  <block id="f40aef657c875e42158050f63dcfbb6f" category="section-title">ONTAP SAN バックエンドで CHAP 認証を使用します</block>
  <block id="2738c60dc60977d9eb6af2bf2a98c193" category="paragraph">Astra Trident は、 ONTAP SAN ワークロード向けの CHAP ベースの認証をサポートしています（「 ONTAP-SAN' 」ドライバと「 ONTAP-SAN-エコノミー 」ドライバを使用）。ネットアップでは、ホストとストレージバックエンドの間の認証に、双方向 CHAP と Astra Trident を使用することを推奨しています。</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link-macro">こちらをご覧ください</block>
  <block id="97f83fd51c89f4f9d3fc271b9f7291ab" category="admonition">ONTAP バックエンドの CHAP サポートは Trident 20.04 以降で利用可能</block>
  <block id="d4e0ad8fd8e11d87eb431051692db344" category="section-title">NetApp HCI および SolidFire バックエンドで CHAP 認証を使用します</block>
  <block id="b6a8ac29724d88dfaec657edda424d98" category="paragraph">ホストと NetApp HCI バックエンドと SolidFire バックエンドの間の認証を確保するために、双方向の CHAP を導入することを推奨します。Astra Trident は、テナントごとに 2 つの CHAP パスワードを含むシークレットオブジェクトを使用します。Trident を CSI プロビジョニングツールとしてインストールすると、 CHAP シークレットが管理され、それぞれの PV の「 tridentvolume 」 CR オブジェクトに格納されます。PV を作成すると、 CSI Astra Trident は CHAP シークレットを使用して iSCSI セッションを開始し、 CHAP を介して NetApp HCI および SolidFire システムと通信します。</block>
  <block id="19cde2e69238c98382d677e2583cbc46" category="admonition">CSI Trident によって作成されたボリュームは、どのボリュームアクセスグループにも関連付けられていません。</block>
  <block id="3179d8563cd49690a141c34c045dfab8" category="paragraph">CSI 以外のフロントエンドでは、ワーカーノード上のデバイスとしてのボリュームの接続は Kubernetes で処理されます。ボリュームの作成後、 Astra Trident が NetApp HCI / SolidFire システムに対して API 呼び出しを実行し、テナントのシークレットがない場合はシークレットを取得します。Trident が Kubernetes にシークレットを渡します。各ノード上の kubelet は Kubernetes API を介してシークレットにアクセスし、ボリュームにアクセスする各ノードとボリュームが配置されている NetApp HCI / SolidFire システム間で CHAP を実行 / 有効化するために使用します。</block>
  <block id="75f3d382f074f14c775efb5cf2f23c30" category="summary">Astra Trident の導入時には、ここに示す推奨事項を使用してください。</block>
  <block id="ea355214fd4bc7c57f471bd92918879b" category="doc">導入</block>
  <block id="d89d3b3161292ef0c65342cbe80e883f" category="section-title">専用のネームスペースに導入します</block>
  <block id="13d28e8dfc702e3456e0767dff9a128a" category="inline-link">ネームスペース</block>
  <block id="79a77cdda2a2513aee654190c73f15ab" category="paragraph"><block ref="c41296e544cd0faaa4fe4e8b22535287" category="inline-link-rx"></block> 異なるアプリケーション間で管理を分離できるため、リソース共有の障壁となります。たとえば、あるネームスペースの PVC を別のネームスペースから使用することはできません。Astra Trident は、 Kubernetes クラスタ内のすべてのネームスペースに PV リソースを提供するため、権限が昇格されたサービスアカウントを利用します。</block>
  <block id="853cf568613b7eec1486421468e18b9b" category="paragraph">また、 Trident ポッドにアクセスすると、ユーザがストレージシステムのクレデンシャルやその他の機密情報にアクセスできるようになります。アプリケーションユーザと管理アプリケーションが Trident オブジェクト定義またはポッド自体にアクセスできないようにすることが重要です。</block>
  <block id="2c8e89de5c6bf68b180cff5fea545167" category="section-title">クォータと範囲制限を使用してストレージ消費を制御します</block>
  <block id="74444eaf90c31d151645e59dcab0468d" category="inline-link">ストレージクォータメカニズム</block>
  <block id="1d81c150d54eae0c49d9cfeb8d493b0f" category="inline-link">範囲制限</block>
  <block id="94104e476fe547cf6237480cacae5ed5" category="paragraph">Kubernetes には、 2 つの機能があります。これらの機能を組み合わせることで、アプリケーションによるリソース消費を制限する強力なメカニズムが提供されます。。<block ref="bff513af91e6751aca3d34ef714e3b91" category="inline-link-rx"></block> 管理者は、グローバルおよびストレージクラス固有の、容量とオブジェクト数の使用制限をネームスペース単位で実装できます。さらに、を使用します<block ref="dbe9770513b0f7245f1fe016d20ebb70" category="inline-link-rx"></block> 要求がプロビジョニングツールに転送される前に、 PVC 要求が最小値と最大値の両方の範囲内にあることを確認します。</block>
  <block id="4f9253eda0573e387f86d7777aafff03" category="inline-link">クォータの活用方法</block>
  <block id="923169151e05d28a3474b2a033666297" category="paragraph">これらの値はネームスペース単位で定義されます。つまり、各ネームスペースに、リソースの要件に応じた値を定義する必要があります。の詳細については、こちらを参照してください<block ref="5b289b2ffde01314d8b0d038aabd709b" category="inline-link-rx"></block>。</block>
  <block id="698aa9df4c2c5470599821c3d10620dd" category="summary">Kubernetes クラスタは通常、 2 種類のノードで構成され、機能のさまざまな側面を担当します。</block>
  <block id="6e8775bd755a8835ce86806d669677ea" category="doc">ストレージ構成</block>
  <block id="ac5112696fd64ee051846c666ebebebe" category="paragraph">使用するプロトコルに対応したホストオペレーティングシステムのベースラインベストプラクティスに従う必要があります。必要に応じて、アプリケーションのベストプラクティスを適用する際に、バックエンド、ストレージクラス、 PVC の設定を利用して、特定のアプリケーションのストレージを最適化することもできます。</block>
  <block id="efc9d085ca2f3a152c786357e9359c03" category="section-title">ONTAP と Cloud Volumes ONTAP のベストプラクティス</block>
  <block id="a3f99d5d44515cf922e6b525de736173" category="paragraph">Trident 向けに ONTAP と Cloud Volumes ONTAP を設定するためのベストプラクティスをご確認ください。</block>
  <block id="76d50c7d0f100e6264e0d57727d099f1" category="paragraph">次に示す推奨事項は、 Trident によって動的にプロビジョニングされたボリュームを消費するコンテナ化されたワークロード用に ONTAP を設定する際のガイドラインです。それぞれの要件を考慮し、環境内で適切かどうかを評価する必要があります。</block>
  <block id="3fb21976d2729216782dd61ffed84a54" category="section-title">Trident 専用の SVM を使用</block>
  <block id="fa4e21d3612a3f737c7a4ac7ebf24950" category="paragraph">Storage Virtual Machine （ SVM ）を使用すると、 ONTAP システムのテナントを分離し、管理者が分離できます。SVM をアプリケーション専用にしておくと、権限の委譲が可能になり、リソース消費を制限するためのベストプラクティスを適用できます。</block>
  <block id="3dc5510a67688b81f0d6d0db440da909" category="paragraph">SVM の管理には、いくつかのオプションを使用できます。</block>
  <block id="fe425a9419fa4d05d42131c26306e4f1" category="list-text">バックエンド構成でクラスタ管理インターフェイスを適切なクレデンシャルとともに指定し、 SVM 名を指定します。</block>
  <block id="e2160df70bcda0ee43cb3c66dc22c719" category="list-text">ONTAP System Manager または CLI を使用して、 SVM 専用の管理インターフェイスを作成します。</block>
  <block id="2bf2fa2c1c3a6e10095db72759cc9983" category="list-text">NFS データインターフェイスで管理ロールを共有します。</block>
  <block id="5cf4c2e89b362842d77f4e4209c4ef99" category="paragraph">いずれの場合も、インターフェイスは DNS にあり、 Trident の設定時には DNS 名を使用する必要があります。これにより、ネットワーク ID を保持しなくても SVM-DR などの一部の DR シナリオが簡単になります。</block>
  <block id="6a392b5e005fffe32231c94dc96a1605" category="inline-link">SVM-DR</block>
  <block id="2b4a6ee2db063653d6076884295a3854" category="paragraph">専用の管理 LIF または共有の管理 LIF を SVM に使用する方法は推奨されませんが、ネットワークセキュリティポリシーを選択した方法と一致させる必要があります。最大の柔軟性を確保するには、どのような場合でも DNS 経由で管理 LIF にアクセスできるようにします<block ref="f5e9502989ce78934689806ebb69606a" category="inline-link-rx"></block> Trident と組み合わせて使用できます。</block>
  <block id="4a0ee008d3379206a925ade3a9e707dd" category="section-title">最大ボリューム数を制限します</block>
  <block id="e5e09031843479ef9ef8cbbd4c2f404c" category="inline-link">NetApp Hardware Universe の略</block>
  <block id="400a5d259a812effb5b7df506bf020ef" category="paragraph">ONTAP ストレージシステムの最大ボリューム数は、ソフトウェアのバージョンとハードウェアプラットフォームによって異なります。を参照してください<block ref="bb9c67b5a4c15a85b5e6aa6c9afd0285" category="inline-link-rx"></block> 具体的な制限については、使用しているプラットフォームと ONTAP のバージョンに対応しています。ボリューム数を使い果たした場合、 Trident のプロビジョニング処理だけでなく、すべてのストレージ要求に対してプロビジョニング処理が失敗します。</block>
  <block id="39da19b7dd55941b6cdabf34befc0b4c" category="paragraph">Trident の「 ONTAP - NAS 」と「 ONTAP - SAN 」ドライバは、作成された Kubernetes 永続ボリューム（ PV ）ごとに FlexVol をプロビジョニングします。「 ONTAP-NAS-エコノミー 」ドライバは、 PVS 200 個につき約 1 つの FlexVol を作成します（ 50 ～ 300 の範囲で構成可能）。「 ONTAP-SAN-エコノミー 」ドライバは、 PVS 100 個につき約 1 つの FlexVol を作成します（ 50 ～ 200 の範囲で設定可能）。Trident がストレージシステム上の使用可能なボリュームをすべて消費しないようにするには、 SVM に制限を設定する必要があります。コマンドラインから実行できます。</block>
  <block id="f36680e3d3cb96c74d2f1a54c3c4a0fa" category="paragraph">「 mAX-VOLUMES 」の値は、環境に固有のいくつかの条件によって異なります。</block>
  <block id="5f6d1abb6889904ee0375b2fc6c8f078" category="list-text">ONTAP クラスタ内の既存のボリュームの数</block>
  <block id="029383c13d9ad2c5ba18a16f8fbe2002" category="list-text">他のアプリケーション用に Trident 外部でプロビジョニングするボリュームの数</block>
  <block id="02f4ac473b944a63551d51d727b5bb49" category="list-text">Kubernetes アプリケーションで消費されると予想される永続ボリュームの数</block>
  <block id="1d3555f20ac0a2897a1596631b5fb27a" category="paragraph">「 mAX-volumes 」の値は、 ONTAP クラスタ内のすべてのノードでプロビジョニングされたボリュームの合計数であり、個々の ONTAP ノードではプロビジョニングされません。その結果、 ONTAP クラスタノードの Trident でプロビジョニングされたボリュームの数が、別のノードよりもはるかに多い、または少ない場合があります。</block>
  <block id="46710fe77f663864a23e02a880a9ae53" category="inline-link">アグリゲート</block>
  <block id="8eb27359ed8f69eb07c318fcd224ba66" category="paragraph">たとえば、 2 ノードの ONTAP クラスタでは、最大 2 、 000 個の FlexVol をホストできます。最大ボリューム数を 1250 に設定していると、非常に妥当な結果が得られます。ただし、のみの場合<block ref="acf6cbef6ee0ef07ee3fe13269233be8" category="inline-link-rx"></block> あるノードから SVM に割り当てられている場合や、あるノードから割り当てられたアグリゲートをプロビジョニングできない場合（容量など）は、他のノードが Trident でプロビジョニングされたすべてのボリュームのターゲットになります。これは、「 mAX-VOLUMES 」の値に達する前にそのノードのボリューム数の上限に達する可能性があることを意味し、 Trident とそのノードを使用する他のボリューム処理の両方に影響します。* クラスタ内の各ノードのアグリゲートを、 Trident が使用する SVM に同じ番号で確実に割り当てることで、この状況を回避できます。 *</block>
  <block id="7ef3217c984ef7f973d389e434be312c" category="section-title">Trident で作成できるボリュームの最大サイズを制限</block>
  <block id="031b203330c3abb94f6fa406ff721de4" category="paragraph">Trident で作成できるボリュームの最大サイズを設定するには、「 backend.json 」の定義で「 limitVolumeSize 」パラメータを使用します。</block>
  <block id="1c19414de17c9992b25b0a1b02a52715" category="paragraph">ストレージアレイでボリュームサイズを制御するだけでなく、 Kubernetes の機能も利用する必要があります。</block>
  <block id="85c0f9773e01224a56713ea4e6d83b86" category="section-title">双方向 CHAP を使用するように Trident を設定します</block>
  <block id="8b7c80a4394c7e64aa891100d57a755f" category="paragraph">バックエンド定義で CHAP イニシエータとターゲットのユーザ名とパスワードを指定し、 Trident を使用して SVM で CHAP を有効にすることができます。バックエンド構成で「 useCHAP 」パラメータを使用すると、 Trident は CHAP を使用して ONTAP バックエンドの iSCSI 接続を認証します。双方向 CHAP のサポートは Trident 20.04 以降で利用できます。</block>
  <block id="2596e59ce5cd0d1b0066656f191365d0" category="section-title">SVM QoS ポリシーを作成して使用します</block>
  <block id="560417d4f795b7e1176a40db8e4ccca8" category="inline-link">Bully を防止します</block>
  <block id="4870168b0713fe3089cf587858fc3b40" category="paragraph">SVM に適用された ONTAP QoS ポリシーを使用すると、 Trident でプロビジョニングされたボリュームが使用できる IOPS の数が制限されます。これはに役立ちます<block ref="1b59d76842e8b78d6111d3e73e9cd404" category="inline-link-rx"></block> Trident SVM 外のワークロードに影響を及ぼす、制御不能なコンテナ。</block>
  <block id="d6ab867679686745d96bea839929a6de" category="paragraph">SVM の QoS ポリシーはいくつかの手順で作成します。正確な情報については、ご使用の ONTAP バージョンのマニュアルを参照してください。次の例は、 SVM で使用可能な合計 IOPS を 5000 に制限する QoS ポリシーを作成します。</block>
  <block id="c790de304b7ca0097f2133cf9da4e657" category="paragraph">また、使用しているバージョンの ONTAP でサポートされている場合は、最小 QoS を使用してコンテナ化されたワークロードへのスループットを保証することもできます。アダプティブ QoS は SVM レベルのポリシーには対応していません。</block>
  <block id="38c0b69f6b2ee691e1ba568134513414" category="paragraph">コンテナ化されたワークロード専用の IOPS は、さまざまな要素によって異なります。その中には、次のようなものがあります。</block>
  <block id="ddbd18591c9b7378c6187dbd9179e1f0" category="list-text">ストレージアレイを使用するその他のワークロード。Kubernetes 環境とは関係なく、ストレージリソースを利用するほかのワークロードがある場合は、それらのワークロードが誤って影響を受けないように注意する必要があります。</block>
  <block id="5da5727b396cee5b024364d989fe253b" category="list-text">想定されるワークロードはコンテナで実行されます。IOPS 要件が高いワークロードをコンテナで実行する場合は、 QoS ポリシーの値が低いとエクスペリエンスが低下します。</block>
  <block id="e6f229b5d5d2421c4306920759828212" category="paragraph">SVM レベルで割り当てた QoS ポリシーを使用すると、 SVM にプロビジョニングされたすべてのボリュームで同じ IOPS プールが共有されることに注意してください。コンテナ化されたアプリケーションの 1 つまたは少数のに高い IOPS が必要な場合、コンテナ化された他のワークロードに対する Bully になる可能性があります。その場合は、外部の自動化を使用したボリュームごとの QoS ポリシーの割り当てを検討してください。</block>
  <block id="ac2167b1e02d575eb6ddfe4e58f5cdcf" category="admonition">ONTAP バージョン 9.8 より前の場合は、 QoS ポリシーグループを SVM * only * に割り当ててください。</block>
  <block id="9992cae6c17055c750a849c5f6135eb2" category="section-title">Trident の QoS ポリシーグループを作成</block>
  <block id="76a3e54f72b3a7224429f111e58f836c" category="inline-link">QoS によるスループットの保証</block>
  <block id="edb2313b52b4c42008f0531bd6a05e49" category="paragraph">Quality of Service （ QoS ；サービス品質）は、競合するワークロードによって重要なワークロードのパフォーマンスが低下しないようにします。ONTAP の QoS ポリシーグループには、ボリュームに対する QoS オプションが用意されており、ユーザは 1 つ以上のワークロードに対するスループットの上限を定義できます。QoS の詳細については、を参照してください<block ref="721a1778a2025ec5868484b3888c0186" category="inline-link-rx"></block>。QoS ポリシーグループはバックエンドまたはストレージプールに指定でき、そのプールまたはバックエンドに作成された各ボリュームに適用されます。</block>
  <block id="0394fb1288eac4cd3d40bcd991e079e9" category="paragraph">ONTAP には、従来型とアダプティブ型の 2 種類の QoS ポリシーグループがあります。従来のポリシーグループは、最大スループット（以降のバージョンでは最小スループット）がフラットに表示されます。アダプティブ QoS では、ワークロードのサイズの変更に合わせてスループットが自動的に調整され、 TB または GB あたりの IOPS が一定に維持されます。これにより、何百何千という数のワークロードを管理する大規模な環境では大きなメリットが得られます。</block>
  <block id="f5acc65a21daed9bb8e91cb5cdd0ae52" category="paragraph">QoS ポリシーグループを作成するときは、次の点に注意してください。</block>
  <block id="6d5fcf300cd9e9239c26ce37b0919fca" category="list-text">バックエンド構成の「金庫」ブロックに「 QOSPolicy 」キーを設定する必要があります。次のバックエンド設定例を参照してください。</block>
  <block id="32160c2368452bf7d86bcffae7f142be" category="list-text">ボリュームごとにポリシーグループを適用して、各ボリュームがポリシーグループの指定に従ってスループット全体を取得するようにします。共有ポリシーグループはサポートされません。</block>
  <block id="b2365e059850d5e32885189655bf469c" category="inline-link">ONTAP 9.8 QoS コマンド</block>
  <block id="23225608cf33a6c6a4aec9126514b0e1" category="paragraph">QoS ポリシーグループの詳細については、を参照してください<block ref="40468e984a92fba9003857701268163a" category="inline-link-rx"></block>。</block>
  <block id="d5d2a5bc92eea85a4dd11a642ed8a170" category="section-title">ストレージリソースへのアクセスを Kubernetes クラスタメンバーに制限する</block>
  <block id="0f2b74d1b972675eb3d4efe7d8c3ed16" category="paragraph">Trident によって作成される NFS ボリュームと iSCSI LUN へのアクセスを制限することは、 Kubernetes 環境のセキュリティ体制に欠かせない要素です。これにより、 Kubernetes クラスタに属していないホストがボリュームにアクセスしたり、データが予期せず変更されたりすることを防止できます。</block>
  <block id="9602ec8691c1a564016f9fd8086139f1" category="paragraph">ネームスペースは Kubernetes のリソースの論理的な境界であることを理解することが重要です。ただし、同じネームスペース内のリソースは共有可能であることが前提です。重要なのは、ネームスペース間に機能がないことです。つまり、 PVS はグローバルオブジェクトですが、 PVC にバインドされている場合は、同じネームスペース内のポッドからのみアクセス可能です。* 適切な場合は、名前空間を使用して分離することが重要です。 *</block>
  <block id="1162be0546226cff2cbd973cd2140d33" category="paragraph">Kubernetes 環境でデータセキュリティを使用する場合、ほとんどの組織で最も懸念されるのは、コンテナ内のプロセスがホストにマウントされたストレージにアクセスできることですが、コンテナ用ではないためです。 <block ref="962cfea7b49ca7b2d398d891b4313cb5" category="inline-link-rx"></block> この種の妥協を防ぐように設計されています。ただし、特権コンテナという例外が 1 つあります。</block>
  <block id="7b10e929cc2e0061dfb50042a0203c79" category="inline-link">ポッドセキュリティポリシー</block>
  <block id="76db1afb772160283f7f86cdd67c35f8" category="paragraph">権限付きコンテナは、通常よりもホストレベルの権限で実行されるコンテナです。デフォルトでは拒否されないため、を使用してこの機能を無効にしてください<block ref="e5ab4ede40a4a6a5f5684247585b5fb0" category="inline-link-rx"></block>。</block>
  <block id="5fabba1d91abcfb09b6049897727e91c" category="paragraph">Kubernetes と外部ホストの両方からアクセスが必要なボリュームでは、 Trident ではなく管理者が導入した PV で、ストレージを従来の方法で管理する必要があります。これにより、 Kubernetes と外部ホストの両方が切断され、ボリュームを使用していない場合にのみ、ストレージボリュームが破棄されます。また、カスタムエクスポートポリシーを適用して、 Kubernetes クラスタノードおよび Kubernetes クラスタの外部にあるターゲットサーバからのアクセスを可能にすることもできます。</block>
  <block id="e38f5be5ff6a8a362870a032acdf5d2f" category="section-title">専用のエクスポートポリシーを使用します</block>
  <block id="2f05855ad489343ae535c8f17eaa6f34" category="paragraph">Kubernetes クラスタ内のノードへのアクセスのみを許可するエクスポートポリシーが各バックエンドに存在することを確認する必要があります。Trident では、 20.04 リリース以降、エクスポートポリシーを自動的に作成、管理できます。これにより、 Trident はプロビジョニング対象のボリュームへのアクセスを Kubernetes クラスタ内のノードに制限し、ノードの追加や削除を簡易化します。</block>
  <block id="28af9e32119f59018dd5d887ad93ccd4" category="paragraph">また、エクスポートポリシーを手動で作成し、各ノードのアクセス要求を処理する 1 つ以上のエクスポートルールを設定することもできます。</block>
  <block id="4ae1e64986504dce6897746ebc9d2786" category="list-text">「 vserver export-policy create 」 ONTAP CLI コマンドを使用して、エクスポートポリシーを作成します。</block>
  <block id="cd0a9fca1fb3ba0fcdd98d0e87cb78a9" category="list-text">「 vserver export-policy rule create 」 ONTAP CLI コマンドを使用して、エクスポートポリシーにルールを追加します。</block>
  <block id="bc3a2f6421da1e870583cfb0b9cf4a91" category="paragraph">これらのコマンドを実行すると、データにアクセスできる Kubernetes ノードを制限できます。</block>
  <block id="613655fb3db9bdbe0f795ee9424fc1fe" category="paragraph">「 SVM 」機能を使用すると、 NFS クライアントが SVM に照会して使用可能な NFS エクスポートのリストを表示できます。Kubernetes クラスタに導入されたポッドは、データ LIF に対する「 howmount-e 」コマンドを問題に送信し、アクセス権がないマウントも含め、使用可能なマウントのリストを受信できます。これだけではセキュリティ上の妥協ではありませんが、権限のないユーザが NFS エクスポートに接続するのを阻止する可能性のある不要な情報が提供されます。</block>
  <block id="08f1d9a2f49f56965b640bc15796cd61" category="paragraph">SVM レベルの ONTAP CLI コマンドを使用して、 SVM の howmount を無効にする必要があります。</block>
  <block id="648e0e1a6a98e76bdfe9780c42dacb6b" category="section-title">SolidFire のベストプラクティス</block>
  <block id="89f93e411a40f5c6365a4703e004f15b" category="paragraph">Trident に SolidFire ストレージを設定するためのベストプラクティスをご確認ください。</block>
  <block id="52f311b56fcd9d4fb074918af9b7c7f9" category="section-title">SolidFire アカウントを作成します</block>
  <block id="b0dd2707e9f12b5e1fda314748ffa386" category="paragraph">各 SolidFire アカウントは固有のボリューム所有者で、 Challenge Handshake Authentication Protocol （ CHAP ；チャレンジハンドシェイク認証プロトコル）クレデンシャルのセットを受け取ります。アカウントに割り当てられたボリュームには、アカウント名とその CHAP クレデンシャルを使用してアクセスするか、ボリュームアクセスグループを通じてアクセスできます。アカウントには最大 2 、 000 個のボリュームを関連付けることができますが、 1 つのボリュームが属することのできるアカウントは 1 つだけです。</block>
  <block id="eaf4b71058f7db58997dfe694c62a96a" category="section-title">QoS ポリシーを作成する</block>
  <block id="fd640dfd679c3a7e40aa99c3e08c8294" category="paragraph">標準的なサービス品質設定を作成して保存し、複数のボリュームに適用する場合は、 SolidFire のサービス品質（ QoS ）ポリシーを使用します。</block>
  <block id="41be5238fc563c2aac0a0e6ee4cf6e96" category="paragraph">QoS パラメータはボリューム単位で設定できます。QoS を定義する 3 つの設定可能なパラメータである Min IOPS 、 Max IOPS 、 Burst IOPS を設定することで、各ボリュームのパフォーマンスが保証されます。</block>
  <block id="48e4bd34fd7a9e1233ea82bc818a3161" category="paragraph">4KB のブロックサイズの最小 IOPS 、最大 IOPS 、バースト IOPS の値を次に示します。</block>
  <block id="8e4988a1e5f387efce6f20e4f25a8e40" category="cell">IOPS パラメータ</block>
  <block id="0b890b1926b90387673882e6ccae7fdc" category="cell">定義（ Definition ）</block>
  <block id="96a22bf638896c990d26e043087fb6b0" category="cell">最小価値</block>
  <block id="31ce3cdcd67850870b616f75b555bbc5" category="cell">デフォルト値</block>
  <block id="c9fb55be94277b8390352c215f32d44c" category="cell">最大値（ 4KB ）</block>
  <block id="b05f9ccd772b396ac1f5a05345a9d4f8" category="paragraph">最小 IOPS</block>
  <block id="2b30c179facf62f8a2bdbd1b09b37b96" category="paragraph">ボリュームに対して保証されたレベルのパフォーマンス。</block>
  <block id="c0c7c76d30bd3dcaefc96f40275bdc0a" category="cell">50</block>
  <block id="3f74a886c7f841699690962c497d4f30" category="paragraph">15000</block>
  <block id="4f5a6f8b41826526724ba294b8e056bd" category="paragraph">最大 IOPS</block>
  <block id="4e41c5ccaf1affa697729ea4d1e88554" category="paragraph">パフォーマンスはこの制限を超えません。</block>
  <block id="e05695d29cb4a9339534e5a9c273fa14" category="paragraph">200,000</block>
  <block id="affd4aba1c5f696e972368c9eb698c65" category="paragraph">バースト IOPS</block>
  <block id="2734923c054f38d8ca66133414af4469" category="paragraph">短時間のバースト時に許容される最大 IOPS 。</block>
  <block id="e2eb05f1ef7720127ac371ceddc6f433" category="admonition">Max IOPS と Burst IOPS は最大 200 、 000 に設定できますが、実際のボリュームの最大パフォーマンスは、クラスタの使用量とノードごとのパフォーマンスによって制限されます。</block>
  <block id="fa9b1a3006e0ba9ad904c059c0b9add6" category="inline-link">SolidFire のサービス品質</block>
  <block id="7363485d4653963c22d3ed43afd0003a" category="paragraph">ブロックサイズと帯域幅は、 IOPS に直接影響します。ブロックサイズが大きくなると、システムはそのブロックサイズを処理するために必要なレベルまで帯域幅を増やします。帯域幅が増えると、システムが処理可能な IOPS は減少します。を参照してください<block ref="c8976c50ed9f016849fdce232777cd31" category="inline-link-rx"></block> QoS およびパフォーマンスの詳細については、を参照してください。</block>
  <block id="b4657825f74ed622384dddf3a1d7d3b7" category="section-title">SolidFire 認証</block>
  <block id="9d3b5ff1cde828a63203f0465a34a967" category="paragraph">Element では、認証方法として CHAP とボリュームアクセスグループ（ VAG ）の 2 つがサポートされています。CHAP は CHAP プロトコルを使用して、バックエンドへのホストの認証を行います。ボリュームアクセスグループは、プロビジョニングするボリュームへのアクセスを制御します。CHAP はシンプルで拡張性に制限がないため、認証に使用することを推奨します。</block>
  <block id="fc9e812321a3f9b0eab1b702a08bab4e" category="admonition">Trident と強化された CSI プロビジョニングツールは、 CHAP 認証の使用をサポートします。VAG は、従来の CSI 以外の動作モードでのみ使用する必要があります。</block>
  <block id="d23eaa75b7bd1405526da0e18b7290ac" category="paragraph">CHAP 認証（イニシエータが対象のボリュームユーザであることの確認）は、アカウントベースのアクセス制御でのみサポートされます。認証に CHAP を使用している場合は、単方向 CHAP と双方向 CHAP の 2 つのオプションがあります。単方向 CHAP は、 SolidFire アカウント名とイニシエータシークレットを使用してボリュームアクセスを認証します。双方向の CHAP オプションを使用すると、ボリュームがアカウント名とイニシエータシークレットを使用してホストを認証し、ホストがアカウント名とターゲットシークレットを使用してボリュームを認証するため、ボリュームを最も安全に認証できます。</block>
  <block id="42d135bea104c1079cebd1543c89e970" category="paragraph">ただし、 CHAP を有効にできず VAG が必要な場合は、アクセスグループを作成し、ホストのイニシエータとボリュームをアクセスグループに追加します。アクセスグループに追加した各 IQN は、 CHAP 認証の有無に関係なく、グループ内の各ボリュームにアクセスできます。iSCSI イニシエータが CHAP 認証を使用するように設定されている場合は、アカウントベースのアクセス制御が使用されます。iSCSI イニシエータが CHAP 認証を使用するように設定されていない場合は、ボリュームアクセスグループのアクセス制御が使用されます。</block>
  <block id="b4931a42b69dbf4e721e7b97873b1ebb" category="section-title">詳細情報の入手方法</block>
  <block id="2c3a4d5c923121574c10ea22c0474a01" category="inline-link">NetApp ライブラリ</block>
  <block id="65840df7365892d2abe1280cb6cdb1d2" category="paragraph">ベストプラクティスのドキュメントの一部を以下に示します。を検索します<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> 最新バージョンの場合。</block>
  <block id="d911b17f4f4cdcca62a04ad77aa9403d" category="paragraph">* ONTAP *</block>
  <block id="f9dd52d280693dc59e53b6e1fb7bd801" category="inline-link">『 NFS Best Practice and Implementation Guide 』を参照してください</block>
  <block id="40bb23d54df7f59219c18f15a346d9e5" category="list-text"><block ref="40bb23d54df7f59219c18f15a346d9e5" category="inline-link-rx"></block></block>
  <block id="a76193f5d9397d9c49ca283a20ccf649" category="inline-link">『 SAN アドミニストレーションガイド』</block>
  <block id="5bc9b097037d45aff954bf9bd632d4a4" category="list-text"><block ref="c745f55eb0c9991966e63f0608541bb1" category="inline-link-rx"></block> （ iSCSI の場合）</block>
  <block id="5ca34d6ffc2a555b689542e3fbeeb7af" category="inline-link">RHEL 向けの iSCSI のクイック構成</block>
  <block id="36588ac65dcdb9b93916fb0ab708edb3" category="list-text"><block ref="36588ac65dcdb9b93916fb0ab708edb3" category="inline-link-rx"></block></block>
  <block id="ca7ab5ec4cba84fbef55956bb38759ce" category="paragraph">* Element ソフトウェア *</block>
  <block id="e809d9f88c2933195c4d2ab379c1b5dc" category="inline-link">SolidFire for Linux を設定しています</block>
  <block id="ce0470e08aa854a8f93fa119434e8422" category="list-text"><block ref="ce0470e08aa854a8f93fa119434e8422" category="inline-link-rx"></block></block>
  <block id="d64280eb12d42bb67976ffba6d268e7b" category="paragraph">* NetApp HCI *</block>
  <block id="3bc72bedcc42d144356d4f933c48485d" category="inline-link">NetApp HCI 導入の前提条件</block>
  <block id="85bfffc1a1f7aaabd6cf58841640c308" category="list-text"><block ref="85bfffc1a1f7aaabd6cf58841640c308" category="inline-link-rx"></block></block>
  <block id="b52e411998b7d3a95ad5bd8a320bf271" category="inline-link">NetApp Deployment Engine にアクセスします</block>
  <block id="9d0da73b02655dd7861121905db229e2" category="list-text"><block ref="9d0da73b02655dd7861121905db229e2" category="inline-link-rx"></block></block>
  <block id="9aaca8cfd79770bc4944ccc477e37141" category="paragraph">* アプリケーションのベストプラクティス情報 *</block>
  <block id="27a5e02bc2fadee43ace94805739a0c8" category="inline-link">ONTAP での MySQL に関するベストプラクティスです</block>
  <block id="40d2eaf9adabe99a601c57eabf49e4d3" category="list-text"><block ref="40d2eaf9adabe99a601c57eabf49e4d3" category="inline-link-rx"></block></block>
  <block id="17efdd7d210511985714be299d595292" category="inline-link">SolidFire での MySQL に関するベストプラクティスです</block>
  <block id="d03b53d8ec563c37e16ee8c900a75b96" category="list-text"><block ref="d03b53d8ec563c37e16ee8c900a75b96" category="inline-link-rx"></block></block>
  <block id="3aefe1a041af945f1fe8673bf775057b" category="inline-link">NetApp SolidFire および Cassandra</block>
  <block id="7e2b19f6f6bd1332efe1f7a698984670" category="list-text"><block ref="7e2b19f6f6bd1332efe1f7a698984670" category="inline-link-rx"></block></block>
  <block id="6e580111d3a8c12cdcd9522a4d3484c6" category="inline-link">SolidFire での Oracle のベストプラクティス</block>
  <block id="6db96715cefe9c4950ef722865494128" category="list-text"><block ref="6db96715cefe9c4950ef722865494128" category="inline-link-rx"></block></block>
  <block id="6448cf37496207be126495e5b05851de" category="inline-link">SolidFire での PostgreSQL のベストプラクティスです</block>
  <block id="eb2c92a9d2d39fa7191d6e84d5c33bb5" category="list-text"><block ref="eb2c92a9d2d39fa7191d6e84d5c33bb5" category="inline-link-rx"></block></block>
  <block id="b062996d6ca590abe798d3db75561f79" category="paragraph">すべてのアプリケーションに具体的なガイドラインがあるわけではありません。そのためには、ネットアップのチームと協力し、を使用することが重要です<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> 最新のドキュメントを検索できます。</block>
  <block id="748c130a6179b02d614cf9a027294302" category="doc">Astra Trident を統合</block>
  <block id="1fdc23c8579638d050b7b219da011f2b" category="section-title">ドライバの選択と展開</block>
  <block id="815a377da65ae5b66c84438c43416d82" category="paragraph">アプリケーションに共有ストレージを必要とするコンポーネント（同じ PVC にアクセスする複数のポッド）がある場合、 NAS ベースのドライバがデフォルトで選択されますが、ブロックベースの iSCSI ドライバは非共有ストレージのニーズを満たします。アプリケーションの要件と、ストレージチームとインフラチームの快適さレベルに基づいてプロトコルを選択してください。一般的に、ほとんどのアプリケーションでは両者の違いはほとんどないため、共有ストレージ（複数のポッドで同時にアクセスする必要がある場合）が必要かどうかに基づいて判断することがよくあります。</block>
  <block id="c2c889ded63fbe94cf7f1d5fe4747b2d" category="list-text">[ONTAP-NAS] ：プロビジョニングされた各 PV は、フル ONTAP FlexVol です。</block>
  <block id="9418583a1b7e700d24bcc735aa4682b5" category="list-text">「 ONTAP-NAS-エコノミー 」：プロビジョニングされた各 PV は qtree で、 FlexVol あたりの qtree 数を設定できます（デフォルトは 200 ）。</block>
  <block id="bc8f11db54909209ba09d55ee0b46990" category="list-text">「 ONTAP-NAS-flexgroup 」：フル ONTAP FlexGroup としてプロビジョニングされた各 PV と、 SVM に割り当てられたすべてのアグリゲートが使用されます。</block>
  <block id="5e587346b7a212ee6429303276a1578b" category="list-text">「 ONTAP - SAN 」：プロビジョニングされた各 PV は、固有の FlexVol 内の LUN です。</block>
  <block id="85f6f5093b037b5bde3201d8136ee585" category="list-text">「 ONTAP-SAN-エコノミー 」：各 PV がプロビジョニングされた LUN で、 FlexVol あたりの LUN 数を設定できます（デフォルトは 100 ）。</block>
  <block id="f1d8371af632688748db007c98766ded" category="paragraph">3 つの NAS ドライバの間で選択すると、アプリケーションで使用できる機能にいくつかの影響があります。</block>
  <block id="8a1187760a2c55e422a454a64e160291" category="paragraph">次の表では、 Astra Trident からすべての機能が提供されるわけではありません。一部の機能は、プロビジョニング後にストレージ管理者が適用する必要があります。上付き文字の脚注は、機能やドライバごとに機能を区別します。</block>
  <block id="6252699c8e049f40eaf187092727a531" category="cell">ONTAP NAS ドライバ</block>
  <block id="9147e5e61a7b9260dec09f3a6eb3e5be" category="cell">Snapshot</block>
  <block id="999cc42b236c7aee1157ff02d6f1bcd5" category="cell">クローン</block>
  <block id="13bc190bfed9f972b3e33e3656737cdd" category="cell">動的なエクスポートポリシー</block>
  <block id="ab0c646b4c5e36d9bcf8239d97fd1843" category="cell">マルチアタッチ</block>
  <block id="8f2db90dd4a6fbd95ba8f0bc54fd6b27" category="cell">QoS</block>
  <block id="9d723d04c40bfd81835c0766a698cf63" category="cell">サイズ変更</block>
  <block id="8c340dc334134096f68b880b42a8692c" category="cell">レプリケーション</block>
  <block id="00055dac2ba112b87a95a368075b9561" category="cell">「 ONTAP - NAS 」</block>
  <block id="6bfc395e3d384b30d9f43ca45b1eeff7" category="cell">○脚注： 5[]</block>
  <block id="7c078cb746c3dd22969c07747fd7f3fc" category="cell">○脚注： 1[]</block>
  <block id="cecdaed309330a9e7dea16b2076957ee" category="cell">「 ONTAP - NAS - エコノミー」</block>
  <block id="e4e9da2a7bd5e2b5b29c51299a1b787f" category="cell">○脚注： 3[]</block>
  <block id="2b8ac774302bd45e0ad531e434d8cd6d" category="cell">「 ONTAP-NAS-flexgroup 」</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="cell">いいえ</block>
  <block id="15861eb7768c6587d321b6010008930e" category="paragraph">Astra Trident は、 ONTAP 向けに 2 つの SAN ドライバを提供しています。このドライバの機能は次のとおりです。</block>
  <block id="f916141465c67326e5d7d980bff2880b" category="cell">ONTAP SAN ドライバ</block>
  <block id="4f546cdc5f90f7d264cde89d14c6e015" category="cell">双方向 CHAP</block>
  <block id="cd17e7ed84c40a0ff5ecb8b625b1f186" category="cell">「 ontap - san 」</block>
  <block id="e78e01b4457814be0584f80618e4659a" category="cell">○脚注： 4[]</block>
  <block id="73b781a615cea2647a87ff2035e296b1" category="cell">「 ONTAP - SAN - エコノミー」</block>
  <block id="708ee6a923f9b4b3f2213d57632eaadc" category="verse-content-simple">上記の表の脚注： 1 [ ]:Astra Trident 脚注で管理されていません。 2[ ]:Astra Trident で管理されていますが、 PV レベルの細かい脚注ではできません。説明： 4[] ： Raw ブロックボリュームの脚注： 5 [ ]Trident でサポートされています。 CSI でサポートされています</block>
  <block id="74b4b41be17ac9897921032dfd4e94a8" category="paragraph">PV に細分化されていない機能は FlexVol 全体に適用され、 PVS （共有 FlexVol 内の qtree または LUN ）にはすべて共通のスケジュールが適用されます。</block>
  <block id="b483d59c54aea739f0806cf2f30c057e" category="paragraph">上の表に示すように 'ONTAP-NAS' と「 ONTAP-NAS-エコノミー 」の機能の多くは同じですしかし 'ONTAP-NAS-エコノミー のドライバは ' スケジュールを PV 単位で制御する機能を制限するため ' これは特に災害復旧やバックアップ計画に影響を与える可能性がありますONTAP ストレージ上で PVC クローン機能を活用したい開発チームの場合 ' これは 'ONTAP-NAS' ONTAP -SAN' または ONTAP -SAN' のいずれかのドライバを使用する場合にのみ可能です</block>
  <block id="45f7f2e55c0930a28d1a9e481e602a09" category="admonition">「 olidfire -san 」ドライバは PVC のクローン作成にも対応しています。</block>
  <block id="168b96624733268bb4b4ebfbebea0449" category="paragraph">Amazon FSX for ONTAP を使用すると、お客様は使い慣れたネットアップの機能、パフォーマンス、管理機能を活用しながら、 AWS にデータを格納する際のシンプルさ、即応性、セキュリティ、拡張性を活用できます。FSX for ONTAP は、 ONTAP のファイルシステム機能と管理 API の多くをサポートしています。Cloud Volume ONTAP の互換性のあるドライバは、「 ONTAP-NAS' 」、「 ONTAP-NAS-エコノミー 」、「 ONTAP-NAS-flexgroup 」、「 ONTAP-SAN' 」、「 ONTAP-SAN-エコノミー 」です。</block>
  <block id="e040ac9827d856d3ad8ae9ac0da92295" category="paragraph">NetApp HCI / SolidFire プラットフォームで使用される「 olidfire -SAN」 ドライバは、管理者が QoS 制限に基づいて Trident の Element バックエンドを構成するのに役立ちます。Trident によってプロビジョニングされるボリュームに特定の QoS 制限を設定するためにバックエンドを設計する場合は、バックエンドファイルの「 type 」パラメータを使用します。管理者は 'limitVolumeSize' パラメータを使用して ' ストレージ上に作成できるボリューム・サイズを制限することもできます現在、ボリュームのサイズ変更やボリュームのレプリケーションなどの Element ストレージ機能は、 'olidfire-san' ドライバではサポートされていません。これらの処理は、 Element ソフトウェアの Web UI から手動で実行する必要があります。</block>
  <block id="77e9d6f249e4626d5b5c3aec863459d3" category="cell">SolidFire ドライバ</block>
  <block id="9ef2bbb12ff72558472202561a25058d" category="cell">CHAP</block>
  <block id="57ee8ed0b2796ea5f35b10f9ae5d68cd" category="cell">「 olidfire -san 」</block>
  <block id="0929973a1c9993903f6193add75b3fcf" category="cell">○脚注： 2 []</block>
  <block id="bccbad684880808562152ac1d82d7b73" category="verse-content-simple">脚注：はい脚注： 1[] ： Astra Trident で管理されていません。 * 注： 2[] ：未フォーマットのブロックボリュームでサポートされています</block>
  <block id="657e0fa57d574227dd7520919f55ff92" category="paragraph">Astra Trident は、「 azure-NetApp-files 」ドライバを使用してを管理します <block ref="d617d79fbb5ee3bc8bd280353eeb1349" category="inline-link-macro-rx"></block> サービス</block>
  <block id="1f65578a7accdff5ca6ff9f8dc42d9c6" category="inline-link-macro">Azure NetApp Files 向けの Trident バックエンド構成</block>
  <block id="4da613089cbda3d7c19cb4b3f67c1f5d" category="cell">Azure NetApp Files ドライバ</block>
  <block id="8098b34f582537833b36b58273c3545b" category="cell">を展開します</block>
  <block id="e228843381960c06d1035c4219901307" category="cell">「 azure-NetApp-files 」と入力します</block>
  <block id="2fdc8a66565228c15d355a7849997337" category="verse-content-simple">脚注：はい脚注： 1[] ： Astra Trident で管理されていません</block>
  <block id="1d326a2a7f267c800fe3eafb89e5c7cd" category="inline-link-macro">サービスタイプ</block>
  <block id="949a374fc5a78d436e3067ee2de19cbe" category="cell">「 gcp-cvs 」</block>
  <block id="3af6198d49c40c18f13c73c5ce15cf34" category="section-title">ストレージクラスの設計</block>
  <block id="388bdf78cbb5b6bf4248ddf5613f7cc3" category="paragraph">Kubernetes ストレージクラスオブジェクトを作成するには、個々のストレージクラスを設定して適用する必要があります。このセクションでは、アプリケーション用のストレージクラスの設計方法について説明します。</block>
  <block id="a09acd5f665bdf96b6dce47f8d4265e3" category="paragraph">フィルタリングは、特定のストレージクラスオブジェクト内で使用でき、そのストレージクラスで使用するストレージプールまたはプールのセットを決定します。ストレージクラスでは '`toragePools'additionalStoragePools'excludeStoragePools'' の 3 セットのフィルタを設定できます</block>
  <block id="fc01760e8c283c2f128543ae8b8a67cc" category="paragraph">'toragePools' パラメータは ' 指定した属性に一致するプールのセットにストレージを制限するのに役立ちます「 additionalStoragePools 」パラメータは、 Astra Trident がプロビジョニングに使用する一連のプールと、属性と「 toragePools 」パラメータで選択した一連のプールを拡張するために使用されます。どちらか一方のパラメータを単独で使用することも、両方を使用して、適切なストレージプールセットが選択されていることを確認することもできます。</block>
  <block id="74476e892d2681775eb41ec00a11e8da" category="paragraph">excludeStoragePools' パラメータを使用して ' 属性に一致するプールの一覧を除外します</block>
  <block id="ab807e6bd2f9cb9872eed98161bdd4e1" category="paragraph">ストレージクラスを設計して Quality of Service ポリシーをエミュレートする場合は ' 「メディア」属性を「 hdd 」または「 sd 」として ' ストレージクラスを作成しますストレージクラスで言及されている「メディア」属性に基づいて、 Trident は「 hdd 」アグリゲートまたは「 sd 」アグリゲートにメディア属性と一致させる適切なバックエンドを選択し、ボリュームのプロビジョニングを特定のアグリゲートに誘導します。したがって、「メディア」属性が「 SD 」に設定されているストレージクラス Premium を作成して、プレミアム QoS ポリシーに分類できます。メディア属性を「 hdd 」に設定し、標準の QoS ポリシーとして分類できる、別のストレージクラス標準を作成できます。また、ストレージクラスの「 IOPS 」属性を使用して、 QoS ポリシーとして定義できる Element アプライアンスにプロビジョニングをリダイレクトすることもできます。</block>
  <block id="0bc0e72aefbf8f8ec0b28cc0486f98a2" category="paragraph">ストレージクラスは、シンプロビジョニングとシックプロビジョニング、 Snapshot 、クローン、暗号化などの機能が有効になっている特定のバックエンドでボリュームを直接プロビジョニングするように設計できます。使用するストレージを指定するには、必要な機能を有効にしてバックエンドに適したストレージクラスを作成します。</block>
  <block id="421f7dd5bb37a6401aa6326ad33dae20" category="section-title">ストレージプロビジョニングに影響する PVC 特性</block>
  <block id="5ab83f35784f154d55ea7ab58c8e503b" category="section-title">アクセスモード</block>
  <block id="f3882c83b41b76a9fac2c57407f3ac2b" category="paragraph">PVC 経由でストレージを要求する場合、必須フィールドの 1 つがアクセスモードです。必要なモードは、ストレージ要求をホストするために選択されたバックエンドに影響を与える可能性があります。</block>
  <block id="b72ab56468fdf0df298a89c3339b82c0" category="paragraph">Astra Trident は、次のマトリックスで指定されたアクセス方法で使用されているストレージプロトコルと一致するかどうかを試みます。これは、基盤となるストレージプラットフォームに依存しません。</block>
  <block id="cac415feda213697b27d3b6fce10d33a" category="cell">ReadWriteOnce コマンドを使用します</block>
  <block id="c24ad3d99a666c95edd149419c958ee0" category="cell">ReadOnlyMany</block>
  <block id="caa8dc1f4bb28d2d11226494cd05a123" category="cell">ReadWriteMany</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="cell">iSCSI</block>
  <block id="cefb8ccdebef1940174b22e9d0ab530b" category="cell">○（ Raw ブロック）</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="823f2153adc2211a0777560eafdcbad6" category="paragraph">NFS バックエンドが設定されていない Trident 環境に送信された ReadWriteMany PVC が要求された場合、ボリュームはプロビジョニングされません。このため、リクエスタは、アプリケーションに適したアクセスモードを使用する必要があります。</block>
  <block id="5a51acb2538e54805c54d37ebb49c75d" category="section-title">ボリューム操作</block>
  <block id="26fad327e23b6b08dcc94300bfe1ed04" category="section-title">永続ボリュームの変更</block>
  <block id="3b69d471bb98837ae6e267593bb38882" category="paragraph">永続ボリュームとは、 Kubernetes で変更不可のオブジェクトを 2 つだけ除いてです。再利用ポリシーとサイズは、いったん作成されると変更できます。ただし、これにより、ボリュームの一部の側面が Kubernetes 以外で変更されることが防止されるわけではありません。特定のアプリケーション用にボリュームをカスタマイズしたり、誤って容量が消費されないようにしたり、何らかの理由でボリュームを別のストレージコントローラに移動したりする場合に便利です。</block>
  <block id="f82b5505d8def4abda0bec52275bd411" category="admonition">Kubernetes のツリー内プロビジョニングツールは、現時点では NFS または iSCSI PVS のボリュームサイズ変更処理をサポートしていません。Astra Trident では、 NFS ボリュームと iSCSI ボリュームの両方の拡張がサポートされています。</block>
  <block id="b1d1874782626fe3f391628ea493e6ef" category="paragraph">作成後に PV の接続の詳細を変更することはできません。</block>
  <block id="e68591655c8031177206e1e75728853f" category="section-title">オンデマンドのボリューム Snapshot を作成</block>
  <block id="f557ce2b38683c13c1c1a070ce58a33d" category="paragraph">Astra Trident は、 CSI フレームワークを使用して、オンデマンドでボリュームスナップショットを作成し、スナップショットから PVC を作成できます。Snapshot は、データのポイントインタイムコピーを管理し、 Kubernetes のソース PV とは無関係にライフサイクルを管理する便利な方法です。これらの Snapshot を使用して、 PVC をクローニングできます。</block>
  <block id="f007c56a8eb121e8a696105e69aefa68" category="section-title">Snapshot からボリュームを作成します</block>
  <block id="e005d448313cdc2848d923f4c754e467" category="paragraph">Astra Trident は、ボリューム Snapshot からの PersistentVolumes の作成もサポートしています。これを実現するには、 PersistentVolumeClaim を作成し、ボリュームを作成する必要のある Snapshot として「ソース」を指定します。Astra Trident がこの PVC を処理するには、 Snapshot にデータが存在するボリュームを作成します。この機能を使用すると、複数のリージョン間でデータを複製したり、テスト環境を作成したり、破損した本番ボリューム全体を交換したり、特定のファイルとディレクトリを取得して別の接続ボリュームに転送したりできます。</block>
  <block id="55a3309b0b6646e0ea6b47195bd3d4bd" category="section-title">クラスタ内でボリュームを移動します</block>
  <block id="925b814524908630c07d45fc5a80028a" category="paragraph">ストレージ管理者は、 ONTAP クラスタ内のアグリゲート間およびコントローラ間で、ストレージ利用者への無停止でボリュームを移動できます。この処理は、デスティネーションアグリゲートが Trident が使用している SVM からアクセス可能なアグリゲートであるかぎり、 Astra Trident または Kubernetes クラスタには影響しません。この点が重要なのは、アグリゲートが SVM に新たに追加された場合、 Astra Trident に再追加してバックエンドを更新する必要があることです。これにより、 Astra Trident が SVM のインベントリを再作成し、新しいアグリゲートが認識されるようになります。</block>
  <block id="033dcaefcc578c987d32d4bdb6f6b1e2" category="paragraph">ただし、バックエンド間でのボリュームの移動は Astra Trident では自動ではサポートされていません。これには、同じクラスタ内の SVM 間、クラスタ間、または別のストレージプラットフォーム上の SVM 間が含まれます（たとえストレージシステムが Trident から Astra に接続されている場合でも）。</block>
  <block id="302be77289f337115411c01846d9a489" category="paragraph">ボリュームが別の場所にコピーされた場合、ボリュームインポート機能を使用して現在のボリュームを Astra Trident にインポートできます。</block>
  <block id="2243e252be826d6ec5e767668d9f961d" category="section-title">ボリュームを展開します</block>
  <block id="40a28a40c11a193f8911cf4143a6ae6a" category="section-title">既存のボリュームを Kubernetes にインポートする</block>
  <block id="5d9f64103cac7a58da69304bc3320e98" category="paragraph">ONTAP ドライバと 'olidfire-san`drivers を使用する場合は 'tridentctl import volume &lt;backend-name&gt;&lt;volume-name&gt;&lt;f/path/pvc.yaml コマンドを使用して 'Astra Trident で管理する既存のボリュームを Kubernetes にインポートしますimport volume コマンドで使用した PVC YAML または JSON ファイルは、 Astra Trident をプロビジョニングツールとして識別するストレージクラスを指定します。NetApp HCI / SolidFire バックエンドを使用する場合は、ボリューム名が一意であることを確認してください。ボリューム名が重複している場合は、ボリュームインポート機能で区別できるように、ボリュームを一意の名前にクローニングします。</block>
  <block id="cb619cd0109686b5f82562b63e44a107" category="paragraph">上記のコマンドを実行すると、 Astra Trident がバックエンド上にボリュームを検出し、サイズを確認します。設定された PVC のボリュームサイズが自動的に追加（必要に応じて上書き）されます。次に Astra Trident が新しい PV を作成し、 Kubernetes が PVC を PV にバインド</block>
  <block id="3a8b25f50e2dcc298175abc8f6a71f82" category="paragraph">特定のインポートされた PVC を必要とするようにコンテナを導入した場合、ボリュームインポートプロセスによって PVC/PV ペアがバインドされるまで、コンテナは保留状態のままになります。PVC/PV ペアがバインドされると、他に問題がなければコンテナが起動します。</block>
  <block id="41603705958b86c3ec4ff21cfce13a5b" category="section-title">OpenShift サービスを導入します</block>
  <block id="7e3c623b48b608f4c6380c2994ae5aa9" category="paragraph">OpenShift の付加価値クラスタサービスは、クラスタ管理者とホストされているアプリケーションに重要な機能を提供します。これらのサービスが使用するストレージはノードローカルリソースを使用してプロビジョニングできますが、これにより、サービスの容量、パフォーマンス、リカバリ性、持続可能性が制限されることがよくあります。エンタープライズストレージアレイを活用してこれらのサービスに容量を提供することで、劇的に向上したサービスを実現できます。ただし、すべてのアプリケーションと同様に、 OpenShift とストレージ管理者は、緊密に連携してそれぞれに最適なオプションを決定する必要があります。Red Hat のドキュメントは、要件を決定し、サイジングとパフォーマンスのニーズを確実に満たすために大きく活用する必要があります。</block>
  <block id="6dd8f6c286b8e1a8c96c6309099f0003" category="section-title">レジストリサービス</block>
  <block id="68ee1c4c0da20bfd1e946df20351d4b9" category="inline-link-macro">netapp.io のコマンドです</block>
  <block id="126ac9f6149081eb0e97c2e939eaad52" category="inline-link-macro">ブログ</block>
  <block id="34d357a7f8cc47e860d5fb0a317cf22d" category="paragraph">レジストリのストレージの導入と管理については、に記載されています <block ref="d5e1883ebd095c0eda96c44469e8197d" category="inline-link-macro-rx"></block> を参照してください <block ref="ceb73d0582d40281d79011a1e5343e89" category="inline-link-macro-rx"></block>。</block>
  <block id="62ac236856a5a6aefd15133e967514c6" category="section-title">ロギングサービス</block>
  <block id="2f3052b6a2858bec8355ec56150f6a38" category="paragraph">他の OpenShift サービスと同様に、ログ記録サービスは、 Ansible と、インベントリファイル（別名）で提供される構成パラメータを使用して導入されますホスト。プレイブックに含まれています。ここでは、 OpenShift の初期インストール時にロギングを導入し、 OpenShift のインストール後にロギングを導入するという、 2 つのインストール方法について説明します。</block>
  <block id="541c717d8d2998609c0970b5e43c7401" category="admonition">Red Hat OpenShift バージョン 3.9 以降、データ破損に関する懸念があるため、記録サービスに NFS を使用しないことを公式のドキュメントで推奨しています。これは、 Red Hat 製品のテストに基づいています。ONTAP の NFS サーバにはこのような問題はなく、簡単にロギング環境をバックアップできます。ロギングサービスには最終的にどちらかのプロトコルを選択する必要がありますが、両方のプロトコルがネットアッププラットフォームを使用する場合に適していることと、 NFS を使用する理由がないことを確認してください。</block>
  <block id="57cad4852c9c2e439f61728e0391fe7b" category="paragraph">ロギング・サービスで NFS を使用する場合は、インストーラが失敗しないように、 Ansible 変数「 OpenShift 」の「 OpenShift 」 enable_unsupported _configurations 」を「 true 」に設定する必要があります。</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="section-title">はじめに</block>
  <block id="16e90b2336fdfec64b19194247422194" category="paragraph">ロギングサービスは、必要に応じて、両方のアプリケーションに導入することも、 OpenShift クラスタ自体のコア動作に導入することもできます。オペレーション・ログを配置する場合 ' 変数 OpenShift の logging_use_ops を true として指定すると ' サービスの 2 つのインスタンスが作成されます操作のロギングインスタンスを制御する変数には「 ops 」が含まれ、アプリケーションのインスタンスには含まれません。</block>
  <block id="a9ccaa810b97a00e75bb1ea4100d0a9f" category="paragraph">導入方法に基づいて Ansible 変数を設定することは、基盤のサービスが正しいストレージを利用できるようにするために重要です。各導入方法のオプションを見てみましょう。</block>
  <block id="c5c09113a6a6ae4b75868a9e96ea3cc3" category="inline-link-macro">Red Hat OpenShift のロギングに関するドキュメント</block>
  <block id="bc468c28ba57dbcb58de37265cd02436" category="admonition">以下の表には、ロギングサービスに関連するストレージ構成に関連する変数のみが含まれています。その他のオプションは、で確認できます <block ref="e81826ec3b15492352776daada114990" category="inline-link-macro-rx"></block> 導入環境に応じて、確認、設定、使用する必要があります。</block>
  <block id="02098b11f876fe10c40b6106bd9864da" category="paragraph">次の表の変数では、入力した詳細を使用してロギングサービスの PV と PVC を作成する Ansible プレイブックが作成されます。この方法は、 OpenShift インストール後にコンポーネントインストールプレイブックを使用するよりもはるかに柔軟性に劣るが、既存のボリュームがある場合はオプションとなります。</block>
  <block id="47c14840d8e15331fa420b9b2f757cd9" category="cell">変数（ Variable ）</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">詳細</block>
  <block id="9aa2fd43742cd5ed36b406b3f4b0fd8c" category="cell">「 OpenShift 」ロギング・ストレージ・タイプ</block>
  <block id="3260b06ea72e4931f5fb5106001fcc28" category="cell">インストーラがログサービス用の NFS PV を作成するように 'NFS' に設定します</block>
  <block id="e95f43173c69a9ca544d4aaef28a4d90" category="cell">「 OpenShift 」ロギング・ストレージ・ホスト</block>
  <block id="3a262c1d9bdec02b241c16b2c5f6dbbe" category="cell">NFS ホストのホスト名または IP アドレス。仮想マシンのデータ LIF に設定してください。</block>
  <block id="41aae586bb7044d7741fe9412aa81e03" category="cell">「 OpenShift 」ロギング・ストレージ・ NFS_DIRECT'</block>
  <block id="bf2d137d8c669b07aae26040c7e5c0e0" category="cell">NFS エクスポートのマウントパス。たとえば、ボリュームが「 /OpenShift _logging 」としてジャンクションされている場合、この変数にそのパスを使用します。</block>
  <block id="88a9f7d18fabb82d63ac43c64ae6e735" category="cell">「 OpenShift 」ロギング・ストレージ・ボリューム名</block>
  <block id="6f8782c23f3cb958d0de4fad76dabaed" category="cell">作成する PV の名前（「 pv_ose_logs 」など）。</block>
  <block id="789e0dc4bfc00f5c885a698d6ab34dff" category="cell">「 OpenShift 」ロギング・ストレージ・ボリューム・サイズ</block>
  <block id="b68f05ea52c8c80c07e6a4c0671c75bf" category="cell">NFS エクスポートのサイズ（例： 100Gi ）</block>
  <block id="2ab80b6965298dc6a178995bbedebe88" category="paragraph">OpenShift クラスタがすでに実行中で、そのため Trident を導入して設定した場合、インストーラは動的プロビジョニングを使用してボリュームを作成できます。次の変数を設定する必要があります。</block>
  <block id="c2aecf833d743cbc47969cd85c67101e" category="cell">'OpenShift の logging_es_vpc_dynamic</block>
  <block id="540ad9a52084720ddb7f364fa8b304c6" category="cell">動的にプロビジョニングされたボリュームを使用する場合は true に設定します。</block>
  <block id="45a481a75749c5331e7e9fd7d89e473d" category="cell">「 OpenShift logging _es_vpc_storage_class_name 」</block>
  <block id="837ffa1e281409660ed25582c5b1963f" category="cell">PVC で使用されるストレージクラスの名前。</block>
  <block id="cd3daa927272b5624e96d283365d5500" category="cell">「 OpenShift logging _es_vpc_size 」を参照してください</block>
  <block id="8f80d278a79cbc84b80a091713006022" category="cell">PVC で要求されたボリュームのサイズ。</block>
  <block id="1bb0c7eeef4bbbefae080a294fd554b0" category="cell">「 OpenShift logging _es_vpc_prefix 」を参照してください</block>
  <block id="f870ec92e294a018a17afe7a614fb5bb" category="cell">ロギングサービスで使用される PVC のプレフィックス。</block>
  <block id="e8c62e1f0f0773ae5ba6a7acad696b2d" category="cell">'OpenShift の logging_es_ops_pvc_dynamic</block>
  <block id="46e65a11ac398c02b8fce45a7cd5cf36" category="cell">動的にプロビジョニングされたボリュームを ops ロギングインスタンスに使用するには、「 true 」に設定します。</block>
  <block id="8792c7234e14325cb68c493d20ab5154" category="cell">「 OpenShift logging _es_ops_pvc_storage_class_name 」を参照してください</block>
  <block id="d016f79f0ee104f3805d61e6a379fb9b" category="cell">処理ロギングインスタンスのストレージクラスの名前。</block>
  <block id="048e768365962d7d520567f92aea8355" category="cell">'OpenShift logging _es_ops_pvc_size</block>
  <block id="bc367f89ac597585e52d0eb58a5929ae" category="cell">処理インスタンスのボリューム要求のサイズ。</block>
  <block id="155871626071d69cb283985a9f36bad2" category="cell">「 OpenShift logging _es_ops_pvc_prefix 」を参照してください</block>
  <block id="2a8f254749a466654f556c6466051133" category="cell">ops インスタンス PVC のプレフィックス。</block>
  <block id="e1b2d0d3228c29c069bcd139de306709" category="section-title">ロギングスタックを導入します</block>
  <block id="0409a0cfdfa4f3b3033503b8309442ff" category="paragraph">初期の OpenShift インストールプロセスの一部としてロギングを導入する場合、標準の導入プロセスに従うだけで済みます。Ansible は、必要なサービスと OpenShift オブジェクトを構成および導入して、 Ansible が完了したらすぐにサービスを利用できるようにします。</block>
  <block id="210ecadaccb6088b0dfbd2e6a0b5d0a0" category="inline-link-macro">Red Hat OpenShift Container Platform 3.11 のドキュメント</block>
  <block id="67f3e99678cc7c568f4ed29074cdc41c" category="paragraph">ただし、最初のインストール後に導入する場合は、コンポーネントプレイブックを Ansible で使用する必要があります。このプロセスは、 OpenShift のバージョンが異なるためわずかに変更される場合があるので、必ず読んで従うようにしてください <block ref="a2226808e95b8487c66dd3b8cbea118e" category="inline-link-macro-rx"></block> 使用しているバージョンに対応した</block>
  <block id="3dbf527ac3caf41ab150ec99a1737217" category="section-title">指標サービス</block>
  <block id="d0ed828e153e9bad2da040ddf6ad8f45" category="paragraph">ロギングサービスや OpenShift 全体と同様に、 Ansible を使用して指標サービスを導入します。また、ロギングサービスと同様に、メトリックサービスは、クラスタの初期セットアップ時またはコンポーネントのインストール方法を使用して運用可能になった後に導入できます。次の表に、指標サービスに永続的ストレージを設定する際に重要となる変数を示します。</block>
  <block id="69aa4440020e49c654aeb910f38c6bb9" category="admonition">以下の表には、指標サービスに関連するストレージ構成に関連する変数のみが含まれています。このドキュメントには、他にも導入環境に応じて確認、設定、使用できるオプションが多数あります。</block>
  <block id="4f692d78f978a73b157571022c1d1ba7" category="cell">「 OpenShift _ metrics _ storage _kind 」</block>
  <block id="30da7e263c0cffc34933d24a07fb097a" category="cell">「 OpenShift _ metrics _storage_host 」というようになります</block>
  <block id="adba8dd7dd2b027405b815c03a05dbf1" category="cell">NFS ホストのホスト名または IP アドレス。これは SVM のデータ LIF に設定されている必要があります。</block>
  <block id="3bafc264ad2a901d3be052a7f1cf2e44" category="cell">「 OpenShift _ metrics _storage_nfs_directory 」というエラーが表示されます</block>
  <block id="459859e54ba90bc4145c54d1f1deecff" category="cell">NFS エクスポートのマウントパス。たとえば、ボリュームが「 /OpenShift メトリック」としてジャンクションされている場合は、この変数にそのパスを使用します。</block>
  <block id="ca0f0d82f9c7cbc36df652cddd4b2f35" category="cell">「 OpenShift _ metrics _storage_volume_name 」という形式で指定します</block>
  <block id="eb10d02b22b02d7f543f867b8d31e7b0" category="cell">作成する PV の名前（「 pv_ose_metrics 」など）。</block>
  <block id="a3eeeafe923ac73e75b3bf33cdadb603" category="cell">「 OpenShift _ metrics _storage_volume_size 」というようになります</block>
  <block id="a56c731cfe96d228c7c0bcc57bc80d3d" category="cell">「 OpenShift _ metrics _ cassandra_vpc_prefix 」という形式で指定します</block>
  <block id="0da919d4045e4f38d294aaec73f5d57f" category="cell">メトリック PVC に使用するプレフィックス。</block>
  <block id="15bb3eef0b42a93e324977c289f2fd85" category="cell">「 OpenShift _ metrics _ cassandra_vp_size' 」のようになります</block>
  <block id="75929c9d67f1407282b5618fca4589e7" category="cell">要求するボリュームのサイズ。</block>
  <block id="8ebb493e0ffdf7c1e850c67bc22f15c7" category="cell">「 OpenShift _ metrics _ cassandra_storage_type 」のようになります</block>
  <block id="aab0ec84a4da1dfd2b63896453f1e05d" category="cell">指標に使用するストレージのタイプ。適切なストレージクラスを使用して PVC を作成するには、 Ansible に対してこれを dynamic に設定する必要があります。</block>
  <block id="460aaf3805271ec2e5dc35755fe317b1" category="cell">「 OpenShift _ metrics _cassanda_pvc_storage_class_name 」という形式で指定します</block>
  <block id="0c55ca33e89539cd67eb0be3796547c5" category="cell">使用するストレージクラスの名前。</block>
  <block id="6c13e62eb53f29e7794d3807369299d2" category="section-title">指標サービスを導入する</block>
  <block id="3e75d51468f5a99fdb50b75dafea32e8" category="paragraph">ホスト / インベントリファイルに適切な Ansible 変数を定義して、 Ansible でサービスを導入します。OpenShift インストール時に導入する場合は、 PV が自動的に作成されて使用されます。コンポーネントプレイブックを使用して導入する場合、 OpenShift のインストール後に Ansible によって必要な PVC が作成されます。また、 Trident 用のストレージをプロビジョニングしたあとにサービスを導入します。</block>
  <block id="bf1cadd7aa4e541e255df26af5451d85" category="inline-link-macro">RedHat OpenShift 導入ガイド</block>
  <block id="eb502d6483a644e9b6f61ca4719276d8" category="paragraph">上記の変数と導入プロセスは、 OpenShift の各バージョンで変更される可能性があります。必ず見直しを行ってください <block ref="5ad72ffc1eda2c257c8947a0ad66dddb" category="inline-link-macro-rx"></block> をバージョンに合わせて設定し、環境に合わせて設定します。</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">手順</block>
  <block id="db5eb84117d06047c97c9a0191b5fffe" category="doc">サポート</block>
  <block id="14340f3a4eb25a54f8446036d807d7c8" category="paragraph">Astra Trident は、正式にサポートされているネットアップのプロジェクトです。任意の標準メカニズムを使用してネットアップに連絡し、必要なエンタープライズクラスのサポートを受けることができます。</block>
  <block id="dec54888538ac86f51d29a3d043e6bf6" category="summary">既存の Astra Trident インストールは、オペレータが簡単にアップグレードできます。</block>
  <block id="5ff3faebb0ff710340bdbee89a4667ad" category="doc">オペレータにアップグレードしてください</block>
  <block id="ba45a58fb6371fc5a91fb8a5d399becd" category="list-text">CSI Trident をアンインストールしても、インストールからのメタデータが保持されている場合は、オペレータを使用してアップグレードできます。</block>
  <block id="33deedceb6eaeb2f124b7ce830e212a8" category="list-text">特定の Kubernetes クラスタ内のすべてのネームスペースに存在する Trident のは、 1 つの Astra だけです。</block>
  <block id="f5d517b06fc0b1af5d599776e2f6f1d6" category="inline-link">この blog</block>
  <block id="093e1971a4b17fce7e3e4d94854a46ba" category="list-text">アルファスナップショットの CRD が存在する場合は、 tridentctl を使用して削除してください。これにより、アルファスナップショット仕様の CRD が削除されます。削除または移行が必要な既存のスナップショットについては、を参照してください<block ref="ddf3864130a7be37c683b2fe21303201" category="inline-link-rx"></block>。</block>
  <block id="199ed8c975e8bb544d18428ba17adbc3" category="inline-link">GitHub の問題の詳細</block>
  <block id="d06b5297af318d2581021098f6b0d44d" category="section-title">名前空間を対象としたオペレータインストールをアップグレードします</block>
  <block id="edf5c542759186ded2c7eeaae6b340a5" category="list-text">既存の Trident インストールのステータスを確認これを行うには、 TridentProvisioner の * Status * を確認してください。ステータスは「 Installed 」になります。</block>
  <block id="683d018a2f7c70469fd74ba0eeae2a79" category="list-text">Trident インストーラに付属のマニフェストを使用して、「 TridentOrchestrator 」 CRD を作成します。</block>
  <block id="5fbede7820945c99130183fd2fd0f4b3" category="paragraph">この段階で 'trident-operator-xxxxxxxxxxxxxxx Pod が削除されます</block>
  <block id="86463d362af5835ff8c3fd6587fbd24f" category="list-text">（オプション）インストールパラメータを変更する必要がある場合は、「 TridentProvisioner 」の仕様を更新します。これらの変更には、コンテナイメージをからプルするためのプライベートイメージレジストリの変更、デバッグログの有効化、イメージプルシークレットの指定などがあります。</block>
  <block id="61d74cfa0c3f53abef0b4694fba0522f" category="section-title">Helm ベースのオペレータインストレーションをアップグレードします</block>
  <block id="7734dd866cc8c135256bad90520fa719" category="paragraph">Helm ベースのオペレータインストレーションをアップグレードするには、次の手順を実行します。</block>
  <block id="3002cfcea36b7fb4d87da4d413730851" category="list-text">最新の Astra Trident リリースをダウンロード</block>
  <block id="4a6b869a481b52472aa62cfa4d9d255e" category="paragraph">たとえば 'tridentDebug' のデフォルト値を変更するには ' 次のコマンドを実行します</block>
  <block id="5c83dd886f5edc620e809e7800bc225f" category="section-title">オペレータ以外のインストールからアップグレードします</block>
  <block id="4ab464bddccdcbc36fab4cea802025f9" category="list-text">マニフェストから「 tridentオーケストラ 」 CRD を作成します。</block>
  <block id="835fd860290737b70acf870a253c3549" category="list-text">オペレータを配備します。</block>
  <block id="06da281bf5e01c3c59892dc886cd0067" category="list-text">Astra Trident をインストールするための TridentOrchestrator CR を作成します。</block>
  <block id="f420eb91a420c03f1792a6504b30277b" category="paragraph">既存のバックエンドと PVC は自動的に使用可能</block>
  <block id="1e209c07680392db2505687941188c9f" category="summary">旧バージョンの Astra Trident にダウングレードする手順をご確認ください。</block>
  <block id="9b51b245233e60555d569a43ebaa1b8d" category="doc">Trident をダウングレード</block>
  <block id="f58ee9343b12a3276981187a42480ba7" category="paragraph">次のような理由でダウングレードを検討してください。</block>
  <block id="e930f1fff9365ca35f55f1e61bef69a9" category="list-text">危機管理計画</block>
  <block id="235115784feaabab0df1d64a2019b176" category="list-text">アップグレードの結果として見つかったバグの即時修正</block>
  <block id="41768ab308324d6b4a49e2e225427666" category="list-text">依存関係の問題、失敗したアップグレード、および不完全なアップグレード</block>
  <block id="9bb6c30b6b6e3a9fbbd83b458a3556eb" category="section-title">ダウングレードするタイミング</block>
  <block id="cb4d3c8706ed4dd2a49a007f19e8b30a" category="section-title">ダウングレードしない場合</block>
  <block id="7be40d1b43eccf7d81bd7ad70a7cee5b" category="paragraph">「 etcd」 を使用して状態を維持する Trident のリリース（ 19.04 以前）にダウングレードしないでください。現在の Astra Trident リリースで実行したすべての処理は、ダウングレード後に反映されません。以前のバージョンに戻す場合、新しく作成した PVS は使用できません。バックエンド、 PVS 、ストレージクラス、ボリューム Snapshot （作成 / 更新 / 削除）などのオブジェクトに加えられた変更は、以前のバージョンに戻すと Astra Trident には表示されません。以前のバージョンに戻しても、アップグレードされていないかぎり、以前のリリースを使用してすでに作成された PVS へのアクセスは中断されません。</block>
  <block id="716e6c4d72b03c2b5b4503d5e968e654" category="section-title">Operator を使用して Astra Trident をインストールする場合のダウングレードプロセス</block>
  <block id="286ac65245e7b7508f3cdf1dea1c60eb" category="paragraph">Trident Operator を使用したインストールでは ' ダウングレード・プロセスは異なり 'tridentctl を使用する必要はありません</block>
  <block id="41cc548b7b7993679e555423a014ca5c" category="paragraph">Trident オペレータを使用してインストールを完了した場合は、 Astra Trident を次のいずれかにダウングレードできます。</block>
  <block id="c3d92c281c17e41ffac420b45790ecbf" category="list-text">名前空間を対象とした演算子（ 20.07-2010 ）を使用してインストールされるバージョン。</block>
  <block id="69f5b5f7aa4a5f07267b9c758e2580e6" category="list-text">クラスタを対象とした演算子（ 21.01 以降）を使用してインストールされるバージョン。</block>
  <block id="0d8778040c29d89141a733b060314da3" category="section-title">クラスタを対象とした演算子にダウングレードします</block>
  <block id="12a3bd4ff105bed8650ca128636a078f" category="paragraph">Astra Trident を、クラスタを対象としたオペレータを使用するリリースにダウングレードするには、次の手順に従います。</block>
  <block id="43f17763173fe230bdd78477152f5f7d" category="inline-link-macro">Astra Trident をアンインストール</block>
  <block id="44d9737dc7f423d188a4b34663c5f06e" category="list-text">必要なバージョンの Astra Trident をインストールして、ダウングレードを続行します。目的のリリースのマニュアルに従ってください。</block>
  <block id="0e792058c21e7156d25e8ae8f2d784a0" category="section-title">名前空間を対象とした演算子にダウングレードします</block>
  <block id="8ad79c030a4ebdd2f446157ba529561e" category="paragraph">このセクションでは、名前空間を対象とした演算子を使用してインストールされる、 20.07 ～ 20.10 の範囲の Astra Trident リリースへのダウングレード手順を要約します。</block>
  <block id="a7c80f52f9be4831ca776b56dc642a45" category="list-text"><block ref="e6c6ebb45af4a1845e181c2b5544dbb0" category="inline-link-macro-rx"></block>。** 既存のインストールを完全に削除する場合を除き、 CRD を削除しないでください。 ** 「 tridentオーケストラ 」が削除されていることを確認してください。</block>
  <block id="2389eabedca3341193952356ec53cd0c" category="list-text">「 tridentオーケストラ 」の「 CRD 」を削除します。</block>
  <block id="2982be9f91f77222d75873452bfc7696" category="paragraph">Astra Trident がアンインストールされました。</block>
  <block id="0f46a51f24c3700da8c74b9a5294a22f" category="list-text">目的のバージョンをインストールしてダウングレードを続行します。目的のリリースのマニュアルに従ってください。</block>
  <block id="5f7d982e216126a476d4ca0051837e2a" category="section-title">Helm を使用してダウングレードしてください</block>
  <block id="fe0182349853dde39c65151b592bc343" category="paragraph">ダウングレードするには 'helm rollback コマンドを使用します次の例を参照してください。</block>
  <block id="d1008d4e2b1eb300375d48496c96e8b0" category="paragraph">tridentctl を使用して Astra Trident をインストールした場合、ダウングレードプロセスでは次の手順を実行します。このシーケンスに従って、 Astra Trident 21.07 から 20.07 に移行するためのダウングレードプロセスを順を追って説明します。</block>
  <block id="e08f959c89cb36ec887089ce4a7c1bcc" category="admonition">ダウングレードを開始する前に、 Kubernetes クラスタの「 etcd」 のスナップショットを作成する必要があります。これにより、 Astra Trident の CRD の現在の状態をバックアップできます。</block>
  <block id="e36e921de70428b33bb0e5c22f4f1d03" category="list-text">Trident が tridentctl を使用してインストールされていることを確認しますAstra Trident のインストール方法がわからない場合は、次の簡単なテストを実行してください。</block>
  <block id="d7c7b52356c18ead4409ef4ca7e2eac8" category="list-text">Trident ネームスペースにあるポッドを表示します。</block>
  <block id="225b7f623c2562a1ed24395fd3852b70" category="list-text">クラスタで実行されている Astra Trident のバージョンを特定します。tridentctl を使用するか、 Trident ポッドで使用されるイメージを見ることができます。</block>
  <block id="46da6852e307b4f4a0e965c9c18fe576" category="list-text">「 tridentOrchestrator 」、 ( または ) 「 tridentProvisioner` 」、 ( または ) 「 trident-operator-xxxxxxxxx-xxxxx 」という名前のポッドが表示されない場合、 Astra Trident * は「 tridentctl 」を使用してインストールされます。</block>
  <block id="72b739b65841b5d903e9ec216f0c4fd1" category="list-text">既存の tridentctl バイナリを使用して Astra Trident をアンインストールしますこの場合は、 21.07 バイナリを使用してアンインストールします。</block>
  <block id="6445365d100b18e233ebf2d08d116aee" category="inline-link-macro">カスタマイズされたインストール</block>
  <block id="03347682a0c8323a17a17933bbf4e18c" category="paragraph">ダウングレードプロセスが完了します。</block>
  <block id="3a90bea856daf0616bcbdde1b9d9ad0b" category="summary">Astra Trident のインストール方法に応じて、複数の方法でアンインストールできます。</block>
  <block id="bdcf993f8f3d91925d60754cd864f3c0" category="section-title">Helm を使用してアンインストールします</block>
  <block id="8656f6a3d04342ff6248bd7d32949c2a" category="paragraph">Helm を使用して Astra Trident をインストールした場合は 'helm uninstall を使用してアンインストールできます</block>
  <block id="e2a3593a8e9900eadda10d47bc2ff47c" category="section-title">Trident オペレータを使用してをアンインストールします</block>
  <block id="c416a70504ae36e8cfbf555ad0d13ab9" category="paragraph">Operator を使用して Astra Trident をインストールした場合、次のいずれかの方法で Trident をアンインストールできます。</block>
  <block id="1159b3a6f6975215eaff7b18f9fdbe8e" category="list-text">** 「 TridentOrchestrator 」を編集してアンインストールフラグを設定してください :** 「 TridentOrchestrator 」を編集し、「 PEC.UNINSTALL = TRUE 」を設定できます。「 TridentOrchestrator 」 CR を編集し、次に示すように「 uninstall 」フラグを設定します。</block>
  <block id="245e84de93b9b41f643f9e737c17e702" category="paragraph">uninstall` フラグが 'true' に設定されている場合、 Trident オペレータは Trident をアンインストールしますが、 TridentOrchestrator 自体は削除しません。Trident を再度インストールする場合は、 TridentOrchestrator をクリーンアップして新しい Trident を作成する必要があります。</block>
  <block id="a5e00cb8c456b8892f7af2349fe6e10a" category="list-text">** 「 TridentOrchestrator 」を削除 ** Astra Trident のデプロイに使用した「 TridentOrchestrator 」 CR を削除することで、 Trident をアンインストールするようオペレータに指示します。オペレータは「 TridentOrchestrator 」の削除を処理し、 Astra Trident の展開とデストレーションを削除し、インストールの一部として作成した Trident ポッドを削除します。Astra Trident を完全に削除し ( それが作成する CRD を含む ) 、スレートをクリーンにして効果的に消去するには、「 TridentOrchestrator 」を編集して「 wippeout 」オプションを渡すことができます。次の例を参照してください。</block>
  <block id="8aaaff274ba10c527c6bf8facd1c9092" category="paragraph">Astra Trident が完全にアンインストールされ、管理対象のバックエンドとボリュームに関連するすべてのメタデータがクリアされます。以降のインストールは新規インストールとして扱われます。</block>
  <block id="1f119048e6c0b2f219b28b7efae30285" category="admonition">完全なアンインストールを実行する場合にのみ、 CRD の消去を検討してください。この操作は元に戻せません。** 最初からやり直す必要がある場合や、 Astra Trident の新規インストールを作成する場合を除き、 CRD を消去しないでください **</block>
  <block id="20402206432f6b6e75899e8f585ae984" category="paragraph">次のように 'tridentctl コマンドを実行して 'Astra Trident に関連付けられているすべてのリソースを削除しますただし 'CRD および関連オブジェクトは削除されますこれにより ' インストーラを再実行して ' より新しいバージョンに更新することが容易になります</block>
  <block id="1b600643682d5a3280681ef82d7e6ae4" category="paragraph">Astra Trident の完全な削除を実行するには、 Astra Trident によって作成された CRD のフィナライザを削除し、 CRD を削除する必要があります。</block>
  <block id="3bda6d3452a50ffddd40bb74b05d6c50" category="summary">Astra Trident は四半期ごとにリリースサイクルを実施し、毎年 4 つのメジャーリリースをリリースしています。各新しいリリースは、以前のリリースに基づいてビルドされ、新機能とパフォーマンスの強化に加え、バグの修正や改善点が追加されています。Astra Trident の新機能を活用するには、 1 年に 1 回以上アップグレードすることを推奨します。</block>
  <block id="3386987a97643481040e99019808e020" category="doc">Astra Trident をアップグレード</block>
  <block id="ff115c7087db60c699cccdb21f39ea66" category="list-text">その後 '19.07 から 20.07 にアップグレードします</block>
  <block id="558ab0bef1894a7a726109d36632d09d" category="inline-link-macro">既知の問題</block>
  <block id="756bc985c24584ee6c7338b28f771da8" category="admonition">CSI のボリュームスナップショットは、 Kubernetes 1.20 以降の GA 機能になりました。Astra Trident をアップグレードする場合、アップグレードを実行する前に、以前のスナップショット CRS と CRD （ボリューム Snapshot クラス、ボリューム Snapshot 、ボリューム Snapshot コンテンツ）をすべて削除する必要があります。を参照してください<block ref="ddf3864130a7be37c683b2fe21303201" category="inline-link-rx"></block> アルファスナップショットを beta/GA 仕様に移行する手順を理解する。</block>
  <block id="3814df1eaf856112f1f0b22f7f0600e5" category="admonition">etcd' ベースの Trident リリース（ 19.04 以前）を使用している場合は、 Trident のアップグレードにオペレータを使用しないでください。</block>
  <block id="152a676ac450f5b96a35605dde352607" category="section-title">演算子に変更があります</block>
  <block id="fc7e892a21e797d0592360430a5deedd" category="paragraph">Astra Trident の 21.01 リリースでは、アーキテクチャに関する次のような重要な変更がオペレータに導入されています。</block>
  <block id="4d1b9ac70f0037098e345cb389ea45d9" category="list-text">演算子は * cluster を対象とした * になりました。Trident 演算子の以前のインスタンス（バージョン 20.04 ～ 20.10 ）は、 * 名前空間スコープ * でした。クラスタを対象としたオペレータが有利な理由は次のとおりです。</block>
  <block id="d898743d222c4e0e5e333941bee1ed57" category="list-text">リソースのアカウンタビリティ：オペレータは、 Astra Trident インストールに関連付けられたリソースをクラスタレベルで管理するようになりました。Astra Trident のインストールの一部として、「 ownerReferences 」を使用して複数のリソースを作成し、保持します。クラスタを対象としたリソースで「 ownerReferences 」を維持すると、 OpenShift などの特定の Kubernetes ディストリビュータでエラーが発生する可能性があります。これは、クラスタを対象としたオペレータによって緩和されます。Trident リソースの自動修復とパッチ適用には、この要件が不可欠です。</block>
  <block id="375aa3155c54339a366f23cdb01301e5" category="list-text">アンインストール中のクリーンアップ： Astra Trident を完全に削除するには、関連するリソースをすべて削除する必要があります。ネームスペースを対象としたオペレータが、クラスタを対象としたリソース（ clusterRole 、 ClusterRoleBinding 、 PodSecurityPolicy など）の削除で問題が発生し、クリーンアップが完了しない場合があります。クラスタを対象としたオペレータがこの問題を排除し、必要に応じて、 Astra Trident を完全にアンインストールし、 Aresh をインストールできます。</block>
  <block id="6d68e880fd5e5254e122e99a78417abd" category="list-text">TridentProvisioner は、 Astra Trident のインストールと管理に使用されるカスタムリソースとして、 TridentOrchestrator に置き換えられました。さらに、「 TridentOrchestrator 」の仕様に新しいフィールドが追加されました。ユーザは、「 pec.namespace` 」フィールドを使用して Trident ネームスペースをインストールまたはアップグレードするように指定できます。例を見てみましょう<block ref="2890210b17eb9668a60ececdebcd5910" category="inline-link-rx"></block>。</block>
  <block id="9c83e144e5481ac6766f4055e566594d" category="section-title">詳細については、こちらをご覧ください</block>
  <block id="f71fd95d4de4797557e6830c1448c945" category="summary">tridentctl を使用して ' 既存の Astra Trident インストールを簡単にアップグレードできます</block>
  <block id="6224e22d5a77816dd8b659c25a3f88a5" category="paragraph">最新リリースの Astra Trident にアップグレードする際は、次の点を考慮してください。</block>
  <block id="98c7e2ecbd5f5a638272ee366b25b6a1" category="inline-link">ボリューム Snapshot</block>
  <block id="8f9f7d64f0943a9bec25cdd7b786022a" category="list-text">Trident 20.01 以降では、のベータ版のみが提供されます<block ref="0b290b7ed02de23dc49888d0fa4fc114" category="inline-link-rx"></block> がサポートされます。Kubernetes 管理者は、従来のアルファスナップショットを保持するために、アルファスナップショットオブジェクトを安全にバックアップするか、ベータ版に変換するように注意する必要があります。</block>
  <block id="a4155944ba4eeb0c41401ab7bb85d3d9" category="inline-link">この blog</block>
  <block id="4ff0a9f6065b24ce3d325bad3223f4e2" category="paragraph">Astra Trident のアンインストールと再インストールはアップグレードとして機能します。Trident をアンインストールしても、 Astra Trident 環境で使用されている Persistent Volume Claim （ PVC ；永続的ボリューム要求）と Persistent Volume （ PV ；永続的ボリューム）は削除されません。Astra Trident がオフラインの間は、すでにプロビジョニング済みの PVS を引き続き使用でき、 Astra Trident は、オンラインに戻った時点で作成された PVC に対してボリュームをプロビジョニングします。</block>
  <block id="398a8bf92020ed0b4edb1445d1380971" category="admonition">Astra Trident をアップグレードするときは、アップグレードプロセスを中断しないでください。インストーラが実行されていることを確認します。</block>
  <block id="068051b0ea15e91fd236b514c8b35ffe" category="section-title">アップグレード後の次の手順</block>
  <block id="ba79ef627bc5ee010211ca922024f9e4" category="paragraph">新しい Trident リリース（ On-Demand Volume Snapshots など）で利用できる豊富な機能を活用するには、「 tridentctl upgrade 」コマンドを使用してボリュームをアップグレードします。</block>
  <block id="1f97048c5a9c81e85e588044b15b51c8" category="paragraph">レガシーボリュームがある場合は、それらのボリュームを NFS/iSCSI タイプから CSI タイプにアップグレードして、 Astra Trident のすべての新機能を使用できるようにする必要があります。Trident によってプロビジョニングされたレガシー PV は、従来の機能セットをサポートします。</block>
  <block id="aae0cab55b3d14012cfc61ef5ad46105" category="paragraph">CSI タイプにボリュームをアップグレードする場合は、次の点を考慮してください。</block>
  <block id="9407b572db9501134ce92167448428fb" category="list-text">場合によっては、すべてのボリュームをアップグレードする必要はありません。以前に作成したボリュームには引き続きアクセスでき、正常に機能します。</block>
  <block id="35127b2fd7c387c56305575dfafe2a97" category="list-text">PV は、アップグレード時に展開 / 起動可能セットの一部としてマウントできます。展開 / 起動セットを停止する必要はありません。</block>
  <block id="260eeb1b0c4ec05a9788dc485ed03d36" category="list-text">アップグレード時に、スタンドアロンの POD に PV を接続することはできません。ボリュームをアップグレードする前に、ポッドをシャットダウンする必要があります。</block>
  <block id="2d59c3aee4c9fe757980153c65e922d0" category="list-text">アップグレードできるのは、 PVC にバインドされているボリュームだけです。PVC にバインドされていないボリュームは、アップグレード前に削除およびインポートする必要があります。</block>
  <block id="f2e9d80774fbee2a6152ad9c7db8e0ee" category="section-title">ボリュームのアップグレードの例</block>
  <block id="eff342caa8bb47fc3653d7b149aa91d4" category="paragraph">次の例は、ボリュームのアップグレードを実行する方法を示しています。</block>
  <block id="fbc477673a43a428e429fe6902c6e36a" category="list-text">kubectl get pv を実行して PVS を一覧表示します</block>
  <block id="09d5f690bff68f8b4ffeeed3dac1f534" category="paragraph">現在、 Trident 20.07 によって「 NetApp.io/trident 」プロビジョニングツールを使用して作成された 4 つの PVS があります。</block>
  <block id="581ee670123fe76ff75275867ef06bcc" category="list-text">kubectl describe pv を実行して PV の詳細を取得します。</block>
  <block id="a20b570eccfacf0ac4684823643f91a1" category="paragraph">PV は 'NetApp.io/trident プロビジョニングツールを使用して作成されたものであり 'NFS タイプのものですAstra Trident が提供する新機能をすべてサポートするには、この PV を CSI タイプにアップグレードする必要があります。</block>
  <block id="c18e246999f594d4fb39c857bcdd1e09" category="list-text">kubectl describe pv を実行して、ボリュームが CSI ボリュームであることを確認します。</block>
  <block id="fb741f44b40455e466443f8f96ace85e" category="paragraph">このようにして、 Astra Trident によって作成された NFS/iSCSI タイプのボリュームを、ボリューム単位で CSI タイプにアップグレードできます。</block>
  <block id="48dec026afe488df8faca35c5c3a39ea" category="summary">Trident 環境で Element バックエンドを作成して使用する方法について説明します。</block>
  <block id="f58e95baa778c9a2bd1a4597fb49d9b7" category="doc">ONTAP ドライバ</block>
  <block id="0e842f431ce1b4dfb57598e5682e3adc" category="paragraph">Astra Trident は、 ONTAP クラスタとの通信に使用する 5 つの ONTAP ストレージドライバを提供します。各ドライバーがボリュームの作成、アクセス制御、機能をどのように処理するかについて、詳細をご覧ください。</block>
  <block id="48cf24486d9a8e65a142b25682f19949" category="cell">ドライバ</block>
  <block id="888a77f5ac0748b6c8001822417df8b6" category="cell">プロトコル</block>
  <block id="1b5e109e8afd1f9b7f5bbf951eea3442" category="cell">ボリュームモード</block>
  <block id="d5e2d9f8d8f10044e38b71b49e675d2e" category="cell">サポートされているアクセスモード</block>
  <block id="15971126972a002fcddb2c507534e371" category="cell">サポートされるファイルシステム</block>
  <block id="ac52cf637478f3656a1fdee5c02324fd" category="paragraph">ファイルシステム</block>
  <block id="9f47e55b538b64923f2ee8c19bc6887a" category="paragraph">"" 、 NFS です</block>
  <block id="e1e4c8c9ccd9fc39c391da4bcd093fb2" category="paragraph">ブロック</block>
  <block id="aa91b58ced7ef060eb0e27ac4e1d18a8" category="paragraph">RWO 、 ROX 、 RWX</block>
  <block id="0b86d82002caac6130185da4ef1be67e" category="paragraph">RWO 、 ROX</block>
  <block id="a029cca698cbf05f07897f86c43cf9e8" category="paragraph">「 xfs 」、「 ext3 」、「 ext4 」</block>
  <block id="d00888bc1409d1c598b90af117bd3551" category="summary">Trident の Astra プロビジョニングの主なフェーズは 2 つあります。最初のフェーズでは、ストレージクラスを適切なバックエンドストレージプールのセットに関連付け、プロビジョニング前の必要な準備として実行します。2 番目のフェーズでは、ボリュームの作成自体が行われます。このフェーズでは、保留中のボリュームのストレージクラスに関連付けられたストレージプールからストレージプールを選択する必要があります。</block>
  <block id="7c738d9c13e4e5770c6b455ab345afd7" category="paragraph">Astra Trident は、 NetApp の Astra の基盤テクノロジでもあり、 NetApp のスナップショット、バックアップ、レプリケーション、クローニングに業界をリードするデータ管理テクノロジを活用して、 Kubernetes ワークロードのデータ保護、ディザスタリカバリ、ポータビリティ、移行のユースケースに対応します。</block>
  <block id="4bd05efa612e48dd723de2bdd29f88e2" category="section-title">サポートされる Kubernetes クラスタアーキテクチャ</block>
  <block id="85b179f2c10f76f0171b4d9d3f2d5171" category="paragraph">Astra Trident は、次の Kubernetes アーキテクチャでサポートされています。</block>
  <block id="c91cda04d3ac5ae2da327d347d4bbefe" category="cell">Kubernetes クラスタアーキテクチャ</block>
  <block id="eaa4dc5078017a5c5bebf383ab6f5124" category="cell">サポートされます</block>
  <block id="c0057eecd4b1a67d11dc801b8992a574" category="cell">デフォルトのインストールです</block>
  <block id="0c69c79a8788e0e4572d0c4838e69401" category="cell">単一マスター、コンピューティング</block>
  <block id="1fc3441370ae575a64d605fcd15a05fd" category="cell">複数のマスター、コンピューティング</block>
  <block id="7cb2eb9488f3532834f7ef233ae894dd" category="cell">マスター、「 etcd' 」、コンピューティング</block>
  <block id="5e5f49db20e29f6377e57e98932dae57" category="cell">マスター、インフラ、コンピューティング</block>
  <block id="ae663d0d321764bd88b8d864cd3afc9e" category="section-title">アストラとは</block>
  <block id="dd91e88f9a6ec30684f494c41baeeee0" category="paragraph">Astra を使用すると、 Kubernetes で実行されている大量のデータコンテナ化ワークロードを、パブリッククラウドとオンプレミスの間で簡単に管理、保護、移動できます。Astra は、ネットアップの実績ある拡張可能なパブリッククラウドストレージポートフォリオとオンプレミスのストレージポートフォリオから、 Astra Trident を使用して永続的なコンテナストレージをプロビジョニングし、提供します。また、 Kubernetes ワークロード向けに、 Snapshot 、バックアップとリストア、アクティビティログ、アクティブクローニングによるデータ保護、ディザスタ / データリカバリ、データ監査、移行のユースケースなど、アプリケーションに対応した高度なデータ管理機能も豊富に用意されています。</block>
  <block id="2a778cf7220cdde142651975e1bcd90f" category="paragraph">仮想プールリストの外部で指定されたすべての要素はバックエンドにグローバルであり、すべての仮想プールに適用されます。一方、各仮想プールは、 1 つまたは複数の要素を個別に指定できます（バックエンドグローバルな要素を上書きします）。</block>
  <block id="e1b3ec89ead7f83a9245ed5c9cacfdbf" category="cell">演算子</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="cell">例</block>
  <block id="499badcb6f450c7f46c51d873eb84286" category="cell">`=`</block>
  <block id="354653142ec321459dfd6d71444e992e" category="cell">パフォーマンス = プレミアム</block>
  <block id="5a5292b0a0d0379f0f1b12801b09b266" category="cell">`!= `</block>
  <block id="eccde6822783bd75209c9b6a2d357f6c" category="cell">パフォーマンス！ = 非常に優れています</block>
  <block id="ae2bef277194f73d24a36a78009aac1e" category="cell">「 in`</block>
  <block id="f8cf8c23afb5459dbf7c24b685caf85b" category="cell">場所（東部、西部）</block>
  <block id="1a031eecbce49366e550273b9321b909" category="cell">「 notin 」</block>
  <block id="b5585f3f9b45f391fee5dd15e6516450" category="cell">パフォーマンス記名（シルバー、ブロンズ）</block>
  <block id="ae8e28c37a725c4bb4a74663ac8615ea" category="summary">Trident がボリュームアクセスグループをどのように使用しているかをご確認ください。</block>
  <block id="b4621305109716b02eed0cf25fabab13" category="doc">ボリュームアクセスグループ</block>
  <block id="33911b1eec54b4b5a7fbc504e6569989" category="inline-link">ボリュームアクセスグループ</block>
  <block id="649833006ff7b612c3d988173b6417d5" category="paragraph">Trident がどのように活用されているかをご確認ください<block ref="783dd6ea9e0b09c84db9ccd072a61c55" category="inline-link-rx"></block>。</block>
  <block id="e93c18adf30bc91499234d0ec7863499" category="admonition">CHAP を使用する場合は、このセクションを無視してください。 CHAP では、管理を簡易化し、以下に説明する拡張の制限を回避することが推奨されます。また、 CSI モードで Astra Trident を使用している場合は、このセクションを無視できます。Astra Trident は、強化された CSI プロビジョニングツールとしてインストールされた場合、 CHAP を使用します。</block>
  <block id="3c56a859b413098b6bf2c54aff32a842" category="paragraph">Astra Trident は、ボリュームアクセスグループを使用して、プロビジョニングするボリュームへのアクセスを制御できるCHAP が無効になっている場合、構成に 1 つ以上のアクセスグループ ID を指定しない限り、「 trident 」というアクセスグループが検索されます。</block>
  <block id="025d19ee81e813e3ba40553cd4908638" category="paragraph">Trident が設定されたアクセスグループに新しいボリュームを関連付けても、アクセスグループ自体は作成も管理もされません。ストレージバックエンドが Astra Trident に追加される前に、アクセスグループが存在している必要があります。また、 Kubernetes クラスタ内の、バックエンドでプロビジョニングされたボリュームをマウントできるすべてのノードの iSCSI IQN が含まれている必要があります。ほとんどのインストール環境では、クラスタ内のすべてのワーカーノードがこれに含まれます。</block>
  <block id="dff8ca466bae899e4dbc68c3a552033f" category="paragraph">Kubernetes クラスタに 64 個を超えるノードがある場合は、複数のアクセスグループを使用する必要があります。各アクセスグループには最大 64 個の IQN を含めることができ、各ボリュームは 4 つのアクセスグループに属することができます。最大 4 つのアクセスグループを設定すると、クラスタ内の任意のノードから最大 256 ノードのサイズのすべてのボリュームにアクセスできるようになります。ボリュームアクセスグループの最新の制限については、を参照してください<block ref="ac4000c3a85e5909daa6593f9f0617fd" category="inline-link-rx"></block>。</block>
  <block id="4f5254b466f691d7b0c50fb0d8286075" category="paragraph">デフォルトの trident' アクセスグループを使用している構成から ' 他のアクセスグループを使用している構成に変更する場合は ' リストに trident' アクセスグループの ID を含めます</block>
  <block id="4d5445eb6c70cdab8d3ad5e71367f42a" category="summary">Trident がドライバ用のボリュームスナップショットの作成をどのように処理するかについては、こちらをご覧ください。</block>
  <block id="e9c3828cd06711f9036bb4ce862a32c5" category="doc">ボリューム Snapshot</block>
  <block id="98c670ffe759cc20cd8a31d49bd0b4fc" category="list-text">「 ONTAP-SAN-エコノミー 」ドライバの場合、 PVS は共有 FlexVol 上に作成された LUN にマッピングされます。PVS のボリューム Snapshot は、関連付けられた LUN の FlexClone を実行することで実現されます。ONTAP の FlexClone テクノロジにより、最大規模のデータセットでもほぼ瞬時にコピーを作成できます。コピーと親でデータブロックが共有されるため、メタデータに必要な分しかストレージは消費されません。</block>
  <block id="9dbabbadda024bb7b1d0db43ab31b45f" category="list-text">「 olidfire-SAN' ドライバの場合、各 PV は NetApp Element ソフトウェア / NetApp HCI クラスタ上に作成された LUN にマッピングされます。ボリューム Snapshot は、基盤となる LUN の Element Snapshot で表されます。これらの Snapshot はポイントインタイムコピーであり、消費するシステムリソースとスペースはごくわずかです。</block>
  <block id="34f731018ae783f70901b14b4950c3a7" category="list-text">ONTAP スナップショットは 'ONTAP-NAS' および「 ONTAP-SAN' 」ドライバと連携して動作する場合 ' FlexVol のポイント・イン・タイム・コピーであり ' FlexVol 自体の領域を消費しますその結果、ボリューム内の書き込み可能なスペースが、 Snapshot の作成やスケジュール設定にかかる時間を短縮できます。この問題に対処する簡単な方法の 1 つは、 Kubernetes を使用してサイズを変更することでボリュームを拡張することです。もう 1 つの方法は、不要になった Snapshot を削除することです。Kubernetes で作成されたボリューム Snapshot を削除すると、関連付けられている ONTAP Snapshot が Astra Trident から削除されます。Kubernetes で作成されていない ONTAP スナップショットも削除できます。</block>
  <block id="1eb824f8d9b30b3f4e089938e719fefe" category="paragraph">ネットアップの Trident では、ボリューム Snapshot を使用して PVS を新規作成できます。これらの Snapshot から PVS を作成するには、サポート対象の ONTAP および CVS バックエンドに対して FlexClone テクノロジを使用します。Snapshot から PV を作成する場合、バッキングボリュームは Snapshot の親ボリュームの FlexClone です。'olidfire-SAN' ドライバは ' スナップショットから PVS を作成するために Element ソフトウェアボリュームクローンを使用しますここで、 Element Snapshot からクローンを作成します。</block>
  <block id="89c3bcf0ecc1114f8d19734d9156cb40" category="doc">プロビジョニング</block>
  <block id="2bd42f922a8c0b54b90557eba2071a76" category="paragraph">バックエンド・ストレージ・プールをストレージ・クラスに関連付けるには ' ストレージ・クラスの要求された属性と 'toragePools'additionalStoragePools'`excludeStoragePools' リストの両方が必要ですストレージクラスを作成すると、 Trident はバックエンドごとに提供される属性とプールを、ストレージクラスから要求された属性とプールと比較します。要求された属性とプール名がストレージプールの属性と名前ですべて一致した場合、 Astra Trident がそのストレージプールを、そのストレージクラスに適した一連のストレージプールに追加します。さらに、属性がストレージクラスの要求された属性のすべてまたは一部を満たしていない場合でも、 Astra Trident は、そのセットに「 additionalStoragePools 」リストにリストされているすべてのストレージプールを追加します。ストレージ・クラスのストレージ・プールを上書きして ' ストレージ・クラスに使用しないようにするには 'excludeStoragePools' リストを使用する必要がありますAstra Trident では、新しいバックエンドを追加するたびに同様のプロセスが実行され、ストレージプールが既存のストレージクラスのストレージクラスを満たしているかどうかが確認され、除外済みとマークされているストレージが削除されます。</block>
  <block id="668ccb4dd1c284f07a3062637c57d21a" category="paragraph">Trident がさらに、ストレージクラスとストレージプールの間の関連付けを使用して、ボリュームのプロビジョニング先を決定します。ボリュームを作成すると、最初にそのボリュームのストレージクラス用の一連のストレージプールが Trident から取得されます。 また、ボリュームにプロトコルを指定した場合、 Astra Trident は要求されたプロトコルを提供できないストレージプールを削除します（たとえば、 NetApp HCI / SolidFire バックエンドはファイルベースのボリュームを提供できませんが、 ONTAP NAS バックエンドはブロックベースのボリュームを提供できません）。Trident がこのセットの順序をランダム化し、ボリュームを均等に分散してから、各ストレージプールでボリュームを順番にプロビジョニングしようとします。成功した場合は正常に返され、プロセスで発生したエラーが記録されます。Astra Trident は、要求されたストレージクラスとプロトコルで使用可能なすべてのストレージプールで * プロビジョニングに失敗した場合にのみ、障害 * を返します。</block>
  <block id="3d522b99ca94333433532daa23e7ceab" category="summary">Trident が提供する Astra のインストール、設定、アップグレード、トラブルシューティングに関する FAQ を掲載しています。</block>
  <block id="af2a4d2810d86aa0169c117f82682f9a" category="doc">よくある質問</block>
  <block id="96ab491ef73d5db0cd15f55e1552cc22" category="section-title">一般的な質問</block>
  <block id="b34c3d20de0f1b2c7a69bdc59002ad47" category="section-title">Trident がリリースされる頻度を教えてください。</block>
  <block id="2f55088c7d055eb361252b15d5d7af10" category="paragraph">Trident は、 1 月、 4 月、 7 月、 10 月の 3 カ月ごとにリリースされます。Kubernetes のリリースから 1 カ月後です。</block>
  <block id="15602d1e4b699ebca549a3d953672d8c" category="section-title">Astra Trident は、特定のバージョンの Kubernetes でリリースされたすべての機能をサポートしていますか。</block>
  <block id="d860923e20119473e7f7d50683cb0559" category="paragraph">Astra Trident は、通常、 Kubernetes でアルファ機能をサポートしていません。Trident は、 Kubernetes ベータリリースに続く 2 つの Trident リリースでベータ機能をサポートしています。</block>
  <block id="52ffcf336df0055235949cf324a8624b" category="section-title">Astra Trident には、他のネットアップ製品との依存関係はありますか。</block>
  <block id="9a10bc69a2553cd055c7b66932fd3864" category="paragraph">Astra Trident は、他のネットアップソフトウェア製品に依存しないため、スタンドアロンアプリケーションとして機能します。ただし、ネットアップのバックエンドストレージデバイスが必要です。</block>
  <block id="bda04f64eaa9613cb4923cf43e24954c" category="section-title">Astra Trident の設定の詳細をすべて取得するにはどうすればよいですか。</block>
  <block id="6d6d1fbb6191413b3262aed487048f1e" category="paragraph">tridentctl get コマンドを使用して 'Astra Trident の構成に関する詳細情報を取得します</block>
  <block id="d8634bcd1659c9cdf6f1a7a92ec00c30" category="section-title">Astra Trident を使用してストレージをプロビジョニングする方法に関するメトリクスを取得できますか。</block>
  <block id="1435574cfec44734b2bfc2b94327b118" category="paragraph">はい。Trident 20.01 には、管理対象のバックエンドの数、プロビジョニングされたボリュームの数、消費されたバイト数など、 Astra Trident の動作に関する情報を収集するために使用できる Prometheus エンドポイントが導入されています。また、 Cloud Insights を使用して監視と分析を行うこともできます。</block>
  <block id="3e9ebf4af3f0b9d1852396d46171ef99" category="section-title">Astra Trident を CSI プロビジョニング担当者として使用すると、ユーザエクスペリエンスは変化しますか。</block>
  <block id="05f95d89af1ccd9b986014406a4b1fc8" category="paragraph">いいえユーザエクスペリエンスと機能に関する変更はありません。使用されるプロビジョニング名は csi.trident.netapp.io` です現在および将来のリリースで提供される新しい機能をすべて使用する場合は、 Astra Trident をインストールする方法を推奨します。</block>
  <block id="0a7e87df44869b8d60a83f35d1e2747b" category="section-title">Kubernetes クラスタに Astra Trident をインストールして使用</block>
  <block id="6a3ad0d68dcfe0164611dadb7f7656f9" category="paragraph">Astra Trident はもはや「 etcd 」を必要としない。状態を維持するために CRD を使用します。</block>
  <block id="bde6cb03741f92107c63aeebe62d3278" category="section-title">Astra Trident はプライベートレジストリからのオフラインインストールをサポートしていますか。</block>
  <block id="1c51806b370d428d5779dbcacd940174" category="section-title">Astra Trident はリモートからインストールできますか。</block>
  <block id="bf858450c271da75a3df3a15ca761330" category="paragraph">はい。Astra Trident 18.10 以降では、クラスタへのアクセスが「 kubectl 」に設定されている任意のマシンからのリモートインストール機能がサポートされています。kubectl アクセスが確認されたら ( たとえば ' リモート・マシンから kubectl get nodes コマンドを起動して確認します ) ' インストール手順に従います</block>
  <block id="12694c2de4575e39a6f7e81d55e35de9" category="section-title">Astra Trident でハイアベイラビリティを構成できますか。</block>
  <block id="f1cf2ca3af6ca7c374ad2104f570c790" category="paragraph">Astra Trident は、 1 つのインスタンスで Kubernetes Deployment （ ReplicaSet ）としてインストールされるため、 HA が組み込まれています。導入環境内のレプリカの数は増やすべきではありません。Astra Trident がインストールされているノードが失われた場合や、ポッドにアクセスできない場合は、 Kubernetes によって、クラスタ内の正常なノードにポッドが自動的に再導入されます。Astra Trident はコントロールプレーンのみであるため、 Astra Trident を再導入しても、現在マウントされているポッドには影響しません。</block>
  <block id="1656e4b34abdb6d497b40cac65366767" category="section-title">Astra Trident は kube-system ネームスペースにアクセスする必要がありますか。</block>
  <block id="6f67e1edfd4aa5b0e695528a9c7d8898" category="paragraph">Astra Trident は Kubernetes API Server からデータを読み取り、アプリケーションが新しい PVC を要求するタイミングを判断して、 kube-system へのアクセスを必要とします。</block>
  <block id="16cdb35003b5bcf0f30556e0bc477511" category="section-title">Astra Trident で使用されるロールと権限を教えてください。</block>
  <block id="8ff39a39871cc30228035bc0580a6af4" category="section-title">Astra Trident がインストールに使用するマニフェストファイルをローカルで生成できますか。</block>
  <block id="e6af67b71bd46d7588b50f28e1414f9b" category="section-title">2 つの別々の Kubernetes クラスタに対して、同じ ONTAP バックエンド SVM を 2 つの別々の Astra Trident インスタンスに対して共有できますか。</block>
  <block id="7bbf9b47e035f0f9bb7c46098e78fb4d" category="paragraph">推奨されませんが、同じバックエンド SVM を 2 つの Astra Trident インスタンスに使用できます。インストール時に各インスタンスに一意のボリューム名を指定するか、「 setup/backend.json 」ファイルに一意の「 S toragePrefix 」パラメータを指定します。これは、両方のインスタンスで同じ FlexVol を使用しないためです。</block>
  <block id="9840a5bb6278469ed550bcdcc92c29c5" category="section-title">ContainerLinux （旧 CoreOS ）に Astra Trident をインストールすることはできますか。</block>
  <block id="7a35680d9db247612b732ae47144f030" category="paragraph">Astra Trident は Kubernetes ポッドとして機能し、 Kubernetes が実行されている場所に導入できます。</block>
  <block id="5fc6de1b535ebb2a5380b6aa607e4cca" category="section-title">ネットアップの Cloud Volumes ONTAP で Astra Trident を使用できますか。</block>
  <block id="5d1cff73e26dc54ef52bdca5a29b319c" category="paragraph">はい、 Astra Trident は AWS 、 Google Cloud 、 Azure でサポートされています。</block>
  <block id="2ddee53d5c18f6e78f18dad82851303e" category="section-title">Astra Trident は Cloud Volume サービスと連携していますか。</block>
  <block id="92d1656d06303733c5e1398fb273a17e" category="section-title">トラブルシューティングとサポート</block>
  <block id="9985a592486717ae388709b9267da4f9" category="section-title">ネットアップは Astra Trident をサポートしていますか。</block>
  <block id="cc56e0da96ceaf708545923f1094815b" category="paragraph">Astra Trident はオープンソースであり、無償で提供されますが、ネットアップのバックエンドがサポートされていれば、完全にサポートされています。</block>
  <block id="a3d907947129a58ee6f9e23074840c8f" category="section-title">サポートケースを作成するにはどうすればよいですか？</block>
  <block id="0265687df6c09d532b03477776c6d075" category="paragraph">サポートケースを作成するには、次のいずれかを実行します。</block>
  <block id="5dab8cca21a0ff4e72d4e2a1ee5156ea" category="list-text">サポートアカウントマネージャーに連絡して、チケットの発行に関するサポートを受けてください。</block>
  <block id="09ea0908fbfc4cde85bf416e35dc55c8" category="inline-link">ネットアップサポート</block>
  <block id="a13956d424374973d31e5883b8bf8b6a" category="list-text">連絡してサポートケースを作成します<block ref="116f7ad90a3c7441981f82d8f8fba4d5" category="inline-link-rx"></block>。</block>
  <block id="3e77e87e5ee8fb4f6f910f4cf0594fc2" category="section-title">サポートログバンドルを生成するにはどうすればよいですか？</block>
  <block id="7938aed248d09a5120eaf414e6c1d574" category="paragraph">tridentctl logs-a を実行して ' サポートバンドルを作成できますバンドルでキャプチャされたログに加えて、 kubelet ログをキャプチャして、 Kubernetes 側のマウントの問題を診断します。kubelet ログの取得手順は、 Kubernetes のインストール方法によって異なります。</block>
  <block id="2c3543f339dc749a508ed5e5e5aaae23" category="section-title">新しい機能のリクエストを発行する必要がある場合は、どうすればよいですか。</block>
  <block id="0aa1d7a95d75c0faa8302a803356b7b7" category="section-title">不具合を発生させる場所</block>
  <block id="4c1d312c39e7048d2c634824e243fdba" category="inline-link">Astra Trident Github</block>
  <block id="a814c59a6fef2fb64a2a32dedcf6f82e" category="paragraph">に問題を作成します<block ref="e71a8230f1c77ee7d957187295b859e4" category="inline-link-rx"></block>。問題に関連する必要なすべての情報とログを記録しておいてください。</block>
  <block id="fd0759571f12527967b660b5b327c65b" category="section-title">ネットアップが Trident の Astra について簡単に質問できたらどうなりますか。コミュニティやフォーラムはありますか？</block>
  <block id="264c3819b5a8fdae87f1dc9af1988a90" category="section-title">ストレージシステムのパスワードが変更され、 Astra Trident が機能しなくなった場合、どのように回復すればよいですか。</block>
  <block id="061ec2ab4d383b8f20e15eda656db8f7" category="paragraph">バックエンドのパスワードを tridentctl update backend myBackend-f &lt;/path/to_new_backend.json &gt;-n trident` で更新します。この例の「 m yBackend` 」をバックエンド名に置き換え、「 /path/to _new_backend.json 」を正しい「 backend.json 」ファイルへのパスに置き換えます。</block>
  <block id="6100f37d544e87e462129f21e52bae7f" category="section-title">Astra Trident が Kubernetes ノードを検出できない。この問題を解決するにはどうすればよいですか</block>
  <block id="d5cf5c734786394c838bacc6597594c6" category="paragraph">Trident が Kubernetes ノードを検出できない場合、次の 2 つのケースが考えられます。Kubernetes または DNS 問題内のネットワーク問題が原因の場合もあります。各 Kubernetes ノードで実行される Trident ノードのデデーモンが Trident コントローラと通信し、 Trident にノードを登録できる必要があります。Astra Trident のインストール後にネットワークの変更が発生した場合、この問題が発生するのはクラスタに追加された新しい Kubernetes ノードだけです。</block>
  <block id="bcd549c9f0199c5b8d0b55f782bff9e8" category="section-title">Trident ポッドが破損すると、データは失われますか？</block>
  <block id="136fed1edd42bf8ca22358da037d17fa" category="paragraph">Trident ポッドが削除されても、データは失われません。Trident のメタデータは、 CRD オブジェクトに格納されます。Trident によってプロビジョニングされた PVS はすべて正常に機能します。</block>
  <block id="3de05f78e401869f4630ec8cabf339df" category="section-title">古いバージョンから新しいバージョンに直接アップグレードできますか（いくつかのバージョンはスキップします）？</block>
  <block id="ce44cbbc54839f39b351c091b0e3caa5" category="paragraph">ネットアップでは、 Astra Trident のメジャーリリースから次回のメジャーリリースへのアップグレードをサポートしています。バージョン 18.xx から 19.xx 、 19.xx から 20.xx にアップグレードできます。本番環境の導入前に、ラボでアップグレードをテストする必要があります。</block>
  <block id="0399b9e6348e554937a4d65efc97a1b8" category="section-title">Trident を以前のリリースにダウングレードできますか。</block>
  <block id="d307563c01953bd90a41ddd049f96d51" category="inline-link-macro">ダウングレードに関するセクション</block>
  <block id="ba9c59aa9d07b25e124dcf6ca88d689a" category="section-title">バックエンドとボリュームを管理</block>
  <block id="ffe72215dff9a93d62ee68905212025e" category="section-title">ONTAP バックエンド定義ファイルに管理 LIF とデータ LIF の両方を定義する必要がありますか。</block>
  <block id="f3997f0b9446951754e665cfe7591cef" category="section-title">Astra Trident が ONTAP バックエンドに CHAP を設定できるか。</block>
  <block id="805f73dde029c6c119993b4496bbdc9e" category="paragraph">はい。20.04 以降、 Astra Trident は ONTAP バックエンドに対して双方向 CHAP をサポートします。バックエンド構成では 'useCHAP =true' を設定する必要があります</block>
  <block id="952cc22022a80bb8079f6dd7afb289d2" category="section-title">Astra Trident を使用してエクスポートポリシーを管理するにはどうすればよいですか。</block>
  <block id="700815d44ae9a359311f64dbebbd8d42" category="paragraph">Astra Trident では、バージョン 20.04 以降からエクスポートポリシーを動的に作成、管理できます。これにより、ストレージ管理者はバックエンド構成に 1 つ以上の CIDR ブロックを指定でき、 Trident では、その範囲に含まれるノード IP を作成したエクスポートポリシーに追加できます。このようにして、 Astra Trident は特定の CIDR 内に IP アドレスが割り当てられたノードのルールの追加と削除を自動的に管理します。この機能には CSI Trident が必要です。</block>
  <block id="ddd61a9bf73a6cb2a2375bcdfbecbe15" category="section-title">データ LIF にポートを指定できるか。</block>
  <block id="c7449c080f216d9be59d8ff995985d39" category="paragraph">Astra Trident 19.01 以降では、 DataLIF にポートを指定できます。「 backend.json 」ファイルに「 managementlif 」として設定します。 &lt;IP アドレス &gt;:&lt;port&gt;`` 。たとえば、管理 LIF の IP アドレスが 192.0.2.1 で、ポートが 1000 の場合、「 managementlif 」：「 192.0.2.1 ： 1000」 を設定します。</block>
  <block id="1d08384060bd88a7801faae4fe346d06" category="section-title">管理 LIF とデータ LIF に IPv6 アドレスを使用できますか。</block>
  <block id="4c0e813a0bfed033d75bbfd8b18f556c" category="section-title">バックエンドの管理 LIF を更新できますか。</block>
  <block id="66d8fee83a94421ca416a2bdb33703b4" category="paragraph">はい。 tridentctl update backend コマンドを使用してバックエンド管理 LIF を更新できます。</block>
  <block id="c56cd7a01da4acc4fc86aa498cabfd99" category="section-title">バックエンドのデータ LIF を更新できるか。</block>
  <block id="1e0e6fcec605e6450ba12b95969c8959" category="section-title">Kubernetes 向け Astra Trident で複数のバックエンドを作成できますか。</block>
  <block id="fb3cb30bfe23466a98407256c8b5164f" category="paragraph">Astra Trident では、同じドライバまたは別々のドライバを使用して、多数のバックエンドを同時にサポートできます。</block>
  <block id="6454319cc2398418b67f5b2df5aa5cd3" category="section-title">Astra Trident はバックエンドクレデンシャルをどのように保存しますか。</block>
  <block id="1d406f7ac7268b602da0989a4675480e" category="paragraph">Astra Trident では、バックエンドのクレデンシャルを Kubernetes のシークレットとして格納します。</block>
  <block id="64a610ffaa66abeebc73d8159b9f73ec" category="section-title">Astra Trident ではどのようにして特定のバックエンドを選択しますか。</block>
  <block id="c6e9fbb586ad55ddf4bbda9814c6adc9" category="paragraph">バックエンド属性を使用してクラスに適切なプールを自動的に選択できない場合は 'toragePools' パラメータと additionalStoragePools' パラメータを使用して ' 特定のプールセットを選択します</block>
  <block id="3beefa69a05dde01d93a438a943a5a7a" category="section-title">Astra Trident が特定のバックエンドからプロビジョニングされないようにするにはどうすればよいですか。</block>
  <block id="b5c265487a1fed6a3367664ccab664bb" category="paragraph">excludeStoragePools' パラメータを使用して 'Astra Trident がプロビジョニングに使用する一連のプールをフィルタリングし ' 一致するプールをすべて削除します</block>
  <block id="e124ac30adf3eea60a13cd5f93980e7e" category="section-title">同じ種類のバックエンドが複数ある場合、 Astra Trident はどのバックエンドを使用するかをどのように選択しますか。</block>
  <block id="c02ba3e7f8a02e0d1e29e2190a86e352" category="paragraph">同じタイプのバックエンドが複数設定されている場合、 Astra Trident は、「 torageClass 」および「 PersistentVolumeClaim 」にあるパラメータに基づいて適切なバックエンドを選択します。たとえば、複数の ONTAP-NAS ドライババックエンドがある場合、 Astra Trident は「 S torageClass 」と「 PersistentVolumeClaim 」のパラメータを組み合わせて照合し、「 S torageClass 」と「 PersistentVolumeClaim 」に記載された要件を提供できるバックエンドと照合します。この要求に一致するバックエンドが複数ある場合、 Astra Trident はいずれかのバックエンドからランダムに選択します。</block>
  <block id="7a2fd62f4a63259a7f94543a0ae01e76" category="section-title">Astra Trident は、 Element / SolidFire で双方向 CHAP をサポートしていますか。</block>
  <block id="b127099c71415d532da3a26ed73eb041" category="paragraph">はい。</block>
  <block id="7880810a250adc4ccf5108fe88325055" category="section-title">Trident が ONTAP ボリュームに qtree を導入する方法を教えてください。1 つのボリュームに配置できる qtree の数はいくつですか。</block>
  <block id="657cbdac1a85665b0b38b37c9a306925" category="paragraph">「 ONTAP-NAS-エコノミー 」ドライバは、同一の FlexVol （ 50 ～ 300 の範囲で設定可能）で最大 200 個の qtree を作成し、クラスタ・ノードあたり 100,000 個の qtree を作成し、クラスタあたり 240 万個を作成します。エコノミー・ドライバーがサービスを提供する新しい「 PersistentVolumeClaim 」を入力すると、ドライバーは新しい qtree にサービスを提供できる FlexVol がすでに存在するかどうかを確認します。qtree を提供できる FlexVol が存在しない場合は、新しい FlexVol が作成されます。</block>
  <block id="abbdd4298bb3e525fd172b2bbe5a451c" category="section-title">ONTAP NAS でプロビジョニングされたボリュームに UNIX アクセス権を設定するにはどうすればよいですか。</block>
  <block id="a535e502931280dfaa539ecd1cbdfc0c" category="paragraph">Astra Trident でプロビジョニングしたボリュームに対して UNIX 権限を設定するには、バックエンド定義ファイルにパラメータを設定します。</block>
  <block id="094ef47e6456d60b656401b0f2bbfcbd" category="section-title">ボリュームをプロビジョニングする際に、明示的な ONTAP NFS マウントオプションを設定するにはどうすればよいですか。</block>
  <block id="ae6bc3659bb0be0a7d9f98a63775b7c2" category="section-title">プロビジョニングしたボリュームを特定のエクスポートポリシーに設定するにはどうすればよいですか？</block>
  <block id="700a2008fea63d02c24b85f2f75d357e" category="paragraph">適切なホストにボリュームへのアクセスを許可するには、バックエンド定義ファイルに設定されている「 exportPolicy 」パラメータを使用します。</block>
  <block id="9d5813dee71bcbf3d3a03c62354c3e55" category="section-title">ONTAP を使用して Astra Trident 経由でボリューム暗号化を設定する方法を教えてください。</block>
  <block id="ef1581716b653c4364dd5005dbe9e40a" category="section-title">Trident 経由で ONTAP に QoS を実装するには、どのような方法が最適ですか。</block>
  <block id="f412d672b51ea3c57812ebf3be0ddccb" category="paragraph">ONTAP の QoS を実装するには、「 torageClasses 」を使用します。</block>
  <block id="1c771b761835123a135e64f70567d768" category="section-title">Trident 経由でシンプロビジョニングやシックプロビジョニングを指定するにはどうすればよいですか。</block>
  <block id="0d97afe7a571dc39db1c810013844332" category="paragraph">ONTAP ドライバは、シンプロビジョニングまたはシックプロビジョニングをサポートします。ONTAP ドライバはデフォルトでシンプロビジョニングに設定されています。シックプロビジョニングが必要な場合は、バックエンド定義ファイルまたは「 torageClass 」を設定する必要があります。両方が設定されている場合は、「 torageClass 」が優先されます。ONTAP で次の項目を設定します。</block>
  <block id="2d0384de8b72e53c3476a478a5d4ec53" category="list-text">'S torageClass' で 'provisioningType' 属性を thick に設定します</block>
  <block id="3764067c4b14276efb241c511c8b0cc2" category="list-text">バックエンド定義ファイルで 'backend spaceReserve パラメータを volume に設定して ' シックボリュームを有効にします</block>
  <block id="d4391b26a81fead46afc74243c4029aa" category="section-title">誤って PVC を削除した場合でも、使用中のボリュームが削除されないようにするにはどうすればよいですか。</block>
  <block id="e58a684cd1a44d4879defbb2ec06b9a4" category="paragraph">Kubernetes では、バージョン 1.10 以降、 PVC 保護が自動的に有効になります。</block>
  <block id="8d766c7d692523686b8954d72ee86ea4" category="section-title">Astra Trident によって作成された NFS PVC を拡張できますか。</block>
  <block id="328e34871ba32779f27f3e8a8e78499a" category="paragraph">はい。Astra Trident によって作成された PVC を拡張できます。ボリュームの自動拡張は ONTAP の機能であり、 Trident には適用されません。</block>
  <block id="f2f324d5d940b44cd307b613c6990e0c" category="section-title">Astra Trident の外部で作成したボリュームを Astra Trident にインポートできますか。</block>
  <block id="c894ce628e51d8d9d062a1e83cda37c8" category="paragraph">19.04 以降では、ボリュームインポート機能を使用してボリュームを Kubernetes に移行できます。</block>
  <block id="3319194e0ba07a6aa327aefa1ab1e41f" category="section-title">ボリュームが SnapMirror データ保護（ DP ）モードまたはオフラインモードの間にインポートできますか。</block>
  <block id="0b10afe39923054016a71caf423fdec6" category="paragraph">外部ボリュームが DP モードになっているかオフラインになっている場合、ボリュームのインポートは失敗します。次のエラーメッセージが表示されます。</block>
  <block id="9fd7d017b60cc366b6bc3b6e55213abe" category="section-title">Astra Trident によって作成された iSCSI PVC を拡張できますか。</block>
  <block id="29e2faaced65d1dd4c920c60e854e550" category="paragraph">Trident 19.10 は CSI プロビジョニング担当者を使用した iSCSI PVS の拡張をサポートしています。</block>
  <block id="eed67b2d196c61d9c6cf4a50878ba446" category="section-title">リソースクォータをネットアップクラスタに変換する方法</block>
  <block id="45f78013e46c8f3e884ed0f7becbd5ab" category="paragraph">Kubernetes ストレージリソースクォータは、ネットアップストレージの容量があるかぎり機能します。容量不足が原因でネットアップストレージが Kubernetes のクォータ設定を受け入れられない場合、 Astra Trident はプロビジョニングを試みますがエラーになります。</block>
  <block id="491a93842f7a65b8cbe82aca71db0d3f" category="section-title">Trident を使用してボリューム Snapshot を作成できますか。</block>
  <block id="9792ac41ce6f91861f84548e1b4a2b1c" category="paragraph">はい。Trident が、 Snapshot からオンデマンドのボリューム Snapshot と永続的ボリュームを作成できるようになりました。スナップショットから PVS を作成するには 'VolumeSnapshotDataSource フィーチャーゲートが有効になっていることを確認します</block>
  <block id="1eedb8a6574b0c07ea61689a7e3ec8d4" category="section-title">Astra Trident のボリュームスナップショットをサポートするドライバを教えてください。</block>
  <block id="24c649a639a2c31810a4dfc6ed0190da" category="section-title">ONTAP を使用して Astra Trident でプロビジョニングしたボリュームの Snapshot バックアップを作成する方法を教えてください。</block>
  <block id="0bdcd128fab544a7df404bc496a4126e" category="paragraph">これは 'ONTAP-NAS' 'ONTAP-SAN' および 'ONTAP-NAS-flexgroup ドライバで利用できますFlexVol レベルでは「 ONTAP-SAN-エコノミー 」ドライバに「スナップショットポリシー」を指定することもできます。</block>
  <block id="933b520ff6d70262ddb482995c684d57" category="paragraph">これは「 ONTAP-NAS-エコノミー 」ドライバでも利用できますが、 FlexVol レベルの細分性ではなく、 qtree レベルの細分性で利用できます。Astra Trident によってプロビジョニングされたボリュームのスナップショットを作成できるようにするには、バックエンドパラメータオプション「 napshotPolicy 」を、 ONTAP バックエンドで定義されている目的のスナップショットポリシーに設定します。ストレージコントローラで作成された Snapshot は Astra Trident で認識されません。</block>
  <block id="594e8a352537de25938bdd663d6211b5" category="section-title">Trident 経由でプロビジョニングしたボリュームの Snapshot リザーブの割合を設定できますか。</block>
  <block id="8db5662205f3a6430af4bea6f08e7d45" category="paragraph">はい。バックエンド定義ファイルで「スナップショット予約」属性を設定することで、 Astra Trident を介してスナップショットコピーを保存するためのディスク領域の特定の割合を予約できます。バックエンド定義ファイルで「 napshotPolicy 」と「 napshotReserve 」を設定した場合、バックエンドファイルに記載されている「 napshotReserve 」の割合に従ってスナップショット予約の割合が設定されます。「スナップショット予約」の割合の数値が指定されていない場合、 ONTAP はデフォルトでスナップショット予約の割合を 5 に設定します。「スナップショット予約」オプションが「なし」に設定されている場合、スナップショット予約の割合は 0 に設定されます。</block>
  <block id="6b0d34d8a0749198a6b80eec69479c86" category="section-title">ボリュームの Snapshot ディレクトリに直接アクセスしてファイルをコピーできますか。</block>
  <block id="eb3a2d1eb3c4022269f4c6837332311a" category="paragraph">はい。バックエンド定義ファイルで「 snapmirror directionDir 」パラメータを設定することで、 Trident によってプロビジョニングされたボリューム上のスナップショットディレクトリにアクセスできます。</block>
  <block id="81dbf5e91cc69bfcf6477128389d8a25" category="section-title">Astra Trident を使用して、ボリューム用の SnapMirror をセットアップできますか。</block>
  <block id="64dd4ea74b402889a9c341da491f4933" category="paragraph">現時点では、 SnapMirror は ONTAP CLI または OnCommand System Manager を使用して外部に設定する必要があります。</block>
  <block id="e321bf6d54ded18df56a41ea51223a2a" category="section-title">永続ボリュームを特定の ONTAP Snapshot にリストアするにはどうすればよいですか？</block>
  <block id="5325f5d2cf63aaaa6610f09e8aa4dc35" category="paragraph">ボリュームを ONTAP Snapshot にリストアするには、次の手順を実行します。</block>
  <block id="4e789db936072df2058e9f271a9b8db8" category="list-text">永続ボリュームを使用しているアプリケーションポッドを休止します。</block>
  <block id="b34baa75f4f799a23b19de9b94e86868" category="list-text">ONTAP CLI または OnCommand システムマネージャを使用して、必要な Snapshot にリバートします。</block>
  <block id="08754f2800804f1fe3673c858b4b56e0" category="list-text">アプリケーションポッドを再起動します。</block>
  <block id="0d3ef54a4cc337b5d907b6639e51c6d4" category="section-title">お客様 / テナントごとにストレージクラスの使用状況を分離するにはどうすればよいですか。</block>
  <block id="fda1b35892cb6f61447f0e49415937d9" category="paragraph">Kubernetes では、ネームスペース内のストレージクラスは使用できません。ただし、 Kubernetes を使用すると、ネームスペースごとにストレージリソースクォータを使用することで、ネームスペースごとに特定のストレージクラスの使用量を制限できます。特定のストレージへのネームスペースアクセスを拒否するには、そのストレージクラスのリソースクォータを 0 に設定します。</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法的通知</block>
  <block id="55847a7d73d44b84804f47ee7863b80f" category="summary">Astra Trident の導入が完了したら、バックエンドの作成、ストレージクラスの作成、ボリュームのプロビジョニング、ポッドでのボリュームのマウントを実行できます。</block>
  <block id="0b0ca016c0d99a4845777aeeebb032ac" category="section-title">手順 1 ：バックエンドを作成する</block>
  <block id="4f374e8dd911d1e70f7b7a53fdac1f2a" category="paragraph">これで、 Astra Trident がボリュームのプロビジョニングに使用するバックエンドを作成できるようになります。そのためには、必要なパラメータを含む「 backend.json 」ファイルを作成します。さまざまなバックエンドタイプのサンプル構成ファイルは 'sample-input' ディレクトリにあります</block>
  <block id="8b389d7be97d6c697a4e775ff8338905" category="paragraph">を参照してください <block ref="49641f5ab61d7a6ce07b1b6ba31204f8" category="inline-link-macro-rx"></block> バックエンドタイプのファイルを設定する方法の詳細については、を参照してください。</block>
  <block id="af445e1d9a0a481ba7f9b5f01df23a3d" category="paragraph">作成に失敗した場合は、バックエンド設定に何か問題があります。次のコマンドを実行すると、ログを表示して原因を特定できます。</block>
  <block id="00715976efdc0cc3b7c5a8512fb0e08d" category="inline-link-macro">トラブルシューティング</block>
  <block id="936067ad00da88d877acb024c96f3129" category="paragraph">問題に対処したら、この手順の最初に戻ってやり直してください。トラブルシューティングのヒントについては、を参照してください <block ref="fa8c952f2dea85664a3e3e5dc210aa4c" category="inline-link-macro-rx"></block> セクション。</block>
  <block id="0cf7ce61dd48f9396923c05ab8f5e302" category="section-title">手順 2 ：ストレージクラスを作成する</block>
  <block id="8c566ff50efde64c700b1188e862c328" category="inline-link">ストレージクラス</block>
  <block id="c44e939795fbf61079e70122d3e77735" category="paragraph">Kubernetes ユーザは、を指定する Persistent Volume クレーム（ PVC ）を使用してボリュームをプロビジョニングします<block ref="bc70014ff50467618a31ef39142ab151" category="inline-link-rx"></block> 名前で検索できます。詳細情報はユーザには表示されませんが、ストレージクラスは、そのクラスに使用されるプロビジョニングツール（この場合は Trident ）と、そのクラスがプロビジョニングツールにもたらす意味を特定します。</block>
  <block id="56cc6184a3bc4387f839993b204e4c5f" category="paragraph">ストレージクラスの Kubernetes ユーザがボリュームを必要なときに指定するストレージクラスを作成します。このクラスの構成では、前の手順で作成したバックエンドをモデリングし、 Astra Trident が新しいボリュームのプロビジョニングにこのバックエンドを使用するようにする必要があります。</block>
  <block id="45a1f9131ca1bec07f47f45a194d9d58" category="paragraph">最もシンプルなストレージクラスは ' インストーラに付属の 'sample -input/storage-class-csI.yamml.templ' ファイルに基づいていますこれは '__ backend_type___ をストレージドライバ名に置き換えます</block>
  <block id="b4987be37083b7196f23d63ddd5d56df" category="paragraph">これは Kubernetes オブジェクトなので 'kubectl' を使用して Kubernetes で作成します</block>
  <block id="a191af7083288f9d9556f3ebcd821a34" category="paragraph">Kubernetes と Astra Trident の両方で、 * basic-csi * ストレージクラスが表示され、 Astra Trident がバックエンドのプールを検出しました。</block>
  <block id="3bdc1ec6969d1615bb58d7f0443bf1c2" category="section-title">手順 3 ：最初のボリュームをプロビジョニングします</block>
  <block id="a58b17a231318aa42ed47bfe0be43447" category="inline-link">永続的ボリュームの要求</block>
  <block id="512b66e66e82ba09d70c3e9f784aa8af" category="paragraph">これで、最初のボリュームを動的にプロビジョニングできます。これは Kubernetes を作成することで実現されます<block ref="95c09f225fe48abca705fd090f5f4c89" category="inline-link-rx"></block> （ PVC ）オブジェクト。</block>
  <block id="61e8eac65ddef26d4c4230d88cae8498" category="paragraph">作成したストレージクラスを使用するボリュームの PVC を作成します。</block>
  <block id="b357acbdc339437d16e4e967ecc6d0c2" category="paragraph">例については 'sample-input/pvc-basic-csI.yaml を参照してくださいストレージクラス名が、作成した名前と一致していることを確認します。</block>
  <block id="2fe8954464ccf22d2d06423b358f38a7" category="section-title">手順 4 ：ボリュームをポッドにマウントする</block>
  <block id="366556d176e685870d134b7fc6e9ca3c" category="paragraph">次に、ボリュームをマウントします。次に '/usr/share/nginx/html' の下に PV をマウントする nginx ポッドを起動します</block>
  <block id="6f5eca6ad9143d35bb33a1a17df3a848" category="paragraph">この時点でポッド（アプリケーション）は存在しなくなりますが、ボリュームはまだ存在しています。必要に応じて、別のポッドから使用できます。</block>
  <block id="3ba419ecccf23f33a6bae5d23f206fdd" category="paragraph">ボリュームを削除するには、要求を削除します。</block>
  <block id="1a00c9156117d9ec9fa3e45d5a757d04" category="paragraph">これで、次のような追加タスクを実行できます。</block>
  <block id="ce2c6a300f520205e891fc45009ec4c3" category="inline-link-macro">追加のバックエンドを設定</block>
  <block id="642bfa81920103d4177bb3fdf6f9186f" category="list-text"><block ref="642bfa81920103d4177bb3fdf6f9186f" category="inline-link-macro-rx"></block></block>
  <block id="93e8ba41e1ebcadc1338cc7f75109210" category="inline-link-macro">追加のストレージクラスを作成する。</block>
  <block id="daa40449d28fbb16d2bcd8a8434d05e6" category="list-text"><block ref="daa40449d28fbb16d2bcd8a8434d05e6" category="inline-link-macro-rx"></block></block>
  <block id="8355509d170c8a61d236e927a5fcc6e2" category="paragraph">通常の「 /var/lib/kubelet 」以外のパスに「 kubelet 」がデータを保持している Kubernetes の配布を使用する場合は、「 --kubelet -dir 」を使用して代替パスを指定できます。</block>
  <block id="47cd697cf3c9dcf916f70a0007956c1d" category="paragraph">インストーラの引数で許可される範囲を超えてインストールをカスタマイズする必要がある場合は、配置ファイルをカスタマイズすることもできます。--generate-custom-yaml パラメータを使用して、インストーラの「 etup 」ディレクトリに次の YAML ファイルを作成します。</block>
  <block id="0858f0ee003d52951161848adffe1b31" category="list-text">trident-clusterrolebinding.yaml</block>
  <block id="af73689aedfa47bd2a7cf144917b0642" category="list-text">trident-deployment.yaml</block>
  <block id="1d53fd876245951bb003eb47849ff39d" category="list-text">trident-CRDs .YAML</block>
  <block id="b17dbe8acaeca82c72d25948de03eefc" category="list-text">trident-clusterrolment.yaml</block>
  <block id="ecb2b56a094cc1cbd3ac263b23d91f8b" category="list-text">trident-demimonimon.yamml`</block>
  <block id="c5e462ae653234d0ea0e98a000e62a97" category="list-text">trident-service.yaml</block>
  <block id="f1347677de6873f8ddce6d736cba9a63" category="list-text">trident-namespac.yaml</block>
  <block id="2539c7e25ada2a2cdae0eb4c4633b893" category="list-text">trident-ServiceAccount.yaml</block>
  <block id="385d099ed91e83dbe20ea05fbed68e22" category="paragraph">これらのファイルを生成したら、必要に応じて変更し、「 --use-custom-yaml 」を使用してカスタム展開をインストールできます。</block>
  <block id="4a052772dca278b7be31d54ca9f21831" category="inline-link-macro">基本概念</block>
  <block id="dd3de2609b612d76ef4c71b97b8d6100" category="inline-link">CLI へのアクセスを有効にする手順は、ユーザが行ってください</block>
  <block id="c585967fa32d82c5e3c24bd63926c6a0" category="list-text">Kubernetes と Docker Enterprise を併用する場合は、<block ref="57562caf1c76e1a261b7e2f8c3d113f9" category="inline-link-rx"></block>。</block>
  <block id="2e1b3f44683eee188be985693c4af5e1" category="list-text">Helm バージョン 3</block>
  <block id="e366a20246a41520da551be510c1d658" category="paragraph">インストール中に設定データを渡すには、次の 2 つの方法があります。</block>
  <block id="ea8cda06a0e70ad34c1b9ab1b7135105" category="inline-link-macro">サポートされる Kubernetes クラスタ</block>
  <block id="e420b75ec3bc014e3f69c43b2383768b" category="admonition">OpenShift では、以降のすべての例で「 kubectl 」ではなく「 OC 」を使用し、「 OC login-u SYSTEM ： admin 」または「 OC login-u kube-admin 」を実行して最初に「 *system:admin 」としてログインします。</block>
  <block id="337d79852891a37d41285c9101c3fff4" category="paragraph">次のコマンドを実行します。</block>
  <block id="dbbf8c6ec95775d28c3c6da1878bf8c3" category="list-text">演算子自体</block>
  <block id="a770ca95121cc795b602f9af6af024fb" category="admonition">Kubernetes クラスタには、オペレータのインスタンスが * 1 つしか存在しないようにしてください。Trident のオペレータが複数の環境を構築することは避けてください。</block>
  <block id="ec53a8c4f07baed5d8825072c89799be" category="cell">ステータス</block>
  <block id="2763f33c904a183bd0ef06f9c4fb4403" category="cell">インストール中です</block>
  <block id="64162845794ff7262e665deec58a84f5" category="cell">オペレータは、この「 TridentOrchestrator 」 CR を使用して Astra Trident をインストールしています。</block>
  <block id="98dd43dfae05b11befe1f140e0ec787a" category="cell">インストール済み</block>
  <block id="2fe2cc0adf9b69a871d33ba220695cd4" category="cell">Astra Trident のインストールが完了しました。</block>
  <block id="c2aaea4dacecce78b34302e41fcef75e" category="cell">アンインストール中です</block>
  <block id="c27ff0e050a671f2eab32a372c9636bd" category="cell">オペレータは 'stra Trident をアンインストールしていますこれは 'pec.uninstall=true だからです</block>
  <block id="b78846123fdd78d5ab62451b855194e3" category="cell">アンインストール済み</block>
  <block id="f8a32612e33c768b5fa0dd033d91ce8d" category="cell">Astra Trident がアンインストールされました。</block>
  <block id="d7c8c85bf79bbe1b7188497c32c3b0ca" category="cell">失敗しました</block>
  <block id="273b9a9e933220f1963cbac7a7a46645" category="cell">オペレータは Astra Trident をインストール、パッチ適用、更新、またはアンインストールできませんでした。オペレータはこの状態からのリカバリを自動的に試みます。この状態が解消されない場合は、トラブルシューティングが必要です。</block>
  <block id="6909beea5b50605780e3411f879fe916" category="cell">更新中です</block>
  <block id="3201d58137fab497dea740d761a9733b" category="cell">オペレータが既存のインストールを更新しています。</block>
  <block id="902b0d55fddef6f8d651fe1035b7d4bd" category="cell">エラー</block>
  <block id="efaeca66375c8663b6d1d64f4886f267" category="cell">「 TridentOrchestrator 」は使用されません。別のファイルがすでに存在します。</block>
  <block id="c9534512c045771d255bf1068862beec" category="paragraph">TridentOrchestrator が更新されると、オペレータは既存のインストールの更新とパッチを処理します。これにより、新しいポッドの作成がトリガーされ、それに応じてインストールが変更される場合があります。</block>
  <block id="f456a413d0506028374e871768a5f176" category="paragraph">Kubernetes バージョンのクラスタをサポート対象バージョンにアップグレードすると、オペレータが既存の Astra Trident インストールを自動的に更新し、 Kubernetes バージョンの要件を確実に満たすように変更します。</block>
  <block id="d1aae6ea63eb5e7fe6a9fcea5f671406" category="admonition">クラスタがサポート対象外のバージョンにアップグレードされた場合、オペレータによって Astra Trident はインストールされません。Astra Trident がすでにオペレータとともにインストールされている場合、サポート対象外の Kubernetes バージョンに Astra Trident がインストールされていることを示す警告が表示されます。</block>
  <block id="37dbca6cb8ca55a471ebc072575c0a46" category="list-text">Astra Trident を導入するリモートマシンに適切なバージョンの kubectl を導入します。</block>
  <block id="02ed10abbc71334918b1acb54df6e3f3" category="list-text">Kubernetes クラスタから構成ファイルをコピーし、リモートマシンで「 KUBECONFIG 」環境変数を設定します。</block>
  <block id="da693b77cde91654c6296abe8f901988" category="list-text">「 kubectl get nodes 」コマンドを開始して、必要な Kubernetes クラスタに接続できることを確認します。</block>
  <block id="df65ec31c6f96e95301e3c6ff8863335" category="list-text">標準のインストール手順を使用して、リモートマシンからの導入を完了します。</block>
  <block id="13c852fce58f7c6981fa0a952dcd76af" category="summary">Trident オペレータは 'TridentOrchestrator 仕様の属性を使用して 'Astra Trident のインストール方法をカスタマイズできます</block>
  <block id="83f499a540b1323009c200d6f8cc9396" category="cell">パラメータ</block>
  <block id="7a1920d61156abc05a60135aefe8bc67" category="cell">デフォルト</block>
  <block id="a67cf6b087ff88dbfacec8375928995c" category="cell">「バグ」</block>
  <block id="4f72bc786a1a01d5a1a8bc09d33334cc" category="cell">Astra Trident のデバッグを有効にします</block>
  <block id="68934a3e9455fa72420237eb05902327" category="cell">いいえ</block>
  <block id="2bccac20e55391730a985f9819e1cc41" category="cell">「 autosupportImage 」を参照してください</block>
  <block id="84448c234dfdfd2a7367341fd4b56a80" category="cell">AutoSupport テレメトリのコンテナイメージ</block>
  <block id="f4a6821b04b9ce6b90148068341347b6" category="cell">「 autosupportProxy 」と入力します</block>
  <block id="256acfe307251e7444859851d87d5735" category="cell"><block ref="256acfe307251e7444859851d87d5735" category="inline-link-rx"></block></block>
  <block id="e9f06180af644cfa6e5d20bd67c03bc5" category="cell">uninstall</block>
  <block id="7610c5cc7910022402c4fbd450d889ce" category="cell">「 tridentImage 」のように入力します</block>
  <block id="8088435dc0e1c8b85217d850d3e7a602" category="cell">「 imageRegistry 」と入力します</block>
  <block id="e6b96cbb467923e86672bb25db5ecebb" category="cell">「 kubeletDir 」を参照してください</block>
  <block id="2d30d1348c4d2533a165827a22516caa" category="cell">「 imagePullSecrets 」</block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="doc">要件</block>
  <block id="c777be7f669397b0a376fe32ca5cd9c3" category="section-title">サポートされるフロントエンド（オーケストレーションツール）</block>
  <block id="74aefc05d193afd5c50a0df882997656" category="paragraph">Trident Astra は、次のような複数のコンテナエンジンとオーケストレーションツールをサポート</block>
  <block id="201eb37826a33e35adff9119f25946bd" category="paragraph">Trident オペレータは、次のリリースでサポートされています。</block>
  <block id="f787cd4b6963b13f12fa53131f58ef6c" category="section-title">サポートされるバックエンド（ストレージ）</block>
  <block id="843e2f0c722d25903a6010b62ac4f13b" category="paragraph">Astra Trident を使用するには、次のバックエンドを 1 つ以上サポートする必要があります。</block>
  <block id="a3c559e0541e9bb860178ce6fe414224" category="list-text">Cloud Volumes Service for GCP</block>
  <block id="1d3d126b8a5bad69c46ed03734beed47" category="list-text">ネットアップオール SAN アレイ（ ASA ）</block>
  <block id="c7c7a6a5641f33e348244f9c43010e16" category="section-title">機能の要件</block>
  <block id="21021ea0e52be8e9c599f4dff41e5be0" category="cell">フィーチャー（ Feature ）</block>
  <block id="80afba45eb055fc9bdc48c90d1debd06" category="cell">Kubernetes のバージョン</block>
  <block id="10f295a61d2a793ac8936a69cf458654" category="cell">フィーチャーゲートが必要ですか？</block>
  <block id="f336592ca417cff322b935bc0eeaff8f" category="cell">CSI Trident</block>
  <block id="e830b7e4d1fb7f84600876af87cb4381" category="cell">ボリューム Snapshot</block>
  <block id="ea8ed249117e76cb53766e218fe2b7c7" category="cell">ボリューム Snapshot からの PVC</block>
  <block id="28dcded20f550dcad1bd9bb03a5bbe73" category="cell">iSCSI PV のサイズ変更</block>
  <block id="1673543ed032e46f3572ba65bc070693" category="cell">ONTAP 双方向 CHAP</block>
  <block id="176e16df4faab1a1e06e9585c813d5fe" category="cell">動的エクスポートポリシー</block>
  <block id="1f7219b07d5bce7feec002a9f4dc2201" category="cell">Trident のオペレータ</block>
  <block id="443432948b68bb63d707ce7ecc4a021a" category="cell">CSI トポロジ</block>
  <block id="11ea58814ce429c3e3254a63f8cde7a4" category="paragraph">tridentctl ユーティリティーは ' これらの Linux ディストリビューションでも動作します</block>
  <block id="13d80777c8fd43e555c1f5b1b72d7ef0" category="section-title">ホストの設定</block>
  <block id="2139fe384d5ae165545994dff01961d9" category="section-title">ストレージシステムの構成：</block>
  <block id="923680056b0f0258907f498670b4ead1" category="section-title">コンテナイメージと対応する Kubernetes バージョン</block>
  <block id="aa92c4c233bc01609d957e469736b699" category="cell">コンテナイメージ</block>
  <block id="6f0b081bef5e745ef2429ef74472d9bd" category="cell">v1.21.0</block>
  <block id="a60c2f57df655a9ac5fcaa0750886195" category="summary">Kubernetes の使用を開始したばかりの場合は、手順に従って Kubernetes をインストールして試してください。この説明では、 Trident をデモ用に統合できるベアボーンのシングルノードクラスタについて説明しています。</block>
  <block id="62bdbe048d174b559cb770f9ebaf0895" category="doc">ぜひお試しください</block>
  <block id="e8dadc588901af436e2c6036acf23973" category="inline-link-macro">ネットアップのテスト用ドライブ</block>
  <block id="8685ac2061f9dca7ab48f41e0871f7af" category="inline-link-macro">kubeadm インストールガイド</block>
  <block id="37bdb0f602c1d2a2a6f285533e4ce5c8" category="paragraph">もう 1 つのオプションは、を参照することです <block ref="c7dbb75618a5e106a360075f923cb87f" category="inline-link-macro-rx"></block> Kubernetes が提供します。</block>
  <block id="2cf0c4e99dd3c0b2e7e0f63af3531622" category="admonition">本番環境では、この手順で構築した Kubernetes クラスタを使用しないでください。本番環境向けのクラスタを作成するには、ディストリビューションに付属の本番環境導入ガイドを使用します。</block>
  <block id="e3ecede511471cf67c294e427e2f012e" category="paragraph">Kubernetes を初めて使用する場合は、概念とツールについて理解しておいてください <block ref="22f850f308b2d2016502017a1dcd1044" category="inline-link-macro-rx"></block>。</block>
  <block id="b928e0aee19c1e2cc91c85e8a0856936" category="summary">Astra Trident のインストール中および使用中に発生する可能性のある問題のトラブルシューティングには、ここに記載されているポインタを使用してください。</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="doc">トラブルシューティング</block>
  <block id="8ef0ab9bbedaa7608c9abed7c7213218" category="admonition">Astra Trident のヘルプを参照するには 'tridentctl logs-a -n trident` を使用してサポートバンドルを作成し 'NetApp Support &lt; 困ったときは &gt; に送信してください</block>
  <block id="40e41fb2db11266b8f751c0d5c67cba0" category="inline-link">ネットアップナレッジベース（ログインが必要）</block>
  <block id="01005ecf4349194d1ec13d0ba516c9e5" category="admonition">トラブルシューティングに関する記事の包括的なリストについては、を参照してください<block ref="57f5c759ada931c6a2051314ca6ee99e" category="inline-link-rx"></block>。また、 Astra に関連する問題のトラブルシューティングに関する情報も参照できます<block ref="695f48b1d8b7348c0e2828947d24161e" category="inline-link-rx"></block>。</block>
  <block id="163fb9eb00818e2c7109900db1a3cc82" category="section-title">全般的なトラブルシューティング</block>
  <block id="f504c27d1ad305a988958b64f34468cb" category="list-text">Trident ポッドが正常に起動しない場合（たとえば、 Trident ポッドが 2 つ未満の「 ContainerCreating 」フェーズで停止した場合）、「 kubectl-n trident 」を実行して、展開が trident 、「 kubectl-n trident 」が pod trident-******** を記述します -**** 追加のインサイトを提供できます。kubelet ログの取得 (journalctl -xeu kubelet など ) も役立ちます。</block>
  <block id="87248f7afe198418bdbedd919695631e" category="list-text">バックエンド定義に「 debugTraceFlags 」を含めると、バックエンドごとにデバッグログを取得することもできます。たとえば、 Trident ログで API 呼び出しとメソッドの逆数を取得するには、「 `debugTraceFlags: {"API":true,"method" :true,}` を指定します。既存のバックエンドには 'tridentctl backend update で構成された 'ebugTraceFlags' を設定できます</block>
  <block id="6cc37a0664d7f97f87d34eadef23dbad" category="list-text">RedHat CoreOS を使用する場合は 'iscsid がワーカー・ノードで有効になっており ' デフォルトで起動されていることを確認しますこの設定には、 OpenShift MachineConfig を使用するか、イグニッションテンプレートを変更します。</block>
  <block id="7f0ecdfa510b31b01d331c2760643b83" category="list-text">コンテナへの PV のマウントに問題がある場合は 'rpcbind' がインストールされていて実行されていることを確認してくださいホスト OS に必要なパッケージ・マネージャを使用して 'rpcbind' が実行されているかどうかを確認しますrpcbind サービスのステータスは 'systemctl status rpcbind' またはそれに相当する処理を実行することで確認できます</block>
  <block id="78aeadc89feb4cf244398a7d35a0d656" category="list-text">Trident バックエンドが、以前に作業したことがあるにもかかわらず「 failed 」状態であると報告した場合は、バックエンドに関連付けられている SVM/admin クレデンシャルの変更が原因である可能性があります。「 tridentctl update backend 」または Trident ポッドのバウンスを使用してバックエンド情報を更新すると、この問題は修正されます。</block>
  <block id="dd5955dd3991dcacca2b395215df8ecd" category="list-text">Kubernetes クラスタや Trident をアップグレードしてベータ版のボリューム Snapshot を使用する場合は、既存の alpha スナップショット CRS がすべて削除されていることを確認してください。次に 'tridentctl コマンドを使用して ' アルファスナップショットの CRD を削除できますを参照してください<block ref="f3109660248c628e79ddf256944df58b" category="inline-link-rx"></block> アルファスナップショットの移行手順を理解する。</block>
  <block id="b851cfc28cd6e5cb9aaf87bdb59a68aa" category="list-text">Docker をコンテナランタイムとして Trident をインストールするときに権限の問題が発生した場合は、「 --in cluster=false」 フラグを付けて Trident のインストールを試みてください。これはインストーラポッドを使用せず、「 trident-installer 」ユーザのために発生する許可の問題を回避します。</block>
  <block id="6f7d49547ff47cfaf1fd93d134b603be" category="list-text">実行に失敗した後のクリーンアップには 'uninstall パラメータ &lt;Uninstalling Trident &gt; を使用しますデフォルトでは、スクリプトは Trident によって作成された CRD を削除しないため、実行中の導入環境でも安全にアンインストールしてインストールできます。</block>
  <block id="f1112223b41fddc71fd6a626582dfb78" category="inline-link">Trident のバージョン</block>
  <block id="7dc9f8824c461c84d9bb1563a0615526" category="list-text">Trident を完全に削除するには、「 tridentctl identviate CRD 」コマンドを実行します。これにより、すべての CRD オブジェクトが削除され、 CRD が定義解除されます。Trident は、すでにプロビジョニングされている PVS を管理しなくなります。</block>
  <block id="e7fc3eac0c0cea530e0f52e3ddf37079" category="admonition">Trident はその後、最初から再構成する必要があります。</block>
  <block id="51748ba3d16ecfd8c45c7ebf2043b738" category="list-text">インストールが成功した後、 PVC が「保留中」段階で停止した場合、「 kubectl 」を実行して PVC を記述すると、 Trident がこの PVC の PV のプロビジョニングに失敗した理由を追加情報に提供できます。</block>
  <block id="a900bd1dbd5690f78a30ca74d138d0b7" category="section-title">オペレータを使用して失敗した Trident の導入をトラブルシューティングします</block>
  <block id="0e89989064bf4afdc37fd5a7be4f607d" category="paragraph">オペレータを使用して Trident を導入する場合 'TridentOrchestrator のステータスは 'Installing から Installed に変わります'Failed' ステータスが表示され ' オペレータがそれ自体で回復できない場合は ' 次のコマンドを実行してオペレータのログを確認する必要があります</block>
  <block id="df9771dbb13da45493e576499910c0b4" category="paragraph">trident-operator コンテナのログの末尾には、問題のある場所を示すことができます。たとえば、このような問題の 1 つは、エアーギャップ環境のアップストリームレジストリから必要なコンテナイメージをプルできないことです。</block>
  <block id="0fd4c6187c561958bc76052df7774593" category="paragraph">Trident のインストールが失敗した理由を理解するには、「 TridentOrchestrator 」のステータスを確認する必要があります。</block>
  <block id="1e054f4c292a5388d6318461fe73d749" category="paragraph">このエラーは、 Trident のインストールに使用された「 TridentOrchestrator 」がすでに存在することを示します。各 Kubernetes クラスタは Trident のインスタンスを 1 つしか保持できないため、オペレータは任意の時点で作成可能なアクティブな TridentOrchestrator が 1 つだけ存在することを確認します。</block>
  <block id="568fcf9beb0dbd37c57dff251a3164ed" category="paragraph">また、 Trident ポッドのステータスを確認することで、適切でないものがあるかどうかを確認できます。</block>
  <block id="f89c17ddb9f8bdaf5c95a466d5f6a500" category="paragraph">1 つ以上のコンテナイメージがフェッチされなかったため、ポッドが完全に初期化できないことがわかります。</block>
  <block id="d57d1a6de03b2ddf3ee54f680152e2b6" category="paragraph">この問題に対処するには、「 TridentOrchestrator 」 CR を編集する必要があります。また、「 TridentOrchestrator 」を削除して、変更された正確な定義を持つ新しいものを作成することもできます。</block>
  <block id="021e9ae5361eb14975bf9a30f99770f5" category="paragraph">何が問題になったかを特定するために、インストーラをもう一度「 -d`` 」引数を使用して実行すると、デバッグモードが有効になり、問題の内容を理解するのに役立ちます。</block>
  <block id="01539f4f1fd20792cbbae6bb0506cc20" category="paragraph">問題を解決した後 ' 次のようにインストールをクリーンアップし 'tridentctl install コマンドを再度実行できます</block>
  <block id="c109878131f34375d85b7eff9721dcde" category="summary">ネットアップが提供する Trident インストールで Element バックエンドを作成して使用する方法をご確認ください。</block>
  <block id="f2733a323df72dea4b230205225bdc13" category="doc">NetApp HCI または SolidFire バックエンドを設定します</block>
  <block id="d1d184cecc23825cff20fabf3cdfb862" category="list-text">Element ソフトウェアを実行する、サポート対象のストレージシステム。</block>
  <block id="4055116469942da7f6ed83abcf57d0a4" category="list-text">NetApp HCI / SolidFire クラスタ管理者またはボリュームを管理できるテナントユーザのクレデンシャル。</block>
  <block id="d5fa5f22855b065d96647dfb0c06d685" category="inline-link-macro">ワーカーノードの準備情報</block>
  <block id="c443982ebc2d61b1fdf8348209939f8b" category="paragraph">'olidfire -SAN' ストレージ・ドライバは ' ファイル・モードとブロック・モードの両方をサポートしています「 Filesystem 」 volumeMode の場合、 Astra Trident はボリュームを作成し、ファイルシステムを作成します。ファイルシステムのタイプは StorageClass で指定されます。</block>
  <block id="02017e70674a0c740b2b95fbb0cc2aa1" category="paragraph">ファイルシステムがありません。raw ブロックデバイスです。</block>
  <block id="e1f3ce04f7f587f86c154146eace2807" category="admonition">Astra Trident は強化された CSI プロビジョニング担当者として機能する場合、 CHAP を使用します。CSI のデフォルトである CHAP を使用している場合は、これ以上の準備は必要ありません。CSI 以外の Trident で CHAP を使用する場合は 'UseCHAP' オプションを明示的に設定することをお勧めしますそれ以外は、を参照してください <block ref="195a24f2e3cd9264b9f38d5f581c56cd" category="inline-link-macro-rx"></block>。</block>
  <block id="156ef6dbbdc5c1984194012f4d3505a5" category="admonition">ボリュームアクセスグループは、従来の非 CSI フレームワークである Astra Trident でのみサポートされています。CSI モードで動作するように設定されている場合、 Astra Trident は CHAP を使用します。</block>
  <block id="03362d64938adda17736eff8a3b091cc" category="paragraph">AccessGroups または UseCHAP のどちらも設定されていない場合は ' 次のいずれかの規則が適用されます</block>
  <block id="44b5e5595eea45ebf8e49f88409afdaa" category="list-text">デフォルトの trident' アクセスグループが検出された場合は ' アクセスグループが使用されます</block>
  <block id="f3bf91f3dbbbaec039ad830cc87a1013" category="list-text">アクセスグループが検出されず、 Kubernetes バージョンが 1.7 以降の場合は、 CHAP が使用されます。</block>
  <block id="15b7c7ffe264d7b8c61915ff2a6ef96c" category="section-title">バックエンド構成オプション</block>
  <block id="9d370350f8d0178b5dfbec9def10d13a" category="paragraph">バックエンド設定オプションについては、次の表を参照してください。</block>
  <block id="7877022c956918624cc0373ff564cad4" category="cell">「バージョン」</block>
  <block id="40e27006e7b709772172391a3d17b331" category="cell">常に 1</block>
  <block id="868dff7060d78b6417dc8e065eca8374" category="cell">'torageDriverName'</block>
  <block id="5aae2c40b50d296edbd4ba9cfb462b49" category="cell">ストレージドライバの名前</block>
  <block id="2353a0a3a06283f07550efc7bad8a90e" category="cell">常に「 solidfire-san-」</block>
  <block id="f5b55596d3f53b1857a4980dac9db979" category="cell">backendName`</block>
  <block id="5afd6479855e8d63f324b6ec2fa787b4" category="cell">カスタム名またはストレージバックエンド</block>
  <block id="f4210b28f3cf7c1f7e6e328bb42c6060" category="cell">「 iSCSI_ 」 + ストレージ（ iSCSI ） IP アドレス SolidFire</block>
  <block id="06981b2729b4b522b21d903c7738a2ca" category="cell">「エンドポイント」</block>
  <block id="41eba2d95ecaf35c8bd3a972c263ffe4" category="cell">テナントのクレデンシャルを使用する SolidFire クラスタの MVIP</block>
  <block id="955f5caa2495689258902533d1a6cd44" category="cell">「 VIP 」</block>
  <block id="b07ca7de83de58a699966c9bc9003020" category="cell">ストレージ（ iSCSI ）の IP アドレスとポート</block>
  <block id="eea443d4fcc24d4cd2cab08c2a6c062f" category="cell">「ラベル」</block>
  <block id="749df53d02481e75dd919dddf42fbbef" category="cell">ボリュームに適用する任意の JSON 形式のラベルのセット。</block>
  <block id="1d76382e861d2df96647216b26d38948" category="cell">「」</block>
  <block id="4e25fe4a614b527d9b3d89ee6abe5d35" category="cell">「 tenantname 」</block>
  <block id="251f1fc42c38ca55f30e5e9d11dac168" category="cell">使用するテナント名（見つからない場合に作成）</block>
  <block id="f016e2c01f2bafa45e6b537d49f0f9da" category="cell">「 InitiatorIFCace 」</block>
  <block id="4381b3c378885de93e2166f240096338" category="cell">iSCSI トラフィックを特定のホストインターフェイスに制限します</block>
  <block id="6522432847a0e6902318a976e5533f62" category="cell">デフォルト</block>
  <block id="5ff567e0863a47346f44f87ed793f508" category="cell">UseCHAP'</block>
  <block id="d390e6782f0a0af41ea0397e46b5368e" category="cell">CHAP を使用して iSCSI を認証します</block>
  <block id="2d1474e8b52ef42851337fb3fef4e1a1" category="cell">"nfsvers=3 "</block>
  <block id="32738663b16444872e4e5721c7c37660" category="cell">「アクセスグループ」</block>
  <block id="c4ca01925aae0c37398f0b30a4ce1273" category="cell">使用するアクセスグループ ID のリスト</block>
  <block id="e64099a24f6ef8bbbdb23c2a803cd065" category="cell">「 trident 」という名前のアクセスグループの ID を検索します。</block>
  <block id="26194deaf50c44db6eb5983237bdaf25" category="cell">「タイプ」</block>
  <block id="ee1aea1de97320ad8e98436f68b01b4a" category="cell">QoS の仕様</block>
  <block id="91590ee78f1b4751284f4f9ea80cfe86" category="cell">「 limitVolumeSize 」と入力します</block>
  <block id="18320b2a705a7bed37a6bc0af4aee093" category="cell">要求されたボリュームサイズがこの値を超えている場合、プロビジョニングが失敗します</block>
  <block id="7962423206a6704e20fa94085d19b517" category="cell">“”（デフォルトでは適用されません）</block>
  <block id="f2f2c7c3c767da610bd95934104674f6" category="cell">「バグトレースフラグ」</block>
  <block id="ae0784115c8f815d4a2ca170c59f3c99" category="cell">トラブルシューティング時に使用するデバッグフラグ。例： {"API" ： false 、 "method" ： true}</block>
  <block id="37a6259cc0c1dae299a7866489dff0bd" category="cell">null</block>
  <block id="88dce60232453383ab0d1c3c59cc931d" category="admonition">トラブルシューティングを行い、詳細なログダンプが必要な場合を除き、「 ebugTraceFlags 」は使用しないでください。</block>
  <block id="3185240fb49cba19667fbdf639f3271e" category="paragraph">次の例は、 CHAP 認証を使用するバックエンドファイルと、特定の QoS 保証を適用した 3 つのボリュームタイプのモデリングを示しています。その場合 ' ストレージ・クラスを定義して 'iops`storage クラス・パラメータを使用します</block>
  <block id="4d0d37d727675761e4c0e324eb57ca2f" category="list-text"><block ref="4d0d37d727675761e4c0e324eb57ca2f" category="inline-link-macro-rx"></block></block>
  <block id="da195e41c537042ae77405110c4512ff" category="paragraph">を設定して使用します<block ref="5129d3f1116e9c5221bfcf965a1ede35" category="inline-link-rx"></block> バックエンドには次のものが必要です。</block>
  <block id="2c00ff9c7700dc3529c57f0a5281bbe2" category="list-text">Google Cloud アカウントのプロジェクト番号</block>
  <block id="43752d169c5729fffa3a6557a0978cb8" category="list-text">「 netappcloudvolumes .admin 」ロールを持つ Google Cloud サービスアカウント</block>
  <block id="07cc9934740ba3dd46a0d7d2c9502d39" category="cell">"GCP-cvs"</block>
  <block id="f476273c71e20fc5a845a5345a620117" category="cell">ドライバ名 + "_" + API キーの一部</block>
  <block id="6eb82a822b962404b9694b93f2967679" category="cell">'torageClass'</block>
  <block id="c96383270cbab23de47b4f0961f64929" category="cell">「 ProjectNumber 」</block>
  <block id="2086191016950a784040f7d22ab27f60" category="cell">「 apiRegion 」と入力します</block>
  <block id="a34d72a685d5e27eb6bc18f54a7bab1d" category="cell">「 apiKey 」と入力します</block>
  <block id="af18429250667f805769a7755a008c1f" category="cell">「 ProxyURL 」と入力します</block>
  <block id="2b45af5c768d7b2495ef631c991ecd78" category="cell">「 nfsvMountOptions 」のように入力します</block>
  <block id="b9cc8276829a756e7a22476617204267" category="cell">NFS マウントオプションのきめ細かな制御。</block>
  <block id="2288620b3dc019c6359bcc7f50b72ab3" category="cell">要求されたボリュームサイズがこの値を超えている場合はプロビジョニングが失敗します</block>
  <block id="567c7f0eca746ed7513764be5ecf6d03" category="cell">"" （デフォルトでは適用されません）</block>
  <block id="0322003a3502f221fdb74b059dfff46e" category="cell">「サービスレベル」</block>
  <block id="4dd7128ceae058946c44bbbb0985ec6f" category="paragraph">各バックエンドは、 1 つの Google Cloud リージョンにボリュームをプロビジョニングします。他のリージョンにボリュームを作成する場合は、バックエンドを追加で定義します。</block>
  <block id="9c64942fe493cb70c474ff447429d8a4" category="cell">「 exportRule 」</block>
  <block id="1274e36c193ec0ce8b5c49d5e78ffd7b" category="cell">"0.0.0.0/0 "</block>
  <block id="ce8f82152151ae2aadaec166eca744a9" category="cell">「スナップショット方向」</block>
  <block id="51b2015e6da8653f4041b71312ad43fe" category="cell">「 .snapshot 」ディレクトリにアクセスします</block>
  <block id="c07fbc0b2a1a865fe9e3a55c05b4f690" category="cell">いいえ</block>
  <block id="7556d5a1b0c5f68b7cb5aedaa3156008" category="cell">「スナップショット予約」</block>
  <block id="31ed61cc3c85d0bb697cd12b77f37fd1" category="cell">Snapshot 用にリザーブされているボリュームの割合</block>
  <block id="e76dcf1d6497658a2994b5f1f65b7a83" category="cell">"" （ CVS のデフォルト値をそのまま使用）</block>
  <block id="a48a8458539e489328f4d6d3fc0ee288" category="cell">「 size 」</block>
  <block id="25f4894ddaab3c1182f12732d3bcf889" category="section-title">例 1 ：最小限の構成</block>
  <block id="3f297ef15cde0668e93b35f2752fd4fd" category="section-title">次の手順</block>
  <block id="3ad256eea0abb551eaab63c84aa3d1f9" category="paragraph">バックエンド構成ファイルを作成したら、次のコマンドを実行します。</block>
  <block id="a61ed3c1ecae587dbee1f2c0ace81e3b" category="paragraph">バックエンドの作成に失敗した場合は、バックエンドの設定に何か問題があります。次のコマンドを実行すると、ログを表示して原因を特定できます。</block>
  <block id="8427b84145b88f048d5caa532324cd11" category="paragraph">構成ファイルで問題を特定して修正したら、 create コマンドを再度実行できます。</block>
  <block id="8f828c7344e7fe65d66237a25193068b" category="summary">ONTAP SAN ドライバを使用して ONTAP バックエンドを設定するための準備方法について説明します。</block>
  <block id="5475028f502d04bc17cdfdf613d28cbf" category="paragraph">複数のドライバを実行し、 1 つまたは複数のドライバを参照するストレージクラスを作成することもできます。たとえば 'ONTAP-SAN' ドライバを使用する「 -dev 」クラスと 'ONTAP-SAN-エコノミー 'one を使用する「デフォルト」クラスを設定できます</block>
  <block id="c75f7811d70d17dbcd88e9d03752cbed" category="section-title">認証</block>
  <block id="51e35cec1e001fb8abfbe474a18dd282" category="paragraph">Astra Trident には、 ONTAP バックエンドを認証する 2 つのモードがあります。</block>
  <block id="00cbc0e7ed0014813b07fc8452f60df1" category="list-text">credential based ：必要な権限を持つ ONTAP ユーザのユーザ名とパスワード。ONTAP バージョンとの互換性を最大限に高めるために 'admin' または vsadmin などの事前定義されたセキュリティ・ログイン・ロールを使用することを推奨します</block>
  <block id="e2cd9c84c3ebf14f3c81be4692848e5b" category="list-text">証明書ベース： Astra Trident は、バックエンドにインストールされた証明書を使用して ONTAP クラスタと通信することもできます。この場合、バックエンド定義には、 Base64 でエンコードされたクライアント証明書、キー、および信頼された CA 証明書（推奨）が含まれている必要があります。</block>
  <block id="a2f8f419bf420960ef8cca73e1999e09" category="section-title">クレデンシャルベースの認証を有効にします</block>
  <block id="ceae351bc6b26100a9b1685a5d477c0a" category="paragraph">Trident が ONTAP バックエンドと通信するには、 SVM を対象とした管理者またはクラスタを対象とした管理者のクレデンシャルが必要です。「 admin 」や「 vsadmin 」など、事前定義された標準的な役割を使用することをお勧めします。これにより、今後のリリースの ONTAP との互換性が今後のリリースの Astra Trident で使用される機能 API が公開される可能性があります。カスタムのセキュリティログインロールは Astra Trident で作成して使用できますが、推奨されません。</block>
  <block id="2312b8f77f99c346269b67308afc3649" category="paragraph">バックエンド定義の例は次のようになります。</block>
  <block id="2a2ef6dcf08a8789a55301af5f71304c" category="paragraph">バックエンド定義は、クレデンシャルがプレーンテキストで保存される唯一の場所であることに注意してください。バックエンドが作成されると、ユーザ名とパスワードが Base64 でエンコードされ、 Kubernetes シークレットとして格納されます。クレデンシャルの知識が必要なのは、バックエンドの作成と更新だけです。この処理は管理者専用で、 Kubernetes / ストレージ管理者が実行します。</block>
  <block id="052f76b486189a7b01340d5134eb7985" category="section-title">証明書ベースの認証を有効にします</block>
  <block id="0778b06c5ea9fded4fd7b586b248dd86" category="paragraph">新規または既存のバックエンドは証明書を使用して ONTAP バックエンドと通信できます。バックエンド定義には 3 つのパラメータが必要です。</block>
  <block id="d5b9c9db262b1927d7914504f3587adb" category="list-text">clientCertificate ： Base64 でエンコードされたクライアント証明書の値。</block>
  <block id="8f2b750dd6a57864f0e36828c248ddfc" category="list-text">clientPrivateKey ： Base64 でエンコードされた、関連付けられた秘密鍵の値。</block>
  <block id="200c2d2a44dec6455fa1c947f9c1f534" category="list-text">trustedCACertifate: 信頼された CA 証明書の Base64 エンコード値。信頼された CA を使用する場合は、このパラメータを指定する必要があります。信頼された CA が使用されていない場合は無視してかまいません。</block>
  <block id="6b634823c19ebc37c9e4fdbf08de1fff" category="paragraph">一般的なワークフローは次の手順で構成されます。</block>
  <block id="c92e58d7dd251e6e6cdb16291a6dec90" category="list-text">クライアント証明書とキーを生成します。生成時に、 ONTAP ユーザとして認証するように Common Name （ CN ；共通名）を設定します。</block>
  <block id="69b521cddbc52a2d14539e349e2930f0" category="list-text">信頼された CA 証明書を ONTAP クラスタに追加します。この処理は、ストレージ管理者がすでに行っている可能性があります。信頼できる CA が使用されていない場合は無視します。</block>
  <block id="2f3945695e5ca88abb46af80d87c6972" category="list-text">ONTAP クラスタにクライアント証明書とキーをインストールします（手順 1 ）。</block>
  <block id="e81810c4035ad015ad3f0d8c4f2c6454" category="list-text">ONTAP セキュリティ・ログイン・ロールが 'cert' 認証方式をサポートしていることを確認します</block>
  <block id="ea3bf76b270384627e7bcfb197ddb17b" category="list-text">生成された証明書を使用して認証をテストONTAP 管理 LIF &gt; と &lt;vserver name&gt; は、管理 LIF の IP アドレスおよび SVM 名に置き換えてください。</block>
  <block id="83f2adf143dc8f5fbbb9d924f840c1ce" category="list-text">Base64 で証明書、キー、および信頼された CA 証明書をエンコードする。</block>
  <block id="8d36e570f1edac5ae19e6733e3fbb4d5" category="list-text">前の手順で得た値を使用してバックエンドを作成します。</block>
  <block id="2ab8ad0fce083cd02635b9126cf4353c" category="section-title">認証方法を更新するか、クレデンシャルをローテーションして</block>
  <block id="5e36c3d66bd47ae551071244dc48df17" category="admonition">パスワードのローテーションを実行する際には、ストレージ管理者が最初に ONTAP でユーザのパスワードを更新する必要があります。この後にバックエンドアップデートが続きます。証明書のローテーションを実行する際に、複数の証明書をユーザに追加することができます。その後、バックエンドが更新されて新しい証明書が使用されるようになります。この証明書に続く古い証明書は、 ONTAP クラスタから削除できます。</block>
  <block id="6819218365fe3a3d66752f663feecddb" category="paragraph">バックエンドを更新しても、すでに作成されているボリュームへのアクセスは中断されず、その後のボリューム接続にも影響しません。バックエンドの更新が成功した場合、 Astra Trident が ONTAP バックエンドと通信し、以降のボリューム処理を処理できることを示しています。</block>
  <block id="42f93278b0d15c8d0f6613813bf586d5" category="section-title">双方向 CHAP を使用して接続を認証します</block>
  <block id="12dd7bfa072b5a1eecf975f6a5a6eaa7" category="admonition">「 useCHAP 」パラメータは、 1 回だけ設定できるブール型のオプションです。デフォルトでは false に設定されています。true に設定したあとで、 false に設定することはできません。</block>
  <block id="bc601528678aeeb582101ed205a054bc" category="paragraph">「 useCHAP=true' に加えて、「 chapInitiatorSecret 」、「 chapTargetInitiatorSecret 」、「 chapTargetUsername 」、および「 chapUsername 」フィールドもバックエンド定義に含める必要があります。シークレットは 'tridentctl update を実行してバックエンドを作成した後に変更できます</block>
  <block id="9ffdb95250e26c7a6b468126ac7c75b0" category="section-title">動作の仕組み</block>
  <block id="adbaa30840aebfe537058f72e0989326" category="paragraph">「 useCHAP 」を true に設定すると、ストレージ管理者は、ストレージバックエンドで CHAP を構成するように Astra Trident に指示します。これには次のものが含まれます。</block>
  <block id="29b4db879e4cc96a6b71bc763367624b" category="list-text">SVM で CHAP をセットアップします。</block>
  <block id="951e8b45bc49a5475337a1b55e3e3dc4" category="list-text">SVM のデフォルトのイニシエータセキュリティタイプが none （デフォルトで設定） * で、ボリュームに既存の LUN がない場合、 Astra Trident はデフォルトのセキュリティタイプを「 CHAP 」に設定し、 CHAP イニシエータとターゲットのユーザ名とシークレットの設定に進みます。</block>
  <block id="313818ab0cd3579429d5bd6e5faab8ff" category="list-text">SVM に LUN が含まれている場合、 Trident は SVM で CHAP を有効にしません。これにより、 SVM にすでに存在する LUN へのアクセスが制限されることはありません。</block>
  <block id="13e0c564d5e1fbd33279fb276166653d" category="list-text">CHAP イニシエータとターゲットのユーザ名とシークレットを設定します。これらのオプションは、バックエンド構成で指定する必要があります（上記を参照）。</block>
  <block id="2c7856e86a0cd46cb4fb48fa0886745e" category="paragraph">バックエンドが作成されると、 Astra Trident は対応する「 tridentbackend 」 CRD を作成し、 CHAP シークレットとユーザ名を Kubernetes シークレットとして保存します。このバックエンドの Astra Trident によって作成されたすべての PVS がマウントされ、 CHAP 経由で接続されます。</block>
  <block id="81f2df0265026a1a04bda5484798a10d" category="section-title">クレデンシャルをローテーションし、バックエンドを更新</block>
  <block id="a7fe005c9f49619f4438aac8932fb361" category="paragraph">CHAP 証明書を更新するには 'backend.json ファイルの CHAP パラメータを更新しますこれには 'CHAP シークレットを更新し 'tridentctl update コマンドを使用してこれらの変更を反映する必要があります</block>
  <block id="8959ac16a58b09dc5a158e86ab02cb53" category="admonition">バックエンドの CHAP シークレットを更新する場合は 'tridentctl' を使用してバックエンドを更新する必要がありますAstra Trident では変更を取得できないため、 CLI / ONTAP UI からストレージクラスタのクレデンシャルを更新しないでください。</block>
  <block id="1a59d0d7850406f157c314978eb3b821" category="paragraph">既存の接続は影響を受けません。 SVM の Astra Trident でクレデンシャルが更新されても、引き続きアクティブです。新しい接続では更新されたクレデンシャルが使用され、既存の接続は引き続きアクティブです。古い PVS を切断して再接続すると、更新されたクレデンシャルが使用されます。</block>
  <block id="ef81b740be2293b7e3c41047afe98764" category="cell">" 100G "</block>
  <block id="ff342df7522d6b527768cc6bfe5f9fae" category="summary">Astra Trident により、 Kubernetes ユーザは作成後にボリュームを拡張できます。ここでは、 iSCSI ボリュームと NFS ボリュームの拡張に必要な設定について説明します。</block>
  <block id="15d79b565b148caa23e6f2b53813413d" category="section-title">iSCSI ボリュームを展開します</block>
  <block id="0b981ab19df55a28a02578aa5f326db8" category="paragraph">CSI プロビジョニングを使用して、 iSCSI Persistent Volume （ PV ）を拡張できます。</block>
  <block id="f8f338469c62eb8604f5304af08466ba" category="admonition">iSCSI ボリュームの拡張は 'ONTAP-SAN''ONTAP-SAN-エコノミー ''olidfire-SAN' ドライバによってサポートされており 'Kubernetes 1.16 以降が必要です</block>
  <block id="13311fb741bdb3b9d877937311a2d64d" category="paragraph">iSCSI PV の拡張には、次の手順が含まれます。</block>
  <block id="5141e3596f63bc5db3fd9ee32b736127" category="list-text">StorageClass 定義を編集して 'allowVolumeExpansion フィールドを true に設定します</block>
  <block id="9e7362e47322994c4d272d377e83f31b" category="list-text">PVC 定義を編集し 'PEC.resources.requests.storage を更新して ' 新たに必要とされるサイズを反映しますこれは ' 元のサイズより大きくなければなりません</block>
  <block id="0860a1b7122f04033fb722b29d878468" category="list-text">サイズを変更するには、 PV をポッドに接続する必要があります。iSCSI PV のサイズ変更には、次の 2 つのシナリオがあります。</block>
  <block id="7ac758b4597806f6880d9618fa093e52" category="list-text">PV がポッドに接続されている場合、 Astra Trident はストレージバックエンドのボリュームを拡張し、デバイスを再スキャンし、ファイルシステムのサイズを変更します。</block>
  <block id="7efffb2478ff651b7e45343b4e9f6fa8" category="list-text">未接続の PV のサイズを変更しようとすると、 Astra Trident がストレージバックエンドのボリュームを拡張します。PVC がポッドにバインドされると、 Trident はデバイスを再スキャンし、ファイルシステムのサイズを変更します。展開操作が正常に完了すると、 Kubernetes は PVC サイズを更新します。</block>
  <block id="ec3e34c26eaf059dc3ac58d8efc9fa37" category="paragraph">次の例は、 iSCSI PVS の仕組みを示しています。</block>
  <block id="fe9ee1935ea7894fe4fd2f600993cd7d" category="section-title">手順 1 ：ボリュームの拡張をサポートするようにストレージクラスを設定する</block>
  <block id="c83b8171dcc233263cf7eeaef8da6a4d" category="paragraph">既存の StorageClass の場合は 'allowVolumeExpansion パラメータを含めるように編集します</block>
  <block id="59973fd7be015512b53fe121a13d5580" category="section-title">手順 2 ：作成した StorageClass を使用して PVC を作成します</block>
  <block id="8592e7b08d26d1aa2ef3c44409c736fa" category="paragraph">Astra Trident が、永続的ボリューム（ PV ）を作成し、この永続的ボリューム要求（ PVC ）に関連付けます。</block>
  <block id="8dacc1d7fdb5bfd3f8a4daedf3ccdd88" category="section-title">手順 3 ： PVC を接続するポッドを定義します</block>
  <block id="85f5dec267aa48cff82ccaf993019e6d" category="paragraph">この例では、ポッドが作成され、「 1-pvc 」が使用されます。</block>
  <block id="ebae1958b6002fb43077a474d845284c" category="section-title">ステップ 4 ： PV を展開します</block>
  <block id="63188b171689bcd93b1ca818b3a2ab9c" category="paragraph">1Gi から 2Gi に作成された PV のサイズを変更するには、 PVC の定義を編集し、「 PEC.resources.request.storage 」を 2Gi に更新します。</block>
  <block id="eabf614ed44fe1c3e78cb2300949eb63" category="section-title">手順 5 ：拡張を検証する</block>
  <block id="28abbd693f528f04d0ff068b3013fcd6" category="paragraph">PVC 、 PV 、 Astra Trident のボリュームのサイズを確認することで、拡張が正しく機能しているかどうかを検証できます。</block>
  <block id="75b8249751a8ea5869a0b5a8e465efc1" category="section-title">NFS ボリュームを拡張します</block>
  <block id="578f10bb7cad2abad1cbbcb9a9a732f9" category="paragraph">NFS PV のサイズを変更するには ' まず 'allowVolumeExpansion フィールドを true に設定してボリュームを拡張できるようにストレージ・クラスを構成する必要があります</block>
  <block id="27b4a9ed8609e35526601aa8d8be1ab9" category="paragraph">このオプションを指定せずにすでにストレージ・クラスを作成している場合は 'kubectl Edit storageclass を使用して既存のストレージ・クラスを編集するだけで ' ボリュームの拡張が可能になります</block>
  <block id="784f78e647973a0dcfa11b7a028c7eae" category="paragraph">Astra Trident が、この PVC に対して 20MiB の NFS PV を作成する必要があります。</block>
  <block id="3b16cea25bd4a9aaf5a9c3dcc13ea7eb" category="section-title">ステップ 3 ： PV を展開します</block>
  <block id="e5c2c0bfcfbe01e6174199aaff9616a5" category="paragraph">新しく作成した 20MiB PV のサイズを 1GiB に変更するには、 PVC を編集し、「 pec.resources.request.storage 」を 1GB に設定します。</block>
  <block id="4a59ce1bc63fd7e6333968fb4bbd9d45" category="section-title">手順 4 ：拡張を検証する</block>
  <block id="c70f05fed7c73e0be4a0b24c8532a87c" category="paragraph">PVC 、 PV 、 Astra Trident のボリュームのサイズを確認することで、サイズ変更が正しく機能しているかどうかを検証できます。</block>
  <block id="cf13ba16f33b5f6772614929649be6c2" category="summary">tridentctl import を使用して、既存のストレージボリュームを Kubernetes PV としてインポートできます。</block>
  <block id="5f48c343984786005c9830d96c6fca87" category="doc">ボリュームをインポート</block>
  <block id="76057e180d7b3edcebaa935c7ccab687" category="paragraph">PVC と PV にアノテーションが追加されます。このアノテーションは、ボリュームがインポートされたこと、および PVC と PV が管理されていることを示す二重の目的を果たします。このアノテーションは変更または削除しないでください。</block>
  <block id="1b539ba5a07e124e582b2e4bfc489200" category="paragraph">「 ontap/nas 」ドライバで作成される各ボリュームは、 ONTAP クラスタ上の FlexVol です。「 ontap/nas 」ドライバを使用して FlexVol をインポートする方法は同じです。ONTAP クラスタにすでに存在する FlexVol は 'ONTAP-NAS'PVC としてインポートできます同様に、 FlexGroup ボリュームは「 ONTAP-NAS-flexgroup 」 PVC としてインポートできます。</block>
  <block id="e4f61797b38c111b04c612b285a06659" category="summary">ONTAP NAS ドライバを使用して ONTAP バックエンドを設定するための準備方法について説明します。</block>
  <block id="00b8b321c68facfb94b31690cbd23e00" category="paragraph">ONTAP バックエンドすべてに対して、 Astra Trident が SVM に少なくとも 1 つのアグリゲートを割り当てておく必要があります。</block>
  <block id="07b434b23f63ca6490df33b213599320" category="section-title">NFS エクスポートポリシーを管理します</block>
  <block id="9d66483f8378ffe30cde84e1b6dbf484" category="paragraph">Astra Trident は、 NFS エクスポートポリシーを使用して、プロビジョニングするボリュームへのアクセスを制御します。</block>
  <block id="a297d9b7dbc393d5e8a5b3f98bcc9337" category="paragraph">Astra Trident には、エクスポートポリシーを使用する際に次の 2 つのオプションがあります。</block>
  <block id="0c87d42e666bbc299da2143379484281" category="list-text">Astra Trident は、エクスポートポリシー自体を動的に管理できます。このモードでは、許容可能な IP アドレスを表す CIDR ブロックのリストをストレージ管理者が指定します。Astra Trident は、この範囲に含まれるノード IP をエクスポートポリシーに自動的に追加します。または、 CIDRs が指定されていない場合は、ノード上で検出されたグローバルスコープのユニキャスト IP がエクスポートポリシーに追加されます。</block>
  <block id="e6add289c2b1cd5da45e00f3098b35de" category="list-text">ストレージ管理者は、エクスポートポリシーを作成したり、ルールを手動で追加したりできます。構成に別のエクスポートポリシー名を指定しないと、 Astra Trident はデフォルトのエクスポートポリシーを使用します。</block>
  <block id="4603f08ad837f4108ff2fe7665b0b1e3" category="section-title">エクスポートポリシーを動的に管理</block>
  <block id="8b78bee43bfa1617b12c311f0ad26e81" category="admonition">エクスポートポリシーの動的管理は CSI Trident でのみ使用できます。ワーカーノードが NAT 処理されていないことを確認することが重要です。</block>
  <block id="44568b7468885ca198a66bb088b9e3b5" category="paragraph">2 つの設定オプションを使用する必要があります。バックエンド定義の例を次に示します。</block>
  <block id="4975fc485ff51ca8f82c6ea96f927287" category="paragraph">ここでは、上記の例を使用してこの機能がどのように動作するかについて説明します。</block>
  <block id="acdca8a11423c4bc209db0a1a4909294" category="list-text">「 autoExportPolicy 」は「 true 」に設定されています。これは、 Astra Trident が「 vm1 」 SVM のエクスポートポリシーを作成し、「 autoExportCIDRs 」アドレスブロックを使用してルールの追加と削除を処理することを示しています。たとえば、 UUID 403b5326-842-40dB-96d0-d83fb3f4daec と「 autoExportPolicy 」が「 true 」に設定されているバックエンドは、 SVM 上に「 trident-403b5326-842-40dB-96d0-d83f3f4daec 」という名前のエクスポートポリシーを作成します。</block>
  <block id="1bdcc9b4be16b7ad2f1b54c892491a43" category="list-text">「 autoExportCI` 」には、アドレスブロックのリストが含まれています。このフィールドは省略可能で、デフォルト値は ["0.0.0.0/0" 、 "::/0" です。定義されていない場合は、 Astra Trident が、ワーカーノードで検出されたすべてのグローバルにスコープ指定されたユニキャストアドレスを追加します。</block>
  <block id="96d8905e0d42a0d3573c71fd4ecce0b8" category="paragraph">この例では '192.168.0.0/24 アドレス空間が提供されていますこのアドレス範囲に含まれる Kubernetes ノードの IP が、 Astra Trident が作成するエクスポートポリシーに追加されることを示します。Astra Trident は、実行されているノードを登録すると、ノードの IP アドレスを取得し、「 autoExportCIDRs 」で提供されているアドレスブロックと照合します。IP をフィルタリングすると、 Trident が検出したクライアント IP のエクスポートポリシールールを作成し、特定したノードごとに 1 つのルールが設定されます。</block>
  <block id="4646f167a1fb9819f41f28d5ab11c1fa" category="paragraph">バックエンドの作成後に 'autoExportPolicy' および 'autoExportCIDRs を更新できます自動的に管理されるバックエンドに新しい CIDRs を追加したり、既存の CIDRs を削除したりできます。CIDRs を削除する際は、既存の接続が切断されないように注意してください。バックエンドに対して「 autoExportPolicy 」を無効にし、手動で作成したエクスポートポリシーに戻すこともできます。これには、バックエンド構成で「 exportPolicy 」パラメータを設定する必要があります。</block>
  <block id="18deff64a140a603bdb6070abed4eed4" category="paragraph">Astra Trident がバックエンドを作成または更新した後は 'tridentctl' または対応する tridentbackend`CRD を使用してバックエンドを確認できます</block>
  <block id="83af513d9b9d50c1dc648bfea29797cb" category="paragraph">ノードが Kubernetes クラスタに追加されて Astra Trident コントローラに登録されると、既存のバックエンドのエクスポートポリシーが更新されます（バックエンドの「 autoExportCIDRs 」に指定されたアドレス範囲に含まれる場合）。</block>
  <block id="fd85ad7b0ce4e83937cbc1012086b9b3" category="paragraph">ノードを削除すると、 Astra Trident はオンラインのすべてのバックエンドをチェックして、そのノードのアクセスルールを削除します。管理対象のバックエンドのエクスポートポリシーからこのノード IP を削除することで、 Astra Trident は、この IP がクラスタ内の新しいノードによって再利用されないかぎり、不正なマウントを防止します。</block>
  <block id="cda5977f42a72ef440d3b6233b9970bf" category="paragraph">以前のバックエンドの場合は 'tridentctl update backend でバックエンドを更新することで 'Astra Trident がエクスポートポリシーを自動的に管理できるようになりますこれにより、バックエンドの UUID のあとにという名前の新しいエクスポートポリシーが作成され、バックエンドに存在するボリュームは、新しく作成したエクスポートポリシーを使用して、再びマウントします。</block>
  <block id="de1d1f6b64a5c5b6890c313888b290b7" category="admonition">自動管理されたエクスポートポリシーを使用してバックエンドを削除すると、動的に作成されたエクスポートポリシーが削除されます。バックエンドが再作成されると、そのバックエンドは新しいバックエンドとして扱われ、新しいエクスポートポリシーが作成されます。</block>
  <block id="920708f6d71767dcff22f9e43b4ec0c0" category="paragraph">ライブノードの IP アドレスが更新された場合は、ノード上の Astra Trident ポッドを再起動する必要があります。Trident が管理するバックエンドのエクスポートポリシーを更新して、この IP の変更を反映させます。</block>
  <block id="5f3124ab7224f89a36fbb64fd2ebda15" category="summary">ONTAP SAN ドライバを作成して Astra Trident インストールで使用する方法をご確認ください。このセクションでは、バックエンド構成の例と、バックエンドをストレージクラスにマッピングする方法を詳しく説明します。</block>
  <block id="19ce3b2e7823907e5153f00fe04f64f7" category="doc">設定オプションと例</block>
  <block id="a85f55a18073767a4945eac810e72cb2" category="cell">「 ONTAP-NAS 」、「 ONTAP-NAS-エコノミー 」、「 ONTAP-NAS-flexgroup 」、「 ONTAP-SAN 」、「 ONTAP-SAN-エコノミー 」</block>
  <block id="237d7a1666794b0937adde704bb4795c" category="cell">ドライバ名 + "_" + データ LIF</block>
  <block id="07c54fe26be1e43601e99cd9d4fbe262" category="cell">「管理 LIF 」</block>
  <block id="c560b8d02093547d93a87c72d8b16eaf" category="cell">「 10.0.0.1 」、「 [2001:1234:abcd::fefe] 」</block>
  <block id="bd81db53971fda3e688447b28c747d1a" category="cell">「重複排除</block>
  <block id="ab4ce1634362493e6de248d103136787" category="cell">「 useCHAP 」</block>
  <block id="7c6b65d42434282f1555f13b40e9fd25" category="cell">「 chapInitiatorSecret 」</block>
  <block id="c8a7a6136447a56280ecf99e3ed87d65" category="cell">CHAP イニシエータシークレット。「 useCHAP = TRUE 」の場合は必須</block>
  <block id="b5cbbe3dadaab4a036fdb38af67ee936" category="cell">ボリュームに適用する任意の JSON 形式のラベルのセット</block>
  <block id="948938ec6491061ccf17c7ae8eafbd26" category="cell">「 chapTargetInitiatorSecret 」</block>
  <block id="48db71efc42dda989b98744160575f4f" category="cell">CHAP ターゲットイニシエータシークレット。「 useCHAP = TRUE 」の場合は必須</block>
  <block id="28687fafefb2992ff7856dcfd2c29e1f" category="cell">「 chapUsername 」</block>
  <block id="e3f84c141fd3f4682dfb31e0d71c7f5f" category="cell">インバウンドユーザ名。「 useCHAP = TRUE 」の場合は必須</block>
  <block id="62fbbf4cfd0cc0a82f953199d14a61e3" category="cell">「 chapTargetUsername 」</block>
  <block id="a379a576b788ab047d5e6405ff4f3511" category="cell">ターゲットユーザ名。「 useCHAP = TRUE 」の場合は必須</block>
  <block id="cbdaf784161be9806a24fe78a8046c01" category="cell">「 clientCertificate 」をクリックします</block>
  <block id="a84cbedc106b973917ae925d04533f97" category="cell">クライアント証明書の Base64 エンコード値。証明書ベースの認証に使用されます</block>
  <block id="8545e54eea74cf2579fbe1cb56b11862" category="cell">「 clientPrivateKey 」</block>
  <block id="4a54228eb2be79492f8f76bb814ddf63" category="cell">クライアント秘密鍵の Base64 エンコード値。証明書ベースの認証に使用されます</block>
  <block id="b071cd8105f8f59b777098388b7a3322" category="cell">「 trustedCacertifate 」</block>
  <block id="ffe4ce29fe1a6176d496c40332e9cb98" category="cell">信頼された CA 証明書の Base64 エンコード値。任意。証明書ベースの認証に使用されます</block>
  <block id="6d77646a2fd9ab65f8e3344d7dce661a" category="cell">「ユーザ名」</block>
  <block id="83425e975af1b2d60355aa4162300198" category="cell">クラスタ / SVM に接続するためのユーザ名。クレデンシャルベースの認証に使用されます</block>
  <block id="6aa91a7fbb8c9edcf4aa5f9411aec19c" category="cell">「 password 」と入力します</block>
  <block id="63d06d6cc41e485615f99a3aad0002b3" category="cell">クラスタ / SVM に接続するためのパスワード。クレデンシャルベースの認証に使用されます</block>
  <block id="afc423de2be5ca5ab3a6ae9548bbfcf3" category="cell">'VM'</block>
  <block id="972abf48cbbadbcd573754140d35e19a" category="cell">使用する Storage Virtual Machine</block>
  <block id="ef65dd3301d78701f7cfcf8a01834f2f" category="cell">SVM 「管理 LIF 」が指定されている場合に生成されます</block>
  <block id="3b890f58db76bb3003ada171cd18c4db" category="cell">「 igroupName 」と入力します</block>
  <block id="c08068da3c5d19547544c4bd424a6b76" category="cell">'toragePrefix'</block>
  <block id="e3f688f3aa653574b3253640aa98f47c" category="cell">SVM で新しいボリュームをプロビジョニングする際に使用するプレフィックスを指定します。設定後に更新することはできません</block>
  <block id="a996d2f8e072c583d6cc26aa1e4aba87" category="cell">Trident</block>
  <block id="12d2394af47293b12d6b5f411f99a6d1" category="cell">「 AggreglimitateUsage 」と入力します</block>
  <block id="9d96dfa28e7454a1119de523123a1e05" category="cell">“”（デフォルトでは適用されません）</block>
  <block id="c9a303edbc714d051896c3a678e59a8a" category="cell">'lunsPerFlexvol</block>
  <block id="79892588cbecd0b88729ea1a55b2a3a4" category="cell">FlexVol あたりの最大 LUN 数。有効な範囲は 50 、 200 です</block>
  <block id="2d782f413944b272c911c548418a18a3" category="cell">100</block>
  <block id="f703d18584e163e18762e4dc13ad96a0" category="cell">「 useREST` 」</block>
  <block id="193a49bcfb561fea878daa5efe72cad9" category="section-title">ボリュームのプロビジョニング用のバックエンド構成オプション</block>
  <block id="a0ee23c5b4cbd6a28a4143933891f927" category="cell">「平和の配分」</block>
  <block id="26161d08a960162cd8633d0e23058aed" category="cell">space-allocation for LUN のコマンドを指定します</block>
  <block id="3be488c6a2bc52ceb7e8685ca24927d7" category="cell">正しいです</block>
  <block id="a6bddf19eed00dbe2199864dee8454ce" category="cell">「平和のための準備」を参照してください</block>
  <block id="3bce5b103341500856287f5347e19f28" category="cell">スペースリザベーションモード：「 none 」（シン）または「 volume 」（シック）</block>
  <block id="e84c56670c389b09fcad5da7309a165b" category="cell">なし</block>
  <block id="0ec3875cf79264e4689a646be2f704b6" category="cell">「ナプショットポリシー」</block>
  <block id="77f69e470b8766d2dc5df4b7f469ed72" category="cell">使用する Snapshot ポリシー</block>
  <block id="84d2c2c768bd1900489bad5fb46b4aac" category="cell">「 QOSPolicy 」</block>
  <block id="54b94bba5d336f4e3d5fd7e88544fad1" category="cell">作成したボリュームに割り当てる QoS ポリシーグループ。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します</block>
  <block id="952e3a12d35e717bf86a6000b0c08976" category="cell">「 adaptiveQosPolicy 」を参照してください</block>
  <block id="036c0eabd455d8a92d350429f2f5747e" category="cell">アダプティブ QoS ポリシーグループ：作成したボリュームに割り当てます。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します</block>
  <block id="11f9fcd55c1d81cf352f86fe4cdfd444" category="cell">スナップショット "0" 用に予約されたボリュームの割合</block>
  <block id="af6626456fa359992271ea88de34094f" category="cell">「 napshotPolicy 」が「 none 」の場合、それ以外の場合は「」</block>
  <block id="4be01095ce6e500084fc427e5dec61ac" category="cell">'plitOnClone</block>
  <block id="6f5c0c94b1a17baffd2c33facaa10db6" category="cell">作成時にクローンを親からスプリットします</block>
  <block id="19b4c847405d74614976bd1228f59c9f" category="cell">いいえ</block>
  <block id="b091cbafedf94db98f17823d044434bd" category="cell">「暗号化」</block>
  <block id="a463baaf6666da7178b6fc6a3c8a3fee" category="cell">'ecurityStyle'</block>
  <block id="41da49bdd3fd88b2ddc6be7d6df1b335" category="cell">新しいボリュームのセキュリティ形式</block>
  <block id="31aa018945eb62580d68d360cba8ba54" category="cell">階層ポリシー</block>
  <block id="592a5879ac095ef6ca504cc43a9d7939" category="cell">「なし」を使用する階層化ポリシー</block>
  <block id="ee6508d5290be6edafccc6e0f471f120" category="cell">ONTAP 9.5 よりも前の SVM-DR 構成の「スナップショットのみ」</block>
  <block id="99c2306b30b8939278f0f817230f3573" category="admonition">Trident が Astra で QoS ポリシーグループを使用するには、 ONTAP 9.8 以降が必要です。共有されない QoS ポリシーグループを使用して、各コンスティチュエントに個別にポリシーグループを適用することを推奨します。共有 QoS ポリシーグループにより、すべてのワークロードの合計スループットに対して上限が適用されます。</block>
  <block id="05c4365fe7e90a545f8b24060094a36a" category="paragraph">次に、デフォルトが定義されている例を示します。</block>
  <block id="fab51d2bc90465982b0994bc86e69db9" category="admonition">「 'SAN 」ドライバを使用して作成されたすべてのボリュームに対して 'Astra Trident は 'LUN のメタデータに対応するために FlexVol にさらに 10% の容量を追加しますLUN は、ユーザが PVC で要求したサイズとまったく同じサイズでプロビジョニングされます。Astra Trident が FlexVol に 10% を追加（ ONTAP で利用可能なサイズとして表示）ユーザには、要求した使用可能容量が割り当てられます。また、利用可能なスペースがフルに活用されていないかぎり、 LUN が読み取り専用になることもありません。これは、 ONTAP と SAN の経済性には該当しません。</block>
  <block id="824d88f50ab9e39778b0ef5bc2516b2f" category="paragraph">「スナップショット予約」を定義するバックエンドの場合、 Astra Trident は次のようにボリュームのサイズを計算します。</block>
  <block id="4e762198289d9294de9c1cbb3f0b26b6" category="paragraph">1.1 は、 Astra Trident の 10% の追加料金で、 FlexVol のメタデータに対応します。「 napshotReserve 」 =5% 、 PVC 要求 =5GiB の場合、ボリュームの合計サイズは 5.79GiB 、使用可能なサイズは 5.5GiB です。volume show コマンドは ' 次の例のような結果を表示する必要があります</block>
  <block id="2f1534ee8d0c6ec998511ed37cfe0da9" category="image-alt">に、 volume show コマンドの出力を示します。</block>
  <block id="e6e049b4753c744e95db32b0eeed8d5c" category="paragraph">現在、既存のボリュームに対して新しい計算を行うには、サイズ変更だけを使用します。</block>
  <block id="2aae2b6accd04335b3eeceb2193b34d6" category="section-title">最小限の設定例</block>
  <block id="bca36ce39f61ce2d375cbdb66eab5162" category="paragraph">次の例は、ほとんどのパラメータをデフォルトのままにする基本的な設定を示しています。これは、バックエンドを定義する最も簡単な方法です。</block>
  <block id="19fd94d2657fdd90c44f1fcd72890482" category="admonition">ネットアップ ONTAP で Astra Trident を使用している場合、 IP アドレスではなく LIF に DNS 名を指定することを推奨します。</block>
  <block id="78e5b29e139db71ceb7ca6bc99b5e228" category="paragraph">これは、バックエンドの最小限の設定例です。「 clientCertificate` 」、「 clientPrivateKey 」、「 trustedCACertifate` （信頼された CA を使用する場合はオプション）」は「 backend.json 」に格納され、それぞれクライアント証明書、秘密鍵、信頼された CA 証明書の Base64 でエンコードされた値を取得します。</block>
  <block id="b0a5c44c844418c2a5474a0d4c19182c" category="paragraph">これは、バックエンドの最小限の設定例です。この基本的な構成では 'useCHAP' を true' に設定して 'ONTAP-SAN' バックエンドを作成します</block>
  <block id="6a24af0a579ec0e851db9d35e047d58e" category="paragraph">この例では ' 一部のストレージ・プールで独自の 'aceReserve'`paceAllocation] ' および [encryption`] 値が設定されていますまた ' 一部のプールでは ' 上で設定したデフォルト値が上書きされます</block>
  <block id="22aec9ab9f9270747cb10c5bd593c1ab" category="paragraph">次に 'ONTAP-SAN-エコノミー ・ドライバの iSCSI の例を示します</block>
  <block id="f00b69018be0961b32ee24ec54fb56d1" category="section-title">バックエンドを StorageClasses にマッピングします</block>
  <block id="ef1161058705470bb877fbce688eea9e" category="summary">ONTAP SAN ドライバを使用して ONTAP バックエンドを設定する方法について説明します。</block>
  <block id="31e8c05beab321d1465fc4c3f77e991a" category="doc">バックエンドに ONTAP SAN ドライバを設定します</block>
  <block id="ce8828fc10a926c196951c9bdd0d534d" category="section-title">ユーザ権限</block>
  <block id="96c17dbe45e7351fb2a4f71956c25e0c" category="paragraph">Astra Trident は、 ONTAP 管理者または SVM 管理者のいずれかとして実行されることを想定しています。通常は、「 admin 」クラスタユーザまたは「 vsadmin 」 SVM ユーザを使用するか、同じロールを持つ別の名前のユーザを使用します。Amazon FSX for NetApp ONTAP 環境では、 Astra Trident は、 ONTAP 管理者または SVM 管理者として、クラスタ「 fsxadmin 」ユーザまたは「 vsadmin 」 SVM ユーザ、または同じロールを持つ別の名前のユーザを実行する必要があります。「 fsxadmin 」ユーザは、クラスタ管理ユーザの限定的な代替ユーザです。</block>
  <block id="4937b52eb2cb058f225b69b2caafaf29" category="admonition">limitAggregateUsage パラメータを使用する場合は、クラスタ管理者権限が必要です。Amazon FSX for NetApp ONTAP を Astra Trident とともに使用する場合、「 limitAggregateUsage 」パラメータは「 vsadmin 」および「 fsxadmin 」ユーザアカウントでは機能しません。このパラメータを指定すると設定処理は失敗します。</block>
  <block id="821b0ad941ad2559ef18eb8de56a470e" category="summary">Kubernetes クラスタ内のすべてのワーカーノードが、ポッド用にプロビジョニングしたボリュームをマウントできる必要があります。いずれかのバックエンドに ONTAP-NAS 、 ONTAP-NAS-エコノミー 、 ONTAP-NAS-flexgroup ドライバを使用している場合は、ワーカーノードに NFS ツールが必要です。それ以外の場合は iSCSI ツールが必要です。</block>
  <block id="89d83ec6e8ec0c087fbc4aedc555b362" category="doc">ワーカーノードを準備します</block>
  <block id="b7a66d04a41292979004906785008ca9" category="section-title">NFS ボリューム</block>
  <block id="696c660ff8d9323e55146a6dbd4e4088" category="cell">オペレーティングシステム</block>
  <block id="c441ee50c88f6e5e3a7c69fc69dad8b8" category="cell">コマンド</block>
  <block id="e0b19bed1baf46134f4079471e193b01" category="paragraph">'sudo yum install -y nfs-utils'</block>
  <block id="1054b270f1635a3dd940e995cbc7ed78" category="paragraph">'UDO apt-get install-y nfs-common</block>
  <block id="29ba980a9e9adedc9414ea868c74ebd5" category="section-title">iSCSI ボリューム</block>
  <block id="12fe03bf2457cc4e4e90af10a2f7092f" category="list-text">Kubernetes クラスタ内の各ノードには一意の IQN を割り当てる必要があります。* これは必須の前提条件です * 。</block>
  <block id="0bad70dcf33f40dcc0d528d58b9eac76" category="inline-link">RedHat のマニュアル</block>
  <block id="8cd5b262d8d9950185128d052d55f7c8" category="list-text">次のシステムパッケージをインストールします。</block>
  <block id="6bbf3284462dc8b9b90cb1adcd1c0ff4" category="paragraph">'sudo yum install -y lsscsi iscsi-initiator-utils SG3_utils device-mapper-multipath`</block>
  <block id="1a5157a00ea5806f553766d5b3b114fd" category="list-text">iscsi-initiator-utils のバージョンが 6.2.0.874-2.el7 以降であることを確認します。</block>
  <block id="55c13faac514053f94cef55eb316c9a4" category="paragraph">「 rpm -q iscsi-initiator-utils 」のように入力します</block>
  <block id="19955b3c2d2c1cfc1c82c2fe0347a065" category="list-text">スキャンを手動に設定：</block>
  <block id="d2db641a196e6107eecf8c32f7cd7a4e" category="paragraph">'sudo sed-i'/ ^ \ （ node.session.scan\).*/\1 = manual/ '/etc/iscsi/iscsid.conf</block>
  <block id="d0b02d407fd5c75d0e7eac549a852191" category="list-text">マルチパスを有効化：</block>
  <block id="8bec0eea71974a9138ccfa96983ddcfc" category="list-text">「 iscsid 」と「 multipathd 」が実行されていることを確認します。</block>
  <block id="90a9d2e9b1b4ae58a957ff989f0732ba" category="paragraph">'sudo systemctl enable -- 現在 iscsid multipathd</block>
  <block id="8018f5d6ddc4e67678d1659757828deb" category="list-text">'iSCSI' を有効にして開始します</block>
  <block id="0f905161e16c2cfa712f1fb7640afee4" category="paragraph">'sudo systemctl enable -- 現在の iSCSI</block>
  <block id="28ea88befb3a7f6a8e98e7ea7a4fd35f" category="paragraph">'UDO apt-get install-y open-iscsi lsscsi SG3-utils multipath-tools scsitools'</block>
  <block id="a53508e75911225e5de8b5febc82cf12" category="list-text">open-iscsi バージョンが 2.0.874-5ubuntu2.10 以降（ bionic の場合）または 2.0.874-7.1ubuntu6.1 以降（ Focal の場合）であることを確認します。</block>
  <block id="f6802be29c6bca93d8f44768b0347ac9" category="paragraph">`d pkg -l open-iscsi`</block>
  <block id="b163c84ad8a4e55a17b51aad8074093e" category="list-text">「 open-iSCSI」 および「マルチパスツール」が有効で実行されていることを確認します。</block>
  <block id="8741473f7a80f4dd83071161b2c95301" category="paragraph">'sudo systemctl status multipath-tools `sudo systemctl enable -- 現在の open-iscsi.service` 'udo systemctl status open-iscsi'</block>
  <block id="1b757fe9c8a149de349a32b8d21feb54" category="admonition">Ubuntu 18.04 では 'iSCSI デーモンを起動するために 'open-iscsi' を起動する前に 'iscsiadm を持つターゲット・ポートを検出する必要がありますまたは 'iscsid' サービスを 'iscsid' を自動的に開始するように変更することもできます</block>
  <block id="4cc2b9916e7383e5fa29dc6188159e32" category="summary">バックエンドは、 Astra Trident とストレージシステムの関係を定義します。Trident がストレージシステムとの通信方法を Trident から指示し、 Astra Trident がボリュームをプロビジョニングする方法も解説します。Astra Trident のインストールが完了したら、次の手順でバックエンドを作成します。TridentBackendConfig カスタムリソース定義（ CRD ）を使用すると、 Trident バックエンドを Kubernetes インターフェイスから直接作成および管理できます。これを行うには 'kubectl' または Kubernetes ディストリビューションに相当する CLI ツールを使用します</block>
  <block id="d2031a5a319b9363cf98da6b1509598a" category="paragraph">TridentBackendConfig` (`tbc`, `tbconfig`, tbackendconfig`) はフロントエンドであり、 "kubectl" を使って Astra Trident バックエンドを管理するための名前空間 CRD です。Kubernetes とストレージ管理者は、専用のコマンドラインユーティリティ（「 tridentctl 」）を使用せずに、 Kubernetes CLI を使用してバックエンドを直接作成および管理できるようになりました。</block>
  <block id="b44c2fd5cefc815abed7e31c0fa8c8ac" category="paragraph">「 TridentBackendConfig 」オブジェクトを作成すると、次のようになります。</block>
  <block id="858fafdff7fa27f202ae0eb981c6dff0" category="list-text">バックエンドは、指定した構成に基づいて Astra Trident によって自動的に作成されます。これは、内部的には「 TridentBackend 」 (`tbe `, tridentbackend`) CR として表されます。</block>
  <block id="40640dd98ca175d098c1c765b1e148d9" category="list-text">「 TridentBackendConfig 」は、 Astra Trident によって作成された「 TridentBackend 」に一意にバインドされます。</block>
  <block id="1efc3a14ca6dc7c90db79e02f3abe7d5" category="paragraph">各「 TridentBackendConfig 」は、「 TridentBackend 」を使用して 1 対 1 のマッピングを維持します。前者はバックエンドの設計と構成をユーザに提供するインターフェイスで、後者は Trident が実際のバックエンドオブジェクトを表す方法です。</block>
  <block id="c9038f47fe0df535b6bf5619c9ff629e" category="admonition">TridentBackend CRS は Astra Trident によって自動的に作成されます。これらは * 変更しないでください。バックエンドを更新する場合は、「 TridentBackendConfig 」オブジェクトを変更します。</block>
  <block id="9c3385530cf6e460576e5f6e7cc1b912" category="paragraph">「 TridentBackendConfig 」 CR の形式については、次の例を参照してください。</block>
  <block id="c84ef67352bb6783ff2881f9f2821c2a" category="inline-link">Trident インストーラ</block>
  <block id="f13a06ff6eab87969a9f96765f31ed9c" category="paragraph">の例を確認することもできます<block ref="6511e50af21389f9e77db56e03f6dd72" category="inline-link-rx"></block> 目的のストレージプラットフォーム / サービスの設定例を示すディレクトリ。</block>
  <block id="06df669f3ef6f929e9b58c9f47b65310" category="inline-link-macro">ストレージドライバのバックエンド設定情報</block>
  <block id="182839d8f6b2bdde60e1d972422cf3a2" category="paragraph">「 PEC 」は、バックエンド固有の設定パラメータをとります。この例では ' バックエンドは 'ONTAP-SAN' ストレージ・ドライバを使用し ' ここで表に示す構成パラメータを使用します使用するストレージドライバの設定オプションの一覧については、を参照してください <block ref="5f2d139eefa7c36061f4d97161be02ea" category="inline-link-macro-rx"></block>。</block>
  <block id="92051c832f01d9070a7ed71d1ce523c5" category="paragraph">「 PEC 」セクションには、「 credentials 」フィールドと「 eleetionPolicy 」フィールドも含まれています。これらのフィールドは、「 TridentBackendConfig 」 CR に新しく導入されました。</block>
  <block id="5ab961de690e071f0dc1c0dabac7fd89" category="list-text">`credentials` ：このパラメータは必須フィールドで、ストレージシステム / サービスとの認証に使用されるクレデンシャルが含まれています。ユーザが作成した Kubernetes Secret に設定されます。クレデンシャルをプレーンテキストで渡すことはできないため、エラーになります。</block>
  <block id="9f11e03722a7b912083c63fc68f4dd7b" category="list-text">`DeleetionPolicy`: 「 TridentBackendConfig 」が削除されたときに何が起こるかを定義します。次の 2 つの値のいずれかを指定できます。</block>
  <block id="d09d50d3f84f9c585492818f491a2497" category="list-text">「削除」 : これにより、「 TridentBackendConfig 」 CR とそれに関連付けられたバックエンドの両方が削除されます。これがデフォルト値です。</block>
  <block id="f0c89ce27bf4c43949ad8f26a4f586bb" category="list-text">「管理」：「 TridentBackendConfig 」 CR を削除しても、バックエンド定義は引き続き表示され、「 tridentctl 」で管理できます。削除ポリシーを「 retain 」に設定すると、ユーザは以前のリリース (21.04 より前 ) にダウングレードし、作成されたバックエンドを保持できます。このフィールドの値は、「 TridentBackendConfig 」が作成された後で更新できます。</block>
  <block id="7f2208582df334d090d35357eb5d6901" category="admonition">バックエンドの名前は 'PEC.backendName' を使用して設定されます指定しない場合、バックエンドの名前は「 TridentBackendConfig 」オブジェクト（ metadata.name ）の名前に設定されます。'PEC.backendName' を使用してバックエンド名を明示的に設定することをお勧めします</block>
  <block id="317e77f416ffd109037a657fffa1e7f7" category="admonition">tridentctl で作成されたバックエンドには 'TridentBackendConfig' オブジェクトが関連付けられていません「 TridentBackendConfig 」 CR を作成することで、「 kubectl 」を使用してこのようなバックエンドを管理できます。同一の構成パラメータ (`PEC.backendName`'`PEC.storagePrefix'`PEC.storageDriverName') を指定するように注意する必要がありますAstra Trident は、新しく作成した「 TridentBackendConfig 」を既存のバックエンドに自動的にバインドします。</block>
  <block id="625cc9b8ccc34496dc2b3fcffb7e384a" category="section-title">手順の概要</block>
  <block id="a867c4bbc8d632a517f22b7377b9b8ed" category="paragraph">kubectl' を使用して新しいバックエンドを作成するには ' 次の手順を実行する必要があります</block>
  <block id="4db4699aa0126dfb06878d7e07c0abdf" category="inline-link">Kubernetes Secret</block>
  <block id="7e5e1bb39eefe4eec7a88b845126d41d" category="list-text">を作成します<block ref="fcce7b7bd05b6b012eabe3df8de04808" category="inline-link-rx"></block>。シークレットには、ストレージクラスタ / サービスと通信するために Trident から必要なクレデンシャルが含まれています。</block>
  <block id="c39d193a9cc4084cc6c7964e1bb5efd8" category="list-text">「 TridentBackendConfig 」オブジェクトを作成します。ストレージクラスタ / サービスの詳細を指定し、前の手順で作成したシークレットを参照します。</block>
  <block id="286b0035cf59742ffe54696b798f2368" category="paragraph">バックエンドを作成したら、「 kubectl get tbc &lt;tbc-name&gt; -n &lt;trident-namespac&gt;` 」を使用してバックエンドのステータスを確認し、詳細を収集できます。</block>
  <block id="494cb787cd1c1f78123323c1006f2081" category="section-title">手順 1 ： Kubernetes Secret を作成します</block>
  <block id="a8c4d0cb53af2c6e334f5c58890021d6" category="paragraph">バックエンドのアクセスクレデンシャルを含むシークレットを作成します。ストレージサービス / プラットフォームごとに異なる固有の機能です。次に例を示します。</block>
  <block id="04402bf69acac56c72a55c0e4ac2165c" category="paragraph">次の表に、各ストレージプラットフォームの Secret に含める必要があるフィールドをまとめます。</block>
  <block id="94cec86c6eef229009007e6d00d54ef1" category="cell">ストレージプラットフォームのシークレットフィールド概要</block>
  <block id="1e6947ac7fb3a9529a9726eb692c8cc5" category="cell">秘密</block>
  <block id="c11257eff6563de2c05e353770c514ca" category="cell">Field 概要の略</block>
  <block id="93c5bebdea9c94a0740fe6fd9bb250f0" category="paragraph">ClientID</block>
  <block id="012e85295e2f1f744cfb8757f8dd4830" category="paragraph">アプリケーション登録からのクライアント ID</block>
  <block id="ee64ef6c307cfcfe5c0f085471cd61fa" category="paragraph">private_key_id です</block>
  <block id="1e31c22f827d25c5973eee697baace79" category="paragraph">秘密鍵の ID 。CVS 管理者ロールを持つ GCP サービスアカウントの API キーの一部</block>
  <block id="156a17333e77a3c504018cae5ada8c3b" category="paragraph">private_key を使用します</block>
  <block id="8e0708b67ba6ce0f70a948152e7e7895" category="paragraph">秘密鍵CVS 管理者ロールを持つ GCP サービスアカウントの API キーの一部</block>
  <block id="25de05ab7f10e99b499db62e0b89ad33" category="cell">Element （ NetApp HCI / SolidFire ）</block>
  <block id="2a6ba72e93aa7fa676d07973ed2716bb" category="paragraph">エンドポイント</block>
  <block id="14c4b06b824ec593239362517f538b29" category="paragraph">ユーザ名</block>
  <block id="6e1b40351708d93ce8c387f6f8ca7533" category="paragraph">クラスタ / SVM に接続するためのユーザ名。クレデンシャルベースの認証に使用されます</block>
  <block id="5f4dcc3b5aa765d61d8327deb882cf99" category="paragraph">パスワード</block>
  <block id="4d3fd9a7ab4c84b857fc26b2633237d0" category="paragraph">クラスタ / SVM に接続するためのパスワード。クレデンシャルベースの認証に使用されます</block>
  <block id="19dce7ac7f5290fc8fa218ad0c858df5" category="paragraph">clientPrivateKey</block>
  <block id="8c5e8d4f9acf9295e1a96feef0c0b516" category="paragraph">クライアント秘密鍵の Base64 エンコード値。証明書ベースの認証に使用されます</block>
  <block id="039e9d80fa53ba861c06b590ba3f9d34" category="paragraph">chapUsername のコマンド</block>
  <block id="a7128cd45d4a277fe5c6ed6f6c4238f7" category="paragraph">インバウンドユーザ名。useCHAP = true の場合は必須。「 ONTAP-SAN' 」と「 ONTAP-SAN-エコノミー 」の場合</block>
  <block id="f9d0dc78b203f2c1106dc0c7d58a5397" category="paragraph">chapInitiatorSecret</block>
  <block id="2f573af61fb37b4f1c5e2def2341b7c4" category="paragraph">CHAP イニシエータシークレット。useCHAP = true の場合は必須。「 ONTAP-SAN' 」と「 ONTAP-SAN-エコノミー 」の場合</block>
  <block id="2ebe107bb3bc9551fbb0e5033046931c" category="paragraph">chapTargetUsername のコマンド</block>
  <block id="e945f079b3e50bd5722f056b72282608" category="paragraph">ターゲットユーザ名。useCHAP = true の場合は必須。「 ONTAP-SAN' 」と「 ONTAP-SAN-エコノミー 」の場合</block>
  <block id="4ab84a55744951d967033db9b64f6b27" category="paragraph">chapTargetInitiatorSecret</block>
  <block id="61b50fba255c10a4a2b5f7cf8276849a" category="paragraph">CHAP ターゲットイニシエータシークレット。useCHAP = true の場合は必須。「 ONTAP-SAN' 」と「 ONTAP-SAN-エコノミー 」の場合</block>
  <block id="73d583a1445e1497ec3adaa011e2724c" category="paragraph">このステップで作成されたシークレットは、次のステップで作成された「 TridentBackendConfig 」オブジェクトの「 PEC.credentials 」フィールドで参照されます。</block>
  <block id="3394622f88ed2c82c85e92e908879095" category="paragraph">これで「 TridentBackendConfig 」 CR を作成する準備ができました。この例では 'ONTAP-SAN' ドライバを使用するバックエンドは ' 次に示す TridentBackendConfig オブジェクトを使用して作成されます</block>
  <block id="967688089cfc07a6c8e893bce5186445" category="paragraph">これで「 TridentBackendConfig 」 CR が作成され、ステータスを確認できるようになりました。次の例を参照してください。</block>
  <block id="edc9d2e179d9bd8effd5277699967aff" category="paragraph">バックエンドが正常に作成され、「 TridentBackendConfig 」 CR にバインドされました。</block>
  <block id="ecb5320e6f020f2c2dcad7a6268111ed" category="paragraph">フェーズには次のいずれかの値を指定できます。</block>
  <block id="35ef366711dba4820492cd153e2bc30d" category="list-text">「 bound` ： TridentBackendConfig 」 CR はバックエンドに関連付けられており、バックエンドには「 TridentBackendConfig 」 CR の uid に設定された「 configRef 」が含まれています。</block>
  <block id="f2edf590deb30828e48e7290aa78e788" category="list-text">Unbound ： "" を使用して表現されています「 TridentBackendConfig 」オブジェクトはバックエンドにバインドされません。新しく作成されたすべての TridentBackendConfig ’ CRS は、デフォルトでこのフェーズに入ります。フェーズが変更された後、再度 Unbound に戻すことはできません。</block>
  <block id="895ba30a6f39f0691ad851fe26560431" category="list-text">「削除」 : 「 TridentBackendConfig 」 CR の「要素ポリシー」は「削除」に設定されています。「 TridentBackendConfig 」 CR が削除されると、「 Deleting 」状態に移行します。</block>
  <block id="0550ab6955adf5805cf2d00b7c592718" category="list-text">バックエンドに永続ボリューム要求（ PVC ）が存在しない場合、「 TridentBackendConfig 」を削除すると、 Astra Trident はバックエンドと「 TridentBackendConfig 」 CR を削除します。</block>
  <block id="ffd02eb489e62222a00391567d0bad81" category="list-text">バックエンドに 1 つ以上の PVC が存在する場合は、削除状態になります。次に 'TridentBackendConfig'CR が削除フェーズに入りますバックエンドおよび TridentBackendConfig は、すべての PVC が削除された後にのみ削除されます。</block>
  <block id="39d978e14d4d8c9f19589af0d4e72661" category="list-text">`lost` ：「 TridentBackendConfig 」 CR に関連付けられているバックエンドが誤って削除されたか、意図的に削除されました。「 TridentBackendConfig 」 CR には削除されたバックエンドへの参照があります。「 TridentBackendConfig 」 CR は、「 $eleetionPolicy 」の値に関係なく削除できます。</block>
  <block id="8375bdbfbc291bcedc60e7555e3dc43a" category="list-text">Unknown`: Astra Trident は 'TridentBackendConfig'CR に関連付けられたバックエンドの状態または存在を判断できませんたとえば、 API サーバが応答していない場合や、「 tridentbackends.trident.netapp.io` CRD 」がない場合などです。これには、ユーザの介入が必要な場合があります。</block>
  <block id="fdf3d4560a801cb64c255cc2790fe9cc" category="inline-link-macro">バックエンドの更新とバックエンドの削除</block>
  <block id="57867491a75119ccf33f6ed8a434ff8e" category="paragraph">この段階では、バックエンドが正常に作成されます。など、いくつかの操作を追加で処理することができます <block ref="9f5a7b55f1a44b55d5336cefd3bf688e" category="inline-link-macro-rx"></block>。</block>
  <block id="4dca0b80562cc590644c1acfada17219" category="section-title">（オプション）手順 4 ：詳細を確認します</block>
  <block id="22f66c61dd35abb0ae1840a7e38ae1b9" category="paragraph">バックエンドに関する詳細情報を確認するには、次のコマンドを実行します。</block>
  <block id="aab3a73056ee2962dff0130da0538454" category="paragraph">さらに、「 TridentBackendConfig 」の YAML ／ JSON ダンプを取得することもできます。</block>
  <block id="9fae9b8b2e8f0d5b91654165a5dacc1f" category="paragraph">backendInfo` には 'TridentBackendConfig'CR に応答して作成されたバックエンドの backendName' と backendUUID' が含まれます「 lastOperationStatus 」フィールドは、「 TridentBackendConfig 」 CR の最後の操作のステータスを表します。これは、ユーザーが起動する（例えば、ユーザーが「 PEC 」の何かを変更した）か、 Astra Trident によってトリガーされる（例えば、 Astra Trident の再起動時）ことができます。Success または Failed のいずれかです。「 phase 」は、「 TridentBackendConfig 」 CR とバックエンド間の関係のステータスを表します。上の例では 'phase' に値がバインドされていますこれは 'TridentBackendConfig'CR がバックエンドに関連付けられていることを意味します</block>
  <block id="7b7587593fc7d381339d450faa35dfa9" category="paragraph">イベントログの詳細を取得するには、「 kubectl -n trident describe describe tbc &lt;tbc -cr-name&gt; 」コマンドを実行します。</block>
  <block id="6dc07da7e54d697726bb349fb693fa8b" category="inline-link-macro">こちらを参照してください</block>
  <block id="c732962a4a01ea5f406ec66e50e98903" category="admonition">tridentctl を使用して ' 関連付けられた TridentBackendConfig' オブジェクトを含むバックエンドを更新または削除することはできません「 tridentctl 」と「 TridentBackendConfig 」の切り替えに関連する手順を理解するには、次の手順に従います。 <block ref="8d6bc70a41f48e3f72c3f5ea8752090b" category="inline-link-macro-rx"></block>。</block>
  <block id="337de5d45c69b1e4dcf87a8e7ec9ff76" category="doc">Amazon FSX for NetApp ONTAP で Astra Trident を使用</block>
  <block id="7eb620c879218a348ba0e9afaedf6b01" category="paragraph">ファイルシステムは、オンプレミスの ONTAP クラスタに似た、 Amazon FSX のプライマリリソースです。各 SVM 内には、ファイルとフォルダをファイルシステムに格納するデータコンテナである 1 つ以上のボリュームを作成できます。Amazon FSX for NetApp ONTAP を使用すると、 Data ONTAP はクラウド内の管理対象ファイルシステムとして提供されます。新しいファイルシステムのタイプは * NetApp ONTAP * です。</block>
  <block id="ff27e75635c1ff1e88fbc656b16e56ce" category="section-title">Astra Trident の詳細をご確認ください</block>
  <block id="483a5da192f46e3cfe8391d3ef234fc4" category="inline-link-macro">よくある質問です</block>
  <block id="486632f7d2196e772b742db4a4a0ad7c" category="inline-link-macro">Astra Trident を導入</block>
  <block id="55449fd175613962d882ab450cfc5f3c" category="inline-link">FabricPool</block>
  <block id="d07e2d99267e4fc3c508f6701be977b4" category="paragraph">NetApp ONTAP 用の Amazon FSX では、を使用します<block ref="d1584952da6bdedb0a24d5dbd43ce0bf" category="inline-link-rx"></block> ストレージ階層を管理します。データへのアクセス頻度に基づいて階層にデータを格納することができます。</block>
  <block id="8e64a609e66214066595e6300aaab281" category="section-title">ドライバ</block>
  <block id="79a4618bb191cb293c330f8189531a13" category="list-text">「 ONTAP-SAN」 ：プロビジョニングされる各 PV は、 NetApp ONTAP ボリューム用の独自の Amazon FSX 内の LUN です。</block>
  <block id="b8f98ceeb9b158e8af3527fce91e9e57" category="list-text">「 ONTAP と SAN の経済性」：プロビジョニングされた各 PV は、 NetApp ONTAP ボリュームの Amazon FSX ごとに構成可能な数の LUN を持つ LUN です。</block>
  <block id="a5bc2c9e7628ac6c73838f9fea0e6ed6" category="list-text">「 ONTAP-NAS' ：プロビジョニングされた各 PV は、 NetApp ONTAP ボリューム用の完全な Amazon FSX です。</block>
  <block id="94a834f420b7c21f3a1053e6dc705a31" category="list-text">「 ONTAP-NAS-エコノミー 」：プロビジョニングされた各 PV は qtree であり、 NetApp ONTAP ボリュームの Amazon FSX ごとに設定可能な数の qtree があります。</block>
  <block id="e42b07a9f050ef51ea1211004a50f223" category="list-text">「 ONTAP-NAS-flexgroup 」：プロビジョニングされた各 PV は、 NetApp ONTAP FlexGroup ボリューム用の完全な Amazon FSX です。</block>
  <block id="ed2536bee60113131cf25b2de3ec8734" category="list-text">証明書ベース： Astra Trident は、 SVM にインストールされている証明書を使用して、 FSX ファイルシステムの SVM と通信します。</block>
  <block id="80d13d3dbe137e8fb646193f275eceeb" category="list-text">既存の Amazon EKS クラスタまたは 'kubectl' がインストールされた自己管理型 Kubernetes クラスタ</block>
  <block id="52d48fdd62aa109d7f163f0ef8a31b83" category="list-text">クラスタのワーカーノードからアクセスできる、 NetApp ONTAP ファイルシステムと Storage Virtual Machine （ SVM ）用の既存の Amazon FSX 。</block>
  <block id="fe914214000491758957f04647f8da36" category="inline-link">Amazon Machine Images の略</block>
  <block id="3e25473814d436a2ebac91120e147b0b" category="admonition">ファイルシステムにアクセスできる任意の場所から SSH を使用して、ファイルシステムにログイン（証明書をインストールする場合など）できます。「 fsxadmin 」ユーザ、ファイルシステムの作成時に設定したパスワード、「 aws FSX describe -file-systems 」の管理 DNS 名を使用します。</block>
  <block id="860958fe641e0edbd80fe522c36d0560" category="list-text">次の例に示すように、証明書と管理 LIF の DNS 名を使用してバックエンドファイルを作成します。</block>
  <block id="1584837635038d443115ce4eeb3b33e4" category="paragraph">バックエンドの作成については、次のリンクを参照してください。</block>
  <block id="6f95a39ae3c518928ed5e4681a0fd49b" category="inline-link-macro">バックエンドに ONTAP NAS ドライバを設定します</block>
  <block id="d11f02b39cdb338286053b2f1315c6b4" category="inline-link-macro">ストレージクラスを定義してボリュームをプロビジョニングし、ポッドでボリュームをマウント</block>
  <block id="cc788b7e72b2a734dd0985bd1e0e9fe3" category="inline-link">Amazon FSX for NetApp ONTAP のドキュメント</block>
  <block id="fd570b75466e2daca21a032e6fd5981c" category="list-text"><block ref="fd570b75466e2daca21a032e6fd5981c" category="inline-link-rx"></block></block>
  <block id="0ef79cb4bb284d3ca9c3e95489919301" category="inline-link">Amazon FSX for NetApp ONTAP に関するブログ記事です</block>
  <block id="3b94214fe5975bca8da92b72f8926be2" category="list-text"><block ref="3b94214fe5975bca8da92b72f8926be2" category="inline-link-rx"></block></block>
  <block id="8682abd0ce083533bad141869c96ab2a" category="summary">Astra Trident は、ボリュームを管理するための機能を複数備えています。Trident がボリュームに提供している Astra の機能をご確認ください。</block>
  <block id="b42cbc6e68075c106b9faa27e4931091" category="doc">ボリューム操作を実行する</block>
  <block id="eb487790322c4b8e9b4953d60be1acee" category="paragraph">Trident がボリュームを管理するための各種機能をご紹介します。</block>
  <block id="3d4635d3cf4f27b0e87f3fe86a84744d" category="inline-link-macro">CSI トポロジを使用します</block>
  <block id="9e325272e7aed7c7bd6c28ff6fa4a90f" category="list-text"><block ref="9e325272e7aed7c7bd6c28ff6fa4a90f" category="inline-link-macro-rx"></block></block>
  <block id="e5879288a130fbd8d0b8682cfc375c4f" category="inline-link-macro">スナップショットを操作します</block>
  <block id="c499fa59a1c9a0f6da195782a581f2e3" category="list-text"><block ref="c499fa59a1c9a0f6da195782a581f2e3" category="inline-link-macro-rx"></block></block>
  <block id="56661e701892ff873e44b62ffeec85e5" category="list-text"><block ref="56661e701892ff873e44b62ffeec85e5" category="inline-link-macro-rx"></block></block>
  <block id="c0417f5bbd54c5dc1c3704d6b566fcf3" category="list-text"><block ref="c0417f5bbd54c5dc1c3704d6b566fcf3" category="inline-link-macro-rx"></block></block>
  <block id="8b7b728c6a1e7accd6148646ba730e77" category="summary">Astra Trident でバックエンドを管理するさまざまな方法をご確認ください。</block>
  <block id="4342473e01edd2e1440b8b76076f4c9e" category="doc">バックエンド管理オプション間を移動します</block>
  <block id="a7b407f571446f9f4a30f63e8160784a" category="list-text">tridentctl を使用して作成したバックエンドは 'TridentBackendConfig' で管理できますか</block>
  <block id="3e1fc11d05c13404995af2b9fda64675" category="list-text">「 TridentBackendConfig 」を使用して作成したバックエンドは、「 tridentctl 」を使用して管理できますか。</block>
  <block id="d6da18e16f248df47ee8e5139ef0156a" category="paragraph">このセクションでは 'tridentBackendConfig' オブジェクトを作成して Kubernetes インターフェイスから直接 'tridentctl を使用して作成されたバックエンドの管理に必要な手順について説明します</block>
  <block id="bee2ae6068ad50344ddb325737434004" category="paragraph">これは、次のシナリオに該当します。</block>
  <block id="e9c4de6d076377511c2b6a8463898ef2" category="list-text">「 tridentBackendConfig 」を持たない既存のバックエンドは、「 tridentctl 」で作成されています。</block>
  <block id="8eed1f3ae09f008e2dbfb4280a0c137c" category="list-text">「 tridentctl 」で作成された新しいバックエンドと、その他の「 TridentBackendConfig 」オブジェクトが存在します。</block>
  <block id="0507a4f0ac746171a414097e7f033dca" category="paragraph">どちらの場合も、 Trident でボリュームをスケジューリングし、処理を行っているバックエンドは引き続き存在します。管理者には次の 2 つの選択肢があります。</block>
  <block id="95328f21e7a6deb7bb94acb3866753a6" category="list-text">tridentctl を使用して ' バックエンドを使用して作成したバックエンドを管理します</block>
  <block id="82c1dd66573aab904c86b63e2d5486ad" category="list-text">tridentctl を使用して作成されたバックエンドを新しい TridentBackendConfig オブジェクトにバインドしますこれは ' バックエンドが tridentctl ではなく 'kubectl' を使用して管理されることを意味します</block>
  <block id="d12d5022b29f44c340ee55411970fe10" category="paragraph">「 kubectl 」を使用して既存のバックエンドを管理するには、既存のバックエンドにバインドする「 TridentBackendConfig 」を作成する必要があります。その仕組みの概要を以下に示します。</block>
  <block id="0637b40285532fa1b6c6a4548e63d2f4" category="list-text">Kubernetes Secret を作成します。シークレットには、ストレージクラスタ / サービスと通信するために Trident から必要なクレデンシャルが含まれています。</block>
  <block id="b863de09ccfaf2861ead350dd78a9933" category="list-text">「 TridentBackendConfig 」オブジェクトを作成します。ストレージクラスタ / サービスの詳細を指定し、前の手順で作成したシークレットを参照します。同一の構成パラメータ (`PEC.backendName`'`PEC.storagePrefix'`PEC.storageDriverName') を指定するように注意する必要があります'PEC.backendName' は ' 既存のバックエンドの名前に設定する必要があります</block>
  <block id="44411eb1f3a70196b442f0ed4bb62820" category="section-title">手順 0 ：バックエンドを特定します</block>
  <block id="2181a22b3daf7866094f9f0d79da87d0" category="paragraph">次の例に示すように、バックエンドのクレデンシャルを含むシークレットを作成します。</block>
  <block id="276e25c1cf06c603ba2d133ae2e39dde" category="paragraph">次の手順では ' （この例のように）事前に存在する 'ONTAP-NAS-backend' に自動的にバインドされる 'TridentBackendConfig'CR を作成します次の要件が満たされていることを確認します。</block>
  <block id="0cbfd18f16db9afdef577eeddd6a8bee" category="list-text">「 'PEC.backendName' 」に同じバックエンド名が定義されています。</block>
  <block id="f261e4f2fe82344f35f04f9b3813e425" category="list-text">設定パラメータは元のバックエンドと同じです。</block>
  <block id="8f50f98a5b56105263e2f7ab18dc0686" category="list-text">クレデンシャルは、プレーンテキストではなく、 Kubernetes Secret を通じて提供されます。</block>
  <block id="05c8cd2e49ae2ecaee101c9bc5619d49" category="paragraph">この場合、「 TridentBackendConfig 」は次のようになります。</block>
  <block id="63d6f3ce15066b6232a788bb692bf721" category="paragraph">「 TridentBackendConfig 」が作成された後、そのフェーズは「バインド」されている必要があります。また、既存のバックエンドと同じバックエンド名と UUID が反映されている必要があります。</block>
  <block id="d1a75f7c76623350486029378ab164c3" category="paragraph">これで ' バックエンドは 'tbc-ontap/nas-backend`TridentBackendConfig' オブジェクトを使用して完全に管理されます</block>
  <block id="fcea92f3e948217919ca8b4051c2c61e" category="paragraph">tridentBackendConfig を使用して作成されたバックエンドを一覧表示するには 'tridentctl を使用しますまた、管理者は、「 TridentBackendConfig 」を削除し、「 pec.deletionPolicy` 」が「 re 」に設定されていることを確認することで、「 tridentctl 」を使用してこのようなバックエンドを完全に管理することもできます。</block>
  <block id="ab0c73d8e0377b2df5b783d3a76f2249" category="paragraph">たとえば ' 次のバックエンドが TridentBackendConfig を使用して作成されたとします</block>
  <block id="9874d325a018b14fb52adf25f612579e" category="paragraph">出力からは、「 TridentBackendConfig 」が正常に作成され、バックエンドにバインドされていることがわかります（バックエンドの UUID を確認してください）。</block>
  <block id="ea64db0654e81907c68ffc52d023c3c7" category="paragraph">「ネットワークポリシー」の値を見てみましょう。これは「山」に設定する必要があります。これにより 'TridentBackendConfig'CR が削除されても ' バックエンドの定義は引き続き表示され 'tridentctl' で管理できます</block>
  <block id="1ad97e0f65ef91102831baaa31630c76" category="admonition">「削除ポリシー」が「再取得」に設定されていない限り、次の手順に進まないでください。</block>
  <block id="8313f77478cb0df464604ae4435acce2" category="paragraph">最後の手順は、「 TridentBackendConfig 」 CR を削除することです。「削除ポリシー」が「取得」に設定されていることを確認したら、削除を続行できます。</block>
  <block id="c1493b6d6e05639a816e5772bbb491af" category="paragraph">TridentBackendConfig オブジェクトを削除すると、 Astra Trident はバックエンド自体を削除せずに削除します。</block>
  <block id="72a5926b7fb086fe87e93771f6620556" category="summary">tridentctl を使用してバックエンド管理操作を実行する方法について説明します</block>
  <block id="aeeb03235358f0f4bf3be628bed08721" category="section-title">バックエンドを作成します</block>
  <block id="34746f7a1d24170eeebf5510a045d43d" category="inline-link-macro">バックエンド構成ファイル</block>
  <block id="99b7232073a67a8c82304f979e3dc83f" category="paragraph">を作成したら <block ref="03c0b6ed8698193668e92f56e9be3efa" category="inline-link-macro-rx"></block>を使用して、次のコマンドを実行します。</block>
  <block id="1cabe44c722167581b1e219de6c58341" category="paragraph">バックエンドの作成に失敗した場合は、バックエンドの設定に何か問題があります。次のコマンドを実行すると、ログを表示して原因を特定できます。</block>
  <block id="b5f9999463782f0c36ecc89573a90a49" category="paragraph">構成ファイルの問題を特定して修正したら ' 再度 create コマンドを実行します</block>
  <block id="634b471e6af84767e06324552492b533" category="section-title">バックエンドを削除します</block>
  <block id="412228c370a388e25ee06e8ad7a1da3f" category="paragraph">Astra Trident からバックエンドを削除するには、次の手順を実行します。</block>
  <block id="f6816a6570e6b6097177f9adc1f4805b" category="list-text">バックエンド名を取得します。</block>
  <block id="11f4ccb46eb9afc4b1187c376b53123f" category="list-text">バックエンドを削除します。</block>
  <block id="c87f53b53d179c2b5dcd5fad1efba831" category="admonition">Astra Trident で、まだ存在しているこのバックエンドからボリュームとスナップショットをプロビジョニングしている場合、バックエンドを削除すると、新しいボリュームをプロビジョニングできなくなります。バックエンドは「削除」状態のままになり、 Trident は削除されるまでそれらのボリュームとスナップショットを管理し続けます。</block>
  <block id="d694c8966214ec6d0068c0ab2951b65c" category="section-title">既存のバックエンドを表示します</block>
  <block id="a6345aca446812b9124c47b385b33f43" category="paragraph">Trident が認識しているバックエンドを表示するには、次の手順を実行します。</block>
  <block id="cb325bc4dded2aa4744b594966262a99" category="list-text">概要を取得するには、次のコマンドを実行します。</block>
  <block id="9f073deeee70a1418443c3b8379c5c02" category="list-text">すべての詳細を確認するには、次のコマンドを実行します。</block>
  <block id="93dbcf0189ff94d39230d2e3726969ab" category="section-title">バックエンドを更新します</block>
  <block id="27709162cf6b8ffced7bb1da6dd49df3" category="paragraph">新しいバックエンド構成ファイルを作成したら、次のコマンドを実行します。</block>
  <block id="4ca005817e9c882d0ef15d451a97dbf0" category="paragraph">バックエンドの更新が失敗した場合、バックエンドの設定に問題があるか、無効な更新を試行しました。次のコマンドを実行すると、ログを表示して原因を特定できます。</block>
  <block id="20b5ebaa2558437206eb6d1d47577805" category="paragraph">構成ファイルの問題を特定して修正したら 'update コマンドを再度実行できます</block>
  <block id="d47f84a3cda326babf841866ad2326ab" category="section-title">バックエンドを使用するストレージクラスを特定します</block>
  <block id="02fe9d429af25b46c16a1172d735124f" category="paragraph">ここでは ' バックエンド・オブジェクトの tridentctl 出力と同じ JSON を使用して回答で実行できる質問の例を示しますこれには 'jq' ユーティリティが使用されますこのユーティリティをインストールする必要があります</block>
  <block id="e00013adda7b5901ea3e44ae300fd73d" category="paragraph">これは、「 TridentBackendConfig 」を使用して作成されたバックエンドにも適用されます。</block>
  <block id="bc960ce53bb0d62c44b5a3f212c279d3" category="summary">ストレージクラスを作成したり、ストレージクラスを削除したり、既存のストレージクラスを表示したりできます。</block>
  <block id="e8b9c3a9859a62e9a58431c3b61f75d5" category="doc">ストレージクラスを管理する</block>
  <block id="e123173acd76721f31496874fd778eca" category="section-title">ストレージクラスを設計する</block>
  <block id="a9a4b52c93b141ba28676afe58a5900d" category="paragraph">を参照してください <block ref="5a81d2db77288939223c6a591fc3991d" category="inline-link-macro-rx"></block> ストレージクラスとその設定方法の詳細については、を参照してください。</block>
  <block id="14f4c7abe09c4481722f1fa6563f2604" category="section-title">ストレージクラスを作成する。</block>
  <block id="99b068c418b4a658f64806517e8567ac" category="paragraph">ストレージクラスファイルが作成されたら、次のコマンドを実行します。</block>
  <block id="fac03ff7d61c420a4caeeb44355cb2be" category="paragraph">「 &lt;storage-class-file&gt; 」は、ストレージクラスのファイル名に置き換える必要があります。</block>
  <block id="0fe0aa7b9b7529f66030afb1629507bb" category="section-title">ストレージクラスを削除する</block>
  <block id="4bf50148821c75f616a96daca9255e6f" category="paragraph">Kubernetes からストレージクラスを削除するには、次のコマンドを実行します。</block>
  <block id="65494a0b3404ce637afd88bcb7c82998" category="paragraph">「 &lt;storage-class&gt; 」は、ご使用のストレージクラスに置き換えてください。</block>
  <block id="a5f526f5d63d827ce2c0146a20cd2ff7" category="paragraph">このストレージクラスで作成された永続ボリュームには変更はなく、 Astra Trident によって引き続き管理されます。</block>
  <block id="e606165355271961ba07945766fbf83a" category="section-title">既存のストレージクラスを表示します</block>
  <block id="7c237bc6c124137d25df2dec1cb3e528" category="list-text">既存の Kubernetes ストレージクラスを表示するには、次のコマンドを実行します。</block>
  <block id="4aae22fbb9c0d354d0a9c15c6c126d89" category="list-text">Kubernetes ストレージクラスの詳細を表示するには、次のコマンドを実行します。</block>
  <block id="bed443a9c5577e1043c277e8ebbb542f" category="list-text">Astra Trident の同期されたストレージクラスを表示するには、次のコマンドを実行します。</block>
  <block id="db66cf4d314ab7a719a76ed3af1b0173" category="list-text">Astra Trident の同期されたストレージクラスの詳細を表示するには、次のコマンドを実行します。</block>
  <block id="ce32eb748bd7452bd6ee6d1d7ad6d3a7" category="section-title">デフォルトのストレージクラスを設定する</block>
  <block id="f30a1542c01c3c493f3c01c88dfe5fcd" category="paragraph">Kubernetes 1.6 では、デフォルトのストレージクラスを設定する機能が追加されています。永続ボリューム要求（ PVC ）に永続ボリュームが指定されていない場合に、永続ボリュームのプロビジョニングに使用するストレージクラスです。</block>
  <block id="7c435ae4763642458286cb691812ea55" category="list-text">ストレージクラスの定義でアノテーションの「 torageclass.Kubernetes .io/is-default-class 」を true に設定して、デフォルトのストレージクラスを定義します。仕様に応じて、それ以外の値やアノテーションがない場合は false と解釈されます。</block>
  <block id="61fd76f55d29aaceb4a6ee09a318dc45" category="list-text">次のコマンドを使用して、既存のストレージクラスをデフォルトのストレージクラスとして設定できます。</block>
  <block id="800477137444bec636483de85335cbb5" category="list-text">同様に、次のコマンドを使用して、デフォルトのストレージクラスアノテーションを削除できます。</block>
  <block id="2d2f31c3012657fd7b38b41312d1a0b8" category="paragraph">また、このアノテーションが含まれている Trident インストーラバンドルにも例があります。</block>
  <block id="94d8ac3a8d98f2232d3dc735878a5bc3" category="admonition">クラスタには、常に 1 つのデフォルトストレージクラスだけを設定してください。Kubernetes では、技術的に複数のストレージを使用することはできますが、デフォルトのストレージクラスがまったくない場合と同様に動作します。</block>
  <block id="6c36cb9c072dc4cb9e163c44568f6a91" category="section-title">ストレージクラスのバックエンドを特定します</block>
  <block id="dc0742ede78913414129866d60898f67" category="paragraph">これは 'tridentctl が 'Astra Trident バックエンド・オブジェクトに出力する JSON を使用して回答が実行できる質問の一例ですこれには 'jq' ユーティリティが使用されますこのユーティリティを最初にインストールする必要があります</block>
  <block id="08c4bc4ac4edd9b12963c0596478d746" category="summary">Astra Trident では、 CSI トポロジ機能を利用することにより、 Kubernetes クラスタ内に存在するノードに対してボリュームを選択的に作成して接続できます。</block>
  <block id="4abea6bac3b0b48d11dd8dcd02a11bf9" category="inline-link">CSI トポロジ機能</block>
  <block id="592af423a2f6a51f57c639ec7f7b245e" category="admonition">CSI トポロジ機能の詳細については、を参照してください<block ref="ff042e7f24bd2adcec09d78466034177" category="inline-link-rx"></block>。</block>
  <block id="bbdcaf9b704dc7a7cf73e6000101b65a" category="paragraph">Kubernetes には、 2 つの固有のボリュームバインドモードがあります。</block>
  <block id="93590d63acbb4fa6864a4665157fbcea" category="list-text">'VolumeBindingMode' が Immediate に設定されていると 'Astra Trident は ' トポロジーを認識せずにボリュームを作成しますボリュームバインディングと動的プロビジョニングは、 PVC が作成されるときに処理されます。これはデフォルトの「 VolumeBindingMode 」であり、トポロジ制約を適用しないクラスタに適しています。永続ボリュームは、要求側ポッドのスケジュール要件に依存せずに作成されます。</block>
  <block id="5fca24470d51aa51b0fb2d0f27c25c68" category="list-text">VolumeBindingMode を「 WaitForFirstConsumer 」に設定すると、 PVC の永続ボリュームの作成とバインドは、 PVC を使用するポッドがスケジュールされて作成されるまで遅延されます。これにより、トポロジの要件に応じたスケジュールの制約を満たすようにボリュームが作成されます。</block>
  <block id="3bbc2da928dcf77a048cdd745fe7d208" category="admonition">「 WaitForFirstConsumer 」バインディングモードでは、トポロジラベルは必要ありません。これは CSI トポロジ機能とは無関係に使用できます。</block>
  <block id="edff21c44983aaa85506a3dfe467c494" category="paragraph">CSI トポロジを使用するには、次のものが必要です。</block>
  <block id="f9213d77978aabdafac36d2b0a184e56" category="list-text">クラスタ内のノードには ' トポロジー認識を導入するラベルが必要です（ topology .Kubernetes .io/region および topology .Kubernetes .io/zone ）このラベル * は、 Astra Trident をトポロジ対応としてインストールする前に、クラスタ内のノードに存在する必要があります。</block>
  <block id="0bd58c9826639ac2db106c3b277a7e0f" category="section-title">手順 1 ：トポロジ対応バックエンドを作成する</block>
  <block id="c7d3751a47274aaa616d77a14f2e2722" category="paragraph">Astra Trident ストレージバックエンドは、アベイラビリティゾーンに基づいてボリュームを選択的にプロビジョニングするように設計できます。各バックエンドは、サポートする必要があるゾーンおよびリージョンのリストを表すオプションの「 upportedTopologies 」ブロックを伝送できます。ストレージクラスがそのようなバックエンドを使用する場合、ボリュームは、サポートされているリージョン / ゾーンでスケジュールされているアプリケーションから要求された場合にのみ作成されます。</block>
  <block id="3e778236fe8f94ccc453f52d827e3719" category="admonition">「 upportedTopologies 」は、バックエンドごとにリージョンとゾーンのリストを提供するために使用されます。これらのリージョンとゾーンは、 StorageClass で指定できる許容値のリストを表します。バックエンドで提供されるリージョンとゾーンのサブセットを含む StorageClasses の場合、 Astra Trident がバックエンドにボリュームを作成します。</block>
  <block id="217d95247b26701da7fd823884d84723" category="paragraph">また ' ストレージ・プールごとに 'upportedTopologies を定義することもできます次の例を参照してください。</block>
  <block id="c6c80256ac468b3d88d7b62d8753f192" category="paragraph">この例では、「 re Gion 」および「 zone 」ラベルはストレージプールの場所を表しています。「 topology.efix/region' 」と「 topology.uns.io/zone 」は、ストレージプールの消費元を決定します。</block>
  <block id="54e204e8e05b6eb24d965741eb977e69" category="section-title">手順 2 ：トポロジを認識するストレージクラスを定義する</block>
  <block id="090f70d385b4a21aa6c8f2a0ca558616" category="paragraph">クラスタ内のノードに提供されるトポロジラベルに基づいて、トポロジ情報を含めるように StorageClasses を定義できます。これにより、作成された PVC 要求の候補となるストレージプール、および Trident によってプロビジョニングされたボリュームを使用できるノードのサブセットが決まります。</block>
  <block id="ecb383148a1bc974cba3ac735a79f4c6" category="paragraph">次の例を参照してください。</block>
  <block id="ab0c7ec9411ede93aa545fbc095c0e75" category="paragraph">上記の StorageClass 定義では、「 volumeBindingMode 」が「 WaitForFirstConsumer 」に設定されます。この StorageClass で要求された PVC は、ポッドで参照されるまで処理されません。また 'allowedTopology' は ' 使用するゾーンと領域を提供しますNetApp-SAN-us-east1StorageClass は、上で定義した「 -backend-us-east1` バックエンド」に PVC を作成します。</block>
  <block id="df340fb31051c975afb3518dfd32e07c" category="section-title">ステップ 3 ： PVC を作成して使用する</block>
  <block id="f98be29d352e7c38a6502e76bbfaf34c" category="paragraph">StorageClass を作成してバックエンドにマッピングすると、 PVC を作成できるようになりました。</block>
  <block id="c4b17c8733f9f36fdc682242d2b64ab2" category="paragraph">以下の例「 PEC 」を参照してください。</block>
  <block id="427e01a8fca484c85a1e8e3a672b999a" category="paragraph">このマニフェストを使用して PVC を作成すると、次のような結果になります。</block>
  <block id="e65f170821e3417d48579a28989a9260" category="paragraph">Trident でボリュームを作成して PVC にバインドするには、ポッド内の PVC を使用します。次の例を参照してください。</block>
  <block id="9b8ff27bceb4601d1f866c4cf39fe449" category="paragraph">この podSpec は 'us-east1` 領域に存在するノード上のポッドをスケジュールするよう Kubernetes に指示し 'us-east1-a' または `us-east1-b' ゾーン内に存在する任意のノードから選択します</block>
  <block id="c93345596f9f82deea04d17ef8c6ca89" category="paragraph">次の出力を参照してください。</block>
  <block id="476950aea923438779c9544953093cb9" category="paragraph">既存のバックエンドは 'tridentctl backend update を使用して 'upportedTopologies のリストを含むように更新できますこれは、すでにプロビジョニングされているボリュームには影響せず、以降の PVC にのみ使用されます。</block>
  <block id="ded10f93b9e4453980b7009035c63418" category="inline-link">コンテナのリソースを管理</block>
  <block id="47ea3356a13b3f6644e6c05450e9d5e1" category="list-text"><block ref="47ea3356a13b3f6644e6c05450e9d5e1" category="inline-link-rx"></block></block>
  <block id="6370f866cf64618c026027da41bd248e" category="inline-link">ノードセレクタ</block>
  <block id="2a4ad9fc807789134426a1b2babc5733" category="list-text"><block ref="2a4ad9fc807789134426a1b2babc5733" category="inline-link-rx"></block></block>
  <block id="873bf2b9b61a741ce5b7326a3a053489" category="inline-link">アフィニティと非アフィニティ</block>
  <block id="ec5df0a2adb621359563958138462e34" category="list-text"><block ref="ec5df0a2adb621359563958138462e34" category="inline-link-rx"></block></block>
  <block id="e1e08e40036f927a0e660c22aa837f88" category="inline-link">塗料および耐性</block>
  <block id="66b1e0aa9cd6e46c0b85fdf56a15154a" category="list-text"><block ref="66b1e0aa9cd6e46c0b85fdf56a15154a" category="inline-link-rx"></block></block>
  <block id="2941c38dbb7c39c325787067c0540247" category="summary">kubectl' を使用してバックエンド管理操作を実行する方法について説明します</block>
  <block id="20309eb77b701e6c49ca6b99a8f93f90" category="paragraph">「 TridentBackendConfig 」を削除すると、「ネットワークポリシー」に基づいて、 Astra Trident にバックエンドを削除 / 保持するように指示します。バックエンドを削除するには、「削除ポリシー」が「削除」に設定されていることを確認します。「 TridentBackendConfig 」だけを削除するには、「 $eleetionPolicy 」が「 retain 」に設定されていることを確認します。これにより ' バックエンドがまだ存在していることが保証され 'tridentctl' を使用して管理できます</block>
  <block id="3fa37f688874143cd423aabca8075ffb" category="paragraph">Astra Trident は、 TridentBackendConfig が使用していた Kubernetes シークレットを削除しません。Kubernetes ユーザは、シークレットのクリーンアップを担当します。シークレットを削除するときは注意が必要です。シークレットは、バックエンドで使用されていない場合にのみ削除してください。</block>
  <block id="265ab4809f08d248e5045a8638ac7afa" category="paragraph">tridentctl get backend -n trident` または tridentctl get backend -o yaml -n trident` を実行して、存在するすべてのバックエンドのリストを取得することもできます。このリストには 'tridentctl' で作成されたバックエンドも含まれます</block>
  <block id="93700a3ea9dc6d858638cd66cd2f2bfa" category="paragraph">バックエンドを更新する理由はいくつかあります。</block>
  <block id="56cdd71a65518838d73e00276ed6fab1" category="list-text">ストレージシステムのクレデンシャルが変更されている。クレデンシャルを更新するには、「 TridentBackendConfig 」オブジェクトで使用される Kubernetes Secret を更新する必要があります。Astra Trident が、提供された最新のクレデンシャルでバックエンドを自動的に更新次のコマンドを実行して、 Kubernetes Secret を更新します。</block>
  <block id="6ef0ccb954a07e30d4ff894b5256ae30" category="list-text">パラメータ（使用する ONTAP SVM の名前など）を更新する必要があります。この場合 'TridentBackendConfig' オブジェクトは Kubernetes を介して直接更新できます</block>
  <block id="d4609cbe039ed7019e7151718c417bec" category="paragraph">または、次のコマンドを実行して、既存の「 TridentBackendConfig 」 CR に変更を加えます。</block>
  <block id="d38f034e9aa082af3ec19c23caff4b0f" category="paragraph">バックエンドの更新に失敗した場合、バックエンドは最後の既知の設定のまま残ります。ログを表示して原因を確認するには、「 kubectl get tbc &lt;tbc-name&gt; -o yaml -n trident` または「 kubectl describe tbc &lt;tbc-name&gt; -n trident` 」を実行します。</block>
  <block id="5878b59fb3a8430928026b63b5ca336f" category="paragraph">構成ファイルで問題を特定して修正したら、 update コマンドを再実行できます。</block>
  <block id="bee1e2306bc7054ee443dc651eae90de" category="summary">Astra Trident は、一連の Prometheus 指標エンドポイントを提供し、 Astra Trident のパフォーマンスの監視に使用できます。</block>
  <block id="44a004cad6eb7ea8839aaa8754ead178" category="doc">Astra Trident を監視</block>
  <block id="c827f266cf12e05adc1fe95215415abf" category="paragraph">Astra Trident が提供する指標を使用すると、次のことが可能になります。</block>
  <block id="6111d709595b0a106ff313a249eb9d92" category="list-text">Astra Trident の健常性と設定を保持処理が成功した方法と、想定どおりにバックエンドと通信できるかどうかを調べることができます。</block>
  <block id="64dbac0ca36d9b1f6a8cf1e8a0123261" category="list-text">バックエンドの使用状況の情報を調べて、バックエンドでプロビジョニングされているボリュームの数や消費されているスペースなどを確認します。</block>
  <block id="7f6516030964b624d9c71fd9ec7f83dd" category="list-text">利用可能なバックエンドにプロビジョニングされたボリュームの量のマッピングを維持します。</block>
  <block id="e436794bccbe602731bbde7766c1fa49" category="list-text">パフォーマンスを追跡する。Astra Trident がバックエンドと通信して処理を実行するのにどれくらいの時間がかかるかを調べることができます。</block>
  <block id="efe0d75090a22534acabc936f8669994" category="admonition">デフォルトでは 'Trident のメトリックは '/metrics エンドポイントのターゲットポート 8001' に公開されていますこれらの指標は、 Trident のインストール時にデフォルトで * 有効になります。</block>
  <block id="1ed994b9754ad078cfc46aaf3dbf3a5d" category="list-text">Astra Trident がインストールされた Kubernetes クラスタ</block>
  <block id="eb8bfd69bb88378a6f4d987811890ce6" category="inline-link">コンテナ化された Prometheus 環境</block>
  <block id="42ae2e91a939ffa9bbda53c10bf5f89f" category="inline-link">ネイティブアプリケーション</block>
  <block id="050899631250104f17d24b27cc8a12e5" category="list-text">Prometheus インスタンス。これは a である場合もある<block ref="bd5b9e4bd7b88b90afb221fb760a777c" category="inline-link-rx"></block> または、 Prometheus をとして実行することもできます<block ref="3f1d5beaea78c0fd8cb397fbeb1c88bd" category="inline-link-rx"></block>。</block>
  <block id="68276ca40dfbfd36de911402152fa452" category="section-title">手順 1 ： Prometheus ターゲットを定義する</block>
  <block id="84c49e3c77b51ea186020145ae78103f" category="paragraph">Prometheus ターゲットを定義して指標を収集し、 Astra Trident が管理するバックエンド、作成するボリュームなどの情報を取得する必要があります。これ<block ref="dc7964965bf1b3af43b28caf6231e550" category="inline-link-rx"></block> Prometheus と Grafana を Astra Trident とともに使用して指標を取得する方法について説明します。ブログでは、 Kubernetes クラスタでオペレータとして Prometheus を実行する方法と、 Astra Trident のメトリックを取得する ServiceMonitor を作成する方法について説明しています。</block>
  <block id="c33638e0de87536b08eeb94264671d0f" category="section-title">手順 2 ： Prometheus ServiceMonitor を作成します</block>
  <block id="81a21a88b42cd5c83d149a080a627bad" category="paragraph">Trident のメトリックを使用するには、「 trident-csi 」サービスを監視し、「 m etrics 」ポートを監視する Prometheus ServiceMonitor を作成する必要があります。ServiceMonitor のサンプルは次のようになります。</block>
  <block id="bfc1ad0fa725ea87ea056b2f2e8b6fe8" category="paragraph">この ServiceMonitor 定義は 'trident-csi サービスから返されたメトリックを取得し ' 特にサービスの 'm etrics エンドポイントを探しますその結果、 Prometheus は Astra Trident の指標を理解するように設定されました。</block>
  <block id="07338294bd70ea1e7710a574d7c8e2ce" category="paragraph">kubelet は、 Astra Trident から直接利用できるメトリックに加えて、独自のメトリック・エンドポイントを通じて多くの「 kubeet_volume_* 」メトリックを公開しています。Kubelet では、接続されているボリュームに関する情報、およびポッドと、それが処理するその他の内部処理を確認できます。を参照してください<block ref="3f1f0977d0df3e8b343e403140284021" category="inline-link-rx"></block>。</block>
  <block id="1db2022a8a8de5d612eda8e3be0e1065" category="section-title">ステップ 3 ： PrompQL を使用して Trident 指標を照会する</block>
  <block id="f5142e19a3b1edf809fce9d3b6aefc05" category="paragraph">PrompQL は、時系列データまたは表データを返す式を作成するのに適しています。</block>
  <block id="8c6fb1be2521fd16337c11c626672678" category="paragraph">次に、 PrompQL クエリーのいくつかを示します。</block>
  <block id="b214fd0009b3929347f097bd843f0bfd" category="section-title">Trident の健常性情報を取得</block>
  <block id="69fc54b5fac064131422d41948eb77ed" category="list-text">** Astra Trident からの HTTP 2XX 応答の割合 **</block>
  <block id="f43362a8efc950ece8c14d4e5faddfa4" category="list-text">** Astra Trident からのステータスコードによる REST 応答の割合 **</block>
  <block id="e69d9a06025140f38adabb6f709f6e5b" category="list-text">** Astra Trident によって実行された処理の平均時間（ミリ秒） **</block>
  <block id="0505e17dec1e849391ad96f558fa613a" category="section-title">Astra Trident の使用状況に関する情報を入手</block>
  <block id="f160a52d617adf6e6c5d379a9b8bca89" category="list-text">** 平均体積サイズ **</block>
  <block id="eb978bfe01ec0c72ad231f3953e304a2" category="list-text">** 各バックエンドによってプロビジョニングされた合計ボリューム容量 **</block>
  <block id="5f735ae12eafbe476178928f4645475b" category="section-title">個々のボリュームの使用状況を取得する</block>
  <block id="ee0898e9f0caa503f3eaa39c919f4c53" category="admonition">これは、 kubelet 指標も収集された場合にのみ有効になります。</block>
  <block id="0bc301d2423b2ffaa38a5e275e4ec6f9" category="list-text">** 各ボリュームの使用済みスペースの割合 **</block>
  <block id="8516d75df966e595bd1b5491acd01515" category="section-title">Astra Trident AutoSupport の計測データ</block>
  <block id="6f4ddec0f501988d2b0315a77c87eeaa" category="paragraph">デフォルトでは、 Astra Trident は Prometheus 指標と基本バックエンド情報を毎日定期的にネットアップに送信します。</block>
  <block id="5276683815b670b0addfb8c8a45bbb41" category="list-text">Astra Trident が Prometheus 指標と基本バックエンド情報をネットアップに送信しないようにするには、 Astra Trident のインストール時に「 --silence -autosupport 」フラグを渡します。</block>
  <block id="ca0f9a86ca33f1d6baa9051bd7f4ed21" category="inline-link">プライバシーポリシー</block>
  <block id="5b58783cbe6d85941bac008d83d3f5c8" category="list-text">Astra Trident は 'tridentctl send AutoSupport を介してコンテナ・ログをオンデマンドでネットアップ・サポートに送信することもできますAstra Trident をトリガーしてログをアップロードする必要があります。ログを送信する前に、ネットアップのに同意する必要があります<block ref="91b6c0438017ba5fa21c286a96d5acb4" category="inline-link-rx"></block>。</block>
  <block id="63b95d84cf55d169b2592f3ac621055f" category="list-text">指定しないと、 Astra Trident は過去 24 時間からログを取得します。</block>
  <block id="5224919a4ae5ccf610fb0ee74e4e7a94" category="inline-link">Trident AutoSupport の略</block>
  <block id="53084cad3d11df800502598c11e2d10b" category="inline-link">EULA</block>
  <block id="b9a52e8d1e9b14b8825c6ea01c0ce6d6" category="list-text">Trident AutoSupport は、個人情報（ PII ）や個人情報を収集または送信しません。それにはが付いています<block ref="173a360b412944768c2ab13e6c8fd1c7" category="inline-link-rx"></block> これは Trident コンテナイメージ自体には該当しません。ネットアップのデータセキュリティと信頼に対する取り組みの詳細を確認できます<block ref="8470ff535916bda3f4ea4723647a7135" category="inline-link-rx"></block>。</block>
  <block id="89f0f2832f60f480805faf638848c5b7" category="paragraph">Astra Trident から送信されるペイロードの例を次に示します。</block>
  <block id="d2ec86f126f845e79aff07e70bf89472" category="list-text">AutoSupport メッセージは、ネットアップの AutoSupport エンドポイントに送信されます。プライベートレジストリを使用してコンテナイメージを格納している場合は '--image_registry' フラグを使用できます</block>
  <block id="86c5a11fba83815412aec79f67f2d276" category="list-text">インストール YAML ファイルを生成してプロキシ URL を設定することもできます。これは 'tridentctl install --generate-custom-yaml を使用して YAML ファイルを作成し 'trident-deployment.yaml の trident-autosupport コンテナに --proxy-url 引数を追加することによって実行できます</block>
  <block id="46ab735110312d196d5265e534453cba" category="section-title">Astra Trident の指標を無効化</block>
  <block id="8ec47dab227d183e0d3ad0cd529d289b" category="paragraph">** メトリックがレポートされないようにするには '--generate-custom-yaml' フラグを使用してカスタム YAML を生成し ' これらを編集して 'trident-main' コンテナに対して --metrics フラグが呼び出されないようにします</block>
  <block id="28b0abcecaf7a63edb46e4e137337018" category="doc">Azure NetApp Files バックエンドを設定します</block>
  <block id="07e7004c50a67a3e4e366b4ca1c28e3d" category="paragraph">を設定して使用します<block ref="24a785881ff1cdf191a2239811dc9597" category="inline-link-rx"></block> バックエンドには次のものが必要です。</block>
  <block id="66d640a9a050b05e6a914cbcd88a1e2e" category="list-text">Azure NetApp Files が有効な Azure サブスクリプションのスクリプト ID 。</block>
  <block id="b12fb354025b3dfa01277964eb72c060" category="inline-link">アプリケーション登録</block>
  <block id="f494e4df0fff53e809d6563f8ec1782f" category="inline-link">委任されたサブネット</block>
  <block id="3e566c45584d66d2ab94c2108f7c3488" category="cell">「 azure-NetApp-files 」</block>
  <block id="9dd18f393b35bf22098cf53e9c1c7fa6" category="cell">ドライバ名 + "_" + ランダムな文字</block>
  <block id="665120e71659a6a32f990a3181688d1b" category="cell">' スクリプト ID' 。</block>
  <block id="b2ad290b003ccdce2a538f49a795f281" category="cell">Azure サブスクリプションのサブスクリプション ID</block>
  <block id="e07778d10cef90430253876cba7157e4" category="cell">「 tenantID 」。</block>
  <block id="2975d48342e428a3b18123f85ed0ecb5" category="cell">アプリケーション登録からのテナント ID</block>
  <block id="949ba1045db0d48bd189044e672d8097" category="cell">「 clientID 」。</block>
  <block id="56ef18e84ab36c2bdc4546e6a2756673" category="cell">「 clientSecret 」を入力します。</block>
  <block id="85f484f0892a96287b6224ddd3c5fbb2" category="cell">アプリケーション登録からのクライアントシークレット</block>
  <block id="1c65f12b4d30114593cc01384938cb5f" category="cell">「標準」、「プレミアム」、「ウルトラ」のいずれかです</block>
  <block id="b21b08bb55acd409e40e9b45edd3bb34" category="cell">"" （ランダム）</block>
  <block id="fc7dd5b65d21ee7272a067c9404a8498" category="cell">「ロケーション」</block>
  <block id="8fce436e09a08bd124727374d3e1d1d5" category="cell">新しいボリュームを作成する Azure の場所の名前</block>
  <block id="32ef1af5ccda7c2f6d85e55f5034f105" category="cell">「 virtualNetwork 」</block>
  <block id="10afd0959cfa4a53bce9c8d395c40c48" category="cell">委任されたサブネットを持つ仮想ネットワークの名前</block>
  <block id="ec045173f4df65e5e8951c3ca9579945" category="cell">「サブネット」</block>
  <block id="0b8deda0ecc5080e8c0ed0b475e983ba" category="cell">「 icrosoft.Netapp/volumes` 」に委任されたサブネットの名前</block>
  <block id="e5ac299cc3b14e1fac29518569ca9bb1" category="cell">新しいボリュームのデフォルトサイズ</block>
  <block id="e43b3577dd4b74a4cfa994a56e8138b8" category="paragraph">この構成は、 ANF の利用を開始して何を試してみるときに理想的ですが、実際には、プロビジョニングするボリュームの範囲をさらに設定することを検討しています。</block>
  <block id="725ae241ec74eed978f0b099030236b8" category="section-title">例 3 ：高度な設定</block>
  <block id="a83f4a534ccef7ac1d209fb0015cd907" category="paragraph">このバックエンド構成は、ボリュームの配置を単一のサブネットにまで適用する手間をさらに削減し、一部のボリュームプロビジョニングのデフォルト設定も変更します。</block>
  <block id="0cc7642bbaf969ea355ea12764841c91" category="summary">ONTAP NAS ドライバを作成して Astra Trident インストールで使用する方法をご確認ください。このセクションでは、バックエンド構成の例と、バックエンドをストレージクラスにマッピングする方法を詳しく説明します。</block>
  <block id="a0f3a965c12688befda99da850903dcb" category="cell">「 autoExportPolicy 」を参照してください</block>
  <block id="b4ad0dff08149092bc3e4b16572af575" category="cell">「 autoExportCI` 」</block>
  <block id="e537a193eb90bd46a645ce750bb5f3fc" category="cell">[0.0.0.0/0] 、 [::/0]</block>
  <block id="07f6b23cad3d6da54012935ff972affe" category="cell">qtreesPerFlexvol`</block>
  <block id="a13306f726fdf72d2d992a7ebdc63b1b" category="cell">FlexVol あたりの最大 qtree 数。有効な範囲は [50 、 300] です。</block>
  <block id="28326357ec2f8c06e01271c4ee2201f1" category="cell">200</block>
  <block id="3e9a232d025270ed6767c385b8291871" category="cell">新しいボリュームのモード</block>
  <block id="2907de5eba980e910513008165ea2c2b" category="cell">「 .snapshot 」ディレクトリの表示を制御します</block>
  <block id="c1a0e97f953c948568aed6c134fc9711" category="cell">使用するエクスポートポリシー</block>
  <block id="06602e99c8d46d601029e6dd0b37e3f8" category="paragraph">「 ONTAP-NAS' 」と「 ONTAP-NAS-flexgroups' では、 Astra Trident は新しい計算を使用して、 FlexVol がスナップショット予約の割合と PVC で正しくサイズ設定されるようにします。ユーザが PVC を要求すると、 Astra Trident は、新しい計算を使用して、より多くのスペースを持つ元の FlexVol を作成します。この計算により、ユーザは要求された PVC 内の書き込み可能なスペースを受信し、要求されたスペースよりも少ないスペースを確保できます。v21.07 より前のバージョンでは、ユーザが PVC を要求すると（ 5GiB など）、 snapshotReserve が 50% に設定されている場合、書き込み可能なスペースは 2.5GiB のみになります。これは、ユーザが要求したボリューム全体が「 SnapshotReserve 」であるためです。Trident 21.07 では、ユーザが要求するのは書き込み可能なスペースであり、 Astra Trident は「 napshotReserve 」の値をボリューム全体の割合で定義します。これは「 ONTAP-NAS-エコノミー 」には適用されません。この機能の仕組みについては、次の例を参照してください。</block>
  <block id="86ec808b80973d24eadfc617926f534e" category="paragraph">計算は次のとおりです。</block>
  <block id="28ad7be76b350116bde3ae04e5f94a60" category="paragraph">snapshotReserve = 50% 、 PVC 要求 = 5GiB の場合、ボリュームの合計サイズは 2/0.5 = 10GiB であり、使用可能なサイズは 5GiB であり、これが PVC 要求で要求されたサイズです。volume show コマンドは ' 次の例のような結果を表示する必要があります</block>
  <block id="daabb7db82ac9f3f074671a1185c462e" category="paragraph">以前のインストールからの既存のバックエンドは、 Astra Trident のアップグレード時に前述のようにボリュームをプロビジョニングします。アップグレード前に作成したボリュームについては、変更が反映されるようにボリュームのサイズを変更する必要があります。たとえば、「 napshotReserve 」が 50 であった 2GiB PVC の場合、ボリュームは書き込み可能なスペースが 1GiB であると考えられていました。たとえば、ボリュームのサイズを 3GiB に変更すると、アプリケーションの書き込み可能なスペースが 6GiB のボリュームで 3GiB になります。</block>
  <block id="f35c0fe4b6581c16866c964cef229bfa" category="admonition">ネットアップ ONTAP で Trident を使用している場合は、 IP アドレスではなく LIF の DNS 名を指定することを推奨します。</block>
  <block id="0ab6380edce0d0e7b8538ebf3215ebbd" category="section-title">手順 2 ：既存の PVC のスナップショットを作成します</block>
  <block id="501470eb266ff6637de993e3f193ba40" category="paragraph">これにより 'VolumeSnapshot' オブジェクトが作成されましたVolumeSnapshot は PVC に似ており、実際のスナップショットを表す「 VolumeSnapshotContent 」オブジェクトに関連付けられています。</block>
  <block id="320e7c242b569ab5bbdaa490b3df817e" category="paragraph">「 PVC1-SNAP 」ボリューム Snapshot の「 VolumeSnapshotContent 」オブジェクトを指定することができます。</block>
  <block id="b3841b02d7da01fde480332e3295a08e" category="paragraph">「スナップショットコンテンツ名」は、このスナップショットを提供する VolumeSnapshotContent オブジェクトを識別します。' 使用準備完了 ' パラメータは ' スナップショットを使用して新しい PVC を作成できることを示します</block>
  <block id="7957320b126678e9b713ef146b3ac009" category="section-title">手順 3 ：ボリューム Snapshot から PVC を作成します</block>
  <block id="2592284f87bba60e4c05337a134ef047" category="paragraph">「 dataSource 」は、「 PVC1-SNAP 」という名前のボリューム Snapshot をデータのソースとして使用して PVC を作成する必要があることを示します。このコマンドを実行すると、 Astra Trident が Snapshot から PVC を作成するように指示します。作成された PVC は、ポッドに接続して、他の PVC と同様に使用できます。</block>
  <block id="bda01e3aa44c411129a6fbf29445bfb4" category="admonition">スナップショットが関連付けられている永続ボリュームを削除すると、対応する Trident ボリュームが「削除状態」に更新されます。Astra Trident ボリュームを削除するには、ボリュームの Snapshot を削除する必要があります。</block>
  <block id="87dc0337d3ded2211d9b01c32e22d90d" category="doc">バックエンドを設定</block>
  <block id="2acbb5dd492d792d00383b0c76ade4ad" category="list-text"><block ref="2acbb5dd492d792d00383b0c76ade4ad" category="inline-link-macro-rx"></block></block>
  <block id="252e63ff646a0204671ca04a26b88e06" category="inline-link-macro">Cloud Volumes Service for Google Cloud Platform バックエンドを設定します</block>
  <block id="c00b6e370d4496e06d2135275a992af5" category="list-text"><block ref="c00b6e370d4496e06d2135275a992af5" category="inline-link-macro-rx"></block></block>
  <block id="b1064b6f7a5906eac23601dc24ba95a8" category="list-text"><block ref="b1064b6f7a5906eac23601dc24ba95a8" category="inline-link-macro-rx"></block></block>
  <block id="d7f015aa2f1d488e17e175dac6de3149" category="list-text"><block ref="d7f015aa2f1d488e17e175dac6de3149" category="inline-link-macro-rx"></block></block>
  <block id="24ca391029d6df294c5d5b8f1fe5b4eb" category="summary">ONTAP NAS ドライバを使用した ONTAP バックエンドの設定について説明します。</block>
  <block id="0f5dc79c8003190ab8f758b1748ba0d8" category="summary">ネットアップは、製品やサービスの改善と強化を継続的に行っています。最新バージョンの Astra Trident の機能、拡張機能、バグ修正の一部を以下に示します。</block>
  <block id="2e6ce374ac42de81aea6a3d682b92e33" category="paragraph">リリースノートでは、最新バージョンの Astra Trident の新機能、拡張機能、およびバグ修正に関する情報を提供しています。</block>
  <block id="e4c4d344a524d21b898e4d04b6539aa7" category="admonition">インストーラ zip ファイルに含まれている Linux の tridentctl バイナリは ' テスト済みでサポートされているバージョンですzip ファイルの「 /extras 」部分に含まれている「 macos 」バイナリはテストされておらず、サポートされていないことに注意してください。</block>
  <block id="41cf959adc98386b54829d71a6ed5d37" category="section-title">の修正</block>
  <block id="a6e7aa999ba654c6844672ae59f5137a" category="list-text">XFS ボリュームのクローンをソースボリュームと同じノードにマウントできない固定問題（ GitHub 問題 514 ）</block>
  <block id="4a921ae3eb8c2695dabd4044ff81141a" category="list-text">Astra Trident がシャットダウン時に致命的なエラーを記録した修正版問題（ GitHub 問題 597 ）。</block>
  <block id="852acc81ea6fa7363b73c5313002de83" category="list-text">Kubernetes 関連の修正：</block>
  <block id="f94cc5159119c43751041256941deb2c" category="list-text">スナップショットを作成するときに 'ONTAP-NAS' および 'ONTAP-NAS-flexgroup ドライバ（ GitHub 問題 645 ）を使用して ' ボリュームの使用済み領域を最小リストアサイズとして返します</block>
  <block id="742ce2e3c9c8496323bd1176af2838a4" category="list-text">ボリュームのサイズ変更後に 'Failed to expand filesystem エラーがログに記録された問題を修正しました (GitHub 問題 560)</block>
  <block id="9a445ecbad9af70a94bd7558ba95e059" category="list-text">POD が「 Terminating 」状態で停止する可能性がある固定問題（ GitHub 問題 572 ）。</block>
  <block id="4f81c320a621b8c9d81c7334f2cffc71" category="list-text">「 ONTAP-SAN-エコノミー 」問題がスナップショット FlexVol （ GitHub 533 ）でいっぱいになる場合があるという問題を修正しました。</block>
  <block id="169c3be63dd22b315ed7884e246338de" category="list-text">異なるイメージを持つ固定カスタム YAML インストーラ問題（ GitHub 問題 613 ）。</block>
  <block id="1077a1a91a96498c2f56bc630e632eee" category="list-text">Snapshot サイズの計算方法を固定（ GitHub 問題 611 ）。</block>
  <block id="fe705e5b02638736087c9fd97b2c4952" category="list-text">問題は修正され、 Astra Trident のすべてのインストーラが OpenShift としてプレーン Kubernetes を識別できるようになりました（ GitHub 問題 639 ）。</block>
  <block id="27b76ffa775f907a1fd51f21a669551b" category="list-text">Kubernetes API サーバにアクセスできない場合に、 Trident オペレータが更新を停止するよう修正しました（ GitHub 問題 599 ）。</block>
  <block id="c1748037d10cffabb8e95e4ccf77c613" category="section-title">拡張機能</block>
  <block id="1f9e922b6eff6cb06fca1ed9137eed38" category="list-text">GCP - CVS パフォーマンスボリュームに対する「 unixPermissions 」オプションのサポートが追加されました。</block>
  <block id="294b850a76a040c20913e76c2fe6589a" category="list-text">GCP でのスケール最適化 CVS ボリュームのサポートが 600GiB から 1TiB に追加されました。</block>
  <block id="0333eb54465646b87754facff75fdb5f" category="list-text">Kubernetes 関連の機能拡張：</block>
  <block id="c32aa411caa1ffd0e30a271f5be834d9" category="list-text">Kubernetes 1.22 のサポートが追加されました。</block>
  <block id="fa1fd8841173fa7ccde5059fb7c2f903" category="list-text">Trident の operator と Helm チャートを Kubernetes 1.22 （ GitHub 問題 628 ）と連携させるように設定</block>
  <block id="dbaa551f190105e514f7816811f4b397" category="list-text">tridentctl images コマンドに演算子イメージを追加 (GitHub 問題 570)</block>
  <block id="be575f1ff204f2800114965a5c0d8575" category="section-title">実験的な機能強化</block>
  <block id="29ddf941d9825cc9283521ee90468595" category="list-text">「 ONTAP SAN 」ドライバでのボリューム・レプリケーションのサポートを追加しました。</block>
  <block id="e2f2b85987da5e2397c1e342a6fd9e28" category="list-text">'ONTAP-NAS-flexgroup 'ONTAP-SAN' および 'ONTAP-NAS-エコノミー ' ドライバの 'tech preview* REST サポートを追加</block>
  <block id="95dc0391ce7b396d7dd5622284e8fc3e" category="section-title">既知の問題</block>
  <block id="64a8f71bee95a6635e88bce00f1a2d3c" category="paragraph">ここでは、本製品の正常な使用を妨げる可能性のある既知の問題について記載します。</block>
  <block id="572b1d7e33a1c667884a1ffdff7a2d25" category="list-text">Astra Trident は ' ストレージクラスに fsType が指定されていないボリュームに対して ' ブランクの fsType( `fsType="") を適用するようになりましたKubernetes 1.17 以降を使用する場合、 Trident は NFS ボリュームに空の「 fsType 」を提供できます。iSCSI ボリュームの場合 ' セキュリティコンテキストを使用して fsGroup を実行するときに 'fsType' を StorageClass 上に設定する必要があります</block>
  <block id="91186d69835ccf9911e356f74938c539" category="list-text">複数の Astra Trident インスタンス間でバックエンドを使用する場合、各バックエンド構成ファイルの ONTAP バックエンドに異なる「 toragePrefix 」値を指定するか、 SolidFire バックエンドに異なる「 tenantname 」を使用する必要があります。Astra Trident は、 Astra Trident の他のインスタンスが作成したボリュームを検出できません。ONTAP または SolidFire バックエンドに既存のボリュームを作成しようとすると成功します。 Astra Trident は、ボリューム作成をべき等の操作として扱います。「 toragePrefix 」または「 tenantname 」が異なる場合は、同じバックエンド上に作成されたボリュームに名前の衝突が発生する可能性があります。</block>
  <block id="9bf4c601179068ff3574d2cf87536564" category="list-text">Astra Trident をインストールするときに (tridentctl または Trident Operator を使用 ) 、 tridentctl を使用して Astra Trident を管理するときは、「 KUBECONFIG 」環境変数が設定されていることを確認する必要があります。これは 'tridentctl が機能するべき Kubernetes クラスタを示すために必要です複数の Kubernetes 環境で作業する場合は、「 KBECONFIG 」ファイルが正確にソースされていることを確認する必要があります。</block>
  <block id="6d791d3b45515fd8619e489b938f39e8" category="inline-link">マウントオプション</block>
  <block id="a5c785ee36f0f2d14349653f744c8e3b" category="list-text">iSCSI PVS のオンラインスペース再生を実行するには、作業者ノード上の基盤となる OS がボリュームにマウントオプションを渡す必要があります。これは、「 discard 」を必要とする RHEL/RedHat CoreOS インスタンスに当てはまります<block ref="2ee633fb26bfccf07d490458d29f92a2" category="inline-link-rx"></block>; discard mountOption がに含まれていることを確認します<block ref="b44436f062a8f5a535d8cafcffeb70b2" category="inline-link-rx"></block> オンラインブロックの破棄をサポートするため。</block>
  <block id="c2ebda3702872aaa7ad44122f2343d7e" category="list-text">Kubernetes クラスタごとに複数の Astra Trident インスタンスがある場合、 Astra Trident は他のインスタンスと通信できず、作成した他のボリュームを検出できません。そのため、 1 つのクラスタ内で複数のインスタンスを実行している場合、予期しない動作が発生したり、誤ったりすることがあります。Kubernetes クラスタごとに Trident のインスタンスが 1 つだけ必要です。</block>
  <block id="294f8c33b7ccdbcbf422998b64c9c931" category="list-text">Trident がオフラインのときに Astra Trident ベースの「 torageClass 」オブジェクトが Kubernetes から削除された場合、 Astra Trident は、対応するストレージクラスをオンラインに戻ってもデータベースから削除しません。これらのストレージクラスは、「 tridentctl 」または REST API を使用して削除してください。</block>
  <block id="ddab3f1d971a7608afb4c30c688a32ac" category="list-text">対応する PVC を削除する前に Astra Trident によってプロビジョニングされた PV を削除しても、 Astra Trident は自動的に元のボリュームを削除しません。tridentctl または REST API を使用してボリュームを削除してください。</block>
  <block id="0821431aba133adbfa7fa0ca1781eedd" category="list-text">FlexGroup では、プロビジョニング要求ごとに一意のアグリゲートセットがないかぎり、同時に複数の ONTAP をプロビジョニングすることはできません。</block>
  <block id="38699c45ccc629a8b46bd780d7aef2f6" category="list-text">IPv6 経由で Astra Trident を使用する場合は、バックエンド定義内の角かっこ内に「 managementlif 」と「 datalif 」を指定する必要があります。例えば、「 [fd20 ： 8b1e ： b258 ： 2000 ： f816 ： 3eff ： feec ： 0]`` 」のようになります。</block>
  <block id="e9a7080bd6d1b50ff15cef6f14fa1d64" category="inline-link">Astra Trident GitHub</block>
  <block id="b94e036fb032554ca486dd8fc2e3fafe" category="list-text"><block ref="b94e036fb032554ca486dd8fc2e3fafe" category="inline-link-rx"></block></block>
  <block id="3334dfda9735f9b3ed55a34ef316b599" category="inline-link">Astra Trident のブログ</block>
  <block id="d090b5d97388b77aa02e5d1203c037a0" category="list-text"><block ref="d090b5d97388b77aa02e5d1203c037a0" category="inline-link-rx"></block></block>
  <block id="34c4dac14496e9c45d92f345d9392fc8" category="summary">最新バージョンを実行していない場合は、以前のリリースの Astra Trident のドキュメントを参照できます。</block>
  <block id="ba09ee47d11962c1ccd13d7e1f10e6c5" category="doc">以前のバージョンのドキュメント</block>
  <block id="0c141ec81d4107f4c63fb0deb2531c0d" category="inline-link">Astra Trident 21.04</block>
  <block id="193bfae1ebda99fb7289c66fa69395a0" category="list-text"><block ref="193bfae1ebda99fb7289c66fa69395a0" category="inline-link-rx"></block></block>
  <block id="cba2c660d905f83e39a0d1771286c9e7" category="inline-link">Astra Trident 21.01</block>
  <block id="97f32ab1a5165dc49105dca53b9f4de7" category="list-text"><block ref="97f32ab1a5165dc49105dca53b9f4de7" category="inline-link-rx"></block></block>
  <block id="d2eb05d1990246a079aeb2f56e3a4237" category="paragraph">Astra Trident の複数のインスタンスを同じホストで同時に実行できます。これにより、複数のストレージシステムとストレージタイプへの同時接続が可能になり、 Docker ボリュームに使用するストレージをカスタマイズできます。</block>
  <block id="89bcbd8e4ba49b7310e9fa748e878c4b" category="inline-link-macro">導入の前提条件</block>
  <block id="88f0ab229fa9d759d74fcf6ab7cc17b1" category="section-title">Docker Managed Plugin メソッド（バージョン 1.13 / 17.03 以降）</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="admonition-title">作業を開始する前に</block>
  <block id="070ecb002d71e4e7618a4b46a5ba690f" category="admonition">従来のデーモン方式で Astra Trident 以前の Docker 1.13 / 17.03 を使用していた場合は、マネージドプラグイン方式を使用する前に Astra Trident プロセスを停止し、 Docker デーモンを再起動してください。</block>
  <block id="7bf1ee8f4e093050c1cdf1842931af7d" category="list-text">実行中のインスタンスをすべて停止します。</block>
  <block id="47b9ec5c8c4439980c63f4188bad5324" category="list-text">Docker を再起動します。</block>
  <block id="5311ac4d72d5c91dcaa39b896d3b8027" category="list-text">Docker Engine 17.03 （新しい 1.13 ）以降がインストールされていることを確認します。</block>
  <block id="07d6db5e99a0aa19fe76f15efed30ecf" category="inline-link">インストール環境をインストールまたは更新します</block>
  <block id="2c3bc9d0632e0cccc05fdd3c42467df9" category="paragraph">バージョンが最新でない場合は、<block ref="ddebe10ca17c0276898872fa2632e8fb" category="inline-link-rx"></block>。</block>
  <block id="48afbcf494fc19ee409f5aff48ae32c3" category="list-text">構成ファイルを作成し、次のオプションを指定します。</block>
  <block id="9314e9bcd24c80b255fc3e9e697a2ada" category="list-text">`config`: デフォルトのファイル名は 'config.json ですが ' ファイル名に config オプションを指定することで ' 選択した任意の名前を使用できます構成ファイルは ' ホスト・システムの /etc/netappdvp ディレクトリに格納されている必要があります</block>
  <block id="8798dc2a3b5e61873054923c9f170ac7" category="list-text">「 log-level 」：ログレベルを指定します（「 debug` 」、「 info 」、「 warn 」、「 error 」、「 fatal 」）。デフォルトは「 info 」です。</block>
  <block id="45ed67026a1141006588fcc698646141" category="list-text">`ebug`: デバッグログを有効にするかどうかを指定します。デフォルトは false です。true の場合、ログレベルを上書きします。</block>
  <block id="3bed6f89999b483af7f55024d9e7c02a" category="list-text">構成ファイルの場所を作成します。</block>
  <block id="28156615c51d4bad2ee47d0a9f43f404" category="list-text">構成ファイルを作成します</block>
  <block id="a4574d19d34a14aa0accde782f35318b" category="list-text">Astra Trident を使用して、構成したシステムのストレージを使用しましょう。</block>
  <block id="a9c521f25a3bacb94ad1dd4705b3585f" category="list-text">「 firstVolume 」という名前のボリュームを作成します。</block>
  <block id="4fbca4f67cbe96bc7d7a16691d2912c2" category="list-text">コンテナの開始時にデフォルトのボリュームを作成します。</block>
  <block id="b8e88709dbc4f2f80a96f53f83862704" category="list-text">ボリューム「 firstVolume 」を削除します。</block>
  <block id="0e68ac1d84bfedf203365a9fb37db9ed" category="section-title">従来の方法（バージョン 1.12 以前）</block>
  <block id="2c1107bda4c1ae7904ab1835c35973b7" category="list-text">バージョン 1.10 以降の Docker がインストールされていることを確認します。</block>
  <block id="b6fdfa2eab3e357687eba5ddec2bea0c" category="paragraph">使用しているバージョンが最新でない場合は、インストールを更新します。</block>
  <block id="45c61654258cfd16ceec15df7df02138" category="inline-link">ご使用のディストリビューションの指示に従ってください</block>
  <block id="07dff22faeb910f375341cfcbd4899fd" category="paragraph">または<block ref="9ce989a7f7f995616a47f5dd291ed229" category="inline-link-rx"></block>。</block>
  <block id="588d2fe1c60271cde75dbeba32e0b25b" category="list-text">NFS または iSCSI がシステムに対して設定されていることを確認します。</block>
  <block id="03fe5b0d58270efa87041677cac72ad7" category="list-text">NetApp Docker Volume Plugin をインストールして設定します。</block>
  <block id="f45f5a64dae951d3e37c9bd382201b06" category="list-text">アプリケーションをダウンロードして開梱します。</block>
  <block id="b255d9e06a4ca8e9f5bc31c9198426ad" category="list-text">ビンパス内の場所に移動します。</block>
  <block id="ca8a5486f4257b2aef35a8e769fc51d9" category="list-text">バイナリを配置して構成ファイルを作成したら、必要な構成ファイルを使用して Trident デーモンを開始します。</block>
  <block id="d3fa61f14ead6cf1cf1d584cf0b6c4e1" category="admonition">指定しないかぎり、ボリュームドライバのデフォルト名は「 netapp 」です。</block>
  <block id="9ad37c975c341297c49c69353516a727" category="paragraph">デーモンが開始されたら、 Docker CLI インターフェイスを使用してボリュームを作成および管理できます</block>
  <block id="e3dec3f86b9a3b1be209ab63855ce432" category="list-text">ボリュームを作成します</block>
  <block id="5ff2e3e853922fdb84ef21b85ffdac2e" category="list-text">コンテナの開始時に Docker ボリュームをプロビジョニング：</block>
  <block id="8f6a91f5f21d0478e3fd89095fc28ab9" category="list-text">Docker ボリュームを削除します。</block>
  <block id="e63e2a2b9c9184e703ff8d93bb92508b" category="section-title">システム起動時に Astra Trident を起動</block>
  <block id="5b51496da86e5a2073e0c618390c3d2a" category="list-text">ファイルを正しい場所にコピーします。</block>
  <block id="44103de0a164f687d305ad91e919d8ee" category="paragraph">複数のインスタンスを実行している場合は、ユニットファイルに一意の名前を使用してください。</block>
  <block id="3223aadc84a3ccb4a3473ba01c895184" category="list-text">ファイルを編集し、概要（ 2 行目）を変更してドライバ名と構成ファイルのパス（ 9 行目）を環境に合わせます。</block>
  <block id="1edae3931401a32d7dd7dd6e0a2ad563" category="list-text">変更を取り込むためにシステムをリロードします。</block>
  <block id="db38a93e27eba57d507611d002ad612f" category="list-text">サービスを有効にします。</block>
  <block id="c7e0a4deeebe264aa7d5f7f3ca3ef77f" category="paragraph">この名前は '/usr/lib/systemd/system' ディレクトリ内のファイルの名前によって異なります</block>
  <block id="baa04490a79e9e8de7fa4cd44e2c6fbb" category="list-text">サービスを開始します。</block>
  <block id="93c7574cf83c1f01b04891cf2d826cea" category="list-text">ステータスを確認します。</block>
  <block id="f4f15418284ae7a01b27fccc1af0463a" category="admonition">ユニット・ファイルを変更するときは ' 変更を認識するために 'systemctl daemon-reload コマンドを実行します</block>
  <block id="23c9c608b55b9071002aeddfd6c5563c" category="summary">Trident を導入するには、必要なプロトコルをホストにインストールして設定しておく必要があります。</block>
  <block id="782bd8949cb40c80fd3f3126eccab35a" category="doc">導入の前提条件</block>
  <block id="b4851e92b19af0c5c82447fc0937709d" category="inline-link-macro">要件</block>
  <block id="d46ecc35447a8c17ef014ff6daf07bba" category="inline-link">インストールまたは更新します</block>
  <block id="1035fa0ac2c3ed19f6ba56cafe7e121f" category="list-text">サポートされているバージョンの Docker がインストールされていることを確認します。Docker のバージョンが最新でない場合は、<block ref="0b011811ae105895ca4da9769d7e6f99" category="inline-link-rx"></block>。</block>
  <block id="7760c52227ccba10f5bc395571ca7a60" category="list-text">プロトコルの前提条件がホストにインストールされ、設定されていることを確認します。</block>
  <block id="0e9e734e557a02db30a20e5ac259cfb9" category="summary">ストレージドライバにはそれぞれ異なるオプションがあり、ボリュームの作成時に指定することで結果をカスタマイズできます。構成済みのストレージシステムに適用されるオプションについては、以下を参照してください。</block>
  <block id="11e1b165c1d718d825f4bb9aaf0b884e" category="doc">ドライバ固有のボリュームオプション</block>
  <block id="bca0712c590c8d3c228bf1044aed730b" category="paragraph">ボリューム作成処理では、これらのオプションを簡単に使用できます。CLI の操作中に '-o' 演算子を使用して ' オプションと値を指定しますこれらは、 JSON 構成ファイルの同等の値よりも優先されます。</block>
  <block id="6021d91bdededf94b8ae37c30e820118" category="section-title">ONTAP ボリュームのオプション</block>
  <block id="16dc9caa069072a49db7ea7c81a7cf66" category="paragraph">NFS と iSCSI のどちらの場合も、 volume create オプションには次のオプションがあります。</block>
  <block id="054b4f3ea543c990f6b125f41af6ebf7" category="cell">オプション</block>
  <block id="d3a07c97b6050b305c7dda0aea1657be" category="paragraph">ボリュームのサイズ。デフォルトは 1GiB です。</block>
  <block id="69e8c7b4f73d39cea9948875813f7ddd" category="paragraph">ボリュームをシンプロビジョニングまたはシックプロビジョニングします。デフォルトはシンです。有効な値は 'none( シン・プロビジョニング ) と 'volume( シック・プロビジョニング ) です</block>
  <block id="91853d7e2338a1395280185fc93d4650" category="paragraph">Snapshot ポリシーが目的の値に設定されます。デフォルトは「 none 」です。つまり、ボリュームに対してスナップショットが自動的に作成されることはありません。ストレージ管理者によって変更されていない限り、「 default 」という名前のポリシーがすべての ONTAP システムに存在し、 6 個の時間単位 Snapshot 、 2 個の日単位 Snapshot 、および 2 個の週単位 Snapshot を作成して保持します。スナップショットに保存されているデータは ' ボリューム内の任意のディレクトリ内の .snapshot ディレクトリに移動してリカバリできます</block>
  <block id="b8a0fde33bd7662b7b9cb4158f04ef52" category="paragraph">これにより、 Snapshot リザーブの割合が希望する値に設定されます。デフォルト値は no で、 Snapshot ポリシーを選択した場合は ONTAP によって snapshotReserve が選択されます（通常は 5% ）。 Snapshot ポリシーがない場合は 0% が選択されます。構成ファイルのすべての ONTAP バックエンドに対して snapshotReserve のデフォルト値を設定できます。また、この値は、 ONTAP-NAS-エコノミー を除くすべての ONTAP バックエンドでボリューム作成オプションとして使用できます。</block>
  <block id="0625856b9dc58db03a6e2c49b1f029e3" category="paragraph">ボリュームをクローニングすると、そのクローンが原因 ONTAP によって親から即座にスプリットされます。デフォルトは「 false 」です。クローンボリュームのクローニングは、作成直後に親からクローンをスプリットする方法を推奨します。これは、ストレージ効率化の効果がまったくないためです。たとえば、空のデータベースをクローニングすると、時間を大幅に節約できますが、ストレージの節約はほとんどできないため、クローンをすぐに分割することをお勧めします。</block>
  <block id="cdaf246fba737b75127faa65456baa30" category="paragraph">ボリュームに使用する階層化ポリシーを設定します。これにより、アクセス頻度の低いコールドデータをクラウド階層に移動するかどうかが決まります。</block>
  <block id="1c46d85ab16f6b373409ad15260b1b0a" category="paragraph">以下は、 NFS * のみ * 用の追加オプションです。</block>
  <block id="ce46e8f3fc6eaddbe03115e0d62090ac" category="cell">「 unixPermissions 」</block>
  <block id="b145a4acc7a577d843f538580013776b" category="paragraph">これにより、ボリューム自体の権限セットを制御できます。デフォルトでは ' アクセス権は '--rwxr-xr-x' または数値表記 0755 に設定され 'root' は所有者になりますテキスト形式または数値形式のどちらかを使用できます。</block>
  <block id="76a4004d727b54162f2e0542094a89a3" category="paragraph">これを「 true 」に設定すると、ボリュームにアクセスしているクライアントから「 .snapshot 」ディレクトリを参照できるようになります。デフォルト値は 'false' ですつまり '.snapshot ディレクトリの表示はデフォルトで無効になっています公式の MySQL イメージなどの一部のイメージは '.snapshot ディレクトリが表示されているときに ' 期待どおりに機能しません</block>
  <block id="e59001176f4360988f5d774a8405b4b9" category="cell">「 exportPolicy 」と入力します</block>
  <block id="700d608597316c75fc869190f51cff49" category="paragraph">ボリュームで使用するエクスポートポリシーを設定します。デフォルトは「デフォルト」です。</block>
  <block id="6b068a846d408b1d9ccd2c7220326b9d" category="paragraph">ボリュームへのアクセスに使用するセキュリティ形式を設定します。デフォルトは「 unix 」です。有効な値は「 unix 」と「 immimixed 」です。</block>
  <block id="842aac52866a44b40a5733ce352cf6df" category="paragraph">以下の追加オプションは、 iSCSI * のみ * 用です。</block>
  <block id="3184b1a9846944fabb00496c4b6b613a" category="cell">「 filesystemtype 」です</block>
  <block id="56efcdcb9168adcb146b4d86bf55e99d" category="cell">iSCSI ボリュームのフォーマットに使用するファイルシステムを設定します。デフォルトは「 ext4 」です。有効な値は「 ext3 」、「 ext4 」、「 xfs 」です。</block>
  <block id="79686ba706c992e7385f0c5b28be8294" category="cell">これを false に設定すると、 LUN のスペース割り当て機能がオフになります。デフォルト値は「 true 」です。つまり、ボリュームのスペースが不足し、ボリューム内の LUN に書き込みを受け付けられなくなったときに、 ONTAP はホストに通知します。また、このオプションで ONTAP 、ホストでデータが削除された時点での自動スペース再生も有効になります。</block>
  <block id="ff7c0fcd6a31e735a61c001f75426961" category="section-title">例</block>
  <block id="9e6d454a094b92b0132e48d2369debf5" category="paragraph">以下の例を参照してください。</block>
  <block id="be1e1c94a5fc3bb66c2ae9425eeefbdb" category="list-text">10GiB ボリュームを作成します。</block>
  <block id="a6490f19f59ecd8e4ed8634990ea366c" category="list-text">Snapshot を使用して 100GiB のボリュームを作成します。</block>
  <block id="297d0d2fcc555e5037c8d251daf5a620" category="list-text">setuid ビットが有効になっているボリュームを作成します。</block>
  <block id="6e31a0481f4f7e423abcde0bf31025c8" category="paragraph">最小ボリュームサイズは 20MiB です。</block>
  <block id="a65684b0a191599ad968126dd65f2e9d" category="paragraph">スナップショット予約が指定されておらず、スナップショットポリシーが「 none 」の場合、 Trident は 0% のスナップショット予約を使用します。</block>
  <block id="8c05fd71822bf85c290cef86db959f68" category="list-text">Snapshot ポリシーがなく、 Snapshot リザーブがないボリュームを作成します。</block>
  <block id="d15d662af6e4417b0b7c134a84ed577c" category="list-text">Snapshot ポリシーがなく、カスタムの Snapshot リザーブが 10% のボリュームを作成します。</block>
  <block id="52a56a468f11c3298931c8e32c938e15" category="list-text">Snapshot ポリシーを使用し、カスタムの Snapshot リザーブを 10% に設定してボリュームを作成します。</block>
  <block id="0a77fdb1c16069c98ebe6510137af9d2" category="list-text">Snapshot ポリシーを設定してボリュームを作成し、 ONTAP のデフォルトの Snapshot リザーブ（通常は 5% ）を受け入れます。</block>
  <block id="f6f813eaaff2b296a27b6bf051485d2b" category="section-title">Element ソフトウェアのボリュームオプション</block>
  <block id="a514753df071ac540af065b659d1c65c" category="paragraph">Element ソフトウェアのオプションでは、ボリュームに関連付けられているサービス品質（ QoS ）ポリシーのサイズと QoS を指定できます。ボリュームが作成されると '-o type=service_level' という命名法を使用して ' ボリュームに関連付けられた QoS ポリシーが指定されます</block>
  <block id="f201e088f13d93e3d12b3c0ef78dece3" category="paragraph">Element ドライバを使用して QoS サービスレベルを定義する最初の手順は、少なくとも 1 つのタイプを作成し、構成ファイル内の名前に関連付けられた最小 IOPS 、最大 IOPS 、バースト IOPS を指定することです。</block>
  <block id="5cb7e4a4b6a51af0b5b09cb230b83422" category="paragraph">Element ソフトウェアのその他のボリューム作成オプションは次のとおりです。</block>
  <block id="8730c4572b866ffc01a4aefebc896555" category="paragraph">ボリュームのサイズ。デフォルト値は 1GiB または設定エントリ ... 「 defaults 」： ｛ 「 size 」：「 5G 」 ｝ 。</block>
  <block id="d52146098b8ecd83b888289a86e26d19" category="cell">「ブロックサイズ」</block>
  <block id="348ef18ccca06aa29547bd9ad87beebe" category="paragraph">512 または 4096 のいずれかを使用します。デフォルトは 512 または config エントリ DefaultBlockSize です。</block>
  <block id="1daf1c12549d6d3ae75c4d8d5f59d532" category="paragraph">QoS 定義を含む次のサンプル構成ファイルを参照してください。</block>
  <block id="7afe0c73e341cee7c90b4d4dda4600d9" category="paragraph">上記の構成では、 Bronze 、 Silver 、 Gold の 3 つのポリシー定義を使用します。これらの名前は任意です。</block>
  <block id="cb5b68dacb07bd02a5152bf4ad1de8c6" category="list-text">10GiB の Gold ボリュームを作成します。</block>
  <block id="89014c611c13195dc852587ef9d2bb16" category="list-text">100GiB Bronze ボリュームを作成します。</block>
  <block id="fc96768681dcf6770119445ffe2537cd" category="summary">ボリュームを作成するには、必要に応じて Astra Trident ドライバ名を指定した標準の「 Ocker volume 」コマンドを使用します。</block>
  <block id="feabbbf9b5afb31194daf0d8e3ff75dc" category="doc">ボリュームを操作します</block>
  <block id="00e5ed77f92b42f144be7dfb7106bf10" category="paragraph">必要に応じて Astra Trident ドライバ名を指定した標準の「 DOcker volume 」コマンドを使用すると、ボリュームの作成、クローニング、削除を簡単に行うことができます。</block>
  <block id="dc88dce8ec264777b2f90ec0af744f43" category="section-title">ボリュームを作成します</block>
  <block id="a32b09b1335e0afbb640a9412690680d" category="list-text">デフォルトの名前を使用して、ドライバでボリュームを作成します。</block>
  <block id="8b5708fe1297b9ca8b3be5b99bf29407" category="list-text">特定の Astra Trident インスタンスを使用してボリュームを作成します。</block>
  <block id="93da65a9fd0004d9477aeac024e08e15" category="inline-link-macro">オプション（ Options ）</block>
  <block id="593e5c95e1adc19e8d81719c16b57bc1" category="admonition">何も指定しない場合 <block ref="3a0a40f90bfa29e0eb23418c553e5ef5" category="inline-link-macro-rx"></block>、ドライバのデフォルトが使用されます。</block>
  <block id="1e1e2461d5dfd51f1ebd0eadcba142f4" category="list-text">デフォルトのボリュームサイズを上書きします。次の例を参照して、ドライバで 20GiB ボリュームを作成してください。</block>
  <block id="5149eec9d959a54cf392efaa710541d1" category="admonition">ボリュームサイズは、オプションの単位（ 10G 、 20GB 、 3TiB など）を含む整数値で指定します。単位を指定しない場合、デフォルトは g ですサイズの単位は、 2 の累乗（ B 、 KiB 、 MiB 、 GiB 、 TiB ）または 10 の累乗（ B 、 KB 、 MB 、 GB 、 TB ）のいずれかです。略記単位では、 2 の累乗が使用されます（ G=GiB 、 T=TiB 、…）。</block>
  <block id="9bc129eac7adf7ea5d8ed1c021fab2dc" category="section-title">ボリュームを削除します</block>
  <block id="281a0f40363a276c6ec125244c784112" category="list-text">他の Docker ボリュームと同様にボリュームを削除します。</block>
  <block id="7959e3701f7a7fba7713c7530d496324" category="admonition">「 olidfire -san 」ドライバを使用する場合、上記の例ではボリュームを削除してパージします。</block>
  <block id="5a1345d94751fc14bedf8f6f5e77a0ff" category="paragraph">Astra Trident for Docker をアップグレードするには、次の手順を実行します。</block>
  <block id="d50044469c0bf9ab38eff9cf7243fb25" category="section-title">ボリュームのクローンを作成します</block>
  <block id="9374b766b9dd78063440afd69afabf38" category="list-text">ボリュームを調べて Snapshot を列挙します。</block>
  <block id="2747096689037792fa87de7a0e8440e2" category="list-text">既存のボリュームから新しいボリュームを作成します。その結果、新しい Snapshot が作成されます。</block>
  <block id="31d9b5ed201aa44dbeae6d17d38c0c6f" category="list-text">ボリューム上の既存の Snapshot から新しいボリュームを作成します。新しい Snapshot は作成されません。</block>
  <block id="516b30a46da41c6969cb7249d6567905" category="section-title">外部で作成されたボリュームにアクセス</block>
  <block id="d8c20bb137be94fec8295c3fc5175b54" category="paragraph">Trident * を使用して、外部で作成されたブロックデバイス（またはそれらのクローン）には、パーティションがなく、ファイルシステムが Astra Trident でサポートされている場合（例えば、 "ext4 ’でフォーマットされた "/dev/sdc1" は Astra Trident 経由でアクセスできません）のみ、コンテナからアクセスできます。</block>
  <block id="4cfa22b281cbd36e1a275d61ec23a9b4" category="summary">トラブルシューティングに役立つログを収集できます。ログの収集方法は、 Docker プラグインの実行方法によって異なります。</block>
  <block id="fe1786b49549e8e06a89b9c57d7fc514" category="doc">ログを収集します</block>
  <block id="83f4d02d2dd31f09291e098bf4ae502b" category="list-text">推奨されるマネージプラグインメソッド (`d Occker plugin` コマンドを使用 ) を使用して Astra Trident を実行している場合は、次のように表示します。</block>
  <block id="17c40798131b12188d43b1a90dabfc69" category="paragraph">標準的なロギングレベルでは、ほとんどの問題を診断できます。十分でない場合は、デバッグロギングをイネーブルにできます。</block>
  <block id="c28722abec5c1daefa02916119bbff91" category="list-text">デバッグロギングをイネーブルにするには、デバッグロギングをイネーブルにしてプラグインをインストールします。</block>
  <block id="b142025dd533fb27bf7df1a93c55e311" category="paragraph">または、プラグインがすでにインストールされている場合にデバッグログを有効にします。</block>
  <block id="98e6888e14bd8bcd734870a8331ca6ea" category="list-text">ホストでバイナリ自体を実行している場合、ログはホストの「 /var/log/netappdvp 」ディレクトリにあります。デバッグ・ロギングを有効にするには ' プラグインの実行時に -debug を指定します</block>
  <block id="2aa0797ce5da04d1c6f027c9b3276483" category="section-title">一般的なトラブルシューティングのヒント</block>
  <block id="94d799ff06bdb0aedb7b64151dac73d7" category="list-text">新しいユーザーが実行する最も一般的な問題は、プラグインの初期化を妨げる構成ミスです。この場合、プラグインをインストールまたは有効にしようとすると、次のようなメッセージが表示されることがあります。</block>
  <block id="fe6b4529e706ebc0f7e3668d3230d029" category="paragraph">「デーモンからのエラー応答 : ダイヤル UNIM/run/docx/plugins/&lt;id&gt;/NetApp/smock: connect: no such file or directory`</block>
  <block id="3d924bd43304301ed127cbbd303a4fa6" category="paragraph">これは、プラグインの起動に失敗したことを意味します。幸い、このプラグインには、発生する可能性の高い問題のほとんどを診断するのに役立つ包括的なログ機能が組み込まれています。</block>
  <block id="79c820c2d64495c47651e58e73f97294" category="list-text">コンテナへの PV のマウントに問題がある場合は 'rpcbind' がインストールされていて実行されていることを確認してくださいホスト OS に必要なパッケージ・マネージャを使用して 'rpcbind' が実行されているかどうかを確認しますrpcbind サービスのステータスは 'systemctl ステータス rpcbind またはそれに相当する処理を実行することで確認できます</block>
  <block id="2358ca3eef46b0e25466e80dbea7ea4b" category="summary">Astra Trident 構成で使用できる設定オプションを確認してください。</block>
  <block id="34e1f7eb303c0a150cd440611b3b5e24" category="doc">ストレージ構成オプション</block>
  <block id="51f834b47bcd78a0f4f40fd8ca40446f" category="section-title">グローバル構成オプション</block>
  <block id="b22d82aea9557ba6aa7b915d40309d9b" category="paragraph">以下の設定オプションは、使用するストレージプラットフォームに関係なく、すべての Astra Trident 構成に適用されます。</block>
  <block id="63b276a6c28274ed5e553d4ce3fe7eb1" category="paragraph">構成ファイルのバージョン番号</block>
  <block id="ac5eb8fcbd1ed9c85a98d91e10e26a38" category="paragraph">ストレージドライバの名前</block>
  <block id="fcf783284187f1e80e772eacd9266ee1" category="paragraph">ボリュームサイズに関するオプションの制限。デフォルト：「」（適用されていない）</block>
  <block id="3eed2a7dac1f2329f3a9574a68e5e1c4" category="admonition">Element バックエンドには 'toragePrefix' （デフォルトを含む）を使用しないでくださいデフォルトでは 'solidfire-san' ドライバはこの設定を無視し ' 接頭辞を使用しませんDocker ボリュームマッピングには特定の tenantID を使用するか、 Docker バージョン、ドライバ情報、名前の munging が使用されている可能性がある場合には Docker から取得した属性データを使用することを推奨します。</block>
  <block id="0863f9e97e159e3ea1ce46bdb49b1254" category="paragraph">作成するすべてのボリュームでデフォルトのオプションを指定しなくても済むようになっています。「 size 」オプションは、すべてのコントローラタイプで使用できます。デフォルトのボリュームサイズの設定方法の例については、 ONTAP の設定に関するセクションを参照してください。</block>
  <block id="0353522b39b87d54d40d3f09ec668851" category="section-title">ONTAP の設定</block>
  <block id="cd536bce1bed61366e8d17a85fe6678a" category="paragraph">ONTAP を使用する場合は、上記のグローバル構成値に加えて、次のトップレベルオプションを使用できます。</block>
  <block id="464779f3491153dd1e79ddbd8a81e3f0" category="paragraph">ONTAP 管理 LIF の IP アドレス。Fully Qualified Domain Name （ FQDN ；完全修飾ドメイン名）を指定できます。</block>
  <block id="11053eb2b6ac6e8802c67c054cf55ad9" category="paragraph">使用する Storage Virtual Machine （管理 LIF がクラスタ LIF である場合は必須）</block>
  <block id="723a179bbb9fc3c4f12cf296a8841b27" category="paragraph">ストレージデバイスに接続するユーザ名</block>
  <block id="8cf10281cf3b9290d5988c57a7d19693" category="paragraph">ストレージ・デバイスに接続するためのパスワード</block>
  <block id="7e6d207f2b120c6cc9caa98510aa51c6" category="cell">「集約」</block>
  <block id="ac53191a99c328660eafa4696375dbfb" category="paragraph">プロビジョニング用のアグリゲート（オプション。設定する場合は SVM に割り当てる必要があります）。「 ONTAP-NAS-flexgroup 」ドライバの場合、このオプションは無視されます。SVM に割り当てられたすべてのアグリゲートを使用して FlexGroup ボリュームがプロビジョニングされます。</block>
  <block id="925060a0c0a15f99ef1bee43f1660ea4" category="paragraph">オプション。使用率がこの割合を超えている場合は、プロビジョニングを失敗させます</block>
  <block id="876885770cf58d20ef5672cc5594e85d" category="inline-link">ここでは、 NFS ホストの設定情報を参照してください</block>
  <block id="0a19ca3d1db7e5bc24b58f73b91c3f49" category="paragraph">NFS マウントオプションのきめ細かな制御。デフォルトは「 -o nfsvers=3 」です。* 「 ONTAP-NAS' 」および「 ONTAP-NAS-エコノミー 」ドライバ専用です。<block ref="71f7a3f48cfd3876cffba401813b7db0" category="inline-link-rx"></block>。</block>
  <block id="5c5adadf8175fd69d4af9bfdb608c42c" category="paragraph">最大要求可能ボリュームサイズと qtree 親ボリュームサイズ。* 「 ONTAP-NAS-エコノミー 」ドライバの場合、このオプションにより、作成する FlexVol のサイズも制限されます。 *</block>
  <block id="981ba910eb0ffc42f42059de056624b4" category="paragraph">FlexVol あたりの最大 qtree 数は [50 、 300] の範囲で指定する必要があります。デフォルトは 200 です。*「 ONTAP-NAS-エコノミー 」ドライバの場合、このオプションを使用すると、 FlexVol あたりの最大数をカスタマイズできます。</block>
  <block id="3890063556e337d458019437f027030b" category="paragraph">作成するすべてのボリュームでデフォルトのオプションを指定しなくても済むようになっています。</block>
  <block id="b326b5062b2f0e69046810717534cb09" category="paragraph">正しいです</block>
  <block id="90adf331b7868c7af46ad6e035e93844" category="section-title">スケーリングオプション</block>
  <block id="493a6606c4789fad3c7317b99cb563d0" category="paragraph">「 ONTAP-NAS' 」ドライバと「 ONTAP-SAN' 」ドライバは、各 Docker ボリューム用の ONTAP FlexVol を作成します。ONTAP では、クラスタノードあたり最大 1 、 000 個の FlexVol がサポートされます。クラスタの最大 FlexVol 数は 12 、 000 です。Docker ボリューム要件がこの制限に適合する場合、「 ONTAP - NAS 」ドライバは FlexVol が提供する Docker ボリューム単位のスナップショットやクローン作成などの追加機能により、 NAS 解決策の方が望ましいとされます。</block>
  <block id="b8f30e4086b754ccaf7bd5d01d8df137" category="paragraph">FlexVol の制限で対応できる容量よりも多くの Docker ボリュームが必要な場合は、「 ONTAP - NAS - エコノミー」または「 ONTAP - SAN - エコノミー」ドライバを選択します。</block>
  <block id="50710f3a4715e3f874848944b6b54e28" category="paragraph">「 ONTAP - NAS - エコノミー」ドライバは、自動的に管理される FlexVol プール内の ONTAP qtree として Docker ボリュームを作成します。qtree の拡張性は、クラスタノードあたり最大 10 、 000 、クラスタあたり最大 2 、 40 、 000 で、一部の機能を犠牲にすることで大幅に向上しています。「 ONTAP - NAS - エコノミー」ドライバは、 Docker ボリューム単位のスナップショットまたはクローン作成をサポートしていません。</block>
  <block id="0c8b91c6c2ba9c892f3eea2cd9c86cd1" category="admonition">Swarm は複数のノード間でのボリューム作成のオーケストレーションを行わないため 'ONTAP-NAS-エコノミー のドライバは現在 Docker Swarm ではサポートされていません</block>
  <block id="5849dbe631db5b1e1b365f9f2f84ff60" category="paragraph">「 ONTAP と SAN の経済性」のドライバは、自動的に管理される FlexVol の共有プール内で、 ONTAP LUN として Docker ボリュームを作成します。この方法により、各 FlexVol が 1 つの LUN に制限されることはなく、 SAN ワークロードのスケーラビリティが向上します。ストレージアレイに応じて、 ONTAP はクラスタあたり最大 16384 個の LUN をサポートします。このドライバは、ボリュームが下位の LUN であるため、 Docker ボリューム単位の Snapshot とクローニングをサポートします。</block>
  <block id="65e92c8f7fa9750b795cc1046328cf06" category="paragraph">「 ONTAP-NAS-flexgroup 」ドライバを選択して、数十億個のファイルを含むペタバイト規模に拡張可能な 1 つのボリュームに並列処理を増やすことができます。FlexGroup のユースケースとしては、 AI / ML / DL 、ビッグデータと分析、ソフトウェアのビルド、ストリーミング、ファイルリポジトリなどが考えられます。Trident は、 FlexGroup ボリュームのプロビジョニング時に SVM に割り当てられたすべてのアグリゲートを使用します。Trident での FlexGroup のサポートでは、次の点も考慮する必要があります。</block>
  <block id="9d83b6d2e2b099e63bf8e2fc8c870893" category="list-text">ONTAP バージョン 9.2 以降が必要です。</block>
  <block id="e7c74973b26ad51b9db42a9c347a8cd4" category="list-text">本ドキュメントの執筆時点では、 FlexGroup は NFS v3 のみをサポートしています。</block>
  <block id="02a100b04add3b90fddef64499e825a2" category="list-text">SVM で 64 ビットの NFSv3 ID を有効にすることを推奨します。</block>
  <block id="496f8625569b787269edab0f3de973da" category="list-text">推奨される最小 FlexGroup サイズは 100GB です。</block>
  <block id="db78b2a7acf43fa03cd95fb3a77c82f9" category="list-text">FlexGroup Volume ではクローニングはサポートされていません。</block>
  <block id="f5ac1e3c252855373c7f660dbd89699d" category="inline-link">『 NetApp FlexGroup Volume Best Practices and Implementation Guide 』にある、ボリュームへの移行に関するセクション</block>
  <block id="df1a7e79743809601db1d20d6a33ae52" category="paragraph">FlexGroup と FlexGroup に適したワークロードの詳細については、を参照してください<block ref="b8a99695d7979127a1cab07b42e22743" category="inline-link-rx"></block>。</block>
  <block id="b30b6b60171d85877ea91897bdd6faed" category="paragraph">同じ環境で高度な機能と大規模な拡張性を実現するために 'ONTAP-NAS' を使用して Docker Volume Plugin の複数のインスタンスを実行し ' もう 1 つは「 ONTAP-NAS-エコノミー 」を使用して実行できます</block>
  <block id="0c0f6724044ed44fb85d2ce3193cb7c3" category="section-title">ONTAP 構成ファイルの例</block>
  <block id="9420b5e8ed08a163eeafb1d5026f74be" category="paragraph">*NFS は 'ONTAP-NAS' ドライバの例です</block>
  <block id="c26e7b2e60e156979940cd72ed83d0b9" category="paragraph">*NFS は 'ONTAP-NAS-flexgroup ドライバの例です</block>
  <block id="3a57e82fd5f9855754a03019c433aff7" category="paragraph">*NFS は 'ONTAP-NAS-エコノミー 'driver* の例です</block>
  <block id="2bfad97b56e71c619e45f6d4c2e4c2e2" category="paragraph">*iSCSI は 'ONTAP-SAN' ドライバの例です</block>
  <block id="98f803effb81ad687bcd941b70439aaa" category="paragraph">*NFS は 'ONTAP-SAN-エコノミー ドライバーの例です</block>
  <block id="ffe54c343031d16e77db73e2d950e277" category="section-title">Element ソフトウェアの設定</block>
  <block id="3afcd136a7bffa20fc39ba6581412cd2" category="paragraph">Element ソフトウェア（ NetApp HCI / SolidFire ）を使用する場合は、グローバルな設定値のほかに、以下のオプションも使用できます。</block>
  <block id="c61f15977fe4efa0866eea87fb740cda" category="paragraph">iSCSI の IP アドレスとポート</block>
  <block id="6a6b63874c664c103982f6d422c6384e" category="paragraph">10.0.0.7 ： 3260</block>
  <block id="72deb2676231ab8e068ef60dd89edd4c" category="paragraph">使用する SolidFire テナント（見つからない場合に作成）</block>
  <block id="d2672389886b173aef703433f7e4b89b" category="paragraph">iSCSI トラフィックをデフォルト以外のインターフェイスに制限する場合は、インターフェイスを指定します</block>
  <block id="5935dcd024929bc7086bb230802bf576" category="paragraph">以下の例を参照してください</block>
  <block id="5e9bf55f849ccc5a31a50d1fa784d28c" category="cell">「 LegacyNamePrefix 」のように入力します</block>
  <block id="db7adc3775b0b56c59ce4263fbd79fbf" category="paragraph">アップグレードされた Trident インストールのプレフィックス。1.3.2 より前のバージョンの Trident を使用していて、既存のボリュームをアップグレードする場合は、この値を設定して、ボリューム名メソッドを使用してマッピングされた古いボリュームにアクセスする必要があります。</block>
  <block id="36f9c7b615268efec7f4c56c387a55bb" category="paragraph">「 olidfire -san 」ドライバは Docker Swarm をサポートしていません。</block>
  <block id="1059bb8540c48e6b455e802384bad65d" category="section-title">Element ソフトウェア構成ファイルの例</block>
  <block id="1a269fb3ec0496720ca75e984d8de40e" category="cell">「 hostProjectNumber 」</block>
  <block id="1631dca111b8c1a922c7f29d48eb7121" category="cell">「ネットワーク」</block>
  <block id="2c07e9234f0df0d4c8887a04f7e641fe" category="paragraph">アプリケーション登録からのクライアント ID</block>
  <block id="27dce2b92c5c5b89e353888e6cb24dea" category="summary">使用中のボリュームに影響を与えることなく、 Astra Trident for Docker を安全にアップグレードできます。アップグレード処理中に、プラグインで指示された「 Occker volume 」コマンドが正常に実行されず、プラグインが再度実行されるまでアプリケーションはボリュームをマウントできません。ほとんどの場合、これは秒の問題です。</block>
  <block id="0350c5473efd300324aaaadeecc676d2" category="doc">Astra Trident をアップグレードまたはアンインストールする</block>
  <block id="f683581d3e75f05f9d9215f9b4696cef" category="section-title">アップグレード</block>
  <block id="ed279061e829314cb0dc7a1708ca5e5b" category="list-text">既存のボリュームを表示します。</block>
  <block id="7c256ad076320e18e087b238e9063f3f" category="list-text">プラグインを無効にします。</block>
  <block id="f4ea3e4191f5bda0b91e08059bf9842a" category="list-text">プラグインをアップグレードします。</block>
  <block id="b2449107a206e37587b47513f76a7b27" category="admonition">nDVP に代わる、 Astra Trident の 18.01 リリース。NetApp/ndvp-plugin イメージから NetApp/trident-plugin` イメージに直接アップグレードする必要があります。</block>
  <block id="824ba648551a27da6c43705bcd663830" category="list-text">プラグインを有効にします。</block>
  <block id="e4c48899ce42f4eb019f54a1a8e66560" category="list-text">プラグインが有効になっていることを確認します。</block>
  <block id="c4d884c606b57bb6cb43864e3499d5a2" category="list-text">ボリュームが表示されることを確認します。</block>
  <block id="103e515a078c6f2419abc4c84554d67c" category="admonition">古いバージョンの Astra Trident （ 20.10 より前）から Astra Trident 20.10 以降にアップグレードすると、エラーが発生する場合があります。詳細については、を参照してください <block ref="6d21ff1c2708107ac3f4ed1a6e27b449" category="inline-link-macro-rx"></block>。このエラーが発生した場合は、まずプラグインを無効にしてから、プラグインを削除し、必要な Astra Trident バージョンをインストールします。これには、「 d Occker plugin install NetApp/trident-plugin:20.10 --alias netapp --grant-all -permissions config=config.json 」という追加設定パラメータを渡します</block>
  <block id="a27dfe771799a09fd55fea73286eb6ab" category="section-title">をアンインストールします</block>
  <block id="7578be09dc225364649898a30619a336" category="paragraph">Astra Trident for Docker をアンインストールするには、次の手順を実行します。</block>
  <block id="867d93c3d1de0e8e75fa408cfadcbba5" category="list-text">プラグインで作成されたボリュームをすべて削除します。</block>
  <block id="4a28a108f39c07ac09218644ca6e9bb0" category="list-text">プラグインを削除します。</block>
  <block id="c412f3b9b270250331aa1ef4102ef8c1" category="summary">複数のストレージ構成を同時に使用する場合は、 Astra Trident の複数のインスタンスが必要です。複数のインスタンスにキーを渡すには、コンテナ化されたプラグインで --alias オプションを使用して、ホストで Trident をインスタンス化するときに --volume-driver オプションを使用して、さまざまな名前を指定します。</block>
  <block id="4f07a71d2e33da91dec1396b7a204a40" category="doc">複数の Astra Trident インスタンスを管理</block>
  <block id="8f327f2ceda84404290184a7454160ed" category="paragraph">複数のストレージ構成を同時に使用する必要がある場合は、 Trident の複数のインスタンスが必要です。複数のインスタンスの鍵は、コンテナ化されたプラグインでは「 --alias 」オプション、ホストで Trident をインスタンス化する場合は「 --volume-driver 」オプションを使用して、それぞれ異なる名前を指定することです。</block>
  <block id="52ef1c6ffefaba3249f208369424635d" category="section-title">Docker Managed Plugin （バージョン 1.13 / 17.03 以降）の手順</block>
  <block id="547c4a5f7c863aad85f5265c03ed72ea" category="list-text">エイリアスと構成ファイルを指定して、最初のインスタンスを起動します。</block>
  <block id="991ac134f22efa2bb955362d95827ae5" category="list-text">別のエイリアスと構成ファイルを指定して、 2 番目のインスタンスを起動します。</block>
  <block id="aa0dc0ac69e69c434317798e1aa9842b" category="list-text">ドライバ名としてエイリアスを指定するボリュームを作成します。</block>
  <block id="5ae25a45ab76de161f87fc41a84f746d" category="paragraph">たとえば、 gold ボリュームの場合：</block>
  <block id="6dab7c53f6e3de2eae52e928dfe5b861" category="paragraph">たとえば、 Silver ボリュームの場合：</block>
  <block id="67754cb209925946943e297b3a8be344" category="section-title">従来の（バージョン 1.12 以前）の場合の手順</block>
  <block id="cbd128765e82966ed5e454a99b22e688" category="list-text">カスタムドライバ ID を使用して NFS 設定でプラグインを起動します。</block>
  <block id="51c923daa4caf6aea6d24201b73871b6" category="list-text">カスタムドライバ ID を使用して、 iSCSI 構成でプラグインを起動します。</block>
  <block id="dd72ade865d731ba8f6a6fc4c8ccd86f" category="list-text">ドライバインスタンスごとに Docker ボリュームをプロビジョニングします。</block>
  <block id="8e2044cc9d4e8f515ad4809a68d75465" category="paragraph">たとえば、 NFS の場合：</block>
  <block id="d39eb6e4299503c5d451d19b9645be42" category="paragraph">たとえば、 iSCSI の場合：</block>
  <block id="c2bccf4258de19dd1e03e25f66d80f98" category="summary">Astra Trident と Docker を使用する際の既知の問題に関する情報を入手できます。</block>
  <block id="3a3b7ac2e39541ea05707ccd6eb054d4" category="doc">既知の問題および制限事項</block>
  <block id="ba6bb78ba304725781af9e773f1957e2" category="paragraph">Astra Trident と Docker を使用する際の既知の問題と制限事項について説明しています。</block>
  <block id="8bb35988eac5a841d2af092365f1aa42" category="section-title">Trident Docker Volume Plugin を旧バージョンから 20.10 以降にアップグレードすると、該当するファイルエラーまたはディレクトリエラーなしでアップグレードが失敗します。</block>
  <block id="7aebfa1e2291377e040de92d7f7f335f" category="list-title">回避策</block>
  <block id="f49f11bc5398ac13e500d16eac424e77" category="list-text">プラグインを無効にします。</block>
  <block id="cc3dae6dd6670606c41c62b10273605e" category="list-text">プラグインを削除します。</block>
  <block id="6010901b5c4bb6ad671e6f07fcc038d8" category="list-text">追加の 'config' パラメータを指定して ' プラグインを再インストールします</block>
  <block id="e527ab8c1c51767e38a3603d51d2d6e5" category="section-title">ボリューム名は 2 文字以上にする必要があります。</block>
  <block id="45c9df594d13c8a5e5472503d5f14b01" category="inline-link">バグ 25773 を参照</block>
  <block id="c167efd138e06a8ee59885983c5ddf69" category="admonition">これは Docker クライアントの制限事項です。クライアントは、 1 文字の名前を Windows パスと解釈します。<block ref="f082f49b923960d888c1d98a1e9f4fcb" category="inline-link-rx"></block>。</block>
  <block id="3c4f022a33d4aace82350c9966fa238b" category="section-title">Docker Swarm には、 Astra Trident がストレージやドライバのあらゆる組み合わせでサポートしないようにする一定の動作があります。</block>
  <block id="a7c3ff464b1ef4364de4df03d66bee5e" category="list-text">Docker Swarm は現在、ボリューム ID ではなくボリューム名を一意のボリューム識別子として使用します。</block>
  <block id="61ab6f5cff8de89cba95d9e3bbc4ff71" category="list-text">ボリューム要求は、 Swarm クラスタ内の各ノードに同時に送信されます。</block>
  <block id="521e51548c3f7c96e72d432edf4af42d" category="list-text">ボリュームプラグイン（ Astra Trident を含む）は、 Swarm クラスタ内の各ノードで個別に実行する必要があります。ONTAP の仕組みと 'ONTAP-NAS' および 'ONTAP-SAN' ドライバの機能の仕組みにより ' これらの制限の範囲内で動作できるのはこれらのドライバだけです</block>
  <block id="69418caf7b92279073f695612c68de99" category="paragraph">その他のドライバには、競合状態などの問題があります。このような問題が発生すると、ボリュームを同じ名前で異なる ID にする機能が Element に備わっているため、「勝者」を明確にせずに 1 回の要求で大量のボリュームを作成できるようになります。</block>
  <block id="48cbf13b390ff021b130d5f372147af5" category="paragraph">ネットアップは Docker チームにフィードバックを提供しましたが、今後の変更の兆候はありません。</block>
  <block id="29cff148f43bc689eb14447b333f6f83" category="section-title">FlexGroup をプロビジョニングする場合、プロビジョニングする FlexGroup と共通のアグリゲートが 2 つ目の FlexGroup に 1 つ以上あると、 ONTAP は 2 つ目の FlexGroup をプロビジョニングしません。</block>
  <block id="d327e8f24b63b83e091dccdc48dd7b1b" category="sidebar">Astra Trident のドキュメント</block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="sidebar">リリースノート</block>
  <block id="93168a8084b3e838d2932c4734bd234e" category="sidebar">以前のバージョン</block>
  <block id="1fe917b01f9a3f87fa2d7d3b7643fac1" category="sidebar">よく寄せられる質問</block>
  <block id="312b0dc38b01ff32c1b2f5f81ee1ab2d" category="sidebar">Trident オペレータとともに導入</block>
  <block id="e0e3d7f1aacdf4a8196132549709430c" category="sidebar">tridentctl を使用して導入します</block>
  <block id="6a693eb5cd23e4e5743663c7edc37aed" category="sidebar">Astra Trident for Docker を導入</block>
  <block id="386307d41b3f4169a1e6e046a727cdd2" category="sidebar">Trident のオペレータにアップグレード</block>
  <block id="2a21586f7990f8cb0f8951cd2ef7bc3b" category="sidebar">tridentctl を使用してアップグレードします</block>
  <block id="eb1f347fa6176ae2c9175df3bc414954" category="sidebar">Astra Trident を使用</block>
  <block id="a8e174c63ac21920b8405ffddc39214a" category="sidebar">kubectl を使用してバックエンドを作成します</block>
  <block id="81a123ccab93cd947289b672b0e50348" category="sidebar">デモチュートリアル</block>
  <block id="28348a71bed382b86fa6de4d3a307715" category="sidebar">Astra Trident のビデオ</block>
  <block id="813011e2103649bb71f124adedcc10ea" category="sidebar">ブログコミュニティ</block>
  <block id="6394eceb2639574114b02e6e817eb19a" category="sidebar">Astra ブログ</block>
  <block id="874d8a5301794a9ca2aba132ac2460f3" category="sidebar">Kubernetes ハブ</block>
  <block id="d59c00abbeaf33a9a094b3a69c563405" category="sidebar">netapp.io のコマンドです</block>
  <block id="63d5049791d9d79d86e9a108b0a999ca" category="sidebar">参照</block>
  <block id="324fb1352ffffb105d10013810c42896" category="sidebar">Kubernetes と Astra Trident オブジェクト</block>
  <block id="a20f982d79c3dd66d244ffe0f7d940ee" category="sidebar">ベストプラクティスと推奨事項</block>
  <block id="c91cf7abea9584bc1edbc8ff4948ada0" category="sidebar">Trident を統合</block>
  <block id="c949166d6970748c0094c800daa3324a" category="sidebar">Trident で Astra を管理</block>
  <block id="0460583622f03a52d7693094d6fa2452" category="sidebar">概念</block>
  <block id="bbe2bfefd5797bb567e3da92f68ce8d1" category="sidebar">tridentctl 展開をカスタマイズします</block>
  <block id="58eaebf972358f1cf03d386a4ade1a0f" category="sidebar">次の手順</block>
  <block id="bffb766af67c15f14cae35f03dd6f4a9" category="sidebar">kubectl を使用してバックエンド管理を実行します</block>
  <block id="748a22b5f1312291ad55429ba4b809a0" category="sidebar">tridentctl を使用してバックエンド管理を実行します</block>
  <block id="f14894e4c400a400c02367258a93029a" category="sidebar">Trident for Docker が必要です</block>
  <block id="e08bfc79c5202517b3814efd6e82fb2c" category="sidebar">Trident をアップグレードまたはアンインストールする</block>
  <block id="f14a1d8e56a0cbd2826edd38778371f7" category="admonition">ステータスに「更新中」と表示される場合は、続行する前に解決してください。可能なステータス値のリストについては、を参照してください<block ref="6aefd1c9ce8e43313a8c7c92e2fac4f3" category="inline-link-rx"></block>。</block>
  <block id="05d68d1b7214c73141ed12aaed0c2ab5" category="list-text">Trident ログに十分な情報がない場合は、インストールオプションに基づいてインストールパラメータに「 -d 」フラグを渡して、 Trident のデバッグモードを有効にしてみてください。</block>
  <block id="bc6de9cad530a57dba08ff711f4a6b5f" category="paragraph">次に './tridentctl logs -n trident` を使用して debug が設定され ' ログ内で 'level=debug msg' を検索していることを確認します</block>
  <block id="8e95ae46f32b05cf983c93e608530e36" category="list-text">オペレータとともにインストールされます</block>
  <block id="6a304a6cf7cd8c90bac892ab0fb9c134" category="paragraph">Astra Trident 20.07 と 20.10 では、「 Torc 」の代わりに「 tprov 」を使用します。</block>
  <block id="79b91d0489c081de6794796638793787" category="list-text">Helm とともにインストールされます</block>
  <block id="d356d628089d439d75e3f85564372658" category="list-text">tridentctl を使用してインストールされます</block>
  <block id="433f174b6e54b889696b2efd4ef40dc6" category="admonition">Trident REST インターフェイスは、 127.0.0.1 （ IPv4 の場合）または [::1] （ IPv6 の場合）のみをリスンして処理するように設定できます。</block>
  <block id="1968a7e86875b6b6ca9d5222172f8d16" category="list-text">`--http-request-timeout`: Trident コントローラの REST API の HTTP 要求タイムアウトをオーバーライドします ( デフォルトは 1 分 30s) 。</block>
  <block id="cf282b9c05ab0f84b1690e644cd3f68e" category="list-text">「 ONTAP-NAS-flexgroup 」ドライバの場合、各永続ボリューム（ PV ）は FlexGroup にマッピングされます。その結果、ボリューム Snapshot は NetApp FlexGroup Snapshot として作成されます。NetApp のスナップショット・テクノロジーは ' 競合するスナップショット・テクノロジーよりも高い安定性 ' 拡張性 ' リカバリ性 ' パフォーマンスを提供しますSnapshot コピーは、作成時とストレージスペースの両方で非常に効率的です。</block>
  <block id="b89df534de66f446ec6482f9d7898bb2" category="cell">controller'PluginNodeSelector</block>
  <block id="8d414af35aeb82413205fa45551a5545" category="cell">デフォルトはありません。オプションです</block>
  <block id="df1f367efe879ec0030f43610e29c5af" category="cell">controllerPluginTolerations</block>
  <block id="47a441037628a3c0f0edb0daccb33f99" category="cell">「 nodePluginNodeSelector 」</block>
  <block id="f297db5a937924105908a365d9d4c4ff" category="cell">「 nodePluginTolerations` 」</block>
  <block id="4352a1b4e004cf57ac04661a18de43aa" category="inline-link-macro">ポッドをノードに割り当てます</block>
  <block id="b3b67fd79d24b4873c8164c750c21798" category="admonition">ポッドパラメータの書式設定の詳細については、を参照してください <block ref="7b3a69fdac08c769183925679da4c365" category="inline-link-macro-rx"></block>。</block>
  <block id="d6601a8eb863a49ea065281f70a5956b" category="summary">Astra Trident は、ネットアップが Astra 製品ファミリーの一部として管理している、完全にサポートされているオープンソースプロジェクトです。Container Storage Interface （ CSI ）などの業界標準のインターフェイスを使用して、コンテナ化されたアプリケーションの永続性に対する要求を満たすことができるように設計されています。</block>
  <block id="bb453665f57f6823950856f7a9bad0c3" category="inline-link-macro">Astra 製品ファミリー</block>
  <block id="9f469e7cb13566d8a664e8ab4d46f9e1" category="paragraph">Astra Trident は、ネットアップがの一部として管理している、完全にサポートされているオープンソースプロジェクトです <block ref="a1650a2308dbba03b9ca704756a5a37d" category="inline-link-macro-rx"></block>。Container Storage Interface （ CSI ）などの業界標準のインターフェイスを使用して、コンテナ化されたアプリケーションの永続性に対する要求を満たすことができるように設計されています。</block>
  <block id="165fe4b78b5877cf8db8ac6361e5c85a" category="paragraph">Astra のページで無料トライアルに登録できます。</block>
  <block id="d13de4a83d7b44c2e65495def8ef1c7b" category="section-title">を参照してください。</block>
  <block id="fa80e31eb77798b8dd995ddd9553be6e" category="inline-link">ネットアップアストラ製品ファミリー</block>
  <block id="ed394f5572d8e7df474126557b3288f8" category="list-text"><block ref="ed394f5572d8e7df474126557b3288f8" category="inline-link-rx"></block></block>
  <block id="ef22ff17624b3faeed227ce5c717eb5f" category="inline-link">Astra Control Service のマニュアル</block>
  <block id="0ae0ea6967e9321db008cee4ad5f290c" category="list-text"><block ref="0ae0ea6967e9321db008cee4ad5f290c" category="inline-link-rx"></block></block>
  <block id="3a4b2c66d4bdac6ce0e3340c71a39eda" category="inline-link">Astra Control Center のドキュメント</block>
  <block id="ea643bf7aaf130341a17f697a7009368" category="list-text"><block ref="ea643bf7aaf130341a17f697a7009368" category="inline-link-rx"></block></block>
  <block id="9d6ffa6ef31bd0b92876314219f18ef5" category="inline-link">Astra API ドキュメント</block>
  <block id="9c2cf0e947812ecb3fc0bfccaa8b3c61" category="list-text"><block ref="9c2cf0e947812ecb3fc0bfccaa8b3c61" category="inline-link-rx"></block></block>
  <block id="a93e9e44b7a375a4236260f5ff2b251e" category="inline-link">Astra Trident 21.07</block>
  <block id="3830d427e146a8a64454dc373d9b1502" category="list-text"><block ref="3830d427e146a8a64454dc373d9b1502" category="inline-link-rx"></block></block>
  <block id="af7c8216a3289efe1a298a19c00b8b8c" category="section-title">テスト済みのホストオペレーティングシステム</block>
  <block id="57b3e1695eb7d16642702fbce3837b86" category="paragraph">デフォルトでは、 Astra Trident はコンテナで実行されるため、任意の Linux ワーカーで実行されます。ただし、その場合、使用するバックエンドに応じて、標準の NFS クライアントまたは iSCSI イニシエータを使用して Astra Trident が提供するボリュームをマウントできる必要があります。</block>
  <block id="681d715b456f6d29a501b8f132e941a1" category="cell">v1.22.0</block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">オープンソース</block>
  <block id="0172b29a9f5d94dc62ee592a98183f3b" category="paragraph">ネットアップの Astra Trident 向けソフトウェアで使用されているサードパーティの著作権とライセンスは、の各リリースの通知ファイルで確認できます<block ref="4a3c8c5a408c6db1c44c04391a8a0a2f" category="inline-link-rx"></block>。</block>
  <block id="29db8b676d0a02f8179869506102c8ce" category="doc">バックエンドに ONTAP または Cloud Volumes ONTAP SAN ドライバを設定します</block>
  <block id="133184f8c608809bdc057abf1397d10d" category="paragraph">ONTAP および Cloud Volumes ONTAP SAN ドライバを使用した ONTAP バックエンドの設定について説明します。</block>
  <block id="75419edaab27be09afdb3415e83d93f6" category="paragraph">'UDO mpathconf--enable --with _multipathd y -- find _multipaths n</block>
  <block id="60c268e00db3206011b54b01705d7211" category="admonition">「 /etc/multipath.conf 」に「 find _ multipaths no 」が「 defVaults 」に含まれていることを確認します。</block>
  <block id="b85c80e2af7e3d7dd06b874ed048d430" category="paragraph">'sudo tee//etc/multipath.conf &lt;-' EOF ' defaults ｛ user_friendy_names yes find _multipaths no ｝ EOF sudo systemctl enable -- 今では multipath-tools.service sudo service multipath-tools restart'</block>
  <block id="a3610578ce54198653d7e0b2cc53c05d" category="inline-link-macro">バックエンドに ONTAP または Cloud Volumes ONTAP NAS ドライバを設定します</block>
  <block id="f4f833852bac4217eff92d53c1bd24dc" category="list-text"><block ref="f4f833852bac4217eff92d53c1bd24dc" category="inline-link-macro-rx"></block></block>
  <block id="df7d9b009cdb0a2623872cb3f905e161" category="list-text"><block ref="df7d9b009cdb0a2623872cb3f905e161" category="inline-link-macro-rx"></block></block>
  <block id="4d80e2460d711b841338dfbeea2ca8c1" category="paragraph">ONTAP および Cloud Volumes ONTAP の NAS ドライバを使用した ONTAP バックエンドの設定について説明します。</block>
  <block id="9d4568c009d203ab10e33ea9953a0264" category="cell">""</block>
  <block id="7072ec708b0ea7e3243747d8b79c0d20" category="admonition">以前のリリースの Trident からアップグレードして Azure NetApp Files を使用する場合 ' 現在 'location`config パラメータは ' 必須のシングルトンフィールドになっています</block>
  <block id="b956e1f58f802db57dd9f871ac59ed6c" category="paragraph">リソース名が重複して 1 箇所に操作が制限されるように ANF ドライバを修正しました。</block>
  <block id="851679bec9b3e6c8e6284128fb750b1e" category="list-text">Kubernetes の機能拡張：</block>
  <block id="2767b461b2b49786f390c9e0509d2d12" category="list-text">Kubernetes 1.23 のサポートが追加されました。</block>
  <block id="7f10502f6f15537f180f07f0c89d2642" category="inline-link-macro">GitHub 問題 #651</block>
  <block id="2ff7a365e7c341f8f381cd7c2a4e15f6" category="list-text">Trident Operator または Helm 経由でインストールした場合、 Trident ポッドのスケジュールオプションを追加します。（<block ref="15fbe6dcd60762941b28bc5990803bde" category="inline-link-macro-rx"></block>)</block>
  <block id="90fdd892e78b26eb18a250c9c1bc19ff" category="inline-link-macro">GitHub 問題 #633</block>
  <block id="3ff8e54aa1f3735deb64771c4c65c420" category="list-text">GCP ドライバでリージョン間のボリュームを許可します。（<block ref="efd445659801b6abfdba2997e23e5f4f" category="inline-link-macro-rx"></block>)</block>
  <block id="fef8c75d6cd00955b0f1c84d40af01aa" category="inline-link-macro">GitHub 問題 #666</block>
  <block id="9f81aabbbba9f61bfecaf1340c407ed1" category="list-text">ANF ボリュームでの「 unixPermissions 」オプションのサポートが追加されました。（<block ref="b2ee1a79cce917ad1d60b3bec442914a" category="inline-link-macro-rx"></block>)</block>
  <block id="a4233200da50a08b295311036bb03ac1" category="section-title">非推奨</block>
  <block id="de6284c149d2e011da3909f1ef2af627" category="paragraph">Trident REST インターフェイスは、 127.0.0.1 または [::1] アドレスでのみリスンおよびサービスを提供できます</block>
  <block id="cdb544a92bee555749f43046d53ef34e" category="admonition">v21.10.0 リリースには、ノードが削除されてから Kubernetes クラスタに再度追加されたときに、 Trident コントローラを CrashLoopBackOff 状態にすることができる問題があります。この問題は、 v21.10.1 (GitHub 問題 669) で修正されています。</block>
  <block id="cd1bf2431d703fd3c62a278b9c812d56" category="list-text">GCP CVS バックエンドでボリュームをインポートする際の競合状態が修正され、インポートに失敗することがありました。</block>
  <block id="8e1e1dad95de3dc781f25f58483acdf3" category="list-text">ノードを削除してから Kubernetes クラスタ（ GitHub 問題 669 ）に再度追加するときに、 Trident コントローラを CrashLoopBackOff 状態にする問題を修正しました。</block>
  <block id="d7c32cb5ff2be4aaff3a8eaea9d18e0d" category="list-text">SVM 名を指定しなかった場合に問題が検出されないという問題を修正しました（ GitHub 問題 612 ）。</block>
  <block id="a55b7ee69c26277a1088efc103e15297" category="paragraph">使用可能なコマンドとグローバルオプションは次のとおりです。</block>
  <block id="94912f7fb206038e8527957b44dfbf25" category="paragraph">すべての Trident ポッドが再起動されます。これには数秒かかることがあります。これを確認するには 'kubectl get pod -n trident' の出力の 'age' 列を確認します</block>
  <block id="73e93ad328287e5ce4c06228cfdba2bf" category="cell">v1.3.0</block>
  <block id="08ee53e1d5cefb7967a295e98036598e" category="cell">.snapshot ディレクトリの表示を制御します</block>
  <block id="016a4b469916e37291cfe2f7fab49aaf" category="cell">「 resourceGroups 」</block>
  <block id="66d09fbe1165f3d10b368cbe0cc029f4" category="cell">検出されたリソースをフィルタリングするためのリソースグループのリスト</block>
  <block id="36cbcb8a57112362b05d06b9fe037a6e" category="cell">"[]" （フィルタなし）</block>
  <block id="d4b4343f054233d7d339bb1501425fd4" category="cell">「 netappAccounts 」のように入力します</block>
  <block id="61476ef20a8015760b9cb3c1bd0ea435" category="cell">検出されたリソースをフィルタリングするためのネットアップアカウントのリスト</block>
  <block id="722c7b4409fa4d1fe6aaa2902ae66473" category="cell">「 capacityPools</block>
  <block id="225abbb59bc0bbaa2a5852ada333b31b" category="cell">検出されたリソースをフィルタリングする容量プールのリスト</block>
  <block id="f2a5b99a63a463017b3e5f5848444d9a" category="cell">"[]" （フィルタなし、ランダム）</block>
  <block id="91b3c29beb3641dce2fcf3d2382fac4f" category="cell">トラブルシューティング時に使用するデバッグフラグ。例 : `\{"API":false," メソッド ":true," 検出 ":true}`トラブルシューティングを行って詳細なログダンプが必要な場合を除き、このオプションは使用しないでください。</block>
  <block id="520d0db389f362bf79ef56ca0af3dcab" category="cell">の形式で入力し</block>
  <block id="dde92bca1b59f0db813ef42a2688752e" category="cell">リソースグループ</block>
  <block id="671e72ca3ef632233f4c27dfef1ec109" category="cell">&lt; リソースグループ &gt;</block>
  <block id="ac252743de820aac9183d9f76d4bed67" category="cell">ネットアップアカウント</block>
  <block id="2bf2783c6d0d867a9fe629138b38bd84" category="cell">&lt; リソースグループ &gt;/&lt; ネットアップアカウント &gt;</block>
  <block id="9eea1c08013c37f1499f428378764a08" category="cell">容量プール</block>
  <block id="01c656d6b97f45a90022ee307283ae01" category="cell">&lt; リソースグループ &gt;/&lt; ネットアップアカウント &gt;/&lt; 容量プール &gt;</block>
  <block id="bf76cafc47141522dca89c4d6e25b822" category="cell">仮想ネットワーク</block>
  <block id="8c9309282517a29ad09b10443d825c7c" category="cell">&lt; リソースグループ &gt;/&lt; 仮想ネットワーク &gt;</block>
  <block id="9770c6469e9d27585d6c0c389ede7bc3" category="cell">サブネット</block>
  <block id="7addf9faaab78a084548d05b695cd2e2" category="cell">&lt;resource group&gt;/&lt; 仮想ネットワーク &gt;/&lt; サブネット &gt;</block>
  <block id="976a6dc52dbcabb541efa0a91e922604" category="cell">"" （プレビュー機能、サブスクリプションでホワイトリスト登録が必要）</block>
  <block id="a78703e6fcb2511d5a565496df5b2082" category="section-title">例 2 ：容量プールフィルタを使用した特定のサービスレベル設定</block>
  <block id="cce172403b73af5c2a4e93081affcc7f" category="inline-link">Astra Trident 21.10</block>
  <block id="606b9e83fb467a43b3065d4fd5037094" category="list-text"><block ref="606b9e83fb467a43b3065d4fd5037094" category="inline-link-rx"></block></block>
  <block id="ee50d481128d1543f9945b4a4f3fbe9d" category="paragraph">エアギャップのある環境では、 Astra Trident のインストールに必要なコンテナイメージを次の表に示します。tridentctl images コマンドを使用して ' 必要なコンテナイメージのリストを確認します</block>
  <block id="ec3f9af8f611100a0182ffb9ab2e5ef8" category="paragraph">ONTAP 内では、 Trident ドライバが使用できるより制限的な役割を作成することもできますが、推奨しません。Trident の新リリースでは、多くの場合、考慮すべき API が追加で必要になるため、アップグレードが難しく、エラーも起こりやすくなります。</block>
  <block id="ee50ce7340da5b018abe62c8e613cae0" category="summary">Astra Trident は、 Trident オーケストレーションツール用のコマンドラインオプションをいくつか提供し、特定のポートを介して通信を行います。</block>
  <block id="94efe0c9471991c69d2a3b0970a56744" category="paragraph">Trident は、 Trident オーケストレーションツールのコマンドラインオプションをいくつか公開しています。これらのオプションを使用して、導入環境を変更できます。</block>
  <block id="6add71a247c8f4513060920be14857bc" category="cell">allowVolumeExpansion の略</block>
  <block id="84e2c64f38f78ba3ea5c905ab5a2da27" category="cell">ブール値</block>
  <block id="675e3f37a9adfd7ab6433906c490fa06" category="cell">PVC サイズの拡張のサポートをイネーブルまたはディセーブルにします</block>
  <block id="c791531450eeeb073b30215d9c306a00" category="cell">1.11 以上</block>
  <block id="086b513e7d83c4cf32a8bd3550679276" category="cell">volumeBindingMode のようになりました</block>
  <block id="fd656a4f359aa12808a6d0ceb5792342" category="cell">即時、 WaitForFirstConsumer</block>
  <block id="5e7777e1f9cfa3a93159ee44cf3f1f5a" category="cell">ボリュームバインドと動的プロビジョニングを実行するタイミングを選択します</block>
  <block id="8264769021597389583b0a7d1fa7e076" category="inline-link-macro">Kubernetes ：ポッドまたはコンテナのセキュリティコンテキストを設定します</block>
  <block id="dca8809f382a96564d64ae1525b39048" category="list-text">SAN LUN に必要なファイル・システム・タイプを制御するには 'fsType' パラメータを使用しますまた 'Kubernetes は ' ストレージ・クラスに fsType が存在することも使用して ' ファイル・システムが存在することを示しますボリューム所有権は 'fsType' が設定されている場合に限り 'pod の fsGroup' セキュリティコンテキストを使用して制御できますを参照してください <block ref="7940a62969e5aeae7f6e32b04e7a11e3" category="inline-link-macro-rx"></block> 「 fsGroup 」コンテキストを使用したボリューム所有権の設定の概要については、を参照してください。次の場合にのみ 'fsGroup' 値が適用されます</block>
  <block id="6dd29ca7439e52dcf2fbc569066b3d67" category="list-text">「 fsType 」はストレージクラスで設定されます。</block>
  <block id="45d2174daba36b76955e69d2eddf26ca" category="list-text">PVC アクセスモードは RWO です。</block>
  <block id="ba5b62efad4f90a8f4bb806cba4a3ea4" category="paragraph">NFS ストレージドライバの場合、 NFS エクスポートにはファイルシステムがすでに存在します。fsGroup を使用するには ' ストレージ・クラスで fsType を指定する必要がありますこの値は 'NFS' に設定することも ' ヌル以外の任意の値に設定することもできます</block>
  <block id="368b120a3b5f53a49dc3ab96ec9b8dbd" category="paragraph">ネットアップは、製品やサービスの改善と強化を継続的に行っています。Astra Trident の最新機能をいくつかご紹介します。以前のリリースについては、を参照してください<block ref="25da125dffad1d6323c21354bccf0203" category="inline-link-rx"></block>。</block>
  <block id="a98b2ebbcbb381d3abc81e2ecfb2054c" category="inline-link-macro">GitHub 問題 #691</block>
  <block id="61465c1d4383dd4afdf168925e15e767" category="list-text">削除したノードでボリュームを非公開にする問題 を修正しました。（<block ref="5fee6ab43e8008edba54375694a29266" category="inline-link-macro-rx"></block>)</block>
  <block id="e50f1057ba4b67b255c98fa09c5ba6f8" category="list-text">ONTAP API 応答でアグリゲートスペースを確保するために nil フィールドにアクセスすると、パニックが修正されました。</block>
  <block id="3c72f47eeb46270dd13a77b32ec10dd3" category="list-text">* Kubernetes ：大規模なクラスタのノード登録バックオフ再試行時間を延長します。</block>
  <block id="0ef48234390855900384d0bc8a0a8a24" category="list-text">azure-NetApp-files ドライバが、同じ名前の複数のリソースによって混乱することがあるという解決済みの問題 。</block>
  <block id="7eaa7391130c13b3bf9a7e4ae755d908" category="list-text">ONTAP SAN IPv6 データ LIF が角かっこで指定した場合に機能するようになりました。</block>
  <block id="404cef2e43cb97ccef52692419ad6f6b" category="inline-link-macro">GitHub 問題 #489</block>
  <block id="7213ed07f5b718aa66cfac350f023a77" category="list-text">すでにインポートされているボリュームをインポートしようとすると、 EOF 問題 が返され、 PVC は保留状態になります。（<block ref="b9a2290d6389b9a605883cda4e717749" category="inline-link-macro-rx"></block>)</block>
  <block id="c28d8c94f865f3ef7e4b01a157510ef6" category="list-text">Fixed 問題 ： Astra Trident では、 SolidFire ボリュームで作成される Snapshot が 32 個を超えるとパフォーマンスが低下します。</block>
  <block id="d0aaca968285d0d47ea0c5a0f7b9bab5" category="list-text">SSL 証明書の作成時に SHA-1 を SHA-256 に置き換えました。</block>
  <block id="997cff957213b9212a22d7cac2b4275d" category="list-text">生成された証明書を使用して認証をテストONTAP 管理 LIF &gt; と &lt;vserver name&gt; は、管理 LIF の IP アドレスおよび SVM 名に置き換えてください。LIF のサービスポリシーが「 default-data-management 」に設定されていることを確認する必要があります。</block>
  <block id="1e6c7220f5d4eb181d67b4d5043336f5" category="paragraph">Amazon Elastic Kubernetes Service （ EKS ）で実行されている Astra Trident と Amazon FSX for NetApp ONTAP を使用すると、 ONTAP がサポートするブロックボリュームとファイル永続ボリュームを確実にプロビジョニングできます。</block>
  <block id="10b862795141355be1c179a2f878f507" category="list-text">ONTAP ファイル・システム用の FSX を作成する場合は '**Quick create** を使用しないでくださいクイック作成ワークフローでは、自動バックアップが有効になり、オプトアウトオプションはありません。</block>
  <block id="a10ab8f133704d9a58a1dff179ad7f7d" category="list-text">** Standard create** を使用する場合は、自動バックアップを無効にしてください。自動バックアップを無効にすると、 Trident は手動操作なしでボリュームを正常に削除できます。</block>
  <block id="4ef50c481a6113a6276514f572c414d2" category="inline-image-macro">自動バックアップを無効にしている AWS コンソールのスクリーンショット。</block>
  <block id="cce5aa9218d4019d57adcf814d7189c1" category="paragraph"><block ref="cce5aa9218d4019d57adcf814d7189c1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="45b09f7cb3dcbe0274eef2b3fce46bea" category="paragraph">はい、 Astra Trident はオフラインでインストールできます。を参照してください <block ref="4a2b27d6d4bc3dd7ae85bfd131d50753" category="inline-link-macro-rx"></block>。</block>
  <block id="6efc6545e459b8bb96815706b41a84cd" category="paragraph">Trident インストーラが Kubernetes ClusterRole を作成します。このロールには、 Kubernetes クラスタの PersistentVolume 、 PersistentVolumeClaim 、 StorageClass 、 Secret の各リソースへのアクセス権があります。を参照してください <block ref="7a68296d6f600eac17d317743bea0050" category="inline-link-macro-rx"></block>。</block>
  <block id="0f43ba8a9cfc14b033c2c652f53bfcb9" category="paragraph">必要に応じて、マニフェストファイルである Astra Trident のインストールに使用するものをローカルで生成して変更できます。を参照してください <block ref="7a68296d6f600eac17d317743bea0050" category="inline-link-macro-rx"></block>。</block>
  <block id="72fec731c958562fd09df08eef5fbb89" category="paragraph">ダウングレードする場合は、いくつかの要因を評価する必要があります。を参照してください <block ref="ea621a0de3f004c488ea799d0fd7e41d" category="inline-link-macro-rx"></block>。</block>
  <block id="da4ba399089f873246a85825f8a3e1c3" category="list-text">これが完了したら、希望するバージョンの Trident バイナリ（この例では 20.07 ）を取得し、 Astra Trident のインストールに使用します。のカスタム YAML を生成できます <block ref="a251ebefafa5a5d36d857b7034f07489" category="inline-link-macro-rx"></block> 必要に応じて、</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="paragraph">著作権に関する声明、商標、特許などにアクセスできます。</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">著作権</block>
  <block id="09e95b77ffe81fe465a83ba99efad5c8" category="paragraph"><block ref="09e95b77ffe81fe465a83ba99efad5c8" category="inline-link-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商標</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp 、 NetApp のロゴ、および NetApp の商標ページに記載されているマークは、 NetApp, Inc. の商標です。その他の会社名および製品名は、それぞれの所有者の商標である場合があります。</block>
  <block id="7aa531e9acfe2b98e34d2c92fe9846ff" category="paragraph"><block ref="7aa531e9acfe2b98e34d2c92fe9846ff" category="inline-link-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">特許</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">ネットアップが所有する特許の最新リストは、次のサイトで入手できます。</block>
  <block id="d7f1fbcf9ce4e42f705add574d262b2c" category="paragraph"><block ref="d7f1fbcf9ce4e42f705add574d262b2c" category="inline-link-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">プライバシーポリシー</block>
  <block id="fc248f74f5e36542f7f5627b8610e9a3" category="paragraph"><block ref="fc248f74f5e36542f7f5627b8610e9a3" category="inline-link-rx"></block></block>
  <block id="056b6e39cb1ae24d946674f95697989a" category="paragraph">既存の Astra Trident インストールは、オペレータが簡単にアップグレードできます。</block>
  <block id="25c11af81bf0b01ce7b0f24ddc9f7136" category="section-title">その他の既知の設定オプション</block>
  <block id="ffedfe711d36cdc8c41927063ae77027" category="paragraph">VMware Tanzu Portfolio 製品に Astra Trident をインストールする場合：</block>
  <block id="8ded34c5caad3971bb6d0a2b202d7b32" category="list-text">クラスタが特権ワークロードをサポートしている必要があります。</block>
  <block id="dbe38f4f0d856b41827e6e4531720a5e" category="list-text">--kubbelet-dir` フラグは kubelet ディレクトリの場所に設定する必要があります。デフォルトでは、これは /var/vcap/data/kubelet` です。</block>
  <block id="4dc3529fbf05312075f0aa52f9c0908e" category="paragraph">--kubbelet-dir' を使用して kubelet の場所を指定することは、 Trident Operator 、 Helm 、および tridentctl の展開で動作することが知られています。</block>
  <block id="8fad5c21cf613e120f249eadc62cda2f" category="paragraph">Astra Trident は、 Google Kubernetes Engine （ GKE ）、 Amazon Elastic Kubernetes Services （ EKS ）、 Azure Kubernetes Service （ AKS ）、 Rancher 、 VMware Tanzu Portfolio など、フルマネージドで自己管理型の Kubernetes サービスが数多く提供されています。</block>
  <block id="82720d84ad009f069fd0b2cfaf6c3dac" category="summary">Astra Trident for Docker は、ネットアップのストレージプラットフォーム向けの Docker エコシステムとの直接統合を実現します。ストレージプラットフォームから Docker ホストまで、ストレージリソースのプロビジョニングと管理をサポートします。また、将来プラットフォームを追加するためのフレームワークもサポートします。</block>
  <block id="6798a0701cedf1202e1d70210a3a9a83" category="paragraph">「 ONTAP-NAS` 」、「 ONTAP-SAN」 、「 solidfire-san-」 、「 GCP-cvs ストレージドライバ」を使用する場合、 Astra Trident はボリュームのクローンを作成できます。「 ONTAP-NAS-flexgroup 」または「 ONTAP-NAS-エコノミー 」ドライバを使用する場合、クローニングはサポートされません。既存のボリュームから新しいボリュームを作成すると、新しい Snapshot が作成されます。</block>
  <block id="a264f15eaddf1d50155847119366be6b" category="list-text">「 ONTAP-NAS」 、「 ONTAP-SAN」 、「 GCP-CVS 」、「 azure-NetApp-files 」ドライバの場合、各永続ボリューム（ PV ）は FlexVol にマッピングされます。その結果、ボリューム Snapshot はネットアップ Snapshot として作成されます。NetApp のスナップショット・テクノロジーは ' 競合するスナップショット・テクノロジーよりも高い安定性 ' 拡張性 ' リカバリ性 ' パフォーマンスを提供しますSnapshot コピーは、作成時とストレージスペースの両方で非常に効率的です。</block>
  <block id="ec2577b4770848fd294d6ca069c34a43" category="paragraph">Astra Trident は 'ONTAP-NAS''ONTAP-NAS-Bエコノミー 'ONTAP-NAS-flexp`'GCP-cvs`'Azure-NetApp-files' バックエンドでプロビジョニングされた NFS PVS のボリューム拡張をサポートしています</block>
  <block id="986d46700a93c1b67573285912b2a857" category="paragraph">Cloud Volumes ONTAP は、ファイル共有や NAS および SAN プロトコル（ NFS 、 SMB / CIFS 、 iSCSI ）を提供するブロックレベルストレージなど、さまざまなユースケースでデータ制御とエンタープライズクラスのストレージ機能を提供します。Cloud Volume ONTAP の互換性のあるドライバは、「 ONTAP-NAS' 」、「 ONTAP-NAS-エコノミー 」、「 ONTAP-SAN' 」、「 ONTAP-SAN-エコノミー 」です。Cloud Volume ONTAP for Azure と Cloud Volume ONTAP for GCP に該当します。</block>
  <block id="62e0abd2d56d565a2b31e85b446fa800" category="paragraph">Volume Import では、既存のストレージボリュームを Kubernetes 環境にインポートできます。これは現在、「 ONTAP-NAS」 、「 ONTAP-NAS-flexgroup 」、「 solidfire-san-」 、「 azure-netapp-files 」、「 gcp-cvs` ドライバ」でサポートされています。この機能は、既存のアプリケーションを Kubernetes に移植する場合や、ディザスタリカバリシナリオで使用する場合に便利です。</block>
  <block id="555c97661fe540a8eabda5c4680e2f81" category="paragraph">「 azure-NetApp-file' 」または「 gcp-cvs` ドライバが使用されている場合は、「 tridentctl import volume &lt;backend-name&gt; &lt;volume path&gt; -f /path/pvc.yaml 」コマンドを使用して、 Astra Trident で管理される Kubernetes にボリュームをインポートします。これにより、ボリューム参照が一意になります。</block>
  <block id="cca7544fa2044ea81b43c1e0896bf58e" category="cell">ontap - NAS 、 ontap - san 、 solidfire-san-files 、 gcvs 、 ONTAP - SAN - 経済性</block>
  <block id="870594bba77423ccae9ad70861e02951" category="cell">ONTAP-NAS 、 ONTAP-NAS-flexgroup 、 ONTAP-SAN 、 GCP-cvs</block>
  <block id="33dece0bdda0f88a645c739f3714c038" category="cell">ONTAP-NAS, ONTAP-SAN, solidfire-san-, gcvs</block>
  <block id="2e647c10640a301eccdc45d7ad72507d" category="cell">ONTAPNAS 、 ONTAPNAS エコノミー、 ONTAP-NAS-flexgroup 、 ONTAPSAN 、 ONTAP-SAN-エコノミー 、 solidfire-san-, gcvs, azure-netapp-files</block>
  <block id="051fb2c3f62667c87a197ae412a4dbeb" category="cell">ONTAP （ NAS 、 SAN ） &amp; SolidFire - * ：クローン元のボリュームの名前</block>
  <block id="c12963ed77d398c8f97e09be58a20fed" category="paragraph">Trident は ' ボリュームの作成時に internalName を生成しますこの構成は 2 つのステップで構成されます。最初に、ストレージプレフィックス（デフォルトの「 trident 」またはバックエンド構成のプレフィックス）をボリューム名の前に付加し、「 &lt;prefix&gt; - &lt;volume-name&gt; 」という形式の名前を付けます。その後、名前の完全消去が行われ、バックエンドで許可されていない文字が置き換えられます。ONTAP バックエンドでは、ハイフンをアンダースコアで置き換えます（つまり、内部名は「 &lt;prefix&gt;_&lt;volume-name&gt;` 」になります）。Element バックエンドの場合、アンダースコアはハイフンに置き換えられます。</block>
  <block id="ba600e29b197aa569df1df520cc4e4c9" category="paragraph">はい。 Astra Trident は、 Azure の Azure NetApp Files サービスと GCP の Cloud Volumes Service をサポートしています。</block>
  <block id="804a6c22698fe4782c44f1e8d446964e" category="paragraph">現在のところ ' オンデマンドスナップショットのサポートは 'ONTAP-NAS'`ONTAP-NAS-flexgroup 'ONTAP-SAN`'ONTAP-SANエコノミー ''solidfire-san-SAN'''solidfire-san-''''solidfire-san-'''solidfire-san-''''' で利用できます 「 gcp-cvs` 」と「 azure-NetApp-files 」バックエンドドライバ。</block>
  <block id="4af8991c21dff2f779496b8350d1124b" category="inline-link">Trident 22.01</block>
  <block id="7669b0b69333e81c7c208aea3d1a3c6f" category="list-text"><block ref="7669b0b69333e81c7c208aea3d1a3c6f" category="inline-link-rx"></block></block>
  <block id="682c6ce09c9faae3a3e22c55c8db592e" category="list-text">ANF ドライバが複数のエクスポートルールでボリュームのクローニングに失敗した修正済み問題 。</block>
  <block id="723b30bcece2d0d47914a6eaf0c550cc" category="list-text">Trident では、セキュアなエンドポイントからの応答に HSTS ヘッダーが追加されました。</block>
  <block id="621b9733ee07089711b96dd6b0b7861a" category="list-text">Trident では、 Azure NetApp Files の UNIX 権限機能が自動的に有効化されるようになりました。</block>
  <block id="3f39a3207529d5f8129199a33e60ef87" category="section-title">削除します</block>
  <block id="3d0d8392962843a02a6fa979f76b5a91" category="paragraph">E シリーズドライバ（ 20.07 以降無効）が削除されました。</block>
  <block id="72387bfdb0acfd8a27877f000a3abeac" category="section-title">22.01.1 の変更</block>
  <block id="135c438d01a49275c458e22005e39c6e" category="section-title">22.01.0 の変更</block>
  <block id="58a2e8c17107cc1ca9cb1317cd0c1ee9" category="section-title">21.10.1 の変更点</block>
  <block id="43e92857220d1a7ea1da88250ea5e2e3" category="section-title">21.10.0 の変更点</block>
  <block id="9c87569b835a8f66b7490390d350d9a4" category="paragraph">KubernetesディストリビューションにスナップショットコントローラとCRDが含まれていない場合は、次のように導入できます。</block>
  <block id="469f7ca16938508b5dcb777767828b70" category="list-text">ボリュームのSnapshot作成</block>
  <block id="086e6c16e3fe8e13c336612ef636aa02" category="sidebar">Astra Trident</block>
  <block id="5a333b18a215ecfd4457ba0e1732654b" category="section-title">Tridentは、負荷共有ミラーが設定されているSVMでボリュームをプロビジョニングできますか。</block>
  <block id="0e7629426b9d7596800cd5d72f558a7f" category="paragraph">負荷共有ミラーは、NFS経由でデータを提供するSVMのルートボリューム用に作成できます。ONTAP は、Tridentによって作成されたボリュームの負荷共有ミラーを自動的に更新します。ボリュームのマウントが遅延する可能性があります。Tridentを使用して複数のボリュームを作成する場合、ボリュームをプロビジョニングする方法は、負荷共有ミラーを更新するONTAP によって異なります。</block>
  <block id="d5d195efeafde24a6a22effd3dd39339" category="list-text">認証情報ベース：ファイルシステムには「 fsxadmin 」ユーザを、 SVM には「 vsadmin 」ユーザを使用できます。</block>
  <block id="7d3f46589c43a64fd040e4f0e0691a86" category="inline-link-macro">Helmチャート</block>
  <block id="c9ffe59301b588bbc33bb004cfd312ee" category="section-title">Tridentオペレータを導入し、Helmを使用してAstra Tridentをインストール</block>
  <block id="1ea1b160621872df5909653ebde1bf7f" category="paragraph">既存のバックエンドを更新して、クレデンシャルベースの方式と証明書ベースの方式を切り替えることができます。ただし、一度にサポートされる認証方法は1つだけです。別の認証方式に切り替えるには、バックエンド設定から既存の方式を削除する必要があります。</block>
  <block id="7335992f174c029a990442aca68aacbd" category="admonition">クレデンシャルと証明書の両方を*指定しようとすると、バックエンドの作成が失敗し、構成ファイルに複数の認証方法が指定されているというエラーが表示されます。</block>
  <block id="d1914bc190cdc3bc9eee6db0c81021bc" category="section-title">ノードサービスの検出</block>
  <block id="2b6ab5193160f5eaca51526b15f27e3a" category="admonition">ノードサービス検出で検出されたサービスが特定されますが、サービスが適切に設定されていることは保証されませ逆に、検出されたサービスがない場合も、ボリュームのマウントが失敗する保証はありません。</block>
  <block id="66896c99fb06e0b6c86498b249f8217a" category="cell">要求されたボリュームサイズがこの値を超えている場合、プロビジョニングが失敗します。</block>
  <block id="412427d9207c4cc4b01539aff3c50e7c" category="cell">「ネットワーク機能」</block>
  <block id="6dc4cb19f2792a3eadfa64d4b4b6d177" category="paragraph">すべてのKubernetesワーカーノードに適切なNFSツールをインストールしておく必要があります。を参照してください <block ref="f1f954e59a21e3ffe189e77dd2ee9f86" category="inline-link-macro-rx"></block> 詳細：</block>
  <block id="6adbf3424e5de1b4e2baad3b4d632c4a" category="paragraph">既存のバックエンドを更新して、別の認証方法を使用したり、クレデンシャルをローテーションしたりできます。これはどちらの方法でも機能します。ユーザ名とパスワードを使用するバックエンドは証明書を使用するように更新できますが、証明書を使用するバックエンドはユーザ名とパスワードに基づいて更新できます。これを行うには、既存の認証方法を削除して、新しい認証方法を追加する必要があります。次に'必要なパラメータを含む更新されたbackend.jsonファイルを使用して'tridentctl backend updateを実行します</block>
  <block id="880cacf6429ab3c253b14beac8b73951" category="summary">Kubernetesポッドのセキュリティ標準（PSS）とポッドのセキュリティポリシー（PSP）によって、権限レベルが定義され、ポッドの動作が制限されます。また、OpenShift Security Context Constraints（SCC）でも、OpenShift Kubernetes Engine固有のポッド制限を定義します。このカスタマイズを行うために、Astra Tridentはインストール時に特定の権限を有効にします。</block>
  <block id="bc3c69459955aa51e6720ee4098db2c2" category="doc">PODセキュリティ標準（PSS）およびセキュリティコンテキストの制約（SCC）</block>
  <block id="9d482ecca4ba8a41fd8e1180c97a4b97" category="paragraph">Kubernetesポッドのセキュリティ標準（PSS）とポッドのセキュリティポリシー（PSP）によって、権限レベルが定義され、ポッドの動作が制限されます。また、OpenShift Security Context Constraints（SCC）でも、OpenShift Kubernetes Engine固有のポッド制限を定義します。このカスタマイズを行うために、Astra Tridentはインストール時に特定の権限を有効にします。次のセクションでは、Astra Tridentによって設定された権限の詳細を説明します。</block>
  <block id="80af9ab2cf8f28973d329b09a2aa3bf3" category="inline-link-macro">Kubernetes：セキュリティ</block>
  <block id="181049d711e79ba087e97d579f11e3f7" category="admonition">PSSは、Podセキュリティポリシー（PSP）に代わるものです。PSPはKubernetes v1.21で廃止され、v1.25で削除されます。詳細については、を参照してください <block ref="18a97095ea40d42decd22f31a2040afe" category="inline-link-macro-rx"></block>。</block>
  <block id="92699490afddc06ebad285ff002fc80d" category="section-title">必須のKubernetes Security Contextと関連フィールド</block>
  <block id="ed5dea09095f671b801bee34ea28a319" category="cell">アクセス権</block>
  <block id="b315e1c68490baab38c1a28e00fe0f5a" category="cell">権限があります</block>
  <block id="62868c5d24fd89e2fd8046454e18b6c4" category="inline-link-macro">Kubernetes：マウントの伝播</block>
  <block id="a2d97da130dea6b381b1e770af5d9c74" category="cell">CSIでは、マウントポイントが双方向である必要があります。つまり、Tridentノードポッドで特権コンテナを実行する必要があります。詳細については、を参照してください <block ref="36e6e997c8e1e33355ee35fb5cf65f2b" category="inline-link-macro-rx"></block>。</block>
  <block id="92a5c8ffa6bee2a9377f18499950da23" category="cell">ホストネットワーク</block>
  <block id="154cdce0e5451a5578085caa8a7e7a3e" category="cell">iSCSIデーモンに必要です。「iscsiadm」はiSCSIマウントを管理し、ホストネットワークを使用してiSCSIデーモンと通信します。</block>
  <block id="2ff982b19c53a275ae05f015dafe166d" category="cell">ホストIPC</block>
  <block id="eac6730a7bdbb0156f167d1a073b4a7c" category="cell">NFSは'IPC（プロセス間通信）を使用して'nfsdと通信します</block>
  <block id="b25a60a6190808e0d6e849ca6325b91c" category="cell">ホストPID</block>
  <block id="50a75b984e49b81a5c2b366ffe8cfba2" category="cell">NFSの場合'rpc-statd'を起動するために必要ですAstra Tridentは'ホスト・プロセスに対して'rpc-statd'がNFSボリュームをマウントする前に実行されているかどうかを問い合わせます</block>
  <block id="82ec2cd6fda87713f588da75c3b1d0ed" category="cell">機能</block>
  <block id="4aeb7a1484240b8d479aee0a012de3a4" category="cell">SYS_Admin'機能は'特権コンテナのデフォルト機能の一部として提供されますたとえば、Dockerは特権コンテナにこれらの機能を設定します。「CapPrm：0000003ffffffffffffff`Capff：0000003ffffffffff'」</block>
  <block id="b2dbe899d8bf9b4c25f337efe8b1ce7c" category="cell">Seccom</block>
  <block id="bc13155252332e44b7dd850ea5842641" category="cell">Seccompプロファイルは、権限のあるコンテナでは常に「制限なし」なので、Astra Tridentでは有効にできません。</block>
  <block id="1a3d8802d280d4ec910f54042cd62998" category="cell">SELinux</block>
  <block id="86b4800be380b1baaeaeead5f71076db" category="cell">OpenShiftでは、特権コンテナは「SPC_t」（「スーパー特権コンテナ」）ドメインで実行され、非特権コンテナは「container_t」ドメインで実行されます。containerd'に'container-bSELinuxがインストールされている場合'すべてのコンテナは'spc_t'ドメイン内で実行されますこのドメインでは'SELinuxが効果的に無効になりますそのため、Astra Tridentは「seLinuxOptions」をコンテナに追加しません。</block>
  <block id="52a8b954485e8bf8ebe32865d17563a6" category="cell">DAC</block>
  <block id="6ddc0f1aebd745677bb51e725f080883" category="cell">特権コンテナは、ルートとして実行する必要があります。CSIに必要なUNIXソケットにアクセスするために、非特権コンテナはrootとして実行されます。</block>
  <block id="479f0a2e760ff0014bb53fcbe4b5dfbf" category="section-title">PODセキュリティ標準（PSS）</block>
  <block id="b021df6aac4654c454f46c77646e745f" category="cell">ラベル</block>
  <block id="ede4d9142f78c8313ce1ea912023214a" category="cell">'pod -security.esvus.io/enforce `po-security.Kubernetes io/enforce-version</block>
  <block id="0ccd226f7ad098ef19857dcf15eed611" category="cell">Tridentコントローラとノードをインストールネームスペースに登録できるようにします。ネームスペースラベルは変更しないでください。</block>
  <block id="0634b3cd8d233df0b38fe73154f03a86" category="cell">「enforce：特権」「enforce-version：」は、現在のクラスタのバージョンまたはテストされたPSSの最新バージョンです</block>
  <block id="830d087702172a8173337c2f014f24b3" category="admonition">名前空間ラベルを変更すると、ポッドがスケジュールされず、「Error creating：...」または「Warning：trident-csi-...」が表示される場合があります。この場合は'Privilegedの名前空間ラベルが変更されていないかどうかを確認してくださいその場合は、Tridentを再インストールします。</block>
  <block id="a2e4b41e2525b6345ec43bbfe91c66fb" category="section-title">PoDセキュリティポリシー（PSP）</block>
  <block id="6f16a5f8ff5d75ab84c018adacdfcbb7" category="cell">フィールド</block>
  <block id="0c3c80a8b192c50af55549addaec04e9" category="cell">'allowPrivilegeEscalation'</block>
  <block id="13d1281eff2b6a57e6fe877e0379a8f0" category="cell">特権コンテナは、特権昇格を許可する必要があります。</block>
  <block id="22cfef4d87bd251ba39dd92d08a6b0bb" category="cell">「真」</block>
  <block id="f3acfbe4d2b93ab163024b31a31b1a6e" category="cell">allowedCSIDrivers</block>
  <block id="e4938c724a08c7ba91677f8cb5e069f0" category="cell">TridentはインラインCSIエフェメラルボリュームを使用しません。</block>
  <block id="ce2c8aed9c2fa0cfbed56cbda4d8bf07" category="cell">空です</block>
  <block id="2eb7a988516ab2e49fd1dd1d0f505ba4" category="cell">「allowedCapabilities」を参照してください</block>
  <block id="7f18f0f8e3ec21ef031ae007e78292f1" category="cell">権限のないTridentコンテナにはデフォルトよりも多くの機能が必要ないため、特権コンテナには可能なすべての機能が付与されます。</block>
  <block id="577f713a1a3fd5fe6851754c1e780b62" category="cell">「allowedFlexVolumes」を参照してください</block>
  <block id="5a40ff04e0748fc5c56343bfccb1bf43" category="inline-link-macro">FlexVolドライバ</block>
  <block id="117394bda9c12e1ab1e0ddefda7340f6" category="cell">Tridentはを利用しません <block ref="5cf2fb2d9c4de828b06e030ea5b9ff75" category="inline-link-macro-rx"></block>そのため、これらのボリュームは許可されるボリュームのリストに含まれていません。</block>
  <block id="e26fd3e84b999df4093d0b9f1cf8bbdb" category="cell">「allowedHostPaths」を参照してください</block>
  <block id="87c065485525cde8c75f60bd233a546b" category="cell">Tridentノードポッドでノードのルートファイルシステムがマウントされるため、このリストを設定してもメリットはありません。</block>
  <block id="88e5e12dbdeac08e751e562ed902d6af" category="cell">allowedProcMountTypes</block>
  <block id="b989e7796e7fe01d9a48795f499ee3e8" category="cell">Tridentでは'ProcMountTypes'は使用しません</block>
  <block id="6784c364453355e4499a625166f9d76e" category="cell">Tridentには安全でないsysctls'は必要ありません。</block>
  <block id="43dbe35647dc1ec91f9ab70bb9c67eb7" category="cell">defaultAddCapabilities</block>
  <block id="21b6f9c280cf0efb8619e386208ee181" category="cell">特権コンテナに追加する機能は必要ありません。</block>
  <block id="782434a33bb3747f8aa86293dc2ae86c" category="cell">defaultAllowPrivilegeEscalation`</block>
  <block id="4e1db4d4f52542bf76625bb1724050ca" category="cell">権限の昇格は、各Tridentポッドで処理されます。</block>
  <block id="249091efa412cf5e332461c484b979d0" category="cell">「偽」</block>
  <block id="7b18008579516cbef313996f0c7a3f5e" category="cell">「forbiddenSysctls」と入力します</block>
  <block id="1507e7ba036aa98fd30589e618a7a4eb" category="cell">sysctlsは許可されません</block>
  <block id="042337cb48219589a279b3bf0ba9107a" category="cell">「fsGroup」と入力します</block>
  <block id="07556f620d0b827238e3ef0142c49b78" category="cell">Tridentコンテナはrootとして実行されます。</block>
  <block id="ac0f2e366ea63da20af91efebbac6563" category="cell">「RunAsAny」</block>
  <block id="0041ceee5434032966a8b03eae8738ac" category="cell">「hostIPC」</block>
  <block id="41c30833eb5d5997e9b7a31ee0c66616" category="cell">NFSボリュームをマウントするには'nfsdと通信するためにホストIPCが必要です</block>
  <block id="9bffb5bb38918d1a1d3ae47e97dfc0c4" category="cell">「ホストネットワーク」</block>
  <block id="42a138ad382896646a09fac2eb0167c6" category="cell">iscsiadmには、iSCSIデーモンと通信するためのホストネットワークが必要です。</block>
  <block id="13135fc0519a6dd0521fa0c0e2445184" category="cell">「hostPID」</block>
  <block id="608c4a2fdcf8e14356058df9005ae8ad" category="cell">ノードでRPC-statdが実行されているかどうかを確認するには'ホストPIDが必要です</block>
  <block id="7d820b24ee2bfd41495fba608bfe1fb0" category="cell">「hostPorts」</block>
  <block id="7afcaaf2763ecc0e6dee9f0b63026a58" category="cell">Tridentはホストポートを使用しません。</block>
  <block id="cb8c6f5ff29df99724d3704d1af54bbd" category="cell">「特権」</block>
  <block id="aadb34687d099e9a40c9ad3bbaca9b52" category="cell">Tridentノードのポッドでは、ボリュームをマウントするために特権コンテナを実行する必要があります。</block>
  <block id="cd8e4b4bb856b53433b1d0369136d7c3" category="cell">「readOnlyRootFilesystem」</block>
  <block id="7621dbe4e923ccb1331f44e5fc326954" category="cell">Tridentノードのポッドは、ノードのファイルシステムに書き込む必要があります。</block>
  <block id="7214fd778499c002452dfa1de7a63694" category="cell">DDropCapabilitiesが必要です</block>
  <block id="0a687403dd751d7bcf9d36eb39b73187" category="cell">Tridentノードのポッドは特権コンテナを実行するため、機能をドロップすることはできません。</block>
  <block id="56d058c51fcd79545706c62569ba5a19" category="cell">「 NONE 」</block>
  <block id="e0cfa7f1a22bfc61e3c23d9b472cb229" category="cell">runAsGroup`</block>
  <block id="72a9e1b9b252e5cf0980f359420147d4" category="cell">runAsUser</block>
  <block id="0be043db3067cfba9e355c71f0d47963" category="cell">runAsany`</block>
  <block id="2b13c797fbca116e0445fe9ed04aa753" category="cell">runtimeClass'</block>
  <block id="90eaf8074aef1d40fdd4ebb096ba3445" category="cell">Tridentは'RuntimeClasses'を使用しません</block>
  <block id="af697e6f277a737b01025e1b3ac8fd44" category="cell">SELinux</block>
  <block id="b2fe00f20eadde0a1ed6fcbd7f899a41" category="cell">Tridentは'seLinuxOptions'を設定していませんこれは'コンテナランタイムとKubernetesディストリビューションがSELinuxを処理する方法には現在のところ違いがあるためです</block>
  <block id="07b8b968ede124e1134951b502139223" category="cell">「supplementalGroups」を参照してください</block>
  <block id="707325d27093188691659cc218115f02" category="cell">「ボリューム」</block>
  <block id="fd284b15eb12231bdce65744e6704677" category="cell">Tridentポッドには、このボリュームプラグインが必要です。</block>
  <block id="c28fb07c7c2463112f74e84cdea6df77" category="cell">「hostPath」、「projected」、「emptyDir」</block>
  <block id="12ed56c889a6b18b5fce1be5bd30b1c8" category="section-title">セキュリティコンテキストの制約（SCC）</block>
  <block id="3ad6cb6100190c8f81e99fd52debf7ef" category="cell">ラベル</block>
  <block id="244a3eb95cc1438e96d275b17eaa5bca" category="cell">allowHostDirVolumePlugin</block>
  <block id="bdf1cf802b14a9ec8b930e1603663b2a" category="cell">Tridentノードのポッドは、ノードのルートファイルシステムをマウントします。</block>
  <block id="bb46f3196a53f2e3664f53addee28df1" category="cell">"allowHostIPC"</block>
  <block id="040a3e4977d39efd21138ca276545e91" category="cell">NFSボリュームをマウントするには'nfsdと通信するためにホストIPCが必要です</block>
  <block id="75a4305006cbe99edf6e6ec43424a3f9" category="cell">「allowHostNetwork」を参照してください</block>
  <block id="3dc9b606cf3a7a8fc44c8489687131d1" category="cell">「allowHostPID」を参照してください</block>
  <block id="31773567f0268170ecfa4c74f91c5b74" category="cell">"allowHostPorts`</block>
  <block id="606a5f1c705c363af0a1f97e60feaddc" category="cell">allowPrivilegeContainer]を参照してください</block>
  <block id="2cc90cbcd409b90ed2d4270b587b4611" category="cell">"allowedUnsafeSysctls"</block>
  <block id="5be47a456f397efee757d8dd4e0c8726" category="cell">「グループ」</block>
  <block id="c2ca437ef2abb914a8fc2ebb1b926ef6" category="cell">このSCCはTridentに固有で、ユーザにバインドされています。</block>
  <block id="fae56626a2743154c04411ee3d701833" category="cell">「seLinuxContext」</block>
  <block id="5987c8a1437c5254a436c29c94220b55" category="cell">「seccompProfiles」</block>
  <block id="2c8f9f1b9abdfa728b8f5d50686e4da0" category="cell">特権のあるコンテナは常に「閉鎖的」な状態で実行されます。</block>
  <block id="f94a437fb7858e092079378f93ef2c71" category="cell">「ユーザー」</block>
  <block id="402b7d2d5aea5e79576f9a964df89a32" category="cell">このSCCをTridentネームスペースのTridentユーザにバインドするエントリが1つあります。</block>
  <block id="274b68192b056e268f128ff63bfcd4a4" category="cell">該当なし</block>
  <block id="50af2a553c2117ddd78da33865c6e35b" category="cell">「hostPath」, downwardAPI, projected , emptyDir</block>
  <block id="b8f52a0e5f45341fb88241356af7f0c7" category="list-text">を参照してください <block ref="7c28a1514d14039d3824999236c4890d" category="inline-link-macro-rx"></block> ボリューム拡張の詳細については、を参照してください。</block>
  <block id="d63b67088a9f91802e555f6613dfc7e2" category="list-text">tridentctl uninstall コマンドを使用して Trident をアンインストールすると、 Trident ポッドは削除されますが、作成された CRD はクリーンアップされません。を参照してください <block ref="3e5b286354565ddfee44ed92d763b424" category="inline-link-macro-rx"></block> Trident を完全に削除して再構成する方法を理解する。</block>
  <block id="6386b0f17b85463db72887bca8ae2bb7" category="inline-link-macro">バックエンドの設定</block>
  <block id="4ec9b12b750288e91222e3a7e15db932" category="paragraph">これらのオブジェクトの作成方法の詳細については、を参照してください <block ref="2e76dfee6bc1b5ee4173b3c5bbcd99e5" category="inline-link-macro-rx"></block>。</block>
  <block id="1733f6bf382fd79ef07194c1f01825fa" category="paragraph">Tridentのデーモンは'system-node -criticalのPriority Classを消費しますこれはKubernetesで最も高い優先順位クラスですこのクラスにより'Astra Tridentは'正常なノードのシャットダウン時にボリュームを識別してクリーンアップし'リソースの負荷が高いクラスタではTridentのデマ起動ポッドがより低い優先順位でワークロードをプリエンプトできるようになります</block>
  <block id="bc1252710ec794375d6c59f55eea9823" category="paragraph">これを実現するために、Astra Tridentは「ResourceQuota」オブジェクトを使用して、Tridentのデミスタに対する「システムノードクリティカル」の優先クラスが満たされていることを確認します。Astra Tridentは、展開とデミスの作成を行う前に、「ResourceQuota」オブジェクトを検索し、検出されない場合はそのオブジェクトを適用します。</block>
  <block id="253c5669d0ddb02485528df359bfb37d" category="paragraph">デフォルトのリソース割り当ておよび優先クラスをより詳細に制御する必要がある場合は'custom.yamlを生成するか'Helmチャートを使用してResourceQuotaオブジェクトを構成します</block>
  <block id="b6ba871f235b09a3d76844b7b5901586" category="paragraph">次に示すのは'ResourceQuota'オブジェクトがTridentのデマ作用を優先する例です</block>
  <block id="4f4b1cca8d1c78f8ba309694d46d80f2" category="inline-link-macro">Kubernetes：リソースクォータ</block>
  <block id="8893dca3c9374b0380c7018fc6f23846" category="paragraph">リソース・クォータの詳細については'を参照してください <block ref="1fb556021be57083646a3e3c0079c64c" category="inline-link-macro-rx"></block>。</block>
  <block id="222924a66611c61f2a2192a2bab92ecf" category="inline-link-macro">アンインストール中です</block>
  <block id="dbcf7f603282c175a634104f7dbd55f2" category="paragraph">まれに'ResourceQuotaオブジェクトが作成された後にインストールが失敗する場合は'最初に実行します <block ref="3bd802fb95da78515b3c3d98916ee73c" category="inline-link-macro-rx"></block> を再インストールします。</block>
  <block id="c4af59b1638f70f51816423f72df4dba" category="paragraph">それでも解決しない場合は'ResourceQuotaオブジェクトを手動で削除します</block>
  <block id="ba991f2f6d0f733e9b8a2136cedc99b2" category="paragraph">独自のリソース割り当てを制御する場合は、コマンドを使用してAstraのResourceQuotaオブジェクトを削除できます。</block>
  <block id="702fa57eedc6ee8490a7294016f8b14f" category="list-text">trident-resourcesequota.yaml</block>
  <block id="6b51834314ece904405eb0ce1a6e6bd8" category="list-text">NetApp HCI / Elementソフトウェア11以降</block>
  <block id="468bc1e7f7712a8dc9b91d063523cdff" category="cell">v1.24.0</block>
  <block id="05759468b045fc55d22e8e6881dca01f" category="paragraph">** Kubernetes **</block>
  <block id="a885c202ff7951e3ed11491edbe869b2" category="inline-link-macro">GitHub問題 #700</block>
  <block id="b649490c5687c23484f5e4043e17b9c5" category="list-text">HelmまたはTrident OperatorでTridentを設定する際に、ノードセレクタのブール値と数値を処理するように問題 を修正しました。（<block ref="4be853b49b0a07556a73959d38037d90" category="inline-link-macro-rx"></block>)</block>
  <block id="0ae28ee1c5edfd4bee3e296a8261ed8b" category="inline-link-macro">GitHub問題 #736</block>
  <block id="69ce5488c3078e15fc6e51116d1d17ba" category="list-text">非CHAPパスのエラーを処理する問題 を修正したため、失敗した場合kubeletが再試行されるようになりました。 <block ref="a21b5d75e3a2341288a5ed769d7d4ca2" category="inline-link-macro-rx"></block>)</block>
  <block id="701ba87ab75dde70f4604769defc7d00" category="list-text">CSIイメージのデフォルトレジストリとして、k8s .gcr.ioからregistry.k8s .ioに移行します</block>
  <block id="90e3cd7cff1c9f6f4b8d2a509b127d44" category="list-text">TridentのインストールにResourceQuotaが含まれ、PriorityClassの消費がデフォルトで制限されたときにTrident DemonSetがスケジュールされるようになりました。</block>
  <block id="838a6d7e89b7c366cfc25d3b2115b901" category="inline-link-macro">GitHub問題 #717</block>
  <block id="83a65beedcdd811d7b3b4fe9d2c4614f" category="list-text">ANFドライバへのネットワーク機能のサポートが追加されました。（<block ref="e0e89f8bd936a5eb3adce74cac88eab0" category="inline-link-macro-rx"></block>)</block>
  <block id="cab6f6f91105d87aa3f65650df43c553" category="inline-link-macro">GitHub問題 #228</block>
  <block id="00ea108f36897d9ed3523b970b09e6ea" category="list-text">ONTAP ドライバにTech Previewの自動MetroCluster スイッチオーバー検出機能を追加。（<block ref="0c9c84232975bfb33d3481050e5ef924" category="inline-link-macro-rx"></block>)</block>
  <block id="0b4fe975279063a2d1790cd061a8b8d1" category="list-text">**Kubernetes：**サポートされる最小Kubernetes数が1.19に更新されました。</block>
  <block id="108e9d089b04380952a04c1021cdad80" category="list-text">バックエンド構成では、単一の構成で複数の認証タイプを使用できなくなりました。</block>
  <block id="de278730ee66ed696db3f71d20aa30a5" category="list-text">AWS CVSドライバ（22.04以降で廃止）が削除されました。</block>
  <block id="16cbbf51150ac75556b3850ff4a5a013" category="list-text">ノードのポッドから不要なSYS_Admin機能を削除。</block>
  <block id="9f0be62f4bbebd42af8782e0151af649" category="list-text">nodeprepを単純なホスト情報とアクティブなサービス検出に減らし、作業者ノードでNFS / iSCSIサービスが利用可能になったことをベストエフォートで確認します。</block>
  <block id="5b6cf869265c13af8566f192b4ab3d2a" category="section-title">ドキュメント</block>
  <block id="d3889fc650fa47326b5f1d0c56f50970" category="inline-link-macro">PODセキュリティ標準</block>
  <block id="4e8effbd512bb14dbe10454c0f045ff2" category="paragraph">新しい <block ref="305368b4f0d008a807e095ab9da58448" category="inline-link-macro-rx"></block> （PSS）セクションに、インストール時にAstra Tridentによって有効化された権限の詳細が追加されました。</block>
  <block id="278dc4a29aa2b881b9dc4b45a82929c5" category="section-title">2004年10月22日の変更</block>
  <block id="cb60f101c87f3def78d0fef168389244" category="inline-link-macro">GitHub問題 #681</block>
  <block id="2901fba3b85d37ea6000d90e72366ba6" category="list-text">iSCSI イニシエータ名の解析が改善されました。（<block ref="3947f141b94c1867221790f45a6ee173" category="inline-link-macro-rx"></block>)</block>
  <block id="8804e61e26be921d78a1632ad8607a4c" category="inline-link-macro">GitHub問題 #598</block>
  <block id="d0aad022e470a22fe71fa5616ce002f8" category="list-text">CSI ストレージクラスのパラメータが許可されていない問題 を修正しました。（<block ref="032ea6b8f2fceffcd025bdcae99652ae" category="inline-link-macro-rx"></block>)</block>
  <block id="34fb36c5e51f4530848bc5114cf29aa7" category="inline-link-macro">GitHub問題 #671</block>
  <block id="951995417edc5c2968955384b925b27e" category="list-text">Trident CRD での重複キー宣言が修正されました。（<block ref="6e73ffca3c5d1dc68cd639612845812c" category="inline-link-macro-rx"></block>)</block>
  <block id="55cd7443e4a1278a57f612df28b8eee3" category="inline-link-macro">GitHub問題 #629</block>
  <block id="ec74c645b7b5f9d3051f68de156927d9" category="list-text">不正確な CSI スナップショットログを修正しました。（<block ref="9b20149e8d36c115b9349e728abebd54" category="inline-link-macro-rx"></block>）を選択します</block>
  <block id="28341d7630f486a1b72b5b97d39ce589" category="list-text">削除したノードでボリュームを非公開にする問題 を修正しました。（<block ref="439c8b5253b3b0fa8d2ddb79f44cd784" category="inline-link-macro-rx"></block>)</block>
  <block id="fbb82269f3871bc5751dda6ade9cd9ea" category="inline-link-macro">GitHub問題 #656</block>
  <block id="e02171b3da303c0d6b9bd3102650bb07" category="list-text">ブロックデバイスでのファイルシステムの不整合の処理が追加されました。（<block ref="b6c419ed0f79d6957e3796ca0e0742cb" category="inline-link-macro-rx"></block>)</block>
  <block id="1bae87f1c9d9a094dce218672331de02" category="inline-link-macro">GitHub問題 #715</block>
  <block id="4aeb6a7748e689a0ce92c16344bb6285" category="list-text">インストール時に「 imageRegistry 」フラグを設定するときに、自動サポートイメージをプルする問題 を修正しました。（<block ref="5f789d3f3d58c42cfbeb0b6394bac993" category="inline-link-macro-rx"></block>)</block>
  <block id="70703300e76c51632e4ea22ce53c74af" category="inline-link-macro">GitHub問題 #698</block>
  <block id="99df1eeec5b67fac5a47fb610c720712" category="list-text">Trident のセキュアエンドポイントへのインバウンド接続には、 TLS 1.3 以上が必要です。（<block ref="5ab4d3faf45db0d93ac1a5f7438f1c62" category="inline-link-macro-rx"></block>)</block>
  <block id="3786cba0bc294f586b13783c69b08371" category="inline-link-macro">GitHub問題 #694</block>
  <block id="c0f60be70f5b8a5bc6c7c8071f4481fb" category="list-text">* Kubernetes * ： Trident のデプロイ機能は、システムノードに不可欠な優先度クラスで実行されるようになりました。（<block ref="b04869f92878b510e393bc41361c825d" category="inline-link-macro-rx"></block>)</block>
  <block id="4169ad079be240db45893881a795d255" category="paragraph">に問題を作成します<block ref="e71a8230f1c77ee7d957187295b859e4" category="inline-link-rx"></block> そして、概要の件名と問題に「 * RFE * 」と明記してください。</block>
  <block id="a7cfd917113a9ee9c1e789887d1d809f" category="inline-link-macro">チャネルを外します</block>
  <block id="c0ecc0f40acc112b78de6c3fd3c29e83" category="paragraph">ご質問、ご質問、ご要望がございましたら、ネットアップのアストラからお問い合わせください <block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block> またはGitHub。</block>
  <block id="c217b0ac2dd5504f79ba78b220a9c358" category="summary">ネットアップでは、さまざまな方法で Trident をサポートしています。ディスコード・チャネルなど、24時間365日利用可能な広範な無料セルフ・サポート・オプションをご用意しています。</block>
  <block id="1b3d6decfa71cc52ecc9b041f40a02e5" category="paragraph">また、ネットアップのアストラには、コンテナユーザ（Astra Trident開発者を含む）の活気あるパブリックコミュニティもあります <block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>。プロジェクトに関する一般的な質問をしたり、同じような気のある同僚と関連するトピックについて話し合うのには、この場所が最適です。</block>
  <block id="8f5cc6430613f1c12f36965050bb7197" category="sidebar">切断</block>
  <block id="094a6e8342b02106129112ad2ff3d374" category="list-text">Mirantis Kubernetes Engine 3.5</block>
  <block id="c53358822905bb04d312060d1cb568af" category="inline-link">トライデント22.04アストラ</block>
  <block id="fdd380631ba8063e7b8f842282a01e40" category="list-text"><block ref="fdd380631ba8063e7b8f842282a01e40" category="inline-link-rx"></block></block>
  <block id="ccb5eb98656346cbfa0b207e7d363bef" category="inline-link-macro">導入方法</block>
  <block id="e2bcf5dc117f31569d413bd9b7698bf2" category="list-text">のいずれかを使用してAstra Tridentを導入 <block ref="71cad0f2a077aa26894105299bf47b53" category="inline-link-macro-rx"></block>。</block>
  <block id="26798b67dd2e5b4c8d4f03c4c16170c7" category="list-text"><block ref="26798b67dd2e5b4c8d4f03c4c16170c7" category="inline-link-macro-rx"></block></block>
  <block id="85d7b73826973ab07bfe78af69bd85f4" category="list-text"><block ref="85d7b73826973ab07bfe78af69bd85f4" category="inline-link-macro-rx"></block></block>
  <block id="a1142049a82a11e90102d655bb7e234d" category="inline-link-macro">GitHubの_Assets_sectionを参照してください</block>
  <block id="756909f99bc1a720d318a5f5b94eb094" category="section-title">トラブルシューティング用にログを収集する</block>
  <block id="3d945423f8e9496c429a5d8c65b4604f" category="paragraph">Ubuntu</block>
  <block id="134bf17c90c90b5aeed99dde262bf14d" category="admonition">すでにTridentの名前空間を作成している場合'--create-namespaceパラメータは追加の名前空間を作成しません</block>
  <block id="76ab201466ec43d71ec9051f8a556457" category="paragraph">SAN ストレージ・ドライバを使用する ONTAP バックエンドの場合 'Astra Trident は双方向 CHAP をセットアップし 'tridentctl を使用して CHAP ユーザー名とシークレットを管理できますを参照してください <block ref="2e905590b15db776a189c7b5f90d9174" category="inline-link-macro-rx"></block> ONTAP バックエンドで Trident が CHAP を構成する方法をご確認ください。</block>
  <block id="ea4a2eeab32b5cd82414bd4a2fc3e8e6" category="section-title">Astra TridentとNVEおよびNAEの相互運用性</block>
  <block id="c638f77e97a62d0d11f775816222d62a" category="inline-link-macro">NetApp Volume Encryption の設定の概要</block>
  <block id="b65b10bf779c45e4940c255ecf83bdc3" category="paragraph">NetApp ONTAP は、保管データの暗号化を提供し、ディスクが盗難、返却、転用された場合に機密データを保護します。詳細については、を参照してください <block ref="e0b51490e5d435c82abc702d0a4ca15c" category="inline-link-macro-rx"></block>。</block>
  <block id="2f96099170687a6fc94d47d5c9e1db78" category="list-text">NAEがバックエンドで有効になっている場合は、Astra TridentでプロビジョニングされたすべてのボリュームがNAEに対応します。</block>
  <block id="f2e4034ee02b84093370b28f55809870" category="list-text">NAEがバックエンドで有効になっていない場合、バックエンド構成でNVE暗号化フラグを「false」に設定しないかぎり、Astra TridentでプロビジョニングされたすべてのボリュームがNVE対応になります。</block>
  <block id="82d9a35a126449139766a969834999ca" category="paragraph">NAE対応バックエンドのAstra Tridentで作成されるボリュームは、NVEまたはNAEで暗号化されている必要があります。</block>
  <block id="1bb1c0791a9e9cff8de216ed44b1de31" category="list-text">Tridentバックエンド構成でNVE暗号化フラグを「true」に設定すると、NAE暗号化をオーバーライドし、ボリューム単位で特定の暗号化キーを使用できます。</block>
  <block id="c376f853ae2704beeb8bbb6836ada303" category="list-text">NAEが有効なバックエンドでNVE暗号化フラグを「false」に設定すると、NAEが有効なボリュームが作成されます。NVE暗号化フラグを「false」に設定してNAE暗号化を無効にすることはできません。</block>
  <block id="5991606c4d185f50bd7f678053004989" category="list-text">明示的にNVE暗号化フラグを「true」に設定すると、Astra TridentでNVEボリュームを手動で作成できます。</block>
  <block id="b6c7fef7b7bcf035a4f4ad02ff8808c2" category="paragraph">バックエンド構成オプションの詳細については、以下を参照してください。</block>
  <block id="06c4db929b729ddf158ceb5cc15b122b" category="inline-link-macro">ONTAP のSAN構成オプション</block>
  <block id="6d9333eebb991611d29a4f8b7cc21fec" category="cell">新しいボリュームでNetApp Volume Encryption（NVE）を有効にします。デフォルトは「false」です。このオプションを使用するには、クラスタで NVE のライセンスが設定され、有効になっている必要があります。NAEがバックエンドで有効になっている場合は、Astra TridentでプロビジョニングされたすべてのボリュームがNAEに有効になります。詳細については、以下を参照してください。 <block ref="00deada136b55f176f599153703cf50d" category="inline-link-macro-rx"></block>。</block>
  <block id="911675212835161abe9bce3f33c70af0" category="paragraph">新しいボリュームでNetApp Volume Encryption（NVE）を有効にします。デフォルトは「false」です。このオプションを使用するには、クラスタで NVE のライセンスが設定され、有効になっている必要があります。</block>
  <block id="1811ba2842625864e8f6233e19051566" category="paragraph">NAEがバックエンドで有効になっている場合は、Astra TridentでプロビジョニングされたすべてのボリュームがNAEに有効になります。</block>
  <block id="cd6eb5bfdf9299ea3a76e2eb822c8293" category="paragraph">詳細については、以下を参照してください。 <block ref="00deada136b55f176f599153703cf50d" category="inline-link-macro-rx"></block>。</block>
  <block id="2bc97a247278d92f5552529c55ab7f0d" category="paragraph">新しいボリュームでNetApp Volume Encryption（NVE）を有効にします。デフォルトは「false」です。このオプションを使用するには、クラスタで NVE のライセンスが設定され、有効になっている必要があります。</block>
  <block id="17d79009c5c2bb6bd570bb6f87552a2d" category="paragraph">Astra Trident は、 NFS と iSCSI PVS のサイズ変更をサポートしています。これにより、ユーザは Kubernetes レイヤを介してボリュームのサイズを直接変更できます。ボリュームを拡張できるのは、 ONTAP 、 SolidFire / NetApp HCI 、 Cloud Volumes Service バックエンドなど、主要なすべてのネットアップストレージプラットフォームです。後で拡張できるようにするには ' ボリュームに関連づけられたストレージ・クラスで 'allowVolumeExpansion を true に設定します永続ボリュームのサイズを変更する必要がある場合は、 Persistent Volume Claim の「 PEC.resources.request.storage 」注釈を必要なボリュームサイズに編集します。Tridentによって、ストレージクラスタ上のボリュームのサイズが自動的に変更されます。</block>
  <block id="ee3d8ea22d8bf88f2f7fcd6d6dbf26d2" category="paragraph">この指標サービスは、 OpenShift クラスタのステータス、リソース利用率、可用性に関する重要な情報を管理者に提供します。ポッドの自動拡張機能にも必要であり、多くの組織では、チャージバックやショーバックのアプリケーションに指標サービスのデータを使用しています。</block>
  <block id="5e5cb863d5fe17c205c3d2201a1a2235" category="paragraph">Kubernetes クラスタにポッドとして Trident を導入し、 Kubernetes ワークロードに動的なストレージオーケストレーションサービスを提供コンテナ化されたアプリケーションは、ONTAP （AFF / FAS / Select / Cloud / Amazon FSX for NetApp ONTAP ）、Elementソフトウェア（NetApp HCI / SolidFire）、Azure NetApp Files サービス、Google Cloud上のCloud Volumes Service など、ネットアップの幅広いポートフォリオの永続的ストレージをすばやく簡単に消費できます。</block>
  <block id="f21f22dde0e0692333a7a28cce456b08" category="sidebar">すべてのAstraドキュメント</block>
  <block id="06d5b814514e67e2a36b491b2493aed1" category="paragraph">ここに記載された推奨事項を参考に、Astra Tridentのインストールを安全に行ってください。</block>
  <block id="252ee40ccbd23adc008945e85af83513" category="section-title">NVEおよびNAEでAstra Tridentを使用する</block>
  <block id="676ad90ce2543d29917d8a5a6fc02e01" category="inline-link-macro">ONTAP NASの構成オプション</block>
  <block id="a44b6b00e5eebd7494e1fd00658685e2" category="inline-link-macro">NIST</block>
  <block id="83188252104d97bbc732f23aa3b26ae2" category="inline-link-macro">Gitlab: cryptsetup</block>
  <block id="15671c66e35f11a8d4024ff7ca5e7fb6" category="list-text">パフォーマンス上の理由から、ワーカーノードでAdvanced Encryption Standard New Instructions（AES-NI）をサポートすることを推奨します。AES-NIサポートを確認するには、次のコマンドを実行します。</block>
  <block id="0520b57116af979714f913239aa512a5" category="inline-link-macro">Intel：Advanced Encryption Standard Instructions（AES-NI）</block>
  <block id="64e4c9865ee7451edfc34d72da12ee7d" category="paragraph">何も返されない場合、お使いのプロセッサはAES-NIをサポートしていません。AES-NIの詳細については、以下を参照してください。 <block ref="e77f47a78a9c4677daf14d5366b503b4" category="inline-link-macro-rx"></block>。</block>
  <block id="227eef96675ec0e7595951c060437608" category="list-text">使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> LUKS暗号化を使用してストレージプールを定義する方法。例：</block>
  <block id="e646e16bee8b32e6ea29e30d01970a6c" category="section-title">制限</block>
  <block id="21d437ff7c8ceb5481603b5d2c05442a" category="inline-link">トライデント22.07年アストラト</block>
  <block id="8a7908446b584a99ce1055c602a9c74e" category="list-text"><block ref="8a7908446b584a99ce1055c602a9c74e" category="inline-link-rx"></block></block>
  <block id="027daea9679099cb5b0c6ddd862f1afc" category="paragraph">* Astra Trident 22.10.*にアップグレードする前に、次の重要な情報をお読みください</block>
  <block id="83261c9e7e65d5ffc2d188c07767e5f6" category="admonition-title">&lt;strong&gt;Astra Tridentに関する重要な情報22.10&lt;/strong&gt;</block>
  <block id="c5d2d3c8dfa65a831c35d09ac4683434" category="list-text">TridentでKubernetes 1.25がサポートされるようになりました。Kubernetes 1.25にアップグレードする前に、Astra Tridentを22.10にアップグレードする必要があります。</block>
  <block id="27418d8553177383cd6e1bb0e1ce4a57" category="list-text">Astra Tridentは、SAN環境でマルチパス構成を厳密に使用するよう強制し、推奨値をに設定するようになりました<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> multipath.confファイル内。</block>
  <block id="7b9eed191ce5e7cc8c8d1cb8cfe2d8c8" category="paragraph">非マルチパス構成またはを使用<block ref="a3a1d5b95e345a3db24a5a30e349f699" prefix=" " category="inline-code"></block> または<block ref="e82e6d155396541f07f7347c984444ea" prefix=" " category="inline-code"></block> multipath.confファイルの値が原因でマウントが失敗します。Tridentはの使用を推奨しています<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> 21.07リリース以降</block>
  <block id="84ec6afbbe3e33afb3eba2b0375718b1" category="inline-link-macro">問題 #759</block>
  <block id="e07bc583b0f70b05fdbb1008303e8f85" category="list-text">を使用して作成されたONTAP バックエンドに固有の修正済み問題<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block> 22.07.0アップグレード時にフィールドがオンラインにならない（<block ref="294e408500bc8358b70c680986c23bdb" category="inline-link-macro-rx"></block>）。</block>
  <block id="958424a347179b6856de7610a2b99b8d" category="inline-link-macro">問題 #548</block>
  <block id="9663034bca37c0603d813726d885503d" category="inline-link-macro">問題 #760</block>
  <block id="26d08c0516dec92a4420f06d4da4fcf1" category="list-text">**Docker：**一部の環境でDockerボリュームプラグインが起動しないという問題 が修正されました（<block ref="78b7b57a86c570439562f2c638103de5" category="inline-link-macro-rx"></block> および <block ref="968dd574470c019c42c32878b5799fe9" category="inline-link-macro-rx"></block>）。</block>
  <block id="120b67b07f827aba020a1e3932877333" category="list-text">レポートノードに属するデータLIFのサブセットのみが公開されるように、ONTAP SANバックエンド固有の修正されたSLM問題 。</block>
  <block id="8f9d66f5cbbd4fc027dbd00d46032c8e" category="list-text">ボリュームの接続時にiSCSI LUNの不要なスキャンが発生するというパフォーマンス問題 の問題が修正されました。</block>
  <block id="4a9eb9834d90361e1b70e6ac3c8b9a5c" category="list-text">Astra Trident iSCSIワークフロー内で詳細な再試行を削除し、失敗の時間を短縮。外部の再試行間隔も短縮</block>
  <block id="08e9e62a917aaf944b6ff85929a9f1dd" category="list-text">対応するマルチパスデバイスがすでにフラッシュされている場合にiSCSIデバイスのフラッシュ時にエラーが返される修正問題 。</block>
  <block id="bc5611c731b034c5f323419d0258aa44" category="list-text">Kubernetes：</block>
  <block id="98f7f8fbd26f9272ad6a29f2fb6c930b" category="list-text">Trident Deployment and DemonSet用に別々のServiceAccount、ClusterRole、ClusterRoleBindingを追加して、今後の権限の強化を可能にしました。</block>
  <block id="609df46dff884c3eec4386eb8db4e358" category="inline-link-macro">ネームスペース間ボリューム共有</block>
  <block id="09065204259df86d4fe38c35ea23f5af" category="list-text">すべてTrident<block ref="aa44e980d222d5134b5e0d8a062e1543" prefix=" " category="inline-code"></block> ストレージドライバがONTAP REST APIで機能するようになりました。</block>
  <block id="8485ea08789af7b6b7b44e024b526f9b" category="list-text">新しい演算子YAMLを追加しました <block ref="5a02ebff4889c2de0379a0fb10bed282" prefix="(" category="inline-code"></block>）を使用しない場合<block ref="316707d12484dd3afede08839dee49bc" prefix=" " category="inline-code"></block> Kubernetes 1.25をサポートするため。</block>
  <block id="26e871bef43095263845143b043aee4f" category="inline-link-macro">LUKS暗号化ボリュームをサポートします</block>
  <block id="30b044636a9c63ab4b202192eec30c1c" category="list-text">Windows Server 2019ノードのサポートが追加されました。</block>
  <block id="38b9dc57f44121e6d970b34eede9ad0d" category="inline-link-macro">WindowsノードでのSMBボリュームのサポート</block>
  <block id="af8a9d07c7391207db96957ab59cb459" category="list-text">**Kubernetes：**サポートされている最小Kubernetesを1.20に更新。</block>
  <block id="d667cfc8e8d6ec0c2352fe97b0f09e40" category="list-text">Astraデータストア(Aads )ドライバを削除</block>
  <block id="9b363ea2db99fe0dc5e9b43f47a37f20" category="list-text">のサポートが削除されました<block ref="a6105c0a611b41b08f1209506350279e" prefix=" " category="inline-code"></block> および<block ref="8c319f28d81d1527a9428e9a5c2195f5" prefix=" " category="inline-code"></block> のオプション<block ref="19b30dc119e514235b739e076be9b3cc" prefix=" " category="inline-code"></block> iSCSI用にワーカーノードのマルチパスを設定する場合。</block>
  <block id="1407cfeeb5e3916e1435ddea0f1c0a28" category="section-title">2007年22月の変更</block>
  <block id="6f4b2a393838b7a42ebca342bdba2246" category="cell">v1.25.0</block>
  <block id="071d9becf308917b53d70c09e7da51b6" category="list-text">サポートされているネットアップストレージシステムへのアクセス。</block>
  <block id="19eb712f406fc64109f96d9cf4055cb9" category="list-text">Kubernetesワーカーノードすべてからボリュームをマウントできます。</block>
  <block id="5f35b91e200cda68bf700d65b89c2c73" category="list-text">を搭載したLinuxホスト<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> （または<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>OpenShiftを使用している場合）Kubernetesクラスタを管理するようにインストールおよび設定します。</block>
  <block id="50f33d14f129e4548c1c270fd6725a78" category="section-title">設定オプション</block>
  <block id="05f901da7fdacb9ca59e3d7e2d40f98d" category="cell"><block ref="0f4137ed1502b5045d6083aa258b5c42" prefix="" category="inline-code"></block></block>
  <block id="a3ff66cf5848a34d56915c8e879a5d52" category="section-title">構成例</block>
  <block id="a6ba054ae6c021e3bc8a173393842c3d" category="paragraph">上記の属性は、を定義するときに使用できます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> をクリックして、インストールをカスタマイズします。</block>
  <block id="3dabf672facbe8c5e2eeff030c2b8520" category="example-title">例1：基本的なカスタム構成</block>
  <block id="d21e69ca251cfbb211d0ee66fd06d5b3" category="paragraph">次に、基本的なカスタム構成の例を示します。</block>
  <block id="8438aa96607926cc56a36b843e04244f" category="example-title">例2：ノードセレクタを使用して導入します</block>
  <block id="fd2915a467b0d801691fa5242e597f02" category="paragraph">次の例では、ノードセレクタを使用してTridentを導入する方法を示します。</block>
  <block id="aa5b232f08f4f3a911b242c500c5c9a1" category="example-title">例3：Windowsワーカーノードに導入する</block>
  <block id="74b19e3113c78692266e87afce12f681" category="paragraph">この例は、Windowsワーカーノードへの導入を示しています。</block>
  <block id="8720cc63ac2a7bd9564830d7e775715e" category="paragraph"><block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix="" category="inline-code"></block> フラグ：*<block ref="490aa9b616d8535386ddf1c7037f79a0" prefix=" " category="inline-code"></block>：ボリュームのヘルプ。*<block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix=" " category="inline-code"></block>：クエリを下位のソースボリュームに制限します。*<block ref="aed2a4a749284f757648f1057abf44cd" prefix=" " category="inline-code"></block>:クエリをボリュームの下位に制限します。</block>
  <block id="5f82f4ab2783617b6e62bdd43d4a4e49" category="doc">バックエンドにONTAP SANドライバを設定する準備をします</block>
  <block id="19eb1a22d8687def5fb4904d3402728a" category="doc">ネームスペース間でNFSボリュームを共有します</block>
  <block id="9553e9f0cb878601784cbe35c7767060" category="paragraph">Astra TridentVolumeReference CRを使用すると、1つ以上のKubernetesネームスペース間でReadWriteMany（RWX）NFSボリュームをセキュアに共有できます。このKubernetesネイティブ解決策 には、次のようなメリットがあります。</block>
  <block id="6b456f0abe4c4d2f0beb62e5985136cf" category="list-text">セキュリティを確保するために、複数のレベルのアクセス制御が可能です</block>
  <block id="6e5d93bf8e8aaaa4795a50f012bc8fea" category="list-text">すべてのTrident NFSボリュームドライバで動作</block>
  <block id="0ece56dd58b5aabac15e0d0a30553bc0" category="list-text">tridentctlやその他の非ネイティブのKubernetes機能に依存しません</block>
  <block id="b6fcfcfd30bda2a77ebc74f23270f581" category="paragraph">この図は、2つのKubernetesネームスペース間でのNFSボリュームの共有を示しています。</block>
  <block id="45208a2cac11f33c3e6af84d444ac7c5" category="image-alt">ネームスペース間共有の概念図。</block>
  <block id="06ad314b340900d226b1196e1fe289e9" category="section-title">クイックスタート</block>
  <block id="f5b36cc36c8381e7577788dd4db2019d" category="paragraph">NFSボリューム共有はいくつかの手順で設定できます。</block>
  <block id="88b05b42d60719619c24f6101bcd381a" category="paragraph">ソースネームスペースの所有者は、ソースPVCのデータにアクセスする権限を付与します。</block>
  <block id="7037976663710169f00563675ffd3f91" category="paragraph">クラスタ管理者が、デスティネーションネームスペースの所有者にTridentVolumeReference CRを作成する権限を付与します。</block>
  <block id="46374486db0641fa4a3fc8e9c73766ed" category="paragraph">宛先名前空間の所有者は、送信元PVCを参照するためにTridentVolumeReference CRを作成します。</block>
  <block id="33fefc8d535df49d886c4bc78a08e3e5" category="paragraph">宛先名前空間の所有者は、送信元PVCからのデータソースを使用する下位PVCを作成します。</block>
  <block id="7238deab481379c03df561ea7c9b0e2e" category="section-title">ソースネームスペースとデスティネーションネームスペースを設定します</block>
  <block id="b23d212300860aa39d44f8fad02636a1" category="paragraph">セキュリティを確保するために、ネームスペース間共有では、ソースネームスペースの所有者、クラスタ管理者、および宛先ネームスペースの所有者によるコラボレーションとアクションが必要です。ユーザロールは各手順で指定します。</block>
  <block id="aae019fccb9b3ffee1ee77e9e5f2377a" category="list-text">*ソース名前空間の所有者：* PVCを作成します <block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block>）をソースネームスペースに追加し、デスティネーションネームスペースとの共有権限を付与します <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>)を使用します<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> アノテーション</block>
  <block id="3c2d838391ba40c10d124535dfb833e2" category="paragraph">Astra TridentがPVとバックエンドのNFSストレージボリュームを作成</block>
  <block id="365b452a5b5d2d01e1f193fc8bd9bf2c" category="list-text">カンマ区切りリストを使用して、複数の名前空間にPVCを共有できます。例：<block ref="6b31015528f67fe4ce10b7c81957f601" prefix=" " category="inline-code"></block>。</block>
  <block id="fefd0d1f7e80bb8a4657265696b66694" category="list-text">を使用して、すべてのネームスペースに共有できます<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>。例：<block ref="e06421e15aa316addc52dd6c697027b7" prefix=" " category="inline-code"></block></block>
  <block id="bac5e1b9773b73b6702dfe25c8a61a05" category="list-text">PVCを更新してを含めることができます<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> アノテーションはいつでも作成できます。</block>
  <block id="512fce88fc641bb15b14b72474159acd" category="list-text">*クラスタ管理者：*カスタムロールとkubeconfigを作成して、デスティネーションネームスペースの所有者にTridentVolumeReference CRを作成する権限を付与します。</block>
  <block id="5f560764a361bf1159f8a6c8cbd15dad" category="list-text">*デスティネーションネームスペース所有者：*ソースネームスペースを参照するデスティネーションネームスペースにTridentVolumeReference CRを作成します<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>。</block>
  <block id="d9bb6497cda089fc4a386c685a97cffa" category="list-text">*宛先名前空間の所有者：* PVCを作成します <block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block>）をデスティネーションネームスペースに展開します <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>)を使用します<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block> 送信元PVCを指定する注釈。</block>
  <block id="e22f320aefbf1cdb3ccd68c26b050060" category="admonition">宛先PVCのサイズは、送信元PVCのサイズ以下である必要があります。</block>
  <block id="c6e8d7b047a148bcf2aeae743c286bbb" category="paragraph">Astra Tridentがを読み取り<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block> デスティネーションPVCにアノテーションを設定し、ソースPVを参照するストレージリソースを持たない下位のボリュームとしてデスティネーションPVを作成し、ソースPVストレージリソースを共有します。宛先PVCとPVは、通常どおりバインドされているように見えます。</block>
  <block id="a5ddf1dcee266e65795efb120a45d2cb" category="section-title">共有ボリュームを削除</block>
  <block id="2b71b549a21992aba927484a35ad72f6" category="paragraph">複数のネームスペースで共有されているボリュームは削除できます。Tridentが、ソースネームスペースのボリュームへのアクセスを削除し、ボリュームを共有する他のネームスペースへのアクセスを維持します。ボリュームを参照するすべてのネームスペースが削除されると、Astra Tridentによってボリュームが削除されます。</block>
  <block id="9f2f83b0c97d84774c1d61107283bb68" category="paragraph">を使用する<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ユーティリティを使用すると、を実行できます<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block> コマンドを使用して下位のボリュームを取得します。詳細については、リンク:./trident-reference/tridentctl.htmlを参照してください<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="[" category="inline-code"></block> コマンドとオプション]。</block>
  <block id="b1cc54ad6906d5f41516543bae01e46f" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>：ボリュームのヘルプ。</block>
  <block id="20668f390d13376c8d13ab4b20a53b5d" category="list-text"><block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix="" category="inline-code"></block>：クエリを下位のソースボリュームに制限します。</block>
  <block id="92c22bb3853554f94f513a2d2f36e8ef" category="list-text"><block ref="aed2a4a749284f757648f1057abf44cd" prefix="" category="inline-code"></block>:クエリをボリュームの下位に制限します。</block>
  <block id="3ad6cc2d4a6ad6fbd07574653275a161" category="list-text">Astra Tridentでは、デスティネーションネームスペースが共有ボリュームに書き込まれるのを防ぐことはできません。共有ボリュームのデータの上書きを防止するには、ファイルロックなどのプロセスを使用する必要があります。</block>
  <block id="3908892c437778f8b161a2ca006782cd" category="list-text">Snapshot、クローン、およびミラーリングは下位のボリュームでは実行できません。</block>
  <block id="e6fe09cae66ba22c6abbd2511f660545" category="summary">ANFバックエンドを設定する前に、次の要件を満たしていることを確認する必要があります。</block>
  <block id="aec47cf6a0cb83824b504b756eb4b71c" category="doc">Azure NetApp Files バックエンドを設定する準備をします</block>
  <block id="97d64245613ba751b698ce77fd51779a" category="inline-link">Azure：Azure NetApp Files をセットアップし、NFSボリュームを作成します</block>
  <block id="caa7dc98c21b44b17c214508b9b0fa3c" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>および<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> から <block ref="63405c89f422580946169fa59c41e7ae" category="inline-link-macro-rx"></block> Azure Active Directory で、 Azure NetApp Files サービスに対する十分な権限がある。アプリケーション登録では、次のいずれかを使用します。</block>
  <block id="ee495045d2c4c5131217a0248a404b4d" category="inline-link-macro">Azureで事前定義</block>
  <block id="2fbc632d5939633cc9c3b254d116080f" category="inline-link-macro">カスタム投稿者ロール</block>
  <block id="b0ee19cc46a4fb3df97c1c676c0a5d57" category="inline-link-macro">Azureポータルを使用してロールを割り当てます</block>
  <block id="993c1a80e778c965961521eeb4afd398" category="list-text">A <block ref="8ad3956583058d3582a7dd1281d1f882" category="inline-link-macro-rx"></block> をサブスクリプションレベルで選択します <block ref="e023f2926fb9af676f2809a760efeb14" prefix="(" category="inline-code"></block>)以下のアクセス許可は、Astra Tridentが必要とするものに限定されます。カスタムロールを作成したあと、 <block ref="af58105ed429db29198b767444ed6d0d" category="inline-link-macro-rx"></block>。</block>
  <block id="daba51cb28ea016a4e85ad77defc5a2c" category="list-text">Azureがサポートされます<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> を1つ以上含むデータセンターを展開します <block ref="e2df5d3690a644a8599397d798c15f56" category="inline-link-macro-rx"></block>。Trident 22.01の時点では<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> パラメータは、バックエンド構成ファイルの最上位にある必須フィールドです。仮想プールで指定された場所の値は無視されます。</block>
  <block id="77a4a369d552f7d3be163bda86f9113f" category="section-title">SMBボリュームに関するその他の要件</block>
  <block id="1f43150a13f29c496f07ed4a9750b2ff" category="list-text">Linuxコントローラノードと少なくとも1つのWindowsワーカーノードでWindows Server 2019を実行しているKubernetesクラスタ。Astra Tridentは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみをサポート</block>
  <block id="7595de66780a622cdd37b4823afebc07" category="inline-link-macro">GitHub: CSIプロキシ</block>
  <block id="c680a0c023a6d45186b9752a07e9938c" category="inline-link-macro">GitHub: Windows向けCSIプロキシ</block>
  <block id="2d6b406e65ac91f2af09f4228e3efe4f" category="list-text">Windowsサービスとして設定されたCSIプロキシ。を設定します<block ref="0f8126c17871ed45f2a848f15d96a1bb" prefix=" " category="inline-code"></block>を参照してください <block ref="3ca23c6eadaac7aa23a492aef5e5d012" category="inline-link-macro-rx"></block> または <block ref="0b56a9ad79a8fef177779e7d3d856994" category="inline-link-macro-rx"></block> Windowsで実行されているKubernetesノードの場合。</block>
  <block id="3fec7156504f6ca677ea0a137456913e" category="summary">Cloud Volumes Service for Google CloudをAstra Tridentのバックエンドとして構成する方法を、提供されている構成例を使用して説明します。</block>
  <block id="eb89f16d07a93fa10a31ec6309045fe9" category="doc">ONTAP のSAN構成オプションと例</block>
  <block id="b8ae61dc50cf8e8b79e68bc4a8d36393" category="cell"><block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix="" category="inline-code"></block></block>
  <block id="a56dcba8eacdac67fb510e1434d560d8" category="inline-link-macro">Linux Unified Key Setup（LUKS；統合キーセットアップ）を使用</block>
  <block id="fd05c90de484dbc1cb963df796886af4" category="doc">ONTAP NASドライバを使用してバックエンドを設定する準備をします</block>
  <block id="481e993a13f6d4f981acc2da60465e2a" category="summary">ANF用のNFSとSMBのバックエンド構成オプションについて説明し、設定例を確認してください。</block>
  <block id="17a48ec106d5505e674ccdf56fce1058" category="doc">Azure NetApp Files バックエンド構成のオプションと例</block>
  <block id="4bb587d1662752a66d32e629a36d70c0" category="paragraph">Astra Tridentは、バックエンド構成（サブネット、仮想ネットワーク、サービスレベル、場所）を使用して、要求された場所で利用可能で、要求されたサービスレベルとサブネットに一致する容量プールにANFボリュームを作成します。</block>
  <block id="5fe26149fa172056aee5f841415c55fa" category="admonition">Astra Trident は、手動 QoS 容量プールをサポートしていません。</block>
  <block id="1a5743e0279e48054d3f9bb1ebc7e266" category="paragraph">ANFバックエンドには次の設定オプションがあります。</block>
  <block id="55eaeeb515ba1b8a42eb736b0e58f41f" category="cell">ボリューム用のVNet機能のセットです。の場合もあります<block ref="972e73b7a882d0802a4e3a16946a2f94" prefix=" " category="inline-code"></block> または<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block>。ネットワーク機能は一部の地域では使用できず、サブスクリプションで有効にする必要がある場合があります。を指定します <block ref="b0fdc9c7b96e4249152c61b506703142" prefix=" " category="inline-code"></block> この機能を有効にしないと、ボリュームのプロビジョニングが失敗します。</block>
  <block id="cc3d42de123c784e8d8e3c8404b943be" category="cell">NFS マウントオプションのきめ細かな制御。SMBボリュームでは無視されます。NFSバージョン4.1を使用してボリュームをマウントするには、を参照してください <block ref="c72da907ddca73ee114d92e5e098ce0e" prefix=" " category="inline-code"></block> カンマで区切って複数のマウントオプションリストを指定し、NFS v4.1を選択します。ストレージクラス定義で設定されたマウントオプションは、バックエンド構成で設定されたマウントオプションよりも優先されます。</block>
  <block id="f0873081464f48da27a1068215270c60" category="cell"><block ref="296026821ada2ab8aebcf13547a63df5" prefix="" category="inline-code"></block></block>
  <block id="c0a4a0396978d1ad8816d2e358a2f05e" category="cell">NFSボリュームまたはSMBボリュームの作成を設定オプションはです<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> またはnull。nullに設定すると、デフォルトでNFSボリュームが使用されます。</block>
  <block id="71e598dd105d32592243532b55392c55" category="cell"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block></block>
  <block id="8cacf42dcc11f9e7779267100d4fd305" category="inline-link-macro">Azure NetApp Files ボリュームのネットワーク機能を設定します</block>
  <block id="4ace77649689419cf09eed38ddf4e74c" category="admonition">ネットワーク機能の詳細については、を参照してください <block ref="d4c16e3034c39d54544a2d5f2b2953d9" category="inline-link-macro-rx"></block>。</block>
  <block id="d37198994935307f0e4a95505678642e" category="section-title">必要な権限とリソース</block>
  <block id="dff55a3160f253fb2aab1c949fa24db0" category="paragraph">PVCの作成時に「No capacity pools found」エラーが発生した場合、アプリケーション登録に必要な権限とリソース（サブネット、仮想ネットワーク、容量プール）が関連付けられていない可能性があります。デバッグが有効になっている場合、Astra Tridentはバックエンドの作成時に検出されたAzureリソースをログに記録します。適切なロールが使用されていることを確認します。</block>
  <block id="1860dce26ad531b08f4b17950bbda6a7" category="paragraph">の値<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>、<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>、<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block>、<block ref="a88edbe6cce8d8f180d87bef83408312" prefix=" " category="inline-code"></block>および<block ref="4f556606ab1f7cb51dd23811407facbd" prefix=" " category="inline-code"></block> 短縮名または完全修飾名を使用して指定できます。ほとんどの場合、短縮名は同じ名前の複数のリソースに一致する可能性があるため、完全修飾名を使用することを推奨します。</block>
  <block id="8771cfaef1f991e1642d0a1ece8dcfa3" category="paragraph">。<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>、<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>および<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block> 値は、検出されたリソースのセットをこのストレージバックエンドで使用可能なリソースに制限するフィルタであり、任意の組み合わせで指定できます。完全修飾名の形式は次のとおりです。</block>
  <block id="be1b9ef68f31ecee991e2282c1f24f0f" category="section-title">ボリュームのプロビジョニング</block>
  <block id="6154de53659ccfe0ba0733effdb2da13" category="paragraph">構成ファイルの特別なセクションで次のオプションを指定することで、デフォルトのボリュームプロビジョニングを制御できます。を参照してください <block ref="c850cc933797a5d4472ae11f15a5ef5e" category="inline-xref-macro-rx"></block> を参照してください。</block>
  <block id="ea221277b2f168f5e17d112765f4a1c0" category="cell">新しいボリュームに対するエクスポートルール<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> CIDR表記のIPv4アドレスまたはIPv4サブネットの任意の組み合わせをカンマで区切って指定する必要があります。SMBボリュームでは無視されます。</block>
  <block id="21590b83460bd480131384ef53bdccc4" category="cell">新しいボリュームのUNIX権限（8進数の4桁）。SMBボリュームでは無視されます。</block>
  <block id="10c0eb6973453da95b4ef937f19ddb6c" category="section-title">構成例</block>
  <block id="36867df20f9068f37b26d3120d5e7ba4" category="paragraph">これは、バックエンドの絶対的な最小構成です。この構成では、 ANF に委譲されたネットアップアカウント、容量プール、サブネットがすべて検出され、それらのプールまたはサブネットの 1 つに新しいボリュームがランダムに配置されます。理由<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block> は省略されています<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> デフォルトが適用され、バックエンドがNFSボリュームにプロビジョニングされます。</block>
  <block id="9c1aa30bfee58070482e646ad5d8bb4b" category="paragraph">このバックエンド構成では、Azureにボリュームが配置されます<block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block> の場所<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block> 容量プール：Astra Trident は、 ANF に委譲されたすべてのサブネットをその場所で自動的に検出し、いずれかのサブネットに新しいボリュームをランダムに配置します。</block>
  <block id="c0b04213f295bd61098649d5dec24291" category="section-title">ストレージクラスの定義</block>
  <block id="cad675ae3fb846705512fe460e615ac3" category="paragraph">次のようになります<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 定義は、上記のストレージプールを参照してください。</block>
  <block id="1abbfd87ab307af55b755fd27ce60191" category="paragraph">を使用します<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> を指定できます<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> ボリュームをホストするために使用される仮想プール。ボリュームには、選択したプールで定義された要素があります。</block>
  <block id="4b7db799aa8307d15835ff36beb1b97c" category="section-title">SMBボリュームの定義例</block>
  <block id="82b60bb483328d8efe9240dc8aa4a600" category="paragraph">を使用します<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>、<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>および <block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>を使用して、SMBボリュームを指定し、必要なActive Directoryクレデンシャルを指定できます。</block>
  <block id="6de60e9a6b0ad8adcd762a8c85d540e2" category="example-title">例1：デフォルトネームスペースの基本設定</block>
  <block id="1d8d21debc328526252944d2264246ca" category="example-title">例2：ネームスペースごとに異なるシークレットを使用する</block>
  <block id="06bb6ebc4dada525717294b660ba2b3b" category="example-title">例3：ボリュームごとに異なるシークレットを使用する</block>
  <block id="c51cc3b801a879870aea846bdde1c7a3" category="section-title">バックエンドを作成します</block>
  <block id="7d8058d93ec1d95c673d83bf303326ff" category="doc">ONTAP NASの設定オプションと例</block>
  <block id="618a7676e411bbfbd9dbdb2411019951" category="summary">Azure NetApp Files （ANF）をAstra Tridentのバックエンドとして設定できます。ANFバックエンドを使用してNASボリュームとSMBボリュームを接続できます。</block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">考慮事項</block>
  <block id="8f395c84ad002394e9f070a25937dcc4" category="list-text">Azure NetApp Files サービスでは、100GB未満のボリュームはサポートされません。100 GB のボリュームが小さい場合は、 Trident が自動的に作成します。</block>
  <block id="1cf44a6bee7fa333861e5d0042926fb5" category="list-text">Astra Tridentは、Windowsノードで実行されているポッドにマウントされたSMBボリュームのみをサポート</block>
  <block id="ef0f938ae67a04ac3370fe516c2a6baf" category="list-text">Kubernetes 1.25のサポートが追加されました。Kubernetes 1.25にアップグレードする前に、Astra Tridentを22.10にアップグレードする必要があります。</block>
  <block id="d041a310ba7cc2599250e64801594107" category="list-text">のサポートが追加されました <block ref="ca184a2eda203b6d98158bdf24e5cf7d" category="inline-link-macro-rx"></block>。</block>
  <block id="adbfe36f6399f2846983b2901604a962" category="list-text">を追加しました <block ref="40be42d37bc6014716dcd0a1d368ffb5" category="inline-link-macro-rx"></block> を使用する<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> ストレージドライバ。</block>
  <block id="f18a50f02f48551895d57b81dd288142" category="sidebar">ネームスペース間でNFSボリュームを共有します</block>
  <block id="fd1117c82327fbe8671f26e897ceb8f4" category="inline-link-macro">Astra TridentでBlueXPを使用</block>
  <block id="a76a1e164520105317267dc41b95e8ce" category="paragraph">を使用 <block ref="f8c16e8c21124ccc028d2db7fd32a98f" category="inline-link-macro-rx"></block>では、最新バージョンのAstra Tridentにアップグレードし、ストレージクラスを追加して管理し、作業環境に接続し、Cloud Backup Service を使用して永続的ボリュームをバックアップすることができます。BlueXPは、Tridentオペレータを使用したAstra Tridentの導入を、手動またはHelmを使用してサポートしています。</block>
  <block id="6ce33e8f1e198bf1c3583bc5ef789b75" category="paragraph">Trident によってプロビジョニングされたボリュームで暗号化を設定するには、バックエンド定義ファイルの暗号化パラメータを使用します。詳細については、以下を参照してください。 <block ref="3260a21902518174ce8d9bfef42be276" category="inline-link-macro-rx"></block></block>
  <block id="cae73b6a00921ef48cee176b0d4336fe" category="inline-link-macro">設定オプション</block>
  <block id="094d2b2ef4b98bdb0943b10cc4e305f4" category="admonition">Tridentのインストールパラメータに必要な変更を加えます（の値の変更など）<block ref="d771848c80f96e5954a8658655cf79d7" prefix=" " category="inline-code"></block>、<block ref="7ecc687ea7566f05fd13fde7be607bfc" prefix=" " category="inline-code"></block>、プライベートイメージリポジトリ、および提供<block ref="0d9b54b29da54379cca6b8782b9faae5" prefix=" " category="inline-code"></block>)名前空間を対象とした演算子を削除した後、クラスタを対象とした演算子をインストールする前。更新可能なパラメータの一覧については、を参照してください <block ref="d752d8869a42e1b0fd341b92b54677e0" category="inline-link-macro-rx"></block>。</block>
  <block id="66f2c42a4ca561f5472459301bc7d096" category="list-text">ONTAP ドライバの自動MetroCluster スイッチオーバー検出機能が一般提供されるようになりました。</block>
  <block id="e87ded5ef8bc8adbc3c135528636f4f2" category="list-text"><block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block></block>
  <block id="fce586d9f649fb529d0a1846495ba259" category="list-text"><block ref="fce586d9f649fb529d0a1846495ba259" category="inline-link-macro-rx"></block></block>
  <block id="ecd7650a65b79124ad23fb7eed8faa7e" category="paragraph">ネットアップポートフォリオの各ストレージプラットフォームには、コンテナ化されたアプリケーションやそうでないアプリケーションに役立つ独自の機能があります。</block>
  <block id="e6dc22cf3c59dda6e09524b2b133f336" category="section-title">プラットフォームの概要</block>
  <block id="050fb8b0306d7532dbf8c15b8cba9745" category="paragraph">Trident は ONTAP や Element と連携1 つのプラットフォームが他のプラットフォームよりもすべてのアプリケーションとシナリオに適しているわけではありませんが、プラットフォームを選択する際には、アプリケーションのニーズとデバイスを管理するチームを考慮する必要があります。</block>
  <block id="31b1d21fc5180ec9a5b3d9d7d5ce3295" category="paragraph">\ https://&lt;login&gt;:&lt;password&gt;@&lt;mvip&gt;/json-rpc/&lt;element-version&gt;</block>
  <block id="8eadd25d5b4b5d0637cc13cd7349ce5d" category="paragraph">\ https://admin:admin@192.168.160.3/json-rpc/8.0</block>
  <block id="88825f48aa3e053d7df66897e8b63e38" category="section-title">要件を確認します</block>
  <block id="6bee7851f8606d588c9122b234c202e3" category="list-text">の導入がすべてを満たしていることを確認します <block ref="6fc1811f5f9a8ae54793544600e2dff7" category="inline-link-macro-rx"></block>。</block>
  <block id="71503111a9a38d6809e90320e9623ce0" category="paragraph">ネットアップでは、リクエストに応じてすぐに使用できるラボイメージを提供しています <block ref="eb9c34df0ed196dd801ef85207c8bf2c" category="inline-link-macro-rx"></block>。</block>
  <block id="8e38f783b1f4f54c97bae54c0e8a176f" category="section-title">試乗について学びます</block>
  <block id="99dc40aa93c5cb01a5d80f68e3287975" category="paragraph">テストドライブは、 3 ノードの Kubernetes クラスタと Astra Trident がインストールおよび設定されたサンドボックス環境を提供します。Astra Trident をよく理解し、機能を調べるのに最適な方法です。</block>
  <block id="38b6e376f2701385062dee4bb00e03d2" category="summary">Astra Tridentインストーラを使用して、導入をカスタマイズできます。</block>
  <block id="0dabff490bbf6c7e308950959cc5a024" category="section-title">インストーラの詳細を確認してください</block>
  <block id="1637137b97f70f3de86dbf02ba8c262b" category="paragraph">Astra Tridentインストーラを使用して、属性をカスタマイズできます。たとえば、Tridentイメージをプライベートリポジトリにコピーした場合は、を使用してイメージ名を指定できます<block ref="00e6ff45e8bcc6b9e35e9c68d8d5135c" prefix=" " category="inline-code"></block>。Tridentイメージと必要なCSIサイドカーイメージをプライベートリポジトリにコピーした場合は、を使用してリポジトリの場所を指定することを推奨します<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block> スイッチ。の形式を指定します<block ref="c4c34dc2c7d5cb25c084ca11127ba1c6" prefix=" " category="inline-code"></block>。</block>
  <block id="5e3a3cabc9ba472e33de86a5a8f32dcd" category="section-title">ONTAP ストレージドライバについて説明します</block>
  <block id="99c850b82f45e568828f2a8c5ab8f94d" category="section-title">ボリュームアクセスグループについて学習する</block>
  <block id="7c14ddfe8f627e4786f4da7cd4cea9ba" category="section-title">ストレージクラスの関連付け</block>
  <block id="ab4589eca69db942d79a0dbbd9ec8399" category="section-title">ボリュームの作成</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">概要</block>
  <block id="a6fbed601c3d014f6d8342990aeee0b5" category="section-title">ボリュームSnapshotの作成方法について説明します</block>
  <block id="65e30750e10ee81a457f6e2a2d52b4a4" category="section-title">使用可能なコマンドとオプション</block>
  <block id="bd75dd911fd79061ecd2d46e65ed7f74" category="paragraph">間 <block ref="8321852d17a287399cb52ef30f4b21eb" category="inline-link-macro-rx"></block> Trident REST APIを使用するには、RESTエンドポイントを直接使用する方法が最も簡単です。</block>
  <block id="7a72a102c2990b674624e8b6ec834e4d" category="section-title">REST APIを使用する状況</block>
  <block id="d08436e363d4793fd6a0de3022ebfd63" category="paragraph">REST APIは、Kubernetes以外の環境でAstra Tridentをスタンドアロンバイナリとして使用する高度なインストールに役立ちます。</block>
  <block id="14dc7970933630896b0232f2a8b52039" category="paragraph">セキュリティ強化のため、Astra Tridentをぜひご利用ください<block ref="aba3d4b49c454e1974970e7b5514b001" prefix=" " category="inline-code"></block> ポッド内で実行されている場合は、デフォルトでlocalhostに制限されます。この動作を変更するには、Astra Tridentを設定する必要があります<block ref="38df54fe961fa2bf2a7f82a5854fabad" prefix=" " category="inline-code"></block> 引数をポッド構成で指定します。</block>
  <block id="eee97547fb40d9c4df018377ac6478bb" category="section-title">REST APIを使用する</block>
  <block id="ee656aff7dc78e280efdea39a682afbb" category="section-title">アップグレード前の考慮事項</block>
  <block id="c88fd7d0135b7fc6ed1fdefdef8d4914" category="list-text">ボリュームスナップショットのベータリリースでは、一連の新しい CRD とスナップショットコントローラが導入されています。どちらも Astra Trident をインストールする前にセットアップする必要があります。<block ref="e4a27565231679ceaa893efb487dac52" category="inline-link-rx"></block> alpha ボリュームの Snapshot をベータ版に移行する手順について説明します。</block>
  <block id="4e9ac50b8f51023570ef0b0a0a827912" category="inline-link-macro">サポートされるKubernetesバージョン</block>
  <block id="26dbe1fe275b741e7240a373222d3480" category="paragraph">CRD を使用する Astra Trident リリースに移行する場合は、ダウングレードを検討する必要があります。Astra Tridentは、ステートの維持にCRDを使用するため、作成されたすべてのストレージエンティティ（バックエンド、ストレージクラス、PV、ボリュームスナップショット）には、に書き込まれるデータではなく、関連するCRDオブジェクトが含まれています<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> PV（以前にインストールしたAstra Tridentのバージョンで使用）新しく作成された PVS 、バックエンド、およびストレージクラスはすべて CRD オブジェクトとして管理されます。</block>
  <block id="06b33bc9cc124539c964174ecd43eb43" category="paragraph">CRD（19.07以降）を使用して実行されているAstra Tridentのバージョンのダウングレードのみを試みます。これにより、ダウングレードの実行後に、現在のAstra Tridentリリースで実行された処理を確認できます。</block>
  <block id="c27e444dab3a08bf8ec59794897c1a27" category="inline-link-macro">サポートされるKubernetesバージョン</block>
  <block id="756efcb3a97cdd37e8b34de3913c3d8f" category="paragraph">を参照してください <block ref="18d5551396fb2ce2e009cfdb709e4875" category="inline-link-macro-rx"></block>。前提条件を満たしていることを確認したら、 Astra Trident を導入する準備ができました。</block>
  <block id="0d41f8565b8b74a59fc029ccf2becd83" category="list-text">マネージドプラグインシステムを使用して Astra Trident を起動交換してください<block ref="3d689bd3819ead35ed794427bd12f459" prefix=" " category="inline-code"></block> 使用しているプラグインのバージョン（xxx.xxx.xxx.xxx）を使用している必要があります。</block>
  <block id="4f0e7dc30ffb3e25e75331c9afb2243a" category="cell">ボリュームモード</block>
  <block id="28c142639a9bbdd526b8eb986c13907d" category="paragraph">ファイルシステムなし。rawブロックデバイスです</block>
  <block id="0453a3e06be842b09a9479fe06f0dd13" category="paragraph">rwxはファイルシステムボリュームモードでは使用できません。</block>
  <block id="04de2f1b0cab8344abeded774f82f9d5" category="admonition">ONTAP バックエンドは、セキュリティロール（ユーザ名とパスワード）のログインクレデンシャル、またはONTAP クラスタにインストールされている秘密鍵と証明書を使用して認証できます。を使用して既存のバックエンドを更新し、認証モードを移行することができます<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>。</block>
  <block id="964ea71824e902693c3ef56b57cf78be" category="summary">Tridentを使用すると、プライマリネームスペースにボリュームを作成し、1つ以上のセカンダリネームスペースで共有できます。</block>
  <block id="98f770b0af18ca763421bac22b4b6805" category="section-title">の機能</block>
  <block id="8ff961668c6784e84b25c265cbb629d7" category="paragraph">ネームスペース間のボリュームアクセスの詳細については、次の資料を参照してください。</block>
  <block id="f1cfea5f1444de607dfa549b3aa57010" category="inline-link-macro">ネームスペース間でのボリュームの共有：ネームスペース間のボリュームアクセスを許可する場合は「Hello」と入力します</block>
  <block id="2780f690b7670efc296ac19ef3029d0c" category="list-text">にアクセスします <block ref="b0d29f1b2abb2cc552e4cc47177582ef" category="inline-link-macro-rx"></block>。</block>
  <block id="96e1384807331548bf745acde0fe1b73" category="inline-link-macro">ネットアップTV</block>
  <block id="414883f8b6ef58c7b3b37e66fbfd482f" category="list-text">のデモをご覧ください <block ref="1945a2d4809e81668f29485f6ae1bbc8" category="inline-link-macro-rx"></block>。</block>
  <block id="387492c079b6cb13a8ba91c4a60f67b7" category="section-title">ボリュームSnapshotコントローラを導入する</block>
  <block id="6c5b68b88f6af6f28b3bf69ad9c17b70" category="list-text"><block ref="e6c6ebb45af4a1845e181c2b5544dbb0" category="inline-link-macro-rx"></block>。**既存のインストールを完全に削除する場合を除き、CRDは削除しないでください。**</block>
  <block id="c97d8f6272d9a08ec67b35acba91f6d3" category="list-text">Tridentのオペレータは、ご使用のバージョンに関連付けられているオペレータマニフェストを使用することで削除できます。例：<block ref="e4411f2e6de8cc67724fb259f247dc3e" prefix=" " category="inline-code"></block> ここで、<block ref="7d2e512472107955c1b3fb2ce2e19bc4" prefix=" " category="inline-code"></block> は、バージョン番号です（例<block ref="ea99d71aa7a32717f8398c406b38b062" prefix=" " category="inline-code"></block>）および<block ref="5765a306f9d7568469e1db22a96adfd0" prefix=" " category="inline-code"></block> はバンドルYAMLファイル名です。</block>
  <block id="bd2cc8575fe69c7f775292759380c838" category="inline-link-macro">Bundle_pre_1_25.yaml</block>
  <block id="5a02ebff4889c2de0379a0fb10bed282" category="inline-link-macro">bundle_post_1_25.yaml</block>
  <block id="6f8896eb5896943e1606d92193f72fb8" category="section-title">を使用したTridentの導入に失敗した場合のトラブルシューティング<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="d59db7846bd10b6d60d21543df9faa9e" category="paragraph-title">必要なもの</block>
  <block id="04c73907481b6acb2b019a0a76516a25" category="section-title">を使用してをアンインストールします<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="4eb50f197bd48a10bc9ee0dab2f65bcf" category="section-title">を使用してAstra Tridentをインストールした場合のダウングレードプロセス<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="6c6e605e09d47da14693d106977b6eb0" category="section-title">管理<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> を使用してバックエンドを<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="78fb4311dea625690d7fb6274025625a" category="section-title">手順2：を作成します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="d6f4b4bedc693acd49ad08c1cf0cdad5" category="section-title">手順3：のステータスを確認します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="a035fed1dd97545349b5fffbd9e3e88f" category="section-title">管理<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> を使用してバックエンドを<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="0901a332c26ed210204bad23d45c8b6d" category="section-title">手順1：確認します<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> がに設定されます<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block></block>
  <block id="2f1beb23541bc11eb53ca6b33485d4f8" category="section-title">手順2：を削除します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="06c2cea18679d64399783748fa367bdd" category="inline-image-macro">1つ</block>
  <block id="32ec9b4824220f8ae03a723da009cd54" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block> ボリュームを共有するようにソースPVCを設定します</block>
  <block id="aada29daee1d64ed0fe907043855cb7e" category="inline-image-macro">2 つ</block>
  <block id="82a9b6c32a91a1f4a714d648f5d3260f" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block> デスティネーションネームスペースにCRを作成する権限を付与します</block>
  <block id="ca8a2087e5557e317599344687a57391" category="inline-image-macro">3つ</block>
  <block id="311a877e773f97b1e237db665a868dd9" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block> デスティネーションネームスペースにTridentVolumeReferenceを作成します</block>
  <block id="981b8fcee42e1e726a67a2b9a98ea6e9" category="inline-image-macro">4.</block>
  <block id="fb16fc9d34d26a8e74ba1a7180766513" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block> 宛先名前空間に下位PVCを作成します</block>
  <block id="fd69c5cf902969e6fb71d043085ddee6" category="paragraph-title">結果</block>
  <block id="3f8e335666124e3b7f5db07f03fef0b1" category="section-title">使用<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block> 下位のボリュームを照会する</block>
  <block id="260817022a7340fc89eae3e7dbed8f6a" category="section-title">を使用した定義の例<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> フィールド</block>
  <block id="72b06f7d7f6d50adf7364ca262469512" category="section-title"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> 証明書ベースの認証を使用するドライバ</block>
  <block id="81801ea9aa153d054652d45bc18af0a7" category="section-title"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> 双方向CHAPを備えたドライバ</block>
  <block id="5d49eece8e9afa44ffdead9ff18462be" category="section-title"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block> ドライバ</block>
  <block id="19ef07597f79648211dbed100709836b" category="section-title">バックエンドを更新して追加<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block></block>
  <block id="891d26d5e7410db6c0a971245c6025c0" category="section-title">例1：のバックエンド構成<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 3種類のボリュームを備えたドライバ</block>
  <block id="4a8519b09a0b2a70d40200e88ec2c5dc" category="section-title"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block> ドライバ</block>
  <block id="454631312fab234fc91bb2f85a751fac" category="section-title"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block></block>
  <block id="e892fda55ead7e15eed753e850d35f12" category="section-title">手順2：を作成します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="a0d777cf1acc36406564409adef85b17" category="section-title">のサポート対象のバージョンを指定します<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block>？</block>
  <block id="74257eabdceb63f8522f7c68b103da3a" category="section-title">無効にします<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block> アプリケーションSVM用</block>
  <block id="e49cf31f5ed35f0eb694c7714e8c3234" category="section-title"><block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix="" category="inline-code"></block></block>
  <block id="3649b15e31d22a1e2210f014d843b9fa" category="section-title"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block></block>
  <block id="a4027ed0f56ae6ac2cbb7605a519932b" category="section-title"><block ref="b5eda0a74558a342cf659187f06f746f" prefix="" category="inline-code"></block></block>
  <block id="7920cf9e1a990d156e390321c1d5efeb" category="section-title"><block ref="59b514174bffe4ae402b3d63aad79fe0" prefix="" category="inline-code"></block></block>
  <block id="df6d9d5a4c545407095ea4ca424e9457" category="section-title"><block ref="f6c534966bc7687e0c87134d025f8837" prefix="" category="inline-code"></block></block>
  <block id="cc27cfd3259c2299d8dece590d5f6985" category="section-title"><block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix="" category="inline-code"></block></block>
  <block id="2acfb4ba14a6f33d7e82e8d1dda6542f" category="section-title"><block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix="" category="inline-code"></block></block>
  <block id="9ce837bc2492d4ed390bc5d1ea9d1437" category="section-title"><block ref="2541d938b0a58946090d7abdde0d3890" prefix="" category="inline-code"></block></block>
  <block id="30cf71e674825d319eb0406032c1a80b" category="section-title"><block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix="" category="inline-code"></block></block>
  <block id="238000b5c5df1cc446f5ba823c01807c" category="section-title"><block ref="ae26b3d8e556703291282149e3ae894f" prefix="" category="inline-code"></block></block>
  <block id="c4e2f712f33e39883cdadc27311ff798" category="section-title">Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="40f23ed795a1a88d4da7ac2ef847ff7f" category="section-title">Kubernetes<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="7df5b64daec466033329296995f05735" category="section-title">Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="db36743614e87531d560fe8ae0bc6c7d" category="section-title">Kubernetes<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="63f2f0978770be469911c5f1722d82ca" category="section-title">Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="1ca312948dba5b1321da24bc362f4148" category="section-title">Kubernetes<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="4171707fb2a131f0fae96196310c5e3b" category="section-title">Kubernetes<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="a8a62fe3b16797ce253b78f83dc73a18" category="section-title">Trident<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="8a4410d54113ca147b35c633207444b7" category="section-title">Trident<block ref="5e5d444b688db40e013a7d0b8b3c0898" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="f08d82cd2f4fa097db43220a04f62434" category="section-title">Trident<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="9b53117639a1995b2872ed6bca3dec8e" category="section-title">Trident<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="65589e383667ac98801982f7e9704f2a" category="section-title">Astra Trident<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> オブジェクト</block>
  <block id="4f89992961c018acecad7b373dcce336" category="section-title">クリーンアップ<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> インストールが失敗した場合</block>
  <block id="b9984d1eca39b86eb39cedf7db8f8c62" category="section-title">取り外します<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="d3f7afc310875b4ea262305c6d7d6ca2" category="section-title"><block ref="7528035a93ee69cedb1dbddb2f0bfcc8" prefix="" category="inline-code"></block></block>
  <block id="1713a64319d60f7c9dce75d4e48ee14f" category="section-title"><block ref="a02439ec229d8be0e74b0c1602392310" prefix="" category="inline-code"></block></block>
  <block id="e4bcff97a02bbf2d15fc5a1c18b2b3dc" category="section-title"><block ref="32f68a60cef40faedbc6af20298c1a1e" prefix="" category="inline-code"></block></block>
  <block id="cc414e256eb2f4bb405602498ece0af6" category="section-title">CVS for GCPのAstra Tridentサポートについてご確認ください</block>
  <block id="a3edb76d25dfeb8d67e4711eafd2b5ca" category="paragraph">ストレージシステム用のバックエンドドライバを選択して導入します。</block>
  <block id="a57628924f909d4edd5cb81ee4f10896" category="section-title">ONTAP バックエンドドライバ</block>
  <block id="4ea57c8a88545a4fc2039131bc6fd74d" category="paragraph">ONTAP バックエンドドライバは、使用されるプロトコルと、ストレージシステムでのボリュームのプロビジョニング方法によって異なります。そのため、どのドライバを展開するかを決定する際には、慎重に検討する必要があります。</block>
  <block id="642b59503457da90c85cbb7a35e02089" category="paragraph">使用可能なONTAP バックエンドドライバは次のとおりです。</block>
  <block id="e44e590e4645ab9ef08fb84f61cede17" category="section-title">Cloud Volumes ONTAP バックエンドドライバ</block>
  <block id="fdde450e1a16aa1461e62c6fa5ac621f" category="section-title">ONTAP バックエンドドライバ用のAmazon FSX</block>
  <block id="d079959bb7c738f4e1704de5ff69b897" category="section-title">NetApp HCI / SolidFireバックエンドドライバ</block>
  <block id="64648abd6d020446c9c8d556a1584d71" category="section-title">Azure NetApp Files バックエンドドライバ</block>
  <block id="0dceb918cb4a4d7dcbe5af26d08e7657" category="section-title">特定のバックエンド使用率</block>
  <block id="ebaf90f7386ae95e7960a2fc0084116e" category="section-title">QoSポリシーをエミュレートします</block>
  <block id="125ad0610423d53866d257eb097320e4" category="section-title">特定の機能に基づいてバックエンドを利用する</block>
  <block id="b6e026d8066036cf2628237905a58384" category="section-title">さまざまなサービスレベル/QoSのエミュレート</block>
  <block id="628fd4af2a4e2fce014efbf03b84bb71" category="section-title">特定の一連の側面を割り当てます</block>
  <block id="1ee74a3407fb0558688a68f8a4011d8b" category="paragraph">外部スナップショットコントローラとカスタムリソース定義（CRD）が必要です。Kubernetesオーケストレーションツール（例：Kubeadm、GKE、OpenShift）の役割を担っています。</block>
  <block id="4e9d71562a7ee4d135b94aa7e33203d4" category="paragraph">KubernetesディストリビューションにスナップショットコントローラとCRDが含まれていない場合は、を参照してください <block ref="66b3d1bc7c4350b2c78856aa6724afe9" category="inline-xref-macro-rx"></block>。</block>
  <block id="a19c6b176bcf5d5df56d61bfda053c09" category="section-title">手順1：を作成します<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block></block>
  <block id="5113d8074a0a5072af49f1e1fa6901bd" category="paragraph">次の例は、ボリュームSnapshotクラスを作成します。</block>
  <block id="ce43eda1a51d5de70f422e14ca195db3" category="paragraph">詳細については、link：./trident-reference/objects.html#Kubernetes -volumesnapshotclass-objectsを参照してください<block ref="19476662cd814e0aa085eca121de89b8" prefix="[" category="inline-code"></block>]。</block>
  <block id="a599393b295f7ad56a8c7f1d327290de" category="paragraph">次に、既存のPVCのスナップショットを作成する例を示します。</block>
  <block id="4191daf22334ac03a54cdf8adbfd6dfe" category="paragraph">この例では、という名前のPVCに対してスナップショットが作成されます<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block> Snapshotの名前はに設定されます<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>。</block>
  <block id="b2b2f8b28370c274887f8aa2f82bb5d4" category="paragraph">次に、Snapshotを使用してPVCを作成する例を示します。</block>
  <block id="f6bd0d7447ff66cc6b859603a88fbde9" category="section-title">関連リンク</block>
  <block id="35aa4a2a819e526c2e930e487df8d423" category="list-text"><block ref="35aa4a2a819e526c2e930e487df8d423" category="inline-link-macro-rx"></block></block>
  <block id="19476662cd814e0aa085eca121de89b8" category="inline-link-macro">ボリュームSnapshotクラス</block>
  <block id="d63cadc96caf4b05f8fa532b08e889da" category="list-text"><block ref="d63cadc96caf4b05f8fa532b08e889da" category="inline-link-macro-rx"></block></block>
  <block id="3b64653c97a388d828849314b6a1b383" category="cell">プールのラベル値は次のとおりです。</block>
  <block id="6da89265a9a8b0b28eb4946bb2ec0c6d" category="cell">一致</block>
  <block id="ecf92052d55345fee4602d9eb8c22063" category="cell">一致しません</block>
  <block id="c6c1caf73b0f83d807abe5a717014ab7" category="cell">値のセットに含まれています</block>
  <block id="8daf6b016f4033d59900c23f162c0f73" category="cell">値のセットに含まれていません</block>
  <block id="c6bfba38b789fec8271d1d1496a9ee59" category="cell"><block ref="42538adbdb6240b2b083a000a615d5bd" prefix="" category="inline-code"></block></block>
  <block id="152f5dc0f7ac734f8e8ee17d4a482462" category="cell">保護</block>
  <block id="7b532e697a35209f3df3956577cc3d9c" category="cell">任意の値で存在します</block>
  <block id="eb0254f1d0a82e646c239d4d2e2f83ac" category="cell"><block ref="f65e5ff2a1bb1af969dccabe7dcd5cdd" prefix="" category="inline-code"></block></block>
  <block id="67a3b723b2d9024808eb2c6e686d00a0" category="cell">!保護</block>
  <block id="1fde97909b90bb329db2062f7744bd45" category="cell">存在しません</block>
  <block id="5eb07a7cb7d445ef6bbb17270c65cf52" category="list-text">RHCOSバージョン4.5以降またはRHEL互換のその他のLinuxディストリビューションをで使用している場合は、を使用します<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> DriverおよびElement OS 12.5以前。CHAP認証アルゴリズムがMD5 inに設定されていることを確認します<block ref="104f48adc29dc1e1d7c9bbe7b5dd3f8d" prefix=" " category="inline-code"></block>。Element 12.7では、FIPS準拠のセキュアなCHAPアルゴリズムSHA1、SHA-256、およびSHA3-256が提供されています。</block>
  <block id="18c20e5d2e368f36f420dd39019d460f" category="list-text">を使用する場合<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> OpenShift 4.5を搭載したドライバ。基になるワーカーノードがMD5をCHAP認証アルゴリズムとして使用するようにします。Element 12.7では、FIPS準拠のセキュアなCHAPアルゴリズムSHA1、SHA-256、およびSHA3-256が提供されています。</block>
  <block id="5896cc977dd7b9854957e18a2a5bf072" category="cell">アダプティブ QoS ポリシーグループ：作成したボリュームに割り当てます。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します。経済性に影響する ONTAP - NAS ではサポートされません。</block>
  <block id="19ab49765cdd2c8ab592eb40eeff08cf" category="cell">ONTAP-SAN、solidfire-san-エコノミー 構成、solidfire-san-SAN間にあるSolidFireを実現します</block>
  <block id="054b5072368dea4f8748909c16c7de98" category="cell">シック：All ONTAP ；thin：All ONTAP &amp; solidfire-san-SAN</block>
  <block id="dbdc06f8742b98dcacdf7fdb1af111ea" category="paragraph">ONTAPNAS、ONTAPNASエコノミー、ONTAP-NAS-flexgroup、ONTAPSAN、solidfire-san-SAN、solidfire-san-SAN、GCP-cvs、azure-NetApp-files、ONTAP-SAN-bエコノミー</block>
  <block id="f888aa18c19e41f8c1263fa99ca8b94c" category="cell">solidfire-san-group、ontap/nas、ontap -nas-エコノミー、ontap -nas-flexgroup、ontap -san、ONTAP - SAN -経済性</block>
  <block id="05a2712653dfbf7d695c18242d9848e6" category="paragraph">RHEL 8以降</block>
  <block id="bba4e1b8d8614fe9da2d67e2dcef4b52" category="paragraph"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="c95cada2a569592345ebc18e5ef4c7aa" category="paragraph">プロトコル LIF の IP アドレス。</block>
  <block id="8d9cb98e50e02ba3850a7ebcaeccc076" category="paragraph">* ONTAP NASドライバ*:を指定することをお勧めします<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。指定しない場合は、Astra TridentがSVMからデータLIFを取得します。NFSマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定して、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散することができます。</block>
  <block id="25edde63e4922bb316018c25888e64a6" category="inline-link-macro">ONTAP の選択的LUNマップ</block>
  <block id="d26c127ab3dc860f4758d7b6a9b70413" category="paragraph">* ONTAP SANドライバ*: iSCSIには指定しないでくださいAstra Tridentが使用 <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> iSCSI LIFを検出するには、マルチパスセッションを確立する必要があります。の場合は警告が生成されます<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> は明示的に定義されます。</block>
  <block id="0350980c728940d67af063bb5d711f0f" category="paragraph">システムベースのシステムのサンプルユニットファイルは、から入手できます<block ref="50a97f9b0dec64cc53ca48406c60fe4d" prefix=" " category="inline-code"></block> Gitリポジトリで実行します。RHELでファイルを使用するには、次の手順を実行します。</block>
  <block id="5a04d9954bfe73c6033b2a6a77d3bae8" category="paragraph">Astra Tridentのインストールが完了したら、バックエンドの作成、ストレージクラスの作成、ボリュームのプロビジョニング、ポッドへのボリュームのマウントを実行できます。</block>
  <block id="2f6c694f9d016c7193ece4853c402d96" category="doc">Tridentオペレータのインストールをカスタマイズ</block>
  <block id="79445b5dba623a55ad4d974712853c2f" category="cell"><block ref="2b8b5018006a800ae06485c3aacfa08d" prefix="" category="inline-code"></block></block>
  <block id="cbea7dc9eb2c3c926a86130b0be6368f" category="cell">Tridentオペレータのイメージプルポリシーを設定します。有効な値は次のとおりです。<block ref="68eec46437c384d8dad18d5464ebc35c" prefix=" " category="inline-code"></block> 常にイメージをプルする。<block ref="7803982c6b845094275e8e83f0fad3a6" prefix=" " category="inline-code"></block> ノード上にイメージが存在しない場合にのみ取得します。<block ref="6e7b34fa59e1bd229b207892956dc41c" prefix=" " category="inline-code"></block> 画像を絶対に引き出さないでください。</block>
  <block id="ac7c98af4f51cc4b20acafb785a53284" category="cell"><block ref="7803982c6b845094275e8e83f0fad3a6" prefix="" category="inline-code"></block></block>
  <block id="00148cd37a97a236d1ff100ec0464493" category="summary">Tridentオペレータを導入し、Helmを使用してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されません。</block>
  <block id="2f74d18d1c9959832fc00b898fa2417e" category="doc">Helm（標準モード）を使用してTridentを導入</block>
  <block id="6852076d7b753ee3ea825ae4af1375ac" category="inline-link-macro">オフライン導入のプロセス</block>
  <block id="20815399023070f3335b67451f864388" category="paragraph">Tridentオペレータを導入し、Helmを使用してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されません。プライベートイメージレジストリがある場合は、を使用します <block ref="95202a095b590d767c9926fd1850fb68" category="inline-link-macro-rx"></block>。</block>
  <block id="9899a49139c92dc0ebfa6808b9d83291" category="section-title">Astra Trident 23.01に関する重要な情報</block>
  <block id="d883ab5f686800bc89cab8e6bd776c10" category="paragraph">* Astra Tridentに関する次の重要な情報をお読みください。*</block>
  <block id="92b6d6e1b0bf78702d88ede445c4256f" category="example-title">&lt;strong&gt; ：Trident &lt;/strong&gt; に関する重要な情報</block>
  <block id="7416271d47db3d82227ab2164e43c75c" category="list-text">Astra Tridentは、SAN環境でマルチパス構成を厳密に使用し、推奨される値をに設定します<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> multipath.confファイル内。</block>
  <block id="2f5480efe7a0a4b0cffbf110abec11c2" category="paragraph">Tridentの使用 <block ref="cdacb2b0d49176a3c0d8cc9d693de833" category="inline-link-macro-rx"></block> Tridentオペレータを導入し、Tridentを一度にインストールできます。</block>
  <block id="3342f1a2f74c6062a39d3076c35c5a5b" category="inline-link-macro">インストールの概要</block>
  <block id="6657de3ab3deaeef939684c50d5310e3" category="paragraph">レビュー <block ref="17128a3e349370ba21c9ca13ca0bc297" category="inline-link-macro-rx"></block> インストールの前提条件を満たし、環境に適したインストールオプションを選択していることを確認します。</block>
  <block id="8f3958d59b8da100a4663b1cace112b7" category="inline-link-macro">導入の前提条件</block>
  <block id="64d2af40480a5cebf7e64939f6253bf3" category="paragraph">に加えて <block ref="c7282b7e52e27c635b613335e59bf436" category="inline-link-macro-rx"></block> 必要です <block ref="fc0cdbd8defe0c7175199dd05a0f8e76" category="inline-link-macro-rx"></block>。</block>
  <block id="113fbd468c6aaecfbef57e5d1e9b500d" category="list-text">Astra Trident Helmリポジトリを追加します。</block>
  <block id="d75fdc8e85ddcd7e9dc9f367168dec11" category="paragraph">を使用できます<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> 名前、ネームスペース、グラフ、ステータス、アプリケーションバージョンなどのインストールの詳細を確認するには、次の手順を実行します。とリビジョン番号。</block>
  <block id="4c5ab57df808d08e9978671e7e81bb2a" category="section-title">インストール中に設定データを渡す</block>
  <block id="c2bae6a1b11b371647052979113c2b7c" category="cell"><block ref="2c1d18b300e96c797f390483b0c6acdb" prefix="" category="inline-code"></block> （または<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>)</block>
  <block id="0bfab21a3b7a34a60173df3f165eda9c" category="paragraph">オーバーライドを使用してYAMLファイルを指定します。これは複数回指定でき、右端のファイルが優先されます。</block>
  <block id="ef136231fb37749162723573d36b19c9" category="cell"><block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix="" category="inline-code"></block></block>
  <block id="7595b6387dfaf9307f563edc4d951a0d" category="paragraph">コマンドラインでオーバーライドを指定します。</block>
  <block id="01e12de62fa77fda2815719aed8ff892" category="section-title">次のステップ</block>
  <block id="94498fae00c7d39d673cb4558db7bc6f" category="inline-link-macro">バックエンドとストレージクラスを作成し、ボリュームをプロビジョニングして、ポッドにボリュームをマウントします</block>
  <block id="a8726a62b6428d53252a80359035e514" category="paragraph">できるようになりました。 <block ref="1c0bc5c2bfbcde176e7340e3acb3bb23" category="inline-link-macro-rx"></block>。</block>
  <block id="324e584edb971a95594d9f53d3cd5b56" category="summary">Tridentは、Tridentオペレータ（手動またはHelmを使用）またはでインストールできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。このトピックでは、適切なインストールプロセスを選択するための重要な情報を提供します。</block>
  <block id="0769d1459ee3d99d6454d7f99246c894" category="doc">Astra Tridentのインストール方法をご確認ください</block>
  <block id="32a389c0498b062693ada7b4b9ac88d7" category="paragraph">ネットアップでは、Astra Tridentをさまざまな環境や組織に導入できるように、複数のインストールオプションを提供しています。Tridentは、Tridentオペレータ（手動またはHelmを使用）またはでインストールできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。このトピックでは、適切なインストールプロセスを選択するための重要な情報を提供します。</block>
  <block id="ef911ad0da9f5477ca7ec7af0ba4181a" category="paragraph">インストールパスに関係なく、次のものが必要です。</block>
  <block id="3f2851ece89063ca1615062ac2117a4e" category="list-text">サポートされているバージョンのKubernetesと機能の要件を有効にして実行されている、サポートされるKubernetesクラスタに対するすべての権限。を確認します <block ref="3675fd04b78685cacd6e23511ab11d10" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="f6f19569d16b2b36f137e3df3e315626" category="list-text">。<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> Kubernetesクラスタ構成を参照するように設定された環境変数。</block>
  <block id="f73c8e5f81fc3213cf0bc8c399979852" category="admonition">に慣れていない場合は <block ref="0342248ee22d08eaf42465a29ddd67ec" category="inline-link-macro-rx"></block>今こそ、そのための絶好の機会です。</block>
  <block id="a24b4ef46f44c1b54b99e62f49bef9af" category="section-title">インストール方法を選択します</block>
  <block id="dcb987a2d08ee1a9198d1183b1a63a96" category="inline-link-macro">メソッド間を移動しています</block>
  <block id="e11c9248bc5d43c6663f67955adbc53b" category="paragraph">適切なインストール方法を選択します。また、に関する考慮事項についても確認しておく必要があります <block ref="e6ce874bf5f421a383109cc222a74763" category="inline-link-macro-rx"></block> 決定する前に。</block>
  <block id="bd1cc9ebdb33ed22a54815219f97af08" category="section-title">Trident演算子を使用する</block>
  <block id="b2ad529645b5bea51c4bcd516a5c5c8f" category="inline-link-macro">Tridentのオペレータ環境をカスタマイズ</block>
  <block id="938620f641cb8e0eead448105ff52780" category="paragraph">Tridentのオペレータは、手動で導入する場合でも、Helmを使用する場合でも、Astra Tridentのリソースを動的に管理して簡単にインストールできます。それは可能である <block ref="5290e5312b651716bedf8a83ec5a6467" category="inline-link-macro-rx"></block> で属性を使用する<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> カスタムリソース（CR）。</block>
  <block id="9d2c1d92b0ecb606394b40e3553d07d2" category="paragraph">Tridentオペレータには次のようなメリットがあります。</block>
  <block id="636fc797e6d4f9b558107df8ad867cc7" category="example-title">&lt;strong&gt; Astra Tridentオブジェクト作成&lt;/strong&gt;</block>
  <block id="9bb09894435f05fa667865ab4c45ace7" category="paragraph">Tridentオペレータが、Kubernetesのバージョンに応じて次のオブジェクトを自動的に作成します。</block>
  <block id="839be275cd4b0f32a2c3e0278ce6d568" category="list-text">オペレータのサービスアカウント</block>
  <block id="f330ead337ce41659c5526de118cdac3" category="list-text">ClusterRoleおよびClusterRoleBindingをサービスアカウントにバインドする</block>
  <block id="02c7e9dd319d7284e2200c673387dfdc" category="list-text">専用のPodSecurityPolicy（Kubernetes 1.25以前用）</block>
  <block id="504dabdcc3051fc4c1b7a92eb22fad82" category="example-title">&lt;strong&gt; 自己回復機能&lt;/strong&gt;</block>
  <block id="1505039bc5aa0b8285d451e49fba843e" category="paragraph">OperatorはAstra Tridentのインストールを監視し、導入が削除されたときや誤って変更された場合などの問題に対処するための手段をアクティブに講じます。A<block ref="6088362e783ede60a64ba91287dc58c1" prefix=" " category="inline-code"></block> ポッドが作成され、が関連付けられます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Astra TridentをインストールしたCR。これにより、クラスタ内にAstra Tridentのインスタンスが1つだけ存在し、そのセットアップを制御することで、インストールがべき等の状態であることを確認できます。インストールに変更が加えられると（展開またはノードのデミスタなど）、オペレータはそれらを識別し、個別に修正します。</block>
  <block id="0bfe7abd2878a67d5ff26746df309f8c" category="example-title">&lt;strong&gt; は、インストール済みの既存の&lt;/strong&gt; を簡単に更新できます</block>
  <block id="cbbeebc91e4ea4f1960f7a74b5b14c23" category="paragraph">既存の展開をオペレータと簡単に更新できます。を編集するだけで済みます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRを使用してインストールを更新します。</block>
  <block id="561b04cbccb34a376c360e7325ad76d0" category="paragraph">たとえば、 Astra Trident を有効にしてデバッグログを生成する必要があるシナリオを考えてみましょう。これを行うには、にパッチを適用します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> をクリックして設定します<block ref="8cddd364bfd0d68f21e3a9ba1123b849" prefix=" " category="inline-code"></block> 終了：<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>：</block>
  <block id="f72ba1a3a498489a96fd8774bfa9ea9d" category="example-title">&lt;strong&gt; Kubernetesの自動アップグレード処理&lt;/strong&gt;</block>
  <block id="c3b2fe84f143129d7a18ad12df229bc6" category="example-title">BlueXP（旧Cloud Manager）&lt;/strong&gt; を使用した&lt;strong&gt; Kubernetesクラスタ管理</block>
  <block id="4c24a3b9facf2ea9fc7ed2ca52dab45d" category="inline-link-macro">&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; のインストールをカスタマイズします</block>
  <block id="40beff6895ce0eeff65f9568dd5c7247" category="paragraph">可能です <block ref="d16089dfa270d6679e80d43ec8b5c378" category="inline-link-macro-rx"></block> Tridentリソースのマニフェストを生成するには、次の手順を実行します導入、開始、サービスアカウント、 Astra Trident がインストールの一部として作成するクラスタロールが含まれます。</block>
  <block id="cb024a74bf03f9ba7a9433337492808e" category="admonition">22.04 リリース以降、 Astra Trident がインストールされるたびに AES キーが再生成されなくなりました。今回のリリースでは、 Astra Trident がインストールする新しいシークレットオブジェクトが、インストール全体で維持されます。つまり、<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 22.04では、以前のバージョンのTridentをアンインストールできますが、それより前のバージョンでは22.04のインストールをアンインストールできません。適切なインストール方法_を選択します。</block>
  <block id="84721e18f913ae71c91ded91f5eb0ccc" category="section-title">インストールモードを選択します</block>
  <block id="ecafb217c7f4e740b9f654a4f2d90d83" category="paragraph">組織で必要な_インストールモード_（標準、オフライン、またはリモート）に基づいて導入プロセスを決定します。</block>
  <block id="e0090e5eeb1da23a2924e8a8913a9bf8" category="open-title">標準インストール</block>
  <block id="2de7b81fa5e55c649aed923c069d97fa" category="paragraph">これは、Astra Tridentをインストールする最も簡単な方法であり、ネットワークの制限を課すことのないほとんどの環境で機能します。標準インストールモードでは、必要なTridentを格納するためにデフォルトのレジストリが使用されます <block ref="0b505db73d92bac18356fa3feb3cf7e3" prefix="(" category="inline-code"></block>）とCSIを参照してください <block ref="95d6355f896a633ab07c528c03b44c8e" prefix="(" category="inline-code"></block>）イメージ。</block>
  <block id="bed44ad15130067b96b51ba770e3e821" category="paragraph">標準モードを使用すると、Astra Tridentインストーラは次のように動作します。</block>
  <block id="ca02732ace7c24d10b82abb835861fa8" category="list-text">インターネット経由でコンテナイメージを取得します</block>
  <block id="2a35874c002d31bf8a669cf5f15508f2" category="list-text">導入環境またはノードのデプロイを作成し、Kubernetesクラスタ内のすべての対象ノードでAstra Tridentポッドがスピンアップします</block>
  <block id="6c09f957f6dd5f1b3287dacfabe8711a" category="open-title">オフラインインストール</block>
  <block id="559e73031b36e6693dcd5724b5ec9488" category="paragraph">オフラインインストールモードは、エアギャップまたは安全な場所で必要になる場合があります。このシナリオでは、必要なTridentイメージとCSIイメージを格納するために、1つのプライベートなミラーリングされたレジストリ、または2つのミラーリングされたレジストリを作成できます。</block>
  <block id="37f28a5a50507d5cf12665008632572f" category="admonition">CSIイメージは、レジストリ設定に関係なく、1つのレジストリに存在する必要があります。</block>
  <block id="8e9a94c9655a1b4aac478f836ff8dde6" category="open-title">リモートインストール</block>
  <block id="3937570b6000a2f24b3066af230f4546" category="paragraph">次に、リモートインストールプロセスの概要を示します。</block>
  <block id="8be61d7ba452354892142828445281d0" category="section-title">メソッドとモードに基づいてプロセスを選択します</block>
  <block id="667af34faf4c2e74b377bbe7608ca481" category="paragraph">決定が終わったら、適切なプロセスを選択します。</block>
  <block id="4c3880bb027f159e801041b1021e88e8" category="cell">メソッド</block>
  <block id="f8a17e31b9d98082aa01aa0b41f63a01" category="cell">インストールモード</block>
  <block id="e633d636fff46ea0b0998da525b2fba2" category="cell">Tridentのオペレータ（手動）</block>
  <block id="8f923c676fa6a52b7729476fc0d5f245" category="paragraph"><block ref="8f923c676fa6a52b7729476fc0d5f245" category="inline-link-macro-rx"></block></block>
  <block id="d295bad40364c9511c0d7b6a18e9557b" category="paragraph"><block ref="d295bad40364c9511c0d7b6a18e9557b" category="inline-link-macro-rx"></block></block>
  <block id="b9267203f04d91a5fcda0041ad2b3b64" category="cell">Tridentオペレータ（Helm）</block>
  <block id="c197c2a4864a9d7a8190b1988d1e5885" category="paragraph"><block ref="c197c2a4864a9d7a8190b1988d1e5885" category="inline-link-macro-rx"></block></block>
  <block id="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="paragraph"><block ref="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="inline-link-macro-rx"></block></block>
  <block id="0b9d702360fb60f9b8b477339ca03a7b" category="cell"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block></block>
  <block id="be686de0390e44f3981b994e059dfcb7" category="inline-link-macro">標準インストールまたはオフラインインストール</block>
  <block id="9e244fc5020d1137289c0c34c2944ac4" category="paragraph"><block ref="9e244fc5020d1137289c0c34c2944ac4" category="inline-link-macro-rx"></block></block>
  <block id="dd341f866eaefb939dc86608773c909d" category="section-title">インストール方法を切り替える</block>
  <block id="84dfae02381a00cf11d01c571e3e3e0f" category="paragraph">インストール方法を変更することもできます。その前に、次の点を考慮してください。</block>
  <block id="a2f9fc61dcbb8d315328956b20ee41f8" category="list-text">Astra Tridentのインストールとアンインストールには、常に同じ方法を使用します。を使用してを導入した場合<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>を使用する場合は、適切なバージョンのを使用する必要があります<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> Astra Tridentをアンインストールするためのバイナリ。同様に、演算子を使用してを配置する場合は、を編集する必要があります<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRおよびSET<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block> Astra Tridentをアンインストールする方法</block>
  <block id="aa7d43663995cc5a82e0608e61443ac2" category="list-text">オペレータベースの導入環境で、削除して代わりにを使用する場合は<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> Astra Tridentを導入するには、まずを編集する必要があります<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> をクリックして設定します<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block> Astra Tridentをアンインストールする方法次に、を削除します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> オペレータによる導入も可能です。その後、を使用してをインストールできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="e77325ac6e155cf5d14c756f1d64333f" category="list-text">オペレータベースの手動導入環境で、HelmベースのTridentオペレータ環境を使用する場合は、最初に手動でオペレータをアンインストールしてからHelmインストールを実行する必要があります。これにより、 Helm は必要なラベルとアノテーションを使用して Trident オペレータを導入できます。これを行わないと、 Helm ベースの Trident オペレータの導入が失敗し、ラベル検証エラーとアノテーション検証エラーが表示されます。を使用する場合は<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>- Helmベースの展開を使用すると、問題を発生させずに導入できます。</block>
  <block id="901977c62370814085e1228ede1e5919" category="summary">Astra Tridentをインストールする前に、次の一般的なシステム要件を確認してください。個 々 のバックエンドには追加の要件がある場合があり</block>
  <block id="020762714bd7a4355a1abeca3c382c18" category="list-text">OpenShift 4.9 ~ 4.12</block>
  <block id="0ffed9ae8c0b8e64c5dc8cba81c4fe34" category="list-text">FAS/AFF / Select 9.5以降</block>
  <block id="6286d1b386e84c92fae11f2bcb9ceecd" category="paragraph">次の表は、このリリースの Astra Trident で利用できる機能と、サポートする Kubernetes のバージョンをまとめたものです。</block>
  <block id="6726c1f070eb0e4315bf3ec874a13f78" category="paragraph">Astra Tridentは特定のオペレーティングシステムを正式にサポートしていませんが、動作確認済みのものは次のとおりです。</block>
  <block id="f8b1c66e563136ad12055c2d31964acc" category="paragraph">Kubernetesクラスタ内のすべてのワーカーノードが、ポッド用にプロビジョニングしたボリュームをマウントできる必要があります。ワーカーノードを準備するには、ドライバの選択に基づいてNFSツールまたはiSCSIツールをインストールする必要があります。</block>
  <block id="f36d25716a4b2c466ddcb8065bef3ae6" category="paragraph"><block ref="f36d25716a4b2c466ddcb8065bef3ae6" category="inline-link-macro-rx"></block></block>
  <block id="0d25ed458cdfc3817973631b0b776a34" category="paragraph">Astra Tridentでは、バックエンド構成でストレージシステムを使用する前に、変更が必要になる場合があります。</block>
  <block id="50823ee9226376c44bfb71c334ee2f3f" category="paragraph"><block ref="50823ee9226376c44bfb71c334ee2f3f" category="inline-link-macro-rx"></block></block>
  <block id="29dcef620f05a3eaaf13d29d1f14e860" category="paragraph">Astra Tridentが通信するには、特定のポートへのアクセスが必要です。</block>
  <block id="b2dabe4b341f1e163a7ba3f3553d6b1b" category="paragraph"><block ref="b2dabe4b341f1e163a7ba3f3553d6b1b" category="inline-link-macro-rx"></block></block>
  <block id="725cbb3a0d4bcdf2e5483f06a14ffc8a" category="cell">v1.26.0</block>
  <block id="a54af9f6f0bee26551da0258c438d6b9" category="admonition">Kubernetesバージョン1.21以降では、検証済みを使用してください<block ref="40f3a80e171b33f08017cecd592672f1" prefix=" " category="inline-code"></block> イメージは、の場合にのみ作成します<block ref="6654c734ccab8f440ff0825eb443dc7f" prefix=" " category="inline-code"></block> のバージョンがを処理しています<block ref="ab003b1d43edbe8a5b9d3e8baef8790c" prefix=" " category="inline-code"></block> CRD。状況に応じて<block ref="ee21100dace47d83bcefcb7dea09cdd3" prefix=" " category="inline-code"></block> バージョンは、の有無にかかわらず、CRDに対応しています<block ref="6654c734ccab8f440ff0825eb443dc7f" prefix=" " category="inline-code"></block> バージョン：検証済みを使用します<block ref="fdb913c5472aa018b449f65e38beb9e0" prefix=" " category="inline-code"></block> イメージ（Image）：</block>
  <block id="4bdf9319fbd791503ac6c31b80a89220" category="summary">Tridentオペレータが手動で導入してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されます。</block>
  <block id="44e21d73aa8bd7200fceac6671723524" category="doc">Tridentオペレータを手動で導入（オフラインモード）</block>
  <block id="11ad6eeb0e6095efdbf4599d71303b0e" category="inline-link-macro">標準的な導入のプロセス</block>
  <block id="3410d56c3ae45b01726f4f271693484f" category="paragraph">Tridentオペレータが手動で導入してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されます。プライベートイメージレジストリがない場合は、を使用します <block ref="0d70fdec6fbaf15c3c460970c31207c9" category="inline-link-macro-rx"></block>。</block>
  <block id="8ff1bc8a7ac69f081f871e9e2a8c0d0f" category="section-title">Tridentオペレータを手動で導入し、Tridentをインストール</block>
  <block id="bcc71769dd00af93bb067088094d9b0b" category="paragraph">Linuxホストにログインして、管理が機能していることとを確認します <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block> 必要な権限があることを確認します。</block>
  <block id="92e83bca2bb40324de35154f8c95083d" category="list-text">Kubernetesのバージョンを確認します。</block>
  <block id="b17eef151a74252395aad7db4b148b57" category="list-text">クラスタ管理者の権限を確認します。</block>
  <block id="987c560d773c81bc59f0fa11370626f5" category="list-text">Docker Hubのイメージを使用してポッドを起動し、ポッドネットワーク経由でストレージシステムにアクセスできることを確認します。</block>
  <block id="d868f4f0026c532dcfdb417dde3174c2" category="section-title">手順1：Tridentのインストーラパッケージをダウンロード</block>
  <block id="e0a7ed284b169328627ba69adfc9350d" category="paragraph">Astra Tridentインストーラパッケージには、Tridentオペレータの導入とAstra Tridentのインストールに必要なものがすべて含まれています。から最新バージョンのTridentインストーラをダウンロードして展開します <block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>。</block>
  <block id="e0755e6cf0a80c2d8535ac3b7eae0b4b" category="section-title">手順2：を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRD</block>
  <block id="04bed90b9e7d65b6d7dd48211e0a9f6c" category="paragraph">を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> カスタムリソース定義（CRD）。を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> カスタムリソース。で適切なCRD YAMLバージョンを使用します<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block> を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRD：</block>
  <block id="ad9aaefb573cd08d43c2b039449b1f0e" category="section-title">手順3：オペレータのレジストリの場所を更新します</block>
  <block id="7e1c8354fb2b2ecb65abfa6a63e08970" category="section-title">手順3：Tridentのオペレータを導入する</block>
  <block id="bb336dd58b442c31f8bab7909d55dd42" category="paragraph">Tridentのインストーラがオペレータをに導入します<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> ネームスペース：状況に応じて<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> ネームスペースが存在しません。を使用してください<block ref="fd71c571b96c493189b63aa659012e87" prefix=" " category="inline-code"></block> をクリックして作成します。</block>
  <block id="81ba9d708af383a3ede5475fabdd91bf" category="paragraph">オペレータを以外のネームスペースに配置する場合<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 名前空間、更新<block ref="8610cac3beb01fb0b43bc94c587a807d" prefix=" " category="inline-code"></block>、<block ref="a3df76a4fb69b2a5e9ec42d242e90ea3" prefix=" " category="inline-code"></block> および<block ref="9fa80de5781893b057ff1d535201893b" prefix=" " category="inline-code"></block> オペレータを配備する前に、</block>
  <block id="05cb480f9344b60f5eeaed25c5e230d1" category="list-text">リソースを作成し、オペレータを配置します。</block>
  <block id="4488449936bc789dc4dfb6a7887b3533" category="paragraph">Astra Tridentインストーラには、オペレータのインストールや関連オブジェクトの作成に使用できるバンドルファイルが用意されています。このバンドルファイルを使用すると、オペレータを簡単に導入し、デフォルトの設定でAstra Tridentをインストールできます。</block>
  <block id="e8972e07c1fa789317997dff35db7e78" category="list-text">Kubernetes 1.24以前を実行しているクラスタの場合は、を使用します<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>。</block>
  <block id="a615299877ce0660ab19510814b9dedd" category="list-text">Kubernetes 1.25以上を実行するクラスタの場合は、を使用します<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>。</block>
  <block id="64458d8f3e4ba02b2bf50e5a1ad00c81" category="list-text">オペレータが配備されたことを確認します</block>
  <block id="69301f05825d437597b636d8b7e9d918" category="paragraph">を追加する必要があります<block ref="4134d52569bb4a6545ebff1e4c83f2bc" prefix=" " category="inline-code"></block> に移動します<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block> 別のレジストリの場所を使用します。</block>
  <block id="78f538d1739cfd8c70698ec72269da17" category="inline-link-macro">Tridentのインストールをカスタマイズ</block>
  <block id="60b02b15eaf058a3b9da12633792321f" category="paragraph">これで、を作成できます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Astra Tridentを導入必要に応じて、さらに行うことができます <block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block> で属性を使用する<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 仕様次の例は、TridentイメージとCSIイメージが異なるレジストリにあるインストールを示しています。</block>
  <block id="9c0f95d6de9186b24cce94c1c19ad0bb" category="section-title">インストールを確認します。</block>
  <block id="f33407040f00668c9fe98aa95119654b" category="paragraph">インストールを確認するには、いくつかの方法があります。</block>
  <block id="1ee1b78e8a634a10be54657432d990c0" category="section-title">を使用します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> ステータス</block>
  <block id="59331c774767b9695025c001ca75a1f6" category="inline-link-macro">ログをチェックしてください</block>
  <block id="4b3e10870e70ff689f8c7d5c4470bb56" category="paragraph">のステータス<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> インストールが正常に完了したかどうかを示し、インストールされているTridentのバージョンが表示されます。インストール中、のステータス<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> からの変更<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block> 終了：<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>。を確認した場合は<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block> ステータスとオペレータは単独で回復できません。 <block ref="b02c5b645df4a829ba2f9c98296d4b15" category="inline-link-macro-rx"></block>。</block>
  <block id="474d9cf1b4e7f826154b0e1f35c59f5a" category="section-title">ポッドの作成ステータスを使用する</block>
  <block id="726f87e7b7987ccf71570849c59ae750" category="paragraph">作成したポッドのステータスを確認することで、Astra Tridentのインストールが完了したかどうかを確認できます。</block>
  <block id="8492a795a07bc459d58808ef0ab73c36" category="section-title">を使用します<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="af78a296b63187cfcb391c6b5b7ab9ae" category="paragraph">を使用できます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> インストールされているAstra Tridentのバージョンを確認します。</block>
  <block id="3c70f31b6cfd2fccfef3e715c4c4cabb" category="doc">tridentctlのインストールをカスタマイズします</block>
  <block id="1925260c2cac73df14e8b004bfbabd67" category="paragraph">Astra Tridentインストーラを使用して、インストールをカスタマイズできます。</block>
  <block id="9023b4b442239b429817bc22fb401e02" category="summary">Tridentオペレータを導入し、Helmを使用してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されます。</block>
  <block id="3e8935de45b1559e2ec2b01c1bbb06c2" category="doc">Helm（オフラインモード）を使用したTridentのオペレータの導入</block>
  <block id="dc0316b52aa2ab6526bdaee13c162530" category="paragraph">Tridentオペレータを導入し、Helmを使用してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されます。プライベートイメージレジストリがない場合は、を使用します <block ref="2230544d14bc4ba0c61a5a1b2030a1d4" category="inline-link-macro-rx"></block>。</block>
  <block id="3d289dfc040026f9fd5fd0d307821b6c" category="doc">tridentctlを使用してインストールします</block>
  <block id="61697702c419c08b19643e7defded065" category="section-title">を使用してAstra Tridentをインストールします<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="953aeeea088f5f969f2eba121ae81f15" category="paragraph">インストールを開始する前に、Linuxホストにログインして、管理が機能していることを確認します。 <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block> 必要な権限があることを確認します。</block>
  <block id="8e00e0acac84eb708bf35882acdffca9" category="paragraph">Astra Tridentインストーラパッケージは、Tridentポッドを作成し、そのステートを維持するために使用されるCRDオブジェクトを設定し、CSIサイドカーを初期化して、プロビジョニングやクラスタホストへのボリュームの接続などのアクションを実行します。から最新バージョンのTridentインストーラをダウンロードして展開します <block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>。例では、選択した&lt;trident-installer-XX.XX.X.tar.gz&gt; Tridentバージョンを使用してupdate_Tridentを更新します。</block>
  <block id="4fba6bba4e54639c0f1d19c0a5679833" category="section-title">手順2：Astra Tridentをインストールする</block>
  <block id="c0e89c01626a7378d795a618051fccbf" category="paragraph">を実行して、必要なネームスペースにAstra Tridentをインストールします<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> コマンドを実行します追加の引数を追加して、イメージのレジストリの場所を指定できます。</block>
  <block id="53c512e9599c71e1a585d636a5229820" category="open-title">標準モード</block>
  <block id="ca5380881d4e3b38f359d5d05acd6163" category="paragraph">インストールステータスは次のようになります。</block>
  <block id="c5e8fc3926c956e64487a70aa036ec8c" category="paragraph">ポッドの作成ステータスまたはを使用して、インストールを確認できます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="5ba19178fb1b2111306714e923b35945" category="inline-link-macro">デバッグモードをオンにします</block>
  <block id="43e7d51a6323aabe7af3d192e157f5ed" category="admonition">インストーラが正常に完了しない場合、または<block ref="ce3abad3e11d6a43c5178e20a0c7d64b" prefix=" " category="inline-code"></block> <block ref="2903817a25b5de1e17a06122d71c5cf9" prefix="(" category="inline-code"></block> 23.01より前のバージョンでは、* RUNNING *ステータスがありません。プラットフォームはインストールされませんでした。使用<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block> 終了： <block ref="82f062b46969132d4baf9d002395a676" category="inline-link-macro-rx"></block> および問題 のトラブルシューティングを行います。</block>
  <block id="f032a385b0ce5fcf6464cead04cd3018" category="summary">Tridentオペレータが手動で導入してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されません。</block>
  <block id="5d8f25140dde9344f1318b1319929306" category="doc">Tridentオペレータを手動で導入（標準モード）</block>
  <block id="b6d3bf16e1407232f27db7edf1b1aeb2" category="paragraph">Tridentオペレータが手動で導入してAstra Tridentをインストールできます。このプロセスでは、環境 をインストールする際に、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されません。プライベートイメージレジストリがある場合は、を使用します <block ref="3fd9bb28718715a2d036f0ab9d9239b8" category="inline-link-macro-rx"></block>。</block>
  <block id="baa9ad279e74fa4534c3259cbc91b518" category="paragraph">を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> カスタムリソース定義（CRD）。を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> カスタムリソース。で適切なCRD YAMLバージョンを使用します<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block> を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRD。</block>
  <block id="79c29acc224312444adad50c5e0c66d5" category="paragraph">オペレータを以外のネームスペースに配置する場合<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 名前空間、更新<block ref="8610cac3beb01fb0b43bc94c587a807d" prefix=" " category="inline-code"></block>、<block ref="a3df76a4fb69b2a5e9ec42d242e90ea3" prefix=" " category="inline-code"></block> および<block ref="9fa80de5781893b057ff1d535201893b" prefix=" " category="inline-code"></block> を使用してバンドルファイルを生成します<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block>：</block>
  <block id="c35c65e4cd4cef23559781ed63709eb0" category="section-title">手順4：を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Tridentをインストール</block>
  <block id="70e42312f50f2ab1f64d8045ef7bee39" category="paragraph">これで、を作成できます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Astra Tridentを導入必要に応じて、を実行できます <block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block> で属性を使用する<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 仕様</block>
  <block id="7911fdf4657d2e334f854a18bd855d10" category="paragraph">管理LIFは必須です。データLIFのタイプはさまざまです。</block>
  <block id="0f118344f15151d321a269948a521caf" category="list-text">ONTAP SAN：iSCSIには指定しないでください。Astra Tridentが使用 <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> iSCSI LIFを検出するには、マルチパスセッションを確立する必要があります。の場合は警告が生成されます<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> は明示的に定義されます。を参照してください <block ref="823b6e1f172888081aece7b5cdeb0e03" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="f09a3c9e4e8e8413b0a9e74e8e29bcdd" category="list-text">ONTAP NAS:を指定することを推奨します<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。指定しない場合は、Astra TridentがSVMからデータLIFを取得します。NFSマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定して、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散することができます。を参照してください <block ref="879dc93198c7c5e8ce7148b6d1205d73" category="inline-link-macro-rx"></block> を参照してください</block>
  <block id="cb16cfa78684ba0c7fc9cff3e67df72b" category="paragraph">Astra Tridentでは、次の機能に対してIPv6アドレスを定義できます。</block>
  <block id="a24e915be64ce870d285c6e28a6df3f5" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> および<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> ONTAP NASバックエンドの場合：</block>
  <block id="fb250da700173f245f4c10d2970cfba8" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> ONTAP SANバックエンドの場合：を指定することはできません<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> ONTAP SANバックエンドの場合：</block>
  <block id="26c2fac45b391513484ac592dfbd2e11" category="paragraph">Astra Tridentは、を使用してインストールする必要があります<block ref="0612dd31fddbea26c732fa571ce36adc" prefix=" " category="inline-code"></block> IPv6で動作するためのフラグ。</block>
  <block id="f53ad7a29c3832e7ce3b551fa5add12d" category="paragraph">のデータLIFを更新できます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> および<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> のみ。</block>
  <block id="18e52eb5a60f4ee8d6f1fb37ab3e3781" category="paragraph">フラグ：*<block ref="60072fc2fad0d30fc656850e04c7433f" prefix=" " category="inline-code"></block>:アンインストールのヘルプ。*<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block>:アンインストール中のほとんどの出力を無効にします。</block>
  <block id="741970ef3d523752ab543427956bb1b8" category="cell">1.19～1.26</block>
  <block id="66163e38dd4a6a2a3e01f422ce501b1b" category="paragraph">Tridentが通信に使用するポートの詳細をご確認ください。</block>
  <block id="2a531c1a1d290bb0e5f5a511bb48ad45" category="admonition">活性/レディネスプローブポートは、を使用して設置するときに変更できます<block ref="d2090696319f15a4c659a414db8cd2cd" prefix=" " category="inline-code"></block> フラグ。このポートがワーカーノード上の別のプロセスで使用されていないことを確認することが重要です。</block>
  <block id="1a87abd79c966e67f73bbe738ffa4e59" category="inline-link-macro">問題#783、#794</block>
  <block id="3e45ffbc961fc6c429b6e91f16331ee5" category="list-text">Kubernetes：Helm（<block ref="f91cf268a0811064670bc9d51a6e2016" category="inline-link-macro-rx"></block>）。</block>
  <block id="a47f012619aa18f9e2c0fbb53d5878d9" category="list-text">Kubernetes 1.26のサポートを追加。</block>
  <block id="d87b63603588c1795f58658ee14e505f" category="inline-link-macro">問題 番号757</block>
  <block id="8e3bb4ae68afca021f39502f7954a450" category="list-text">Trident RBACのリソース利用率が全般的に向上（<block ref="92a5fe29b2be509e7db5f2091f236ee0" category="inline-link-macro-rx"></block>）。</block>
  <block id="2508a7d2b2da760ab909b40a284aff9f" category="list-text">ホストノードで解除されたiSCSIセッションや古いiSCSIセッションを自動で検出して修正できるようになりました。</block>
  <block id="80a9d5ab26eec41d6d6967415e991c91" category="list-text">LUKS暗号化ボリュームの拡張のサポートが追加されました。</block>
  <block id="1e209dc1ac5964d0a9b1f9c2e9f2fc83" category="list-text">Kubernetes：LUKS暗号化ボリュームのクレデンシャルローテーションのサポートを追加しました。</block>
  <block id="c8f16bbec47a1722c0f16f173cf64d21" category="list-text">ONTAP 対応のAmazon FSXを使用したSMBボリュームのONTAP NASストレージドライバへのサポートが追加されました。</block>
  <block id="8ce5e316405255bac435287fc5b61f0e" category="list-text">SMBボリュームの使用時のNTFS権限のサポートが追加されました。</block>
  <block id="e67f9f12d1f7c510d94da478c87b7d19" category="list-text">CVSサービスレベルを使用したGCPボリュームのストレージプールのサポートが追加されました。</block>
  <block id="493569102442ea9186ac1061bb527388" category="list-text">FlexGroupをONTAP-NAS-flexgroupストレージドライバで作成する際のflexgroupAggregateListのオプション使用がサポートされるようになりました。</block>
  <block id="af2331cf2d8ade7bb48e4d540510db26" category="list-text">複数のFlexVolを管理する場合の、ONTAPとNASの両方に対応したストレージドライバのパフォーマンスが向上しました。</block>
  <block id="c26c6c796afe3b5c10e0c830715daf3a" category="list-text">すべてのONTAP NASストレージドライバに対してデータLIFの更新を有効にしました。</block>
  <block id="56f71deb4744b8ffc7a92bde36d3f4d4" category="list-text">Trident DeploymentとDemonSetの命名規則を更新し、ホストノードOSを反映させました。</block>
  <block id="6ea33f83a7d973b1fa7de807364662d4" category="list-text">Kubernetes：サポートされる最小Kubernetes数を1.21に更新</block>
  <block id="25854d9b7e460f2667b773a052ff6830" category="list-text">設定時にデータLIFを指定しないようにしてください<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> または<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="562840ed450b90bfe87c70479237a8da" category="section-title">22.10の変更</block>
  <block id="816cf1fb2aa5f808ab09b4740f8ec199" category="list-text">を追加しました <block ref="d387032e9d71b36f3d6219f60f33a659" category="inline-link-macro-rx"></block> の場合<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ストレージドライバ。</block>
  <block id="001bb59b1bc94ca13afb90cc0e7a4ed5" category="admonition">を指定することはできません<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> ONTAP SANバックエンドの場合：Astra Tridentは、使用可能なすべてのiSCSI LIFを検出し、それらを使用してマルチパスセッションを確立します。</block>
  <block id="c5fbf8cba91fd09257dab41143773a09" category="paragraph">Astra Trident は四半期ごとにリリースサイクルを実施し、毎年 4 つのメジャーリリースをリリースしています。各新しいリリースは、以前のリリースに基づいてビルドされ、新機能とパフォーマンスの強化に加え、バグの修正や改善点が追加されています。ネットアップでは、Astra Tridentの新機能を活用するために、1年に1回以上アップグレードすることを推奨しています。</block>
  <block id="61f660050f0deffc4b168fe9b8118e83" category="section-title">バージョンを選択します</block>
  <block id="ecab08714a2cb76336fb5fe50c888c56" category="paragraph">Astra Tridentバージョンは日付ベースです<block ref="fb6921a005d395f9482cdac0306d4935" prefix=" " category="inline-code"></block> 命名規則。「YY」は年の最後の2桁、「MM」は月です。ドットリリースは、の後に続きます<block ref="d93ec759c4a0e8c1cf9c7653b2939656" prefix=" " category="inline-code"></block> 条約。ここで、「X」はパッチレベルです。アップグレード前のバージョンに基づいて、アップグレード後のバージョンを選択します。</block>
  <block id="3c64b9fcc6316f2fb3e86bb37ec1e046" category="list-text">以前のリリースを使用している場合は、具体的な手順について、該当するリリースのドキュメントを参照してアップグレードを実行してください。そのためには、最初に 4 つのリリースウィンドウに対応する最新リリースにアップグレードする必要があります。たとえば'18.07を実行していて'20.07リリースにアップグレードする場合は'次のように複数ステップのアップグレードプロセスを実行します</block>
  <block id="b42882f59822357cae71c7deef14a306" category="list-text">最初のアップグレードは 18.07 から 19.07 へ。</block>
  <block id="3cf66ab24f2bf4b09d48a150a9e60aff" category="list-text">バージョン19.04以前のアップグレードでは、Astra TridentメタデータをIT所有から移行する必要があります<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block> をCRDオブジェクトに追加します。リリースのマニュアルを参照して、アップグレードの仕組みを確認してください。</block>
  <block id="b25ad87a3048ecb578a165aaa0940af4" category="section-title">アップグレードオプションを選択します</block>
  <block id="74652b96889938fdef1037f82abf39b0" category="inline-link-macro">インストール方法を切り替えます</block>
  <block id="afa7d449a278b7e589e89144d31fc078" category="paragraph">Tridentをアップグレードする方法は2つあります。通常は、初期インストールに使用したものと同じオプションを使用しますが、使用することもできます <block ref="e34c010032791417159012a5e31d7540" category="inline-link-macro-rx"></block>。</block>
  <block id="441b9a0ce7113f17c0021f9922b1c865" category="inline-link-macro">Tridentオペレータを使用してアップグレード</block>
  <block id="672218727121432fb7209f42c6a00514" category="list-text"><block ref="672218727121432fb7209f42c6a00514" category="inline-link-macro-rx"></block></block>
  <block id="a18aa1b83c1605570c9c2911c5180a7b" category="inline-link-macro">&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; を使用してアップグレードする</block>
  <block id="3b2fa532fe7cebc94d245316f8af8ab4" category="list-text"><block ref="fd3f4a100d968c915adb11c8797ef5d2" category="inline-link-macro-rx"></block></block>
  <block id="589143858f045594979d5d3cf5289bf6" category="paragraph">を使用すると、既存のAstra Tridentインストールを簡単にアップグレードできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="bca2eb4bec5bace37cdb69b0fd31ca43" category="paragraph">オペレータを使用してアップグレードするには、次の条件を満たしている必要があります。</block>
  <block id="73ffdc13d91aaa406d444e626bd45834" category="list-text">CSIベースのAstra Tridentがインストールされている必要があります。の19.07以降のすべてのリリースはCSIベースです。Tridentネームスペース内のポッドを調べて確認できます。</block>
  <block id="5480fb0d97fbe0edb891d7cbcf84f11c" category="list-text">23.01より前のバージョンのポッドの命名は、の後に続きます<block ref="2a7e27932de693ec351736e1dc1a1e7f" prefix=" " category="inline-code"></block> 表記規則</block>
  <block id="25539301bffff1d4cf6a627ea13251c4" category="list-text">23.01以降でポッドの命名には次のものが使用されます。<block ref="ce3abad3e11d6a43c5178e20a0c7d64b" prefix=" " category="inline-code"></block> コントローラポッド用<block ref="6d08e3ec5faec812864d5435fcc88eeb" prefix=" " category="inline-code"></block> ノードポッド用<block ref="3dbf42aee8b5d0bf538865dedf2cc4dc" prefix=" " category="inline-code"></block> オペレータポッド用。</block>
  <block id="e80f51ef458c129a7b9bfdf322bf210a" category="list-text">Kubernetesクラスタを使用して実行する必要があります <block ref="d502dc64864e79085bee32826e6fe213" category="inline-link-macro-rx"></block>。</block>
  <block id="859a2a5da9db99d70a5e6ec2213b1f17" category="list-text">OpenShift Container Platformで演算子を使用してTridentをアップグレードする場合は、Trident 21.01.1以降にアップグレードする必要があります。21.01.0 でリリースされた Trident オペレータには、 21.01.1 で修正された既知の問題が含まれています。詳細については、を参照してください<block ref="bcebcdd21adcbb3d7c640d63a711c6fb" category="inline-link-rx"></block>。</block>
  <block id="f13957ecd6365c8afd32f7cf0a6127ce" category="section-title">クラスタを対象としたTridentオペレータ環境をアップグレード</block>
  <block id="50bfc8fc0d5fc544b43965b0746d1411" category="paragraph">クラスタを対象としたTridentのオペレータ環境をアップグレードする手順は、次のとおりです。すべてのAstra Tridentバージョン21.01以降では、クラスタを対象とした演算子を使用します。</block>
  <block id="811eaf5a7a011a3e3c605acd9ea6d5fb" category="list-text">現在の Astra Trident インスタンスのインストールに使用した Trident オペレータを削除たとえば、22.01からアップグレードする場合は、次のコマンドを実行します。</block>
  <block id="bdae3121e140e5325fd05919c86dd97f" category="list-text">を使用して初期インストールをカスタマイズした場合<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 属性を編集できます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> インストールパラメータを変更するオブジェクト。これには、ミラーリングされたTridentおよびCSIイメージレジストリをオフラインモードに指定したり、デバッグログを有効にしたり、イメージプルシークレットを指定したりするための変更が含まれます。</block>
  <block id="40b88899eb3616ad98776b847e919324" category="paragraph">Tridentでは、オペレータのインストールやKubernetesバージョンに関連するオブジェクトの作成に使用できるバンドルファイルが提供されています。</block>
  <block id="c80acc2d3549dd5f3d193892334b8fae" category="paragraph">Tridentのオペレータが、既存のAstra Tridentインストールを特定し、オペレータと同じバージョンにアップグレードします。</block>
  <block id="1e09cc3768e537466d645c037041bffc" category="paragraph">名前空間を対象とした演算子（バージョン20.07～20.10）を使用してインストールされたAstra Tridentのインスタンスからアップグレードするには、次の手順を実行します。</block>
  <block id="3495ebcecdbf5bcb8ffcf1bbffd70d23" category="list-text">マニフェストを使用して、名前空間を対象とした演算子を削除します。この手順を完了するには、名前空間を対象とした演算子をから配備するために使用するバンドルYAMLファイルが必要です<block ref="79243f20ce3e723d13bf0774e8348ca2" prefix=" " category="inline-code"></block> ここで、<block ref="7d2e512472107955c1b3fb2ce2e19bc4" prefix=" " category="inline-code"></block> は、バージョン番号およびです<block ref="32f68f45f3f6badcd1aa2343bbbce67c" prefix=" " category="inline-code"></block> はバンドルYAMLファイル名です。</block>
  <block id="6f1180c77ee2686760a77b1025459802" category="list-text">Tridentオペレータをインストール</block>
  <block id="a5cb00e4346504487c7421a4880366cb" category="admonition">Tridentオペレータを使用してAstra Tridentをアップグレードすると、が移行されます<block ref="ecd4f8050193d4ec7e3added385b49a6" prefix=" " category="inline-code"></block> をに追加します<block ref="04058ba3436aa631a94f8271262cde75" prefix=" " category="inline-code"></block> 同じ名前のオブジェクト。これは、オペレータによって自動的に処理されます。アップグレードの際には、 Astra Trident が以前と同じネームスペースにインストールされる予定です。</block>
  <block id="ecf33c5dc36c692f3a828a7e7755b03a" category="admonition">。<block ref="1043da3d0f6135a3085a7e59f7e2c6cd" prefix=" " category="inline-code"></block> ポッド名は、23.01で導入された命名規則を反映しています。</block>
  <block id="b0f8c567e856516aabf80f916e995d4f" category="paragraph">初期インストール時にデフォルト以外のオプションを設定した場合（TridentイメージおよびCSIイメージのプライベートなミラーレジストリを指定するなど）は、を使用します<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block> これらのオプションがupgradeコマンドに含まれるようにするため、それらのオプションの値をdefaultにリセットします。</block>
  <block id="3d0107bfa0874592e9dc04f9869b604b" category="list-text">を実行します<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> グラフとアプリのバージョンが両方ともアップグレードされていることを確認します。を実行します<block ref="3e725291d4b17065fdcd321172fcfae3" prefix=" " category="inline-code"></block> デバッグメッセージを確認します。</block>
  <block id="d72f42539c286d006f46f1ddbcfc9ad0" category="paragraph">からTridentの最新リリースにアップグレードできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> インストール：</block>
  <block id="3fe5d266a33f137293c314a2e334b611" category="inline-link">Trident 10月22日</block>
  <block id="9fefe9ff51badc61edd8a36c8240aa29" category="list-text"><block ref="9fefe9ff51badc61edd8a36c8240aa29" category="inline-link-rx"></block></block>
  <block id="55559f520040667d3f8931728b37ef07" category="paragraph">21.07より前のリリースでは、レガシードキュメントサイトにリダイレクトします。</block>
  <block id="79126799d841fcc6275e2d0dd60f9d39" category="paragraph">Astra Tridentを統合するには、設計とアーキテクチャに関する次の要素を統合する必要があります。ドライバの選択と導入、ストレージクラスの設計、仮想プールの設計、永続的ボリューム要求（PVC）によるストレージプロビジョニング、ボリューム運用、Astra Tridentを使用したOpenShiftサービスの導入。</block>
  <block id="d7f3ab8ebe0633127c883b84d0b2bc4a" category="section-title">Google Cloudバックエンドドライバ上のCloud Volumes Service</block>
  <block id="dbdb93270c6038ae53d21c36a0ec3a06" category="paragraph">Astra Tridentがを使用<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> Google CloudのCloud Volumes Service にリンクするドライバ。</block>
  <block id="6615bc816ef19ce9b090bf84cb2577e8" category="paragraph">。<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> ドライバは仮想プールを使用してバックエンドを抽象化し、Astra Tridentでボリュームの配置を判断できるようにします。管理者が、で仮想プールを定義します<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> ファイル。ストレージクラスには、ラベルで仮想プールを識別するセレクタが使用されます。</block>
  <block id="88e5e1ee5a287a3e1e8bcd0bd36d4405" category="list-text">バックエンドに仮想プールが定義されている場合、Astra Tridentは、その仮想プールが制限されているGoogle Cloudストレージプール内にボリュームを作成しようとします。</block>
  <block id="350ba3703a7557f9470ce37c01800b89" category="list-text">バックエンドに仮想プールが定義されていない場合、Astra Tridentは、リージョン内の使用可能なストレージプールからGoogle Cloudストレージプールを選択します。</block>
  <block id="1c6765c31de34eaa48e2dc86edefdb85" category="paragraph">Astra TridentでGoogle Cloudバックエンドを設定するには、と指定する必要があります<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block>、<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>および<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block> バックエンドファイル内。プロジェクト番号はGoogle Cloudコンソールで確認できます。APIキーは、Google CloudでCloud Volumes Service のAPIアクセスを設定するときに作成したサービスアカウントの秘密鍵ファイルから取得されます。</block>
  <block id="2d081c5748fc9d24a176594dfdff1ed6" category="paragraph">Google Cloudのサービスタイプとサービスレベルに関するCloud Volumes Service の詳細については、を参照してください <block ref="5b5fd03722abab2c395288a6ee42ad11" category="inline-link-macro-rx"></block>。</block>
  <block id="b8777f333c4d18731d4e5746513dc8eb" category="cell">Cloud Volumes Service for Google Cloudドライバ</block>
  <block id="e8257e01d592104a99a17c192f84e86a" category="cell">CVS -パフォーマンスサービスタイプでのみ利用できます。</block>
  <block id="e6f7c10d8c16eee55f72ce71c4b10a2f" category="list-title">レプリケーションに関する注意事項</block>
  <block id="6b0213ecbd17731dba9697d0053bee09" category="list-text">レプリケーションはAstra Tridentで管理されていません。</block>
  <block id="706c8ebf7645c5a984d080882f157905" category="list-text">クローンは、ソースボリュームと同じストレージプールに作成されます。</block>
  <block id="aa3a2f2908114304b0a2fa7847f52c52" category="section-title">仮想プール</block>
  <block id="f68e83b9ec275643f0ddf455710de4a0" category="paragraph">仮想プールはすべてのAstra Tridentバックエンドで利用可能Tridentが提供する任意のドライバを使用して、任意のバックエンドに仮想プールを定義できます。</block>
  <block id="fcda845207c8bb4d447496c11173c0af" category="paragraph">仮想プールを使用すると、管理者はストレージクラスで参照可能なバックエンド上に抽象化レベルを作成して、バックエンドにボリュームを柔軟かつ効率的に配置できます。同じサービスクラスを使用して異なるバックエンドを定義できます。さらに、同じバックエンドに異なる特性を持つ複数のストレージプールを作成することもできます。セレクタで特定のラベルを設定したストレージクラスがある場合、 Astra Trident は、ボリュームを配置するすべてのセレクタラベルに一致するバックエンドを選択します。ストレージクラスセレクタのラベルが複数のストレージプールに一致した場合、Astra Tridentがボリュームのプロビジョニングに使用するストレージクラスを1つ選択します。</block>
  <block id="46eefe0a9f18e4edef4d602d3868ad26" category="section-title">仮想プールの設計</block>
  <block id="b8c8132a188c589a80147f1e0b22bf92" category="paragraph">バックエンドの作成時に、一般に一連のパラメータを指定できます。管理者が、同じストレージクレデンシャルと異なるパラメータセットを使用して別のバックエンドを作成することはできませんでした。仮想プールの導入により、この問題 は軽減されました。仮想プールは、バックエンドとKubernetesストレージクラスの間に導入されたレベル抽象化です。管理者は、Kubernetes Storage Classesでセレクターとして参照できるラベルとともにパラメータをバックエンドに依存しない方法で定義できます。仮想プールは、サポートされているすべてのネットアップバックエンドにAstra Tridentを使用して定義できます。リストには、 SolidFire / NetApp HCI 、 ONTAP 、 GCP 上の Cloud Volumes Service 、 Azure NetApp Files が含まれます。</block>
  <block id="e531eef4bc68547759b647c917ac2567" category="admonition">仮想プールを定義する場合は、バックエンド定義で既存の仮想プールの順序を変更しないことをお勧めします。また、既存の仮想プールの属性を編集または変更したり、新しい仮想プールを定義したりしないことを推奨します。</block>
  <block id="12a04174d46f1d73ff741b222e009596" category="paragraph">サービスクラスをエミュレートするための仮想プールを設計できます。Cloud Volume Service for Azure NetApp Files の仮想プール実装を使用して、さまざまなサービスクラスをセットアップする方法を見ていきましょう。さまざまなパフォーマンスレベルを表す複数のラベルで ANF バックエンドを設定します。設定<block ref="28277e44c5db61612accdf326d137e96" prefix=" " category="inline-code"></block> 適切なパフォーマンスレベルを考慮し、各ラベルの下にその他の必要な側面を追加します。次に、異なる仮想プールにマッピングするさまざまなKubernetesストレージクラスを作成します。を使用する<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 各StorageClassは、ボリュームのホストに使用できる仮想プールを呼び出します。</block>
  <block id="f274bdd304a8c3825a2766a1f8ff8fa7" category="paragraph">特定の側面を持つ複数の仮想プールは、単一のストレージバックエンドから設計できます。そのためには、バックエンドに複数のラベルを設定し、各ラベルに必要な側面を設定します。を使用して、さまざまなKubernetesストレージクラスを作成します<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 異なる仮想プールにマッピングされるフィールド。バックエンドでプロビジョニングされるボリュームには、選択した仮想プールに定義された設定が適用されます。</block>
  <block id="77392d80c7d8caad401b2619f5dd4581" category="paragraph">要求されたストレージクラスを超えたパラメータの中には、PVCを作成する際にAstra Tridentプロビジョニングの判断プロセスに影響するものがあります。</block>
  <block id="5425c134e042a4473f453cbfaaf776df" category="summary">Linux Unified Key Setup（LUKS；ユニファイドキーセットアップ）を有効にして、Astra Trident上のONTAP SANおよびONTAP SANエコノミーボリュームを暗号化できます。Astra Tridentは、LUKS暗号化ボリュームのボリュームサイズ変更とキー（パスフレーズ）ローテーションをサポートしています。</block>
  <block id="b6969fa89b54a37ee3628194aebbbea3" category="doc">Linux Unified Key Setup（LUKS；統合キーセットアップ）</block>
  <block id="a5a1aad62aa2cbb5ff9f9547c24671f4" category="paragraph">Linux Unified Key Setup（LUKS；ユニファイドキーセットアップ）を有効にして、Astra Trident上のONTAP SANおよびONTAP SANエコノミーボリュームを暗号化できます。Astra Tridentは、LUKS暗号化ボリュームのパスフレーズローテーションとボリューム拡張をサポートしています。</block>
  <block id="b1597f08149b233ec5901eb1dc041042" category="paragraph">Astra Tridentでは、で推奨されるとおり、LUKSによって暗号化されたボリュームがAES-XTS -原64定型とモードを使用します <block ref="79a538d5fda32e1565131ca044d589f6" category="inline-link-macro-rx"></block>。</block>
  <block id="525588be7f6bc2cf7b3b257ced2b19c7" category="list-text">ワーカーノードにはcryptsetup 2.1以上（3.0よりも下位）がインストールされている必要があります。詳細については、を参照してください <block ref="39c06d5570d5dfd5c63abe15a0d8d2fb" category="inline-link-macro-rx"></block>。</block>
  <block id="83f59a8c99f92feae93c90d4f7bd0d68" category="section-title">LUKS暗号化を有効にします</block>
  <block id="b9a97083b1f9ee5d9d6fd1ec4025a836" category="paragraph">ONTAP SANおよびONTAP SANエコノミーボリュームでは、Linux Unified Key Setup（LUKS；Linux統合キーセットアップ）を使用して、ボリューム単位のホスト側暗号化を有効にできます。</block>
  <block id="d197aff07a41df5dbefcace33058435c" category="list-text">バックエンド構成でLUKS暗号化属性を定義します。ONTAP SANのバックエンド構成オプションの詳細については、を参照してください <block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block>。</block>
  <block id="a99f022d7515cf14d9d2e49a72198c5c" category="list-text">LUKSパスフレーズを含むシークレットを作成します。例：</block>
  <block id="6d8e596656bc0dc6684415f94bee7e6a" category="paragraph">LUKSで暗号化されたボリュームは、ONTAP の重複排除と圧縮を利用できません。</block>
  <block id="f9d3cd939395358ac0f0bd3a1043656c" category="section-title">LUKSパスフレーズをローテーションします</block>
  <block id="5173c14a913aecabc2aa4a398abfd3a1" category="paragraph">LUKSのパスフレーズをローテーションしてローテーションを確認できます。</block>
  <block id="870809044094847738d2e3b2d3490240" category="admonition">パスフレーズは、ボリューム、Snapshot、シークレットで参照されなくなることを確認するまで忘れないでください。参照されているパスフレーズが失われた場合、ボリュームをマウントできず、データが暗号化されたままアクセスできなくなることがあります。</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="paragraph-title">このタスクについて</block>
  <block id="0887b239ebf59802cdd0acb89f746b66" category="paragraph">LUKSパスフレーズのローテーションは、ボリュームをマウントするポッドが、新しいLUKSパスフレーズの指定後に作成されたときに行われます。新しいポッドが作成されると、Astra TridentはボリュームのLUKSパスフレーズをシークレット内のアクティブなパスフレーズと比較します。</block>
  <block id="a09edd6ec72e24ea93fe0643001ce09b" category="list-text">ボリュームのパスフレーズがシークレットでアクティブなパスフレーズと一致しない場合、ローテーションが実行されます。</block>
  <block id="85341a765feac19c14ddb5733a16bb0f" category="list-text">ボリュームのパスフレーズがシークレットのアクティブなパスフレーズと一致する場合は、を参照してください<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> パラメータは無視されます。</block>
  <block id="e11fe3d05d72f7812c946ac80ae339ed" category="list-text">を追加します<block ref="c774c2255b7e3b1f75cd200c366d4148" prefix=" " category="inline-code"></block> および<block ref="59ab79bfd6177f0b40d74d58d4a94d89" prefix=" " category="inline-code"></block> StorageClassパラメータ。例：</block>
  <block id="7fe288bcd08368971a3839f1de636c7c" category="list-text">ボリュームまたはSnapshotの既存のパスフレーズを特定します。</block>
  <block id="bd7a9717d29c5ddcab1bc175eda1e298" category="listing-title">ボリューム</block>
  <block id="d4e2713d1b1725a1592f9268589f990d" category="listing-title">スナップショット</block>
  <block id="c0526adc9b28d758d8fab9d4a5b998ef" category="list-text">ボリュームのLUKSシークレットを更新して、新しいパスフレーズと前のパスフレーズを指定します。確認します <block ref="119d124de86f53dbdf015ff1809c10e1" prefix=" " category="inline-code"></block> および<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> 前のパスフレーズと同じにします。</block>
  <block id="4f8a79fea6c3cc09f49769b8473808f7" category="list-text">ボリュームをマウントする新しいポッドを作成します。これはローテーションを開始するために必要です。</block>
  <block id="bcf837455c951c49bd9138ead166c489" category="list-text">パスフレーズがローテーションされたことを確認します。</block>
  <block id="0c7eac961f50eef2d0c82d382fdd18b3" category="paragraph">パスフレーズは、ボリュームとSnapshotに新しいパスフレーズのみが返されたときにローテーションされました。</block>
  <block id="6ff457ceee4568584dc3fd66c1ae658a" category="admonition">たとえば、2つのパスフレーズが返された場合などです<block ref="b5b0f81d5dbb45d3dd031f1b02af8bf3" prefix=" " category="inline-code"></block>回転が不完全です。回転を完了するために、新しいポッドをトリガできます。</block>
  <block id="b3f9d5f1e12f2ba5ecd2ece1e9084f3f" category="section-title">ボリュームの拡張を有効にします</block>
  <block id="e5307495a3aec6528b42d3f3e835a761" category="paragraph">LUKS暗号化ボリューム上でボリューム拡張を有効にできます。</block>
  <block id="aeec1a5a7dc7624995570096ce8156ef" category="inline-link-macro">Kubernetes 1.25：CSIボリュームのノードベースの拡張にシークレットを使用します</block>
  <block id="1282398415278cc77bc47970640d4188" category="list-text">を有効にします<block ref="b0e105de2a2f0820528649fee8d2e331" prefix=" " category="inline-code"></block> 機能ゲート（ベータ1.25+）。を参照してください <block ref="35e3bd84b2522e04fd4ead86130c9227" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="e4de718025be845e2dec22064bb4eece" category="list-text">を追加します<block ref="91985ce21cd787a6ab2a13cc97f58968" prefix=" " category="inline-code"></block> および<block ref="641c8d6753dd78e60ebb61a20e6a2742" prefix=" " category="inline-code"></block> StorageClassパラメータ。例：</block>
  <block id="e718558948d1441cf3873df6fb7b10c3" category="paragraph">ストレージのオンライン拡張を開始すると、ドライバに適切なクレデンシャルが渡されます。</block>
  <block id="8a6112da5167fe6f44136715f1d86c36" category="paragraph">専用のインフラノード（OpenShiftなど）や、ユーザアプリケーションをスケジュールできない他のノードを導入する場合は、ストレージリソースへのアクセスをさらに制限するために別 々 のエクスポートポリシーを使用する必要があります。これには、これらのインフラノードに導入されているサービス（ OpenShift Metrics サービスや Logging サービスなど）のエクスポートポリシーの作成と、非インフラノードに導入されている標準アプリケーションの作成が含まれます。</block>
  <block id="a330e835c41b0ff1dfc7e483e7e7f70e" category="summary">仮想プールは、Astra TridentのストレージバックエンドとKubernetesのストレージクラスの間に抽象化レイヤを提供します。ストレージクラスを作成することなく、管理者は各バックエンドの場所、パフォーマンス、保護などの側面を共通のバックエンドに依存しない方法で定義できます。 StorageClass は、目的の基準を満たすために使用する物理バックエンド、バックエンドプール、またはバックエンドタイプを指定する必要はありません。</block>
  <block id="9f77ac8822dd45ff19910e0170669eb7" category="paragraph">仮想プールは、Astra TridentストレージバックエンドとKubernetesの間に抽象化レイヤを提供します<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。管理者は、を作成することなく、バックエンドに依存しない共通の方法で、各バックエンドの場所、パフォーマンス、保護などの側面を定義できます<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 目的の条件を満たすために使用する物理バックエンド、バックエンドプール、またはバックエンドタイプを指定します。</block>
  <block id="c395d1a6e14d73fb73663b1198b0b134" category="section-title">仮想プールについて説明します</block>
  <block id="f66146f5a5a305009d0129474f6fc10e" category="paragraph">ストレージ管理者は、任意のAstra TridentバックエンドにJSONまたはYAML定義ファイルで仮想プールを定義できます。</block>
  <block id="6293784c303cb134632b85dc06f372df" category="image-alt">に、仮想プールの概念図を示します。</block>
  <block id="e26346b2afab61526141ea7275a77ba3" category="list-text">仮想プールを定義する場合は、バックエンド定義内の既存の仮想プールの順序を変更しないでください。</block>
  <block id="92aa2031bb642a0c5c916142f725400d" category="list-text">既存の仮想プールの属性を変更しないことをお勧めします。変更を行うには、新しい仮想プールを定義する必要があります。</block>
  <block id="43d41b472d09879b85f78a3b8e487fd1" category="paragraph">ほとんどの項目はバックエンド固有の用語で指定されます。アスペクト値は、バックエンドのドライバの外部には表示されず、での照合には使用できません<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。代わりに、管理者が各仮想プールに 1 つ以上のラベルを定義します。各ラベルはキー：値のペアで、ラベルは一意のバックエンド間で共通です。側面と同様に、ラベルはプールごとに指定することも、バックエンドに対してグローバルに指定することもできます。名前と値があらかじめ定義されている側面とは異なり、管理者は必要に応じてラベルキーと値を定義する完全な裁量を持っています。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="e084f7ea866c7ad616e67a911925c850" category="paragraph">A<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> セレクタパラメータ内のラベルを参照して、使用する仮想プールを指定します。仮想プールセレクタでは、次の演算子がサポートされます。</block>
  <block id="0b62778604e11f72525f5a82bbd26c6a" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> は、NetApp ONTAP ストレージオペレーティングシステムを基盤とするファイルシステムの起動や実行を可能にする、フルマネージドのAWSサービスです。FSX for ONTAP を使用すると、使い慣れたネットアップの機能、パフォーマンス、管理機能を活用しながら、AWSにデータを格納するためのシンプルさ、即応性、セキュリティ、拡張性を活用できます。FSX for ONTAP は、ONTAP ファイルシステムの機能と管理APIをサポートしています。</block>
  <block id="9b85b10750f4b0e98b7853ee468d8bd5" category="list-text">SMBボリューム：</block>
  <block id="cf201a9e802aa6e35997590206919b1a" category="list-text">SMBボリュームは、を使用してサポートされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ドライバーのみ。</block>
  <block id="b184cfad0a2d14c9220db3d72006958c" category="list-text">自動バックアップが有効になっているAmazon FSXファイルシステムで作成されたボリュームはTridentで削除できません。PVC を削除するには、 PV と ONTAP ボリュームの FSX を手動で削除する必要があります。この問題 を回避するには、次の手順</block>
  <block id="867730e819742e7e493081f160c42c61" category="paragraph">次のドライバを使用して、Astra TridentをAmazon FSX for NetApp ONTAP と統合できます。</block>
  <block id="90e87fa57067732a25774f917230f72b" category="paragraph">ドライバーの詳細については、を参照してください <block ref="5222b6b9484ba2027cf88dd24062e5fc" category="inline-link-macro-rx"></block>。</block>
  <block id="676f29c1b0b3626bc959bdc6ebc8953b" category="paragraph">Astra Tridentは、2種類の認証モードを提供します。</block>
  <block id="2dc4717be6b9cdf676df17aa86465f02" category="admonition">Astra Tridentは<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> SVMユーザまたは同じロールを持つ別の名前のユーザ。NetApp ONTAP 対応のAmazon FSXには、が搭載されています<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> ONTAP を限定的に交換するユーザ<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> クラスタユーザ：を使用することを強く推奨します<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> ネットアップが実現します。</block>
  <block id="43c502a16d6b21dc6eb26a2067154e11" category="paragraph">証明書ベースの方法と証明書ベースの方法を切り替えるために、バックエンドを更新できます。ただし、*クレデンシャルと*証明書を入力しようとすると、バックエンドの作成に失敗します。別の認証方式に切り替えるには、バックエンド設定から既存の方式を削除する必要があります。</block>
  <block id="994eaa47aad78cae857818e1655e2800" category="paragraph">認証を有効にする方法の詳細については、使用しているドライバタイプの認証を参照してください。</block>
  <block id="57e00ef3eabad47fc79d0ef1319f989c" category="inline-link-macro">ONTAP NAS認証</block>
  <block id="840db27e4fe9967e908b8b101ca72198" category="list-text"><block ref="840db27e4fe9967e908b8b101ca72198" category="inline-link-macro-rx"></block></block>
  <block id="562276ffa617658595d5e6df35ef971c" category="inline-link-macro">ONTAP SAN認証</block>
  <block id="4a5e4254b1862ddbff7f81ed84e87125" category="list-text"><block ref="4a5e4254b1862ddbff7f81ed84e87125" category="inline-link-macro-rx"></block></block>
  <block id="d2aae26c4b1e25027872b1df4cee2081" category="paragraph">Azure NetApp Files バックエンドを設定する前に、次の要件を満たしていることを確認する必要があります。</block>
  <block id="53ba532dfa04fe29152221a3efb3e98f" category="doc">Google Cloudバックエンド用にCloud Volumes Service を設定します</block>
  <block id="c891939fd67dfe2cdc8d8bd5a1404644" category="paragraph">ネットアップCloud Volumes Service for Google CloudをAstra Tridentのバックエンドとして構成する方法を、提供されている構成例を使用して説明します。</block>
  <block id="ac7ba403929463ebd2aabb621c443399" category="section-title">Cloud Volumes Service for Google Cloudに対するAstra Tridentサポートの詳細をご確認ください</block>
  <block id="f391d05be666574cba6a6b88827e5766" category="paragraph">TridentがCloud Volumes Service ボリュームを作成できるのは、2つのうちの1つです <block ref="a3cd55e5a9ff014b76f6953040234c24" category="inline-link-macro-rx"></block>：</block>
  <block id="3671a5060127094ad405aad9295e6609" category="inline-link-macro">3つのサービスレベル</block>
  <block id="9b44bc41471d2c2cc25eb7a9e5e01b49" category="list-text">* CVS - Performance *：デフォルトのAstra Tridentサービスタイプ。パフォーマンスが最適化されたこのサービスタイプは、パフォーマンスを重視する本番環境のワークロードに最適です。CVS -パフォーマンスサービスタイプは、サイズが100GiB以上のボリュームをサポートするハードウェアオプションです。のいずれかを選択できます <block ref="87d12cea36129673eb9128fd986958c5" category="inline-link-macro-rx"></block>：</block>
  <block id="1b3b34a1280074ca8311ff50bbacac6c" category="list-text"><block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix="" category="inline-code"></block></block>
  <block id="3f27980baf5bae9c9c40df09c54f6f23" category="list-text"><block ref="a288195832f8717bca4671416014a464" prefix="" category="inline-code"></block></block>
  <block id="091d891c1f040cef1072e2593b7f1f3b" category="list-text"><block ref="287e9593819b2fcdf9945e7ccacd637d" prefix="" category="inline-code"></block></block>
  <block id="1048ee58172376b84dda9c7505d858ea" category="inline-link-macro">2つのサービスレベル</block>
  <block id="6c62a8c68facf167a61fbd54e9cceb5f" category="list-text">* CVS *：CVSサービスタイプは、中程度のパフォーマンスレベルに制限された高レベルの可用性を提供します。CVSサービスタイプは、ストレージプールを使用して1GiB未満のボリュームをサポートするソフトウェアオプションです。ストレージプールには最大50個のボリュームを含めることができ、すべてのボリュームでプールの容量とパフォーマンスを共有できます。のいずれかを選択できます <block ref="21d52e1e64b94d45bea308be30f5a76a" category="inline-link-macro-rx"></block>：</block>
  <block id="277d5dd64fbcc2dbcd79252b41d6113e" category="list-text"><block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix="" category="inline-code"></block></block>
  <block id="4bfd77bf3278584b71bc8c9deef39ca9" category="list-text"><block ref="75b65576cc4a19f0836b73610ad5957a" prefix="" category="inline-code"></block></block>
  <block id="66d7ad821e261a4b5099f37ced19ebb1" category="list-text">NetApp Cloud Volumes Service で設定されたGoogle Cloudアカウント</block>
  <block id="f56a3add505b7e123b55b814f7acc26b" category="list-text">Cloud Volumes Service アカウントのAPIキーファイル</block>
  <block id="82409a3ea24b043087a2159a3e1f9f74" category="cell">CVSサービスタイプを指定するためのオプションのパラメータ。使用<block ref="f9fa10ba956cacf91d7878861139efb9" prefix=" " category="inline-code"></block> をクリックしてCVSサービスタイプを選択します。それ以外の場合は、Astra TridentがCVSパフォーマンスサービスのタイプを引き継ぎます <block ref="3ca14c518d1bf901acc339e7c9cd6d7f" prefix="(" category="inline-code"></block>）。</block>
  <block id="5782f9a9357b5678058d6d3ceed21988" category="cell"><block ref="c614017642b6cfd9e6a25c7df122d917" prefix="" category="inline-code"></block></block>
  <block id="4efa10ec47c98c5ed67e1a72f7515240" category="cell">CVSサービスタイプのみ。ボリューム作成用のストレージプールを指定するオプションのパラメータ。</block>
  <block id="4149383e1cf45a36b373c5bded2ff6ba" category="cell">Google Cloud アカウントのプロジェクト番号。この値は、Google Cloudポータルのホームページにあります。</block>
  <block id="f0559497c76611a262c1a6fa93592cd7" category="cell">共有VPCネットワークを使用する場合は必須です。このシナリオでは、<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block> は、サービスプロジェクトです<block ref="b5caf2c58446baec75b83bf637a98d1b" prefix=" " category="inline-code"></block> は、ホストプロジェクトです。</block>
  <block id="dbac640079c94d4a257a3513191a1ad6" category="cell">Astra TridentがCloud Volumes Service ボリュームを作成するGoogle Cloudリージョン。複数リージョンのKubernetesクラスタを作成する場合は、に作成されたボリューム<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> 複数のGoogle Cloudリージョンのノードでスケジュールされたワークロードで使用できます。リージョン間トラフィックは追加コストを発生させます。</block>
  <block id="665f1a07bc016a07fdc13ef823fcdb03" category="cell">を使用したGoogle CloudサービスアカウントのAPIキー<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block> ロール。このレポートには、 Google Cloud サービスアカウントの秘密鍵ファイルの JSON 形式のコンテンツが含まれています（バックエンド構成ファイルにそのままコピーされます）。</block>
  <block id="3430995d97c2d987bf88dfb93ddb34f7" category="cell">CVSアカウントへの接続にプロキシサーバが必要な場合は、プロキシURLを指定します。プロキシサーバには、 HTTP プロキシまたは HTTPS プロキシを使用できます。HTTPS プロキシの場合、プロキシサーバで自己署名証明書を使用するために証明書の検証はスキップされます。認証が有効になっているプロキシサーバはサポートされていません。</block>
  <block id="4d9239a7fce916964ba8529021ab535f" category="cell">要求されたボリュームサイズがこの値を超えている場合はプロビジョニングが失敗します。</block>
  <block id="c4105759a421b56f4e5aa47752aa6812" category="cell">新しいボリュームのCVS -パフォーマンスレベルまたはCVSサービスレベル。CVS -パフォーマンスの値はです<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block>、<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block>または<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block>。CVSの値はです<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block> または<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block>。</block>
  <block id="5c3d9364df4807427e3297a90edf2831" category="cell">CVS -パフォーマンスのデフォルトは「Standard」です。CVSのデフォルトは"standardsw"です。</block>
  <block id="5715e76155b75e9062107ef13c0576ed" category="cell">Cloud Volumes Service ボリュームに使用するGoogle Cloudネットワーク。</block>
  <block id="ad438db80cb3bcd5f6fccdb1010b02f1" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：<block ref="9b8710f6da218ae915e4ba2ae63f23d0" prefix=" " category="inline-code"></block>。トラブルシューティングを行って詳細なログダンプが必要な場合を除き、このオプションは使用しないでください。</block>
  <block id="a5f4597012dd7af2b717fd4cc2f687fe" category="cell"><block ref="df6ccab784b5892507a7d11443254dc8" prefix="" category="inline-code"></block></block>
  <block id="d2e98deb07632de971600ae032776fe8" category="cell">クロスリージョンアクセスを有効にするには、のStorageClass定義を使用します<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block> すべてのリージョンを含める必要があります。例：<block ref="3e7c75911911d149520dd40104fd92d7" prefix=" " category="inline-code"></block></block>
  <block id="eb60cd2c0cff094ad0ecbe9d6fededcf" category="section-title">ボリュームのプロビジョニングオプション</block>
  <block id="afe8445a326424c54dfec7cc20994e8f" category="paragraph">では、デフォルトのボリュームプロビジョニングを制御できます<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> 構成ファイルのセクション。</block>
  <block id="fdcd5d79603b7f7c0f9b4525dd19b6ab" category="cell">新しいボリュームのエクスポートルール。CIDR 表記の IPv4 アドレスまたは IPv4 サブネットの任意の組み合わせをカンマで区切って指定する必要があります。</block>
  <block id="d5c8102144978e060556ba194e006d1e" category="cell">新しいボリュームのサイズ。CVS -パフォーマンス最小値は100GiBです。CVS最小値は1GiBです。</block>
  <block id="400f2f53e7d26564783ac50a601d32cb" category="cell">CVS -パフォーマンスサービスのタイプはデフォルトで「100GiB」です。CVSサービスのタイプではデフォルトが設定されませんが、1GiB以上が必要です。</block>
  <block id="94e5c486f56b72f4237fe801615b4406" category="section-title">CVS -パフォーマンスサービスの種類の例</block>
  <block id="dea6ff4202a54251e04f7b84647690b6" category="paragraph">次の例は、CVS -パフォーマンスサービスタイプの設定例を示しています。</block>
  <block id="ae174742813090d1ddbc3ed75d27f7f2" category="paragraph">これは、デフォルトの「標準」サービスレベルでデフォルトのCVSパフォーマンスサービスタイプを使用する最小バックエンド構成です。</block>
  <block id="8228a8de88271b4a6a07d5021ae4ff7c" category="example-title">例2：サービスレベルの設定</block>
  <block id="38a24bdf59c77f7705c407c60f3ea81e" category="paragraph">この例は、サービスレベルやボリュームのデフォルトなど、バックエンド構成オプションを示しています。</block>
  <block id="4565a2282ee3312eddd091b3a3f6a263" category="example-title">例3：仮想プールの構成</block>
  <block id="ed7c2c2093c7c8deca88a6580c82633a" category="paragraph">この例では、を使用します<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> 仮想プールおよびを設定します<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> それはそれらを再度参照する。を参照してください <block ref="f986c11e10e5f3c768f256080a1f3f99" category="inline-xref-macro-rx"></block> をクリックして、ストレージクラスの定義方法を確認します。</block>
  <block id="935927e4b464388790a08251e1c2254d" category="paragraph">ここでは、すべての仮想プールに対して特定のデフォルトが設定され、すべての仮想プールに対してが設定されます<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> 5%およびである<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> を0.0.0.0/0に設定します。仮想プールは、で定義されます<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> セクション。個 々 の仮想プールにはそれぞれ独自の定義があります<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block>をクリックすると、一部のプールでデフォルト値が上書きされます。プールを区別するために、仮想プールのラベルを使用しました<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> および<block ref="152f5dc0f7ac734f8e8ee17d4a482462" prefix=" " category="inline-code"></block>。</block>
  <block id="857fa84eb2e850753da87c8599addab3" category="section-title">ストレージクラスの定義</block>
  <block id="5b797cdb3913e416eaea99109620eb0d" category="paragraph">次のStorageClass定義は、仮想プールの構成例に適用されます。を使用します<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>では、ボリュームのホストに使用する仮想プールをストレージクラスごとに指定できます。ボリュームには、選択したプールで定義された要素があります。</block>
  <block id="ea7cdbae94b0329e6731e1f3ae9fc4fc" category="example-title">ストレージクラスの例</block>
  <block id="48bbf2b27d410d92674b0f8f5d3447a0" category="list-text">最初のストレージクラス <block ref="d3b08f69c5bb5aadd45b7ba9391c7447" prefix="(" category="inline-code"></block>）を最初の仮想プールにマッピングします。スナップショット予約が 10% の非常に高いパフォーマンスを提供する唯一のプールです。</block>
  <block id="c218d6520025e93f73bb7b0b289f3ebe" category="list-text">最後のストレージクラス <block ref="92c87bc6be7db462499a5a2258aa7ba9" prefix="(" category="inline-code"></block>）スナップショット予約が10%のストレージプールを呼び出します。Tridentが、どの仮想プールを選択するかを決定し、スナップショット予約の要件が満たされていることを確認します。</block>
  <block id="d371b8466ee11b2a14782e343e3ed344" category="section-title">CVSサービスタイプの例</block>
  <block id="f7a4e685ebf6839fc43b3bbaeff96c33" category="paragraph">次の例は、CVSサービスタイプの設定例を示しています。</block>
  <block id="96899a80429985fe87db6dedf997357e" category="example-title">例1：最小構成</block>
  <block id="2bab01748045e624b36f643d0a50b1c2" category="paragraph">これは、を使用するバックエンドの最小構成です<block ref="78ec9b60245b46a4f05158076962ace9" prefix=" " category="inline-code"></block> CVSサービスタイプとデフォルトを指定するには<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block> サービスレベル：</block>
  <block id="d1f5fcc31a1c5bb592600c9f986af71c" category="example-title">例2：ストレージプールの構成</block>
  <block id="879b7d1da5135e7d94358584a7245e33" category="paragraph">このバックエンド設定の例では、を使用して<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> ストレージプールを設定します。</block>
  <block id="4a9c2b6feb83a77f2806513226f33d05" category="summary">Amazon Elastic Kubernetes Service（EKS）で実行されているKubernetesクラスタが、ONTAP によってサポートされるブロックおよびファイルの永続ボリュームをプロビジョニングできるように、Amazon ONTAP ファイルシステム用のAmazon FSXをAstra Tridentに統合することができます。</block>
  <block id="8373fe009c8ffdbdda12cfedf744172c" category="doc">NetApp ONTAP 向けAmazon FSXを統合します</block>
  <block id="0629fb104936d0fb60cc736b6cb01caa" category="inline-link-macro">Astra Trident の要件</block>
  <block id="241f2511660937482446bd41efeac638" category="paragraph">に加えて <block ref="1615f1c495dc4acc1bb5bea393c7532b" category="inline-link-macro-rx"></block>FSX for ONTAP とAstra Tridentを統合するには、次のものが必要です。</block>
  <block id="288b1cbb87d08c32abf3084c28636e5c" category="inline-link-macro">NFSまたはiSCSI</block>
  <block id="d7481875afa061fb651628b2597d52ec" category="list-text">準備されているワーカーノード <block ref="966ed3bab2d39ae1014ad2eb34527e0f" category="inline-link-macro-rx"></block>。</block>
  <block id="d0341760d873a30f82a310a6eab0ba9c" category="admonition">Amazon LinuxおよびUbuntuで必要なノードの準備手順を実行します<block ref="70013ee128d5437b3d9579d66ece4066" category="inline-link-rx"></block> （ AMIS ） EKS の AMI タイプに応じて異なります。</block>
  <block id="8df63c807f3c78b6087ad0d6ee434fb2" category="list-text">Active Directoryのクレデンシャルを含むAstra Tridentのシークレットが少なくとも1つ必要です。シークレットを生成します<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="9303b8f40cf82f5e37702c7a6387e725" category="section-title">ONTAP SANとNASドライバの統合</block>
  <block id="83d1f963158732d2aedc5119f242bcff" category="admonition">SMBボリュームについて設定する場合は、を参照してください <block ref="688177e6b45c5d27a545463079c58d82" category="inline-xref-macro-rx"></block> バックエンドを作成する前に。</block>
  <block id="c8aecc44e726368f30c6757e9ab5b64b" category="list-text">SVM管理LIFのDNS名を収集します。たとえば、AWS CLIを使用してを検索します<block ref="a3c3b30ab91f2501f21058ee87f27a4f" prefix=" " category="inline-code"></block> の下のエントリ<block ref="b8724da75fb917e992576b17378e66b3" prefix=" " category="inline-code"></block> -&gt;<block ref="fe4dbcab9b910577e5035e97ac068dae" prefix=" " category="inline-code"></block> 次のコマンドを実行した後：</block>
  <block id="ed625a73c7dbbe8b3d51e643adb7ddfd" category="inline-link-macro">NASバックエンド認証</block>
  <block id="cac491bba67bb09dddb8fa935c0ed9d6" category="inline-link-macro">SANバックエンド認証</block>
  <block id="2c4646cfa545b727f14a7ee6560b41b8" category="list-text">用の証明書を作成してインストールします <block ref="e0dfdc1f3574886f1078f7699f0f57f0" category="inline-link-macro-rx"></block> または <block ref="2ba00bd5ff04f92ed7b3b69e76174936" category="inline-link-macro-rx"></block>。</block>
  <block id="7d7eb1dca2ce4d155167358b4768de14" category="paragraph">導入後、を作成できます <block ref="71dee6d7db1737892d8ac3c68402b3c3" category="inline-link-macro-rx"></block>。</block>
  <block id="fc4e16be02eac62a40d8ba5714cbeda1" category="section-title">SMBボリュームをプロビジョニングする準備をします</block>
  <block id="fbf3304d2358758ea71475804b2cbeae" category="paragraph">を使用してSMBボリュームをプロビジョニングできます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ドライバ。をクリックしてください <block ref="24f26185e00986318dc562523d4edbf6" category="inline-xref-macro-rx"></block> 次の手順を実行します。</block>
  <block id="d98f239eeb5789a80cb4b247e5be144d" category="inline-link-macro">Microsoft管理コンソール</block>
  <block id="8e6249724e4eef8026e47829f03f9e67" category="list-text">SMB共有を作成SMB管理共有は、のいずれかの方法で作成できます <block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block> 共有フォルダスナップインまたはONTAP CLIを使用します。ONTAP CLIを使用してSMB共有を作成するには、次の手順を実行します</block>
  <block id="c9e9c2bb32e43693c4687ec082488811" category="list-text">必要に応じて、共有のディレクトリパス構造を作成します。</block>
  <block id="8a19300a396203718795b4620552b59c" category="paragraph">。<block ref="293a1aaca0a542f4f1b1dc1a3ad95728" prefix=" " category="inline-code"></block> コマンドは、共有の作成時に-pathオプションで指定されているパスを確認します。指定したパスが存在しない場合、コマンドは失敗します。</block>
  <block id="a968d0620b250ca44da661cadac02e42" category="list-text">指定したSVMに関連付けられているSMB共有を作成します。</block>
  <block id="e172e0c83051eb537305571585af294a" category="list-text">共有が作成されたことを確認します。</block>
  <block id="a6e62ff657f01a7df2d91d1ea0d3e76c" category="inline-link-macro">SMB 共有を作成</block>
  <block id="39026ea2687a8de2a318f8245aceb992" category="admonition">を参照してください <block ref="2b8c6fb4597e9bb000d4d88db3769c9a" category="inline-link-macro-rx"></block> 詳細については、</block>
  <block id="e4f84f59067aa8e22119bf499379385a" category="inline-link-macro">FSX（ONTAP の構成オプションと例）</block>
  <block id="ca088cbb36bbab4b23e57d63d95a628c" category="list-text">バックエンドを作成する際に、SMBボリュームを指定するように次の項目を設定する必要があります。ONTAP バックエンド構成オプションのすべてのFSXについては、を参照してください <block ref="dd05fa371cf4b2c8377b8b4b261a8edd" category="inline-link-macro-rx"></block>。</block>
  <block id="7bb910e3cf11d0b34ca215aa399d3f23" category="cell"><block ref="5910159ef86741f119f7574a9064b5b0" prefix="" category="inline-code"></block></block>
  <block id="3b84c7b88317953423192c633a83db9f" category="cell">*をに設定する必要があります<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>.* nullの場合、デフォルトはです<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>。</block>
  <block id="1928bae58ae496b53ef1a163c3dbeeb4" category="cell">新しいボリュームのモード。* SMBボリュームは空にしておく必要があります。*</block>
  <block id="ded47128219e64b5f24343dab357151b" category="admonition">Astra Tridentでは空白が強制される<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> を作成します。iSCSIバックエンドの場合は、適用することを推奨します<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block> ストレージクラス。既存のストレージクラスを削除して、で再作成する必要があります<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block> 指定された。</block>
  <block id="5b7532a7b48ec4e7b24ef0f5977589de" category="cell">クラスタ管理LIFまたはSVM管理LIFのIPアドレス：シームレスなMetroCluster スイッチオーバーを実現するには、SVM管理LIFを指定する必要があります。Fully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定できます。を使用してAstra Tridentをインストールした場合、IPv6アドレスを使用するようにを設定できます<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> フラグ。IPv6アドレスは、[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]などの角かっこで定義する必要があります。</block>
  <block id="dccf51176372af70ec697fc2b11f83d8" category="cell">プロトコル LIF の IP アドレス。* iSCSIには指定しないでください。* Astra Tridentが使用します <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> iSCSI LIFを検出するには、マルチパスセッションを確立する必要があります。の場合は警告が生成されます<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> は明示的に定義されます。</block>
  <block id="3418e818bbbe397a49b7096a5ed87929" category="cell">SVMの派生物です</block>
  <block id="1545a9d9aae1b8b83497bbe9185d348b" category="cell">CHAPを使用してONTAP SANドライバのiSCSIを認証します（ブーリアン）。をに設定します<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> Astra Tridentでは、バックエンドで指定されたSVMのデフォルト認証として双方向CHAPを設定して使用します。を参照してください <block ref="866e591dc2a03ecc454dad25a664ca86" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="2da9f60cc5b99a5987580c38e6db0842" category="cell">信頼された CA 証明書の Base64 エンコード値。任意。証明書ベースの認証に使用されます。</block>
  <block id="394d848f17683e31e21f6cde5fd9e3e4" category="cell">ONTAP クラスタとの通信に必要なユーザ名。クレデンシャルベースの認証に使用されます。</block>
  <block id="6f0acf4836d44b03512e1caa0d774777" category="cell">ONTAP クラスタとの通信にパスワードが必要です。クレデンシャルベースの認証に使用されます。</block>
  <block id="a0de2cc0c77c388210e1f48423eea29c" category="cell">SVM で新しいボリュームをプロビジョニングする際に使用するプレフィックスを指定します。あとから変更することはできません。このパラメータを更新するには、新しいバックエンドを作成する必要があります。</block>
  <block id="e54cbd8ca5da26dc7e4be3bbfd23467e" category="cell">使用率がこの割合を超えている場合は、プロビジョニングが失敗します。NetApp ONTAP バックエンドにAmazon FSXを使用している場合は、指定しないでください <block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>。提供された<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> および<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> アグリゲートの使用状況を取得し、Astra Tridentを使用して制限するために必要な権限が含まれていない。</block>
  <block id="f804cd6668c0728e26448509210268d3" category="cell">要求されたボリュームサイズがこの値を超えている場合、プロビジョニングが失敗します。また、qtreeおよびLUNに対して管理するボリュームの最大サイズを制限します。</block>
  <block id="b3a74fee006256ec5d63fe251b553f1d" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：{"API"：false、"method"：true}は、トラブルシューティングを行って詳細なログダンプが必要な場合を除き、使用しません。</block>
  <block id="cc30671ec52693851659adb7020e02b1" category="cell">ONTAP REST API を使用するためのブーリアンパラメータ。* テクニカルプレビュー *<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> は、**テクニカルプレビュー**として提供されています。テスト環境では、本番環境のワークロードでは推奨されません。に設定すると<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Astra Tridentは、ONTAP REST APIを使用してバックエンドと通信します。この機能にはONTAP 9.11.1以降が必要です。また、使用するONTAP ログインロールにはへのアクセス権が必要です<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> アプリケーション：これは事前定義されたによって満たされます<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> および<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> ロール。<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> は、MetroCluster ではサポートされていません。</block>
  <block id="c59183b2f668b355e81e7bb1256f92b3" category="paragraph">これらのオプションを使用して、のデフォルトプロビジョニングを制御できます<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> 設定のセクション。例については、以下の設定例を参照してください。</block>
  <block id="d4fbfa2dd496728ba6294eb840ce25eb" category="cell">作成したボリュームに割り当てる QoS ポリシーグループ。ストレージプール / バックエンドごとに QOSPolicy または adaptiveQosPolicy のいずれかを選択します。Trident が Astra で QoS ポリシーグループを使用するには、 ONTAP 9.8 以降が必要です。非共有のQoSポリシーグループを使用して、各コンスティチュエントに個別にポリシーグループを適用することを推奨します。共有 QoS ポリシーグループにより、すべてのワークロードの合計スループットに対して上限が適用されます。</block>
  <block id="b71ccf1062cee8c376a7eb37e3c42603" category="cell">LUKS暗号化を有効にします。を参照してください <block ref="569f9f91cdcc19909b8acbf6f423daf7" category="inline-link-macro-rx"></block>。</block>
  <block id="e62f5d0a5a95571e25197caafe78cd98" category="section-title">ボリュームプロビジョニングの例</block>
  <block id="1b9ef354b22d8a8b125247fd538da4b2" category="section-title">仮想プールを使用するバックエンドの例</block>
  <block id="15b57a79ac72161839107ffc66c3cd5b" category="paragraph">次のバックエンド定義ファイルの例では、などのすべてのストレージプールに対して特定のデフォルトが設定されています<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> 「なし」の場合は、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> との誤り<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> 実行されます。仮想プールは、ストレージセクションで定義します。</block>
  <block id="dbd1f003df542a684d9c10246dc8a88f" category="paragraph">Astra Tridentは、[Comments]フィールドにプロビジョニングラベルを設定します。FlexVol にコメントが設定されます。Astra Tridentは、プロビジョニング時に仮想プール上にあるすべてのラベルをストレージボリュームにコピーします。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="615c9f89b360c50cfba2b2de02584387" category="paragraph">次のStorageClass定義は、上記の仮想プールを参照しています。を使用する<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 各ストレージクラスは、ボリュームのホストに使用できる仮想プールを呼び出します。ボリュームには、選択した仮想プール内で定義された要素があります。</block>
  <block id="6967d2f650cb483604470074babc7e49" category="list-text">最初のストレージクラス <block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix="(" category="inline-code"></block>）を使用して、の1番目の2番目の仮想プールにマッピングします<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> のバックエンドと最初の仮想プール<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> バックエンド：ゴールドレベルの保護を提供している唯一のプールです。</block>
  <block id="fbec52fab850807a16609bbdc348a22c" category="list-text">2つ目のStorageClass <block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix="(" category="inline-code"></block>）は、の3番目の4番目の仮想プールにマッピングされます<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> バックエンドと、の2番目の3番目の仮想プール<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> バックエンド：金色以外の保護レベルを提供する唯一のプールです。</block>
  <block id="1e5b2ff70009afbcceab93e3227617bd" category="list-text">第3のストレージクラス <block ref="65846755494383158592c748f74421ec" prefix="(" category="inline-code"></block>）は、の4番目の仮想プールにマッピングされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> のバックエンドおよび3番目の仮想プール<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> バックエンド：mysqldb タイプのアプリケーション用のストレージプール設定を提供しているプールは、これらだけです。</block>
  <block id="52b4b6b0859604e480b790040aafe0d3" category="list-text">第4のストレージクラス <block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix="(" category="inline-code"></block>）は、の3番目の仮想プールにマッピングされます<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> バックエンドとの2番目の仮想プール<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> バックエンド：ゴールドレベルの保護を提供している唯一のプールは、 20000 の利用可能なクレジットポイントです。</block>
  <block id="67ce738597c25b9a15f0eafcd519fcfc" category="list-text">第5のストレージクラス <block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix="(" category="inline-code"></block>）は、の2番目の仮想プールにマッピングされます<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> のバックエンドおよび3番目の仮想プール<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> バックエンド：5000 ポイントの利用可能な唯一のプールは以下のとおりです。</block>
  <block id="065b7cc24b33be7af1e15f59024402d2" category="paragraph">Tridentが、どの仮想プールを選択するかを判断し、ストレージ要件を確実に満たすようにします。</block>
  <block id="c632eed28bf53466df8b8a33aedab3af" category="list-text">仮想プール（存在する場合）は、元のバックエンドと同じ順序である必要があります。</block>
  <block id="87a522ecb9df14bf978f6f1da8a654a8" category="list-text">を削除しても、送信元PVCへのアクセスを取り消すことはできません<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> または<block ref="11650d25d20af47978d85fd6e19c89aa" prefix=" " category="inline-code"></block> 注釈またはを削除します<block ref="d6995f631b22fb3f8e94aad1b40d1280" prefix=" " category="inline-code"></block> CR。アクセスを取り消すには、下位PVCを削除する必要があります。</block>
  <block id="1b9b62ce5b41c05a88e439d4ddbaf2c3" category="paragraph">Azure NetApp Files （ANF）をAstra Tridentのバックエンドとして設定できます。ANFバックエンドを使用してNFSボリュームとSMBボリュームを接続できます。</block>
  <block id="41a45a3b55b7354dab0d81bb0ad06493" category="cell">プロトコル LIF の IP アドレス。を指定することを推奨します<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。指定しない場合は、Astra TridentがSVMからデータLIFを取得します。NFSマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定して、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散することができます。初期設定後に変更できます。を参照してください <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。を使用してAstra Tridentをインストールした場合、IPv6アドレスを使用するようにを設定できます<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> フラグ。IPv6アドレスは、[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]などの角かっこで定義する必要があります。</block>
  <block id="ae8df8316f5c485b7db4e7141e899701" category="cell">指定されたアドレス、または指定されていない場合はSVMから取得されるアドレス（非推奨）</block>
  <block id="ad898a5f5863162f9c13e958485877d5" category="cell">エクスポートポリシーの自動作成と更新を有効にします[ブーリアン]。を使用する<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> および<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block> ネットアップのAstra Tridentなら、エクスポートポリシーを自動的に管理できます。</block>
  <block id="61d28c885ea44666257b77069a1c5c61" category="cell">KubernetesのノードIPをいつからフィルタリングするかを示すCIDRsのリスト<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> が有効になります。を使用する<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> および<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block> ネットアップのAstra Tridentなら、エクスポートポリシーを自動的に管理できます。</block>
  <block id="82530dd92610570d634788e7fac29c1b" category="cell">使用率がこの割合を超えている場合は、プロビジョニングが失敗します。* Amazon FSX for ONTAP * には適用されません</block>
  <block id="9f0e1cc91ea4107261588e8f1bd02d07" category="cell">要求されたボリュームサイズがこの値を超えている場合、プロビジョニングが失敗します。また、qtreeおよびLUN用に管理するボリュームの最大サイズも制限します<block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix=" " category="inline-code"></block> オプションを使用すると、FlexVol あたりの最大qtree数をカスタマイズできます。</block>
  <block id="5c8b39f8ec19acb1fddb0b5c021f090d" category="cell">トラブルシューティング時に使用するデバッグフラグ。例：{"API"：false、"method"：true}は使用されません<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> トラブルシューティングを実行していて、詳細なログダンプが必要な場合を除きます。</block>
  <block id="b660669829d401dc613c20939ed01e6e" category="cell">NFSマウントオプションをカンマで区切ったリスト。Kubernetes永続ボリュームのマウントオプションは通常はストレージクラスで指定されますが、ストレージクラスでマウントオプションが指定されていない場合、Astra Tridentはストレージバックエンドの構成ファイルで指定されているマウントオプションを使用します。ストレージクラスや構成ファイルにマウントオプションが指定されていない場合、Astra Tridentは関連付けられた永続的ボリュームにマウントオプションを設定しません。</block>
  <block id="a2b63939d1ced2a10bc8dec4d3ef2604" category="cell">NFSボリュームの場合は「777」、SMBボリュームの場合は空（該当なし）</block>
  <block id="97ff13c76d92207c0bae60ad6c586e7e" category="example-title">&lt;code&gt; Ons-NAS-エコノミー&lt;/code&gt; のデフォルトオプション</block>
  <block id="e7a2472a002479764cade728d64dcd9e" category="example-title">証明書ベースの認証</block>
  <block id="30cc3e263c594cde4b2a573283348bb1" category="example-title">自動エクスポートポリシー</block>
  <block id="41dfe08f09251bf83a4f15ec1a47eebe" category="paragraph">以下の例は、動的なエクスポートポリシーを使用してエクスポートポリシーを自動的に作成および管理するようにAstra Tridentに指示する方法を示しています。これは、でも同様に機能します<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> および<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="0491780b1bb26f4feb8296034f975c9e" category="listing-title">&lt;code&gt; ONTAP-NAS-flexgroup &lt;/code&gt; ドライバ</block>
  <block id="85435c5aae5ecdb04ef9ad8f7d48e88a" category="example-title">IPv6アドレスを使用している</block>
  <block id="0275de02c3bba722f4540469d23cc535" category="paragraph">この例は、を示しています<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> IPv6アドレスを使用している。</block>
  <block id="258c5f2b91a253fe5e571b9c11f63b78" category="section-title"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block> SMBボリュームを使用するAmazon FSX for ONTAP 用のドライバ</block>
  <block id="bc0c77920482bbcdc79d8f24445101e0" category="paragraph">Astra Tridentは、[Comments]フィールドにプロビジョニングラベルを設定します。のFlexVol にコメントが設定されています<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> またはFlexGroup for<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>。Astra Tridentは、プロビジョニング時に仮想プール上にあるすべてのラベルをストレージボリュームにコピーします。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="433d360055061e28891915649702a7dc" category="example-title">&lt;code&gt; ONTAP - NAS &lt;/code&gt; ドライバ</block>
  <block id="5564b8ae7f180399e8901d4ea051ce57" category="example-title">&lt;code&gt; ONTAP-NAS-エコノミー&lt;/code&gt; ドライバ</block>
  <block id="0bd54df5242a2a2e9eca045fc695b41f" category="section-title">更新<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 初期設定後</block>
  <block id="d0b121ba3c5e39bba858ccfcf5a75957" category="paragraph">初期設定後にデータLIFを変更するには、次のコマンドを実行して、更新されたデータLIFを新しいバックエンドJSONファイルに指定します。</block>
  <block id="3fa13ec46a3746ee36c97d65fa53f096" category="admonition">PVCが1つ以上のポッドに接続されている場合は、対応するすべてのポッドを停止してから、新しいデータLIFを有効にするために稼働状態に戻す必要があります。</block>
  <block id="a84a64b02579dc14f89cbfdf30b6e938" category="list-text">ログの保持期間は、で指定できます<block ref="86339c2ed773d5bd944b82d3086d3477" prefix=" " category="inline-code"></block> フラグ。例：<block ref="e238339d491d4840f7d8e509bdbb7b63" prefix=" " category="inline-code"></block>。この情報は、を介して収集および送信されます<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block> TridentがAstraと一緒にインストールされるコンテナ。コンテナイメージは、で取得できます<block ref="1b00454f0ab35dcec2ee1a0061efc6e5" category="inline-link-rx"></block>。</block>
  <block id="76b4586b7207f884c66397194b773e14" category="summary">Amazon FSX for ONTAP のバックエンド構成オプションについて説明します。ここでは、バックエンドの設定例を示します。</block>
  <block id="bf432628a3769cd379c6784688db312f" category="cell">プロトコル LIF の IP アドレス。* ONTAP NASドライバ*：データLIFを指定することを推奨します。指定しない場合は、Astra TridentがSVMからデータLIFを取得します。NFSマウント処理に使用するFully Qualified Domain Name（FQDN；完全修飾ドメイン名）を指定して、ラウンドロビンDNSを作成して複数のデータLIF間で負荷を分散することができます。初期設定後に変更できます。を参照してください <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。* ONTAP SANドライバ*: iSCSIには指定しないでくださいTridentがONTAP の選択的LUNマップを使用して、マルチパスセッションの確立に必要なiSCSI LIFを検出します。データLIFが明示的に定義されている場合は警告が生成されます。を使用してAstra Tridentをインストールした場合、IPv6アドレスを使用するようにを設定できます<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> フラグ。IPv6アドレスは、[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]などの角かっこで定義する必要があります。</block>
  <block id="508e91a481a0d10be716ae1a501447d0" category="cell">「[0.0.0.0/0]、「::/0」」」</block>
  <block id="b8c7e19ba614c29878588409008e29c6" category="cell">クラスタまたはSVMに接続するためのユーザ名。クレデンシャルベースの認証に使用されます。たとえば、vsadminのように指定します。</block>
  <block id="9a2486a943ad2a4c99f2797d6984f3d0" category="cell">クラスタまたはSVMに接続するためのパスワード。クレデンシャルベースの認証に使用されます。</block>
  <block id="6018b4c39d938c6589decae81b54c6f0" category="cell">SVM管理LIFが指定されている場合に生成されます。</block>
  <block id="4cba35e041b22828be7c835295ee9102" category="cell">SVM で新しいボリュームをプロビジョニングする際に使用するプレフィックスを指定します。作成後に変更することはできません。このパラメータを更新するには、新しいバックエンドを作成する必要があります。</block>
  <block id="2b3e2c0490ded1bc79028dd367358b9d" category="cell">* NetApp ONTAP にはAmazon FSXを指定しないでください。*提供されている<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> および<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> アグリゲートの使用状況を取得し、Astra Tridentを使用して制限するために必要な権限が含まれていない。</block>
  <block id="86f4c9647fe8f4c500055c772753cc6f" category="cell">使用しないでください。</block>
  <block id="bd4c4a75acd87c86694e9aca1e4050e2" category="cell">FlexVol あたりの最大LUN数。有効な範囲は50、200です。SANのみ。</block>
  <block id="e939be085c2babe4ff0f08e09d0cdfd2" category="cell">NFSボリュームまたはSMBボリュームの作成を設定オプションはです<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>、またはnull。*をに設定する必要があります<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> SMBボリューム。*をnullに設定すると、デフォルトでNFSボリュームが使用されます。</block>
  <block id="2ab2b81dde76a2ec7ed3798f1538f823" category="cell">ONTAP REST API を使用するためのブーリアンパラメータ。* テクニカルプレビュー *<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> は、**テクニカルプレビュー**として提供されています。テスト環境では、本番環境のワークロードでは推奨されません。に設定すると<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Astra Tridentは、ONTAP REST APIを使用してバックエンドと通信します。この機能にはONTAP 9.11.1以降が必要です。また、使用するONTAP ログインロールにはへのアクセス権が必要です<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> アプリケーション：これは事前定義されたによって満たされます<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> および<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> ロール。</block>
  <block id="f9d8bcec134b3ae3cb7aaac7048373ee" category="cell">作成したボリュームに割り当てる QoS ポリシーグループ。ストレージプールまたはバックエンドごとに、QOSPolicyまたはadaptiveQosPolicyのいずれかを選択します。Trident が Astra で QoS ポリシーグループを使用するには、 ONTAP 9.8 以降が必要です。非共有のQoSポリシーグループを使用して、各コンスティチュエントに個別にポリシーグループを適用することを推奨します。共有 QoS ポリシーグループにより、すべてのワークロードの合計スループットに対して上限が適用されます。</block>
  <block id="a8fe789c9febc6b76736fb83c90df2b7" category="cell">アダプティブ QoS ポリシーグループ：作成したボリュームに割り当てます。ストレージプールまたはバックエンドごとに、QOSPolicyまたはadaptiveQosPolicyのいずれかを選択します。経済性に影響する ONTAP - NAS ではサポートされません。</block>
  <block id="8336fb38c3b943161d5d6e73af8f4a12" category="cell">LUKS暗号化を有効にします。を参照してください <block ref="3646c7a69a11bdd94c010bf856bda313" category="inline-link-macro-rx"></block>。SANのみ。</block>
  <block id="8ba802b52dc84f4e82bfbbf2e2d4a807" category="cell">新しいボリュームのモード。* SMBボリュームは空にしておきます。*</block>
  <block id="ce627e1ba8a6bccff2793f66b44012fa" category="cell">「」</block>
  <block id="88b0b88c998957f004af42563d5e5b40" category="paragraph">を使用します<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>、<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>および<block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>を使用して、SMBボリュームを指定し、必要なActive Directoryクレデンシャルを指定できます。SMBボリュームは、を使用してサポートされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ドライバーのみ。</block>
  <block id="98e45a92edd75cce26a32a68de45f178" category="summary">バックエンドは、 Astra Trident とストレージシステムの関係を定義します。Trident がストレージシステムとの通信方法を Trident から指示し、 Astra Trident がボリュームをプロビジョニングする方法も解説します。</block>
  <block id="a576cff5a76e67426a0051b7e1b93331" category="paragraph">Astra Tridentは、ストレージクラスによって定義された要件に一致するストレージプールをバックエンドから自動的に提供します。ストレージシステムにバックエンドを設定する方法について説明します。</block>
  <block id="92c602e77579e8a5989f77c799538f4e" category="paragraph">CSI Trident の 20.04 リリースでは、 ONTAP バックエンドのエクスポートポリシーを動的に管理できます。これにより、ストレージ管理者は、明示的なルールを手動で定義するのではなく、ワーカーノードの IP で許容されるアドレススペースを指定できます。エクスポートポリシーの管理が大幅に簡易化され、エクスポートポリシーを変更しても、ストレージクラスタに対する手動の操作は不要になります。さらに、この方法を使用すると、ストレージクラスタへのアクセスを指定した範囲内のIPを持つワーカーノードだけに制限できるため、きめ細かい管理が可能になります。</block>
  <block id="82e9e9b5fadbd07fd12a8a3291248581" category="admonition">この機能を使用する場合は、SVMのルートジャンクションに、ノードのCIDRブロックを許可するエクスポートルール（デフォルトのエクスポートポリシーなど）を含む事前に作成したエクスポートポリシーがあることを確認する必要があります。ネットアップが推奨する、 Astra Trident 専用のベストプラクティスを常に守ってください。</block>
  <block id="262309361fe5b6dcda3a2eae08a48c2d" category="section-title">適切なツールを選択する</block>
  <block id="82ee439808998e63e6868ec2c2945ec9" category="paragraph">ドライバを組み合わせて使用する場合は、NFSツールとiSCSIツールをインストールする必要があります。</block>
  <block id="2cb4ed05fbad97efb755e294c572862d" category="paragraph-title">NFSツール</block>
  <block id="a9e67ed867ad461570158dca74719f75" category="paragraph">NFSツールを使用している場合は、次の手順でインストールします。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>、<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block></block>
  <block id="0172151d0fbf6ae973feaaaf8a2c1b3a" category="paragraph-title">iSCSIツール</block>
  <block id="b7ebd185ede5c83487cb4ac908bab891" category="paragraph">使用する場合はiSCSIツールをインストールします。<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="d3d338d650fae8dd20bbce45831b41a9" category="admonition">最新バージョンのRed Hat CoreOSには、デフォルトでNFSとiSCSIがインストールされています。</block>
  <block id="b5a99bc586551f60f1fa102fcf3a90de" category="paragraph">Astra Tridentは、ノードでiSCSIサービスやNFSサービスを実行できるかどうかを自動的に検出しようとします。</block>
  <block id="6a9c3f120f628091afbdc5343cbbe0e1" category="paragraph-title">イベントを確認します</block>
  <block id="331ef15228e3a5548d228c3aea284e38" category="paragraph">Astra Tridentが、検出されたサービスを特定するためのイベントをノードに対して作成次のイベントを確認するには、を実行します。</block>
  <block id="70db3e5b82bc8c7ce4389fe8a025df28" category="paragraph-title">検出されたサービスを確認</block>
  <block id="ce31bc8e7fc118dd3b337bcf4c41e399" category="paragraph">Astra Tridentは、TridentノードCRの各ノードで有効になっているサービスを識別します。検出されたサービスを表示するには、を実行します。</block>
  <block id="eeacf148d8ecc80cfae337218dd81f43" category="paragraph">オペレーティングシステム用のコマンドを使用して、NFSツールをインストールします。ブート時にNFSサービスが開始されていることを確認します。</block>
  <block id="7b05c6f5db7b1690970d79c209e667fc" category="admonition">NFSツールをインストールしたあとにワーカーノードをリブートして、コンテナにボリュームを接続する際の障害を回避します。</block>
  <block id="66ccc45f9958fe5f1a0ef0427d36d4c3" category="paragraph">Astra Tridentを使用すると、iSCSIセッションを自動的に確立し、LUNをスキャンし、マルチパスデバイスを検出してフォーマットし、ポッドにマウントできます。</block>
  <block id="e81b5ef34c686914f0cc58204241cace" category="section-title">iSCSIの自己回復機能</block>
  <block id="f0621bdb4caa030dcd0bb9924891842e" category="paragraph">ONTAP システムでは、Astra TridentがiSCSIの自己修復機能を5分ごとに実行し、以下を実現します。</block>
  <block id="432fa9215202553559f7b2d4d10ef5ee" category="list-text">*希望するiSCSIセッションの状態と現在のiSCSIセッションの状態を識別します</block>
  <block id="fdb53d548f3fa1b93129b49ad4bc7990" category="list-text">*希望する状態と現在の状態を比較して、必要な修理を特定します。Astra Tridentが、修理の優先順位と、修理に先手を打つタイミングを判断</block>
  <block id="587fcf25ecbc5ff7cf19f7b1a159b5e9" category="list-text">*現在のiSCSIセッションの状態を希望するiSCSIセッションの状態に戻すために必要な修復*を実行します。</block>
  <block id="aa66c6c24f8a8540d1582c79e4534c94" category="admonition">自己回復アクティビティのログはにあります<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block> 各Demonsetポッドにコンテナを配置します。ログを表示するには、を設定しておく必要があります<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block> Astra Tridentのインストール中に「true」に設定。</block>
  <block id="0be81019f18cde342a2e6728cbcb66cc" category="paragraph">Astra Tridentの自動修復機能は、次のような問題を防止します。</block>
  <block id="4b42deda281d95aafb0896a44484007a" category="list-text">ネットワーク接続問題 後に発生する可能性がある古いiSCSIセッションまたは正常でないiSCSIセッション。古いセッションの場合、Astra Tridentは7分待機してからログアウトし、ポータルとの接続を再確立します。</block>
  <block id="39460cb84da78b4a87c2014972b2f901" category="admonition">たとえば、ストレージコントローラでCHAPシークレットがローテーションされた場合にネットワークが接続を失うと、古い（_stale_）CHAPシークレットが保持されることがあります。自己修復では、これを認識し、自動的にセッションを再確立して、更新されたCHAPシークレットを適用できます。</block>
  <block id="9e9d382760025434fdf113f91e894cf4" category="list-text">iSCSIセッションがありません</block>
  <block id="3f7bf0ef305a15c68efdc95a50750bd0" category="list-text">LUNが見つかりません</block>
  <block id="15ffa30c3d1ab6322e5ff52935a86a50" category="section-title">iSCSIツールをインストール</block>
  <block id="10ff9e1b33974d06317ff739498154ce" category="paragraph">使用しているオペレーティングシステム用のコマンドを使用して、iSCSIツールをインストールします。</block>
  <block id="10cb395bb5e153418168602ad95831fb" category="list-text">iSCSI PVSを搭載したRHEL / RedHat CoreOSを実行するワーカーノードを使用する場合は、を指定します<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block> StorageClassのmountOptionを使用して、インラインのスペース再生を実行します。を参照してください<block ref="166e862efdc516354d90f75a38532ddd" category="inline-link-rx"></block>。</block>
  <block id="0dfbc86ddb50cb439c7039bbf012a2b6" category="admonition">iSCSIツールをインストールしたあとにワーカーノードをリブートして、コンテナにボリュームを接続する際の障害を回避します。</block>
  <block id="3aa4918283a3160586bdbe1e76a338f3" category="example-title">例4：仮想プールの構成</block>
  <block id="baca3a42ff523348689308c7bd411b38" category="paragraph">このバックエンド構成では、 1 つのファイルに複数のストレージプールを定義します。これは、異なるサービスレベルをサポートする複数の容量プールがあり、それらを表すストレージクラスを Kubernetes で作成する場合に便利です。プールを区別するために、仮想プールのラベルを使用しました<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block>。</block>
  <block id="6d0abb9b77cb1a57bf68282003ad11b9" category="list-text">すべての Kubernetes ワーカーノードに適切な iSCSI ツールをインストールする必要があります。を参照してください <block ref="073953144b84efd85603bb3d49521e06" category="inline-link-macro-rx"></block>。</block>
  <block id="bfd7bf04b3d28a42267e8d1b30a05f01" category="section-title">例2：のバックエンドとストレージクラスの設定<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 仮想プールを備えたドライバ</block>
  <block id="418ff75ccabac38370cc8570721746a3" category="paragraph">この例は、仮想プールとともに、それらを参照するStorageClassesとともに構成されているバックエンド定義ファイルを示しています。</block>
  <block id="d0f8c7d1b12ede190acf9656da99c079" category="paragraph">Astra Tridentは、ストレージプール上にあるラベルを、プロビジョニング時にバックエンドストレージLUNにコピーします。ストレージ管理者は、仮想プールごとにラベルを定義したり、ボリュームをラベルでグループ化したりできます。</block>
  <block id="8a6b9ec0e0eb9c6a3e520af66cffd466" category="paragraph">以下に示すバックエンド定義ファイルの例では、すべてのストレージプールに対して特定のデフォルトが設定されています。これにより、が設定されます<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block> シルバー。仮想プールは、で定義されます<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> セクション。この例では、一部のストレージプールで独自のタイプが設定されており、一部のプールでは上記で設定したデフォルト値が上書きされます。</block>
  <block id="d17a2942ee77aa1532660a5f0cf0d6e5" category="paragraph">最初のストレージクラス <block ref="166028d9a95f5465a6ae917e6e089ce6" prefix="(" category="inline-code"></block>）を選択すると、最初の仮想プールにマッピングされます。ゴールドのパフォーマンスを提供する唯一のプール<block ref="89bf6c97f9a3eaea76c86df0086361bc" prefix=" " category="inline-code"></block> 金の。最後のストレージクラス <block ref="b4457b3eeca98cadb51648f8fcef36cb" prefix="(" category="inline-code"></block>）Silverパフォーマンスを提供するストレージプールをすべて特定します。Tridentが、どの仮想プールを選択するかを判断し、ストレージ要件を確実に満たすようにします。</block>
  <block id="7ac6994e44af62a9075fd956e72ee6fb" category="paragraph">バックエンド定義は、クレデンシャルがプレーンテキストで保存される唯一の場所であることに注意してください。バックエンドが作成されると、ユーザ名とパスワードが Base64 でエンコードされ、 Kubernetes シークレットとして格納されます。クレデンシャルの知識が必要なのは、バックエンドの作成または更新だけです。この処理は管理者専用で、 Kubernetes / ストレージ管理者が実行します。</block>
  <block id="f1fe71442cd08e74d342114df7ee1551" category="sidebar">Astra Trident をインストール</block>
  <block id="46921a75e8534ad7d1c379a9e3aec033" category="sidebar">インストールの概要</block>
  <block id="3183dc3907c0b67930b221a316c94cb2" category="sidebar">Tridentオペレータを使用してインストール</block>
  <block id="ca19905e19a036badc8a33897130382d" category="sidebar">Tridentオペレータを手動で導入（標準）</block>
  <block id="ef39c7f15f2671234f3264999cce5679" category="sidebar">Tridentオペレータを手動で導入（オフライン）</block>
  <block id="0f441bb0252fa34f85fc82a08f2db0c7" category="sidebar">Trident Helmチャートを使用（標準）</block>
  <block id="70eb578fbddf25c465d8f4886be750b7" category="sidebar">Trident Helmチャートを使用（オフライン）</block>
  <block id="71f5771dab663d80ba4dad1627e3386a" category="sidebar">アップグレードの概要</block>
  <block id="301ebdf8067a213d5a55c65fbb488290" category="sidebar">セキュリティに関する推奨事項</block>
  <block id="58834b137fd6fa7a9ca23468a5c91fd6" category="sidebar">設定を準備</block>
  <block id="6fc0b7515ecca271c88eae4a685da613" category="sidebar">NetApp HCI またはSolidFire</block>
  <block id="60be48bb4b3314965bf50e88e7ae728c" category="sidebar">Amazon FSX for ONTAP を統合します</block>
  <block id="ea3d51fb2b16acb7cb260f25bc8965b1" category="sidebar">Astra Trident は、ネットアップが管理しているオープンソースのストレージプロビジョニングおよびオーケストレーションツールです。このコンテナを使用すると、 Docker と Kubernetes で管理されるコンテナ化アプリケーション用のストレージボリュームを作成できます。</block>
  <block id="e267c2490c7d73d0ffa909b77267cfaf" category="inline-link-macro">Astra Controlレプリケーションの前提条件</block>
  <block id="9814801b0db6e324ebd72f671418de64" category="paragraph">Astra Controlは、で作成したボリュームに対して、シームレスな保護、ディザスタリカバリ、および移動（Kubernetesクラスタ間でボリュームを移動）を提供します<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>および<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ドライバ。を参照してください <block ref="dfc981ac97be73172a3119f3b831eaf8" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="783c2760a502e1f1537de458c9dceb7a" category="list-text">を使用する必要があります<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> データ保護、ディザスタリカバリ、モビリティを必要とする本番環境のワークロード向けのサービスです。</block>
  <block id="a743248a7032cdf1d468935cf180bdee" category="list-text">使用<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 想定されるボリューム使用量がONTAP でサポートされる量よりも大幅に多い場合</block>
  <block id="0655cc918eb576b740cfd35bbff9c8ac" category="list-text">使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 想定されるボリューム使用量が、ONTAP でサポートされるおよびよりも大幅に多い場合にのみ該当します<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ドライバは使用できません。</block>
  <block id="df7dec428425115b59101028bbebe58c" category="list-text">使用しないでください<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> データ保護、ディザスタリカバリ、モビリティのニーズが予想される場合。</block>
  <block id="f5d176b3de4662ca3603a69ab08bc166" category="paragraph">プロビジョニングされたNFSボリュームにアクセスするためのNASオプション。</block>
  <block id="053b422d907cb55ac105c173adde1080" category="paragraph">NFSのサポート<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> および<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> セキュリティ形式デフォルトはです<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。</block>
  <block id="69f25314e2d927ebcaa0f19c9f2a57da" category="paragraph"><block ref="4913a9178621eadcdf191db17915fbcb" prefix="" category="inline-code"></block></block>
  <block id="2bd69c3354973375e1abed3c9beb1eff" category="cell"><block ref="f777ab485270937cd9b9efc63021484f" prefix="" category="inline-code"></block></block>
  <block id="767b06b78582b463da02281e05c82e45" category="cell"><block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix="" category="inline-code"></block></block>
  <block id="11d7f0efe30199fc66cbc43c427e147d" category="cell">新しいボリュームのセキュリティ形式。*をに設定する必要があります<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> または<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> SMBボリューム*</block>
  <block id="e76ea7f2be658dc914f9c95fe8d14fcf" category="cell"><block ref="68e98b83f5bd746f1468dff89f529d1b" prefix="" category="inline-code"></block> または<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> SMBボリュームの場合</block>
  <block id="375aa0b790f300787cdecf0f896b97f5" category="cell">新しいボリュームのセキュリティ形式。NFSのサポート<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> および<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> セキュリティ形式SMBはをサポートします<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> および<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> セキュリティ形式</block>
  <block id="4a359bdcdb3ce547581bdea3ce6c5bd7" category="cell">NFSのデフォルトはです<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。SMBのデフォルトはです<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>。</block>
  <block id="15bee4120a83692e1e575f756f0259e2" category="admonition"><block ref="ed48900d86ac476d7fed80ae1701877f" prefix="" category="inline-code"></block> SMBボリュームをサポートするプールでフィルタリングします。<block ref="7b2498fa5e66ef102dc531d0bf5c27a4" prefix=" " category="inline-code"></block> または<block ref="45e1f49760c85197cd1d0fb6ee50f180" prefix=" " category="inline-code"></block> NFSプールに対してフィルタを適用します。</block>
  <block id="36b8e64fc53799e09b318940d0d01c3b" category="admonition">Astra TridentがインストールされているKubernetesクラスタを1.24から1.25以降にアップグレードする前に、を参照してください <block ref="b78a528fa331707807c1d5b493daab09" category="inline-link-macro-rx"></block>。</block>
  <block id="e69dee79b2104ff7c08b095e6212f492" category="list-text">Astra TridentがインストールされているKubernetesクラスタを1.24から1.25以降にアップグレードする場合は、value.yamlを更新して設定する必要があります<block ref="94ef2a130a825358ab3002442d6e5145" prefix=" " category="inline-code"></block> 終了：<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> または、を追加します<block ref="96d5d0b9a6e3e01b2ae2ed889f75d22e" prefix=" " category="inline-code"></block> に移動します<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> コマンドを実行してからクラスタをアップグレードしてください。</block>
  <block id="412b252fa44d1a73e3e7bf22113f99a2" category="listing-title">ONTAP - NAS ドライバ</block>
  <block id="b3735f022036728c24121c449da97183" category="inline-link-macro">TridentとCSIの画像</block>
  <block id="c4ffea098f78924a9b9331b8f5e9c8b4" category="open-title">1つのレジストリ内のイメージ</block>
  <block id="4847c552b2ff9251806e41c8fa907e19" category="open-title">異なるレジストリ内の画像</block>
  <block id="7a958030f69f08aa24ff2b440556c305" category="summary">を使用して、Astra Tridentをインストールできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。このプロセスでは、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されているかどうかに関係なく、環境 のインストールを実行します。</block>
  <block id="9b809d56a3bb0caddcd0793e74d8e636" category="paragraph">を使用して、Astra Tridentをインストールできます<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。このプロセスでは、Astra Tridentで必要なコンテナイメージがプライベートレジストリに格納されているかどうかに関係なく、環境 のインストールを実行します。をカスタマイズします<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 配置については、を参照してください <block ref="8e7a26c9800a78fa0b68fb2423ba3fb4" category="inline-link-macro-rx"></block>。</block>
  <block id="7a79f435dcaa0ca2322cde1d80c13868" category="section-title">ステップ4：Tridentオペレータを導入</block>
  <block id="579b44412770c0d6b65bc3fd9bf7c61c" category="section-title">手順5:でイメージレジストリの場所を更新します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block></block>
  <block id="d0ebde94f92d8c1bae0c6660a5847bba" category="paragraph">。 <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 1つのレジストリまたは別のレジストリに配置できますが、すべてのCSIイメージは同じレジストリに配置する必要があります。更新<block ref="7b4b81fb05ca7f2a09fe73526ac95482" prefix=" " category="inline-code"></block> レジストリ設定に基づいて追加の場所の仕様を追加します。</block>
  <block id="5295ac8fb520b71deb8a1b57857b2562" category="section-title">手順6：を作成します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Tridentをインストール</block>
  <block id="4498f168dfd139c5a90c6acd3ab09109" category="summary">永続ボリューム（PVS）のKubernetesボリュームSnapshot（ボリュームSnapshot）を作成して、Astra Tridentボリュームのポイントインタイムコピーを保持できます。また、既存のボリュームSnapshotから、_ clone__という名前の新しいボリュームを作成することもできます。ボリュームSnapshotは、でサポートされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>、<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>および<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="a6074ca03f6e3e76478b45e15e021b31" category="list-text">を実行します<block ref="9936810e5a43f0fece4628cd1a22fb4d" prefix=" " category="inline-code"></block> 従来のAstra TridentボリュームをCSI仕様にアップグレードするコマンド。</block>
  <block id="ea7cc85727ac6a0761c52685cce336be" category="list-text">Tridentの以前のバージョンにダウングレードする場合は、最初にを実行します<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block> Tridentを削除するコマンド。必要なをダウンロードします<block ref="f3d78353f8dac3e49bbefeb5f6a2383b" category="inline-link-rx"></block> を使用してをインストールします<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> コマンドを実行します新しい PVS が作成されておらず、既存の PVS / バックエンド / ストレージクラスに変更がない場合にのみ、ダウングレードを検討してください。Tridentは現在、状態を維持するためにSSDを使用しているため、作成されたすべてのストレージエンティティ（バックエンド、ストレージクラス、PVS、ボリュームSnapshot）にはが含まれています<block ref="816158c49c5f4417bf3b0f9c644e722e" prefix=" " category="inline-code"></block> 以前にインストールされたTridentのバージョンで使用されていたPVに書き込まれるデータではありません。* 以前のバージョンに戻すと、新しく作成した PVS は使用できなくなります。 * バックエンド、 PVS 、ストレージクラス、ボリュームスナップショット（作成 / 更新 / 削除）などのオブジェクトに加えた変更は、ダウングレード時に Trident に表示されません * 。以前のバージョンの Trident で使用されていた PV は、 Trident から見ることができます。以前のバージョンに戻しても、アップグレードされていないかぎり、以前のリリースを使用してすでに作成された PVS へのアクセスは中断されません。</block>
  <block id="43e6c0a141c1737a96917c56c7e22a73" category="inline-link-macro">&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; を使用したインストール</block>
  <block id="1a2de31d648d8c09e5c2a9257a5ad67b" category="paragraph">既存の環境をアップグレードする必要がある場合や、高度にカスタマイズすることを検討している場合は、アップグレードを検討する必要があります <block ref="e214bf159dbaf6573cfe15f1373b92db" category="inline-link-macro-rx"></block>。これは、従来の方法であった Astra Trident を導入する方法です。</block>
  <block id="19466ff921af5aa01da62b42cdaaf617" category="list-text">Tridentのオペレータが、仕様で指定されている場合にインストールにIPv6 localhostを使用するように修正しました。</block>
  <block id="5b313836498a7a26e99e4f084ee1baec" category="inline-link-macro">問題 #799</block>
  <block id="b2fc842cefdc715af09b8d184e09db56" category="list-text">Trident Operatorクラスタロールの権限が、バンドルの権限と同期されるように修正されました <block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>。</block>
  <block id="97848233b9fe6ae43be1728a4e603020" category="list-text">外部プロセスを完了まで実行できるようにする修正を追加しました。</block>
  <block id="3a35c66b59df0fa02e2490983b964261" category="list-text">RWXモードで複数のノードにrawブロックボリュームを接続することで問題 を修正。</block>
  <block id="21b2b5bca26be7b23af4468b85c68b34" category="list-text">SMBボリュームのFlexGroup クローニングのサポートとボリュームインポートが修正されました。</block>
  <block id="190a9f9a8311c8a23bff1fd7a5693342" category="section-title">23.01の変更点</block>
  <block id="1cb76b1c7887cad1e077a4cbdc765b9b" category="list-text">Astra Tridentのバージョンを確認します。</block>
  <block id="705dbdc50888270bf4b0230d75c7ae1d" category="paragraph">Tridentオペレータは、の属性を使用してAstra Tridentのインストールをカスタマイズできます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 仕様インストールをカスタマイズする場合は、それ以上のカスタマイズが必要です<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 引数allow、使用を検討してください<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 必要に応じて変更するカスタムYAMLマニフェストを生成します。</block>
  <block id="a5199cf0d9f113491f9efa18f3bee2e1" category="section-title">コントローラポッドとノードポッドについて</block>
  <block id="f412c056318f78edc1cce01ed98e751b" category="paragraph">Astra Tridentは、単一のコントローラポッドと、クラスタ内の各ワーカーノード上のノードポッドとして実行されます。Astra Tridentボリュームをマウントするすべてのホストでノードポッドが実行されている必要があります。</block>
  <block id="30735a308956ec6de6caa328d0d5b43b" category="inline-link-macro">ノードセレクタ</block>
  <block id="1db653cf6745dd1e6aa8d6e843ea5e96" category="inline-link-macro">寛容さと汚れ</block>
  <block id="0897b2b75e3d0217c2f6994605a2cae7" category="paragraph">Kubernetes <block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block> および <block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block> は、特定のノードまたは優先ノードで実行されるようにポッドを制限するために使用されます。「ControllerPlugin」およびを使用します<block ref="96687552cc4dff10038a1b07a8bf3bd3" prefix=" " category="inline-code"></block>を使用すると、拘束とオーバーライドを指定できます。</block>
  <block id="e3826c3aea0bf8502f2ba8ff27eeef19" category="list-text">コントローラプラグインは、Snapshotやサイズ変更などのボリュームのプロビジョニングと管理を処理します。</block>
  <block id="361d997e700d422835e56b644784bb7e" category="list-text">ノードプラグインによって、ノードへのストレージの接続が処理されます。</block>
  <block id="1736b3823517cc62395e05494b09ddb9" category="admonition"><block ref="b2c66bca748ffde67c7b6817cb8dd795" prefix="" category="inline-code"></block> は、で指定します<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Astra Tridentがインストールされているネームスペースを指定します。このパラメータ * は、 Astra Trident のインストール後に更新できません * 。これを実行すると、が実行されます<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> ステータスをに変更します<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>。Astra Tridentは、ネームスペース間での移行を意図していません。</block>
  <block id="a739aa7f082abebdf65f4b114dd3ad7d" category="paragraph">このテーブルの詳細<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 属性。</block>
  <block id="b520e4144a27e0f45e8e22d5ccd8328d" category="cell">ポッド用の追加のノードセレクタ。pod.spec.nodeSelector と同じ形式を使用します。</block>
  <block id="e138e2a410035dad85499a3dabe692d5" category="cell">ポッドに対するKubernetesの許容範囲を上書きします。POD .spec.Toleratations と同じ形式を使用します。</block>
  <block id="d4cc4428c9a6422247c8ff288ea4b5eb" category="cell">ポッド用の追加のノードセレクタ。pod.spec.nodeSelector と同じ形式を使用します。</block>
  <block id="a5353a10ead2905c577659fdd805af0a" category="summary">KubernetesクラスタでAstra Tridentを実行する方法をご紹介します。</block>
  <block id="c350769115c3c8e4132e9c428b166b12" category="doc">Astra Tridentのアーキテクチャ</block>
  <block id="d90582d42d65d5af05c3d40ad0eb4987" category="admonition">Azure NetApp Files を初めてまたは新しい場所で使用する場合は、Azure NetApp Files をセットアップしてNFSボリュームを作成するためにいくつかの初期設定が必要です。を参照してください<block ref="b6e93c3bfc36cf835c63e42e55586d97" category="inline-link-rx"></block>。</block>
  <block id="84444089b52eed627a838de74ae8d652" category="section-title">NFSボリュームとSMBボリュームの前提条件</block>
  <block id="99c7065ab76131a7b7763287bb5b6735" category="inline-link-macro">Microsoft：Azure NetApp Files 用の容量プールを作成します</block>
  <block id="ee59ecaa79882c8dc8f7f897c113094a" category="list-text">容量プール。を参照してください <block ref="96caced282b604468ab13f86483cd9f6" category="inline-link-macro-rx"></block>。</block>
  <block id="7ed0731ff411d37210b51a78b95c1fc3" category="inline-link-macro">Microsoft：サブネットをAzure NetApp Files に委任します</block>
  <block id="c896cfae248dc2b000cc04c39d8a8de6" category="list-text">Azure NetApp Files に委任されたサブネット。を参照してください <block ref="795b5e8f62d2267a0996a3b260968048" category="inline-link-macro-rx"></block>。</block>
  <block id="856955b6cbc3fe2168b2dcd43fb0a5dd" category="list-text">オーナーまたは寄与者のロール <block ref="76b3209c91e1786a477c35a6e91cf55f" category="inline-link-macro-rx"></block>。</block>
  <block id="227e516e7258b6dcab3e7bcb4148f7f1" category="paragraph">SMBボリュームを作成するには、以下が必要です。</block>
  <block id="d8c74c31c4550aed073521ba0fb8984a" category="inline-link-macro">Microsoft：Azure NetApp Files のActive Directory接続を作成および管理します</block>
  <block id="6bb7e9dc5268dcbdde1a91b151d9a94b" category="list-text">Active Directoryが設定され、Azure NetApp Files に接続されています。を参照してください <block ref="2f3bcda54aaf4e8e45316bb04708293f" category="inline-link-macro-rx"></block>。</block>
  <block id="3742b45a8312c4721cad63322a4932ac" category="list-text">Azure NetApp Files がActive Directoryに対して認証できるように、Active Directoryクレデンシャルを含むAstra Tridentのシークレットが少なくとも1つ含まれています。シークレットを生成します<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="d924b4945b9cee37e07a2c601d1081be" category="paragraph">このテーブルと<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block> Helmチャートの一部であるファイルには、キーとそのデフォルト値のリストが表示されます。</block>
  <block id="e0e228e32d97e1461cf4492bd5366550" category="cell"><block ref="6370f866cf64618c026027da41bd248e" prefix="" category="inline-code"></block></block>
  <block id="f54139bbd014c510ee9fa277241d4666" category="cell">ポッド割り当てのノードラベル</block>
  <block id="b7f663c63859fec6f7d2f1ecd891de73" category="cell"><block ref="6e0bd2b3fba01f3f74634cfc6fcc31d6" prefix="" category="inline-code"></block></block>
  <block id="6b164b6efa957c912428e089b86ecd45" category="cell">ポッドの注釈</block>
  <block id="4e3c35024b2d124aa9ab33a254e2545c" category="cell"><block ref="7c73e8c8cba054b3164d0b641ef36a41" prefix="" category="inline-code"></block></block>
  <block id="1a6308fa062d92acbff3b1304615d1db" category="cell">配置のアノテーション</block>
  <block id="716c09bbd59aa99d3932f73b7f517b2c" category="cell"><block ref="d6c26478ca41a23cc9741a4e92576269" prefix="" category="inline-code"></block></block>
  <block id="1147c70db6b1e5ac87df9b1ef26ea59a" category="cell">ポッド割り当ての許容値</block>
  <block id="ed550d998ef1de0c69744fb5f7f7173c" category="cell"><block ref="1474047fb00b2d8d95646f7436837ed0" prefix="" category="inline-code"></block></block>
  <block id="064fd06fa9edd7a1e29b4da6fd9a1688" category="cell">ポッド割り当てのアフィニティ</block>
  <block id="b81e781314c37667d0eae6eeba5f0468" category="cell"><block ref="d525dcbea000b0429493d47a891b5ad9" prefix="" category="inline-code"></block></block>
  <block id="85e06bb6e03e71b7708d9d4b6f4967ea" category="cell">ポッド用の追加のノードセレクタ。を参照してください <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> を参照してください。</block>
  <block id="0ccd4d74122ec81d149bc2bb132524d6" category="cell"><block ref="e8c1183eadfdb38078a7bd66bfa038ac" prefix="" category="inline-code"></block></block>
  <block id="74f3be1a07b1f65cef69ac77defaff4b" category="cell">ポッドに対するKubernetesの許容範囲を上書きします。を参照してください <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> を参照してください。</block>
  <block id="c5387f0fc94f27d79519bb1299916e0f" category="cell"><block ref="bc0951b6e57a04c942fe6054649bb323" prefix="" category="inline-code"></block></block>
  <block id="7923027736f9cc9bbc6f6914e020e8a2" category="cell"><block ref="85dec10eb608a93a9febb24b39f5dae5" prefix="" category="inline-code"></block></block>
  <block id="a5dbdd22874a005ac9265ab4869f4b42" category="cell">のレジストリを指定します<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>、<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>、およびその他の画像。デフォルトをそのまま使用する場合は、空のままにします。</block>
  <block id="7211a1f37ce0f92a2727e11de77a5256" category="cell">のイメージプルポリシーを設定します<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="f19aec010e48d5133114e8de96e071cd" category="cell">のイメージプルシークレットを設定します<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>、<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>、およびその他の画像。</block>
  <block id="b8ef31ad215c14ea7ac3aa4744f3b42f" category="cell">kubeletの内部状態のホスト位置を上書きできます。</block>
  <block id="9f61c56640ad918301f4486f261872db" category="cell">'"/var/lib/kubeelet"'</block>
  <block id="5e2907912eaee9094910d428b8f01073" category="cell"><block ref="2d9583aa0b2422324be870c86f92540f" prefix="" category="inline-code"></block></block>
  <block id="a580f5edb0407fe7fc07e03adb88d2be" category="cell">Tridentオペレータのログレベルを次のように設定できます。<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>、<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>、<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>、<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block>、<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block>または<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>。</block>
  <block id="17b455f4f77262089207347508d91156" category="cell"><block ref="94b4515f09a2cc099780cd762366bc78" prefix="" category="inline-code"></block></block>
  <block id="0b401c459e3ff134b1e0ef7924967db5" category="cell"><block ref="844aa3cc935c46477e308955f84504e9" prefix="" category="inline-code"></block></block>
  <block id="0d1fd401e197635acbe814b44cbbe0f0" category="cell">Tridentオペレータのログレベルをdebugに設定できます。</block>
  <block id="e6e859881d25cceaf35be98ff2b495e5" category="cell"><block ref="225eb420f27fc1614025e3e94f1dbcd4" prefix="" category="inline-code"></block></block>
  <block id="3e23960e7162cfc391ab62ee009d09b5" category="cell">のイメージを完全に上書きできます<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="586d412183efcbc76c2b206c73911009" category="cell"><block ref="5a50bd404d515b199254e69f83732c55" prefix="" category="inline-code"></block></block>
  <block id="87a9d5d1548b0e39b7cfe5115c686d2d" category="cell">のタグを上書きできます<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block> イメージ（Image）：</block>
  <block id="ba6229139ac12ca183160040964cdaae" category="cell"><block ref="c185b55e62d1fe703eb97b2a31b6c2a3" prefix="" category="inline-code"></block></block>
  <block id="fbb572d608f0afb5d8449144a2f9e8f3" category="cell">IPv6クラスタでAstra Tridentを動作させることができます。</block>
  <block id="aacf685d031cae06a5c158144296d071" category="cell"><block ref="b958a6de9ca123713491252f2ab02f59" prefix="" category="inline-code"></block></block>
  <block id="f8d2c273db74b394820e68a59b18bfff" category="cell">ほとんどのKubernetes API処理でデフォルトの30秒タイムアウトを上書きします（0以外の場合は秒単位）。</block>
  <block id="2911e600bbad981e24b3e2a2b3a03f82" category="cell"><block ref="cfcd208495d565ef66e7dff9f98764da" prefix="" category="inline-code"></block></block>
  <block id="fbf0a4141bdac5821d271a6c1de1f483" category="cell"><block ref="70b0324e2a65a29bea1b014606caba39" prefix="" category="inline-code"></block></block>
  <block id="d74c6fe1792f46d6c929a448fd8b99cd" category="cell">HTTP要求のデフォルトの90秒タイムアウトをで上書きします<block ref="bb61fa2850d04f4e5e34449de13febe4" prefix=" " category="inline-code"></block> タイムアウトの期間は無限です。負の値は使用できません。</block>
  <block id="ab7c61393023df91a4271d09e26bda15" category="cell"><block ref="558c8a41e3e5c9a0f109be6e60efce8d" prefix="" category="inline-code"></block></block>
  <block id="b2ffdfaa5c81870c0fb113956a7244aa" category="cell"><block ref="141d9fad9dd7e4fec852d6e55f414373" prefix="" category="inline-code"></block></block>
  <block id="595576072ae91fd3ed07cffb0f6bf8dc" category="cell">Astra Tridentの定期的なAutoSupport レポートを無効にできます。</block>
  <block id="22ca6470a16bcd1b3a0fd7b7dc456b4c" category="cell"><block ref="9626ee86c83efe1de7c3f5e2669b4a04" prefix="" category="inline-code"></block></block>
  <block id="afed3cb70fa67ef62195179f6c724664" category="cell">Astra Trident AutoSupport コンテナのイメージのタグを上書きできます。</block>
  <block id="dfdc01cf8fa557986d9b3e8702b6ff1b" category="cell"><block ref="3d689bd3819ead35ed794427bd12f459" prefix="" category="inline-code"></block></block>
  <block id="8639f9efa7d4198eba06690d4a1f0d16" category="cell"><block ref="c370bb44f26914bb0c965f35a89a42f7" prefix="" category="inline-code"></block></block>
  <block id="b830fe1139fea1840be49f78927d6364" category="cell">Astra TridentのAutoSupport コンテナがHTTPプロキシ経由で自宅に通信できるようになります。</block>
  <block id="b081a6c6ed5931a2b55e31e706aae502" category="cell"><block ref="5836094432fed0c547c18869122bbf9a" prefix="" category="inline-code"></block></block>
  <block id="6ea2564bcf36b1d8878738d14312d34e" category="cell">Astra Tridentのログ形式を設定します <block ref="1cb251ec0d568de6a929b520c4aed8d1" prefix="(" category="inline-code"></block> または<block ref="466deec76ecdf5fca6d38571f6324d54" prefix=" " category="inline-code"></block>）。</block>
  <block id="db8e1facb8efde48ce50388e2dc9cfcc" category="cell"><block ref="20cd815523e5806aec29a57282b0d49f" prefix="" category="inline-code"></block></block>
  <block id="4d165b964c1ea4708882da42c3ef5194" category="cell"><block ref="0be533d5261bfa202a27dd6f4a2ff4da" prefix="" category="inline-code"></block></block>
  <block id="67471026c71afd28bcd767ef1006c39a" category="cell">Astra Trident監査ロガーを無効にします。</block>
  <block id="c7bc9c0edf4b3f771388feb15b8ad592" category="cell"><block ref="cd4906de65bd0389fcc62105f05b77d6" prefix="" category="inline-code"></block></block>
  <block id="5f65c3e97612dfc2a1875871e1d5298d" category="cell">Astra Tridentのログレベルを次のように設定できます。<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>、<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>、<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>、<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block>、<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block>または<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>。</block>
  <block id="c97f5436c3ba56768a7996ac0a152830" category="cell"><block ref="efc1e9e3a120c20b12e892ce2f230ff8" prefix="" category="inline-code"></block></block>
  <block id="40caa5c31158e12517414bf1429ad350" category="cell">Astra Tridentのログレベルをに設定できます<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>。</block>
  <block id="3e52a0855ea502bd31c48eb02424ee67" category="cell"><block ref="aaeab2a659f3d6ac5063b6d8a4e7c24a" prefix="" category="inline-code"></block></block>
  <block id="5934b7dd9f1b8b0cd103a9f658e321a2" category="cell">特定のAstra Tridentワークフローを有効にして、トレースロギングやログ抑制を実行できます。</block>
  <block id="66468bda18a84578afccd8255efa1845" category="cell"><block ref="d5c1386f335f8df3cd920142f8ee23b7" prefix="" category="inline-code"></block></block>
  <block id="b09ba1c3bffb182e31b3e02e89809aff" category="cell">特定のAstra Tridentレイヤでトレースロギングやログ抑制を有効にできます。</block>
  <block id="1aaea3b64b47a673c851da63225fddfb" category="cell">Astra Tridentのイメージを完全に上書きできます。</block>
  <block id="a74941f6c96a1995cbfb438419467c32" category="cell"><block ref="fdd0820bbfc488d6a2ccba8ba0f74e73" prefix="" category="inline-code"></block></block>
  <block id="63742b48f6bddb4de8ebee8c4337f07e" category="cell">Astra Tridentのイメージのタグを上書きできます。</block>
  <block id="50c1c44df91bb9f35aaa04b0157d6136" category="cell"><block ref="60c65b849dbb837618645b7860aa608e" prefix="" category="inline-code"></block></block>
  <block id="74b30241e61b88d42e066d77a638a568" category="cell">Kubernetesの活性/準備プローブに使用されるデフォルトポートを上書きできます。</block>
  <block id="e07d4a2a2e6f176011493e3326962c52" category="cell">WindowsワーカーノードにAstra Tridentをインストールできます。</block>
  <block id="b4f36de9fda080c1fd1d9edb1e60e36b" category="cell"><block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix="" category="inline-code"></block></block>
  <block id="0a08ed3de9d17e8644d3e57dc374c3ea" category="cell">強制切り離し機能を有効にできます。</block>
  <block id="632a46acdaa26f30f25b11d5c83eaa58" category="cell"><block ref="94ef2a130a825358ab3002442d6e5145" prefix="" category="inline-code"></block></block>
  <block id="ad77b466842808c8dce5116073a3e52b" category="cell">オペレータポッドのセキュリティポリシーを作成から除外します。</block>
  <block id="31aae55e68bb5034f8f948ec526b9ff3" category="paragraph">既存のバックエンドを更新して、別の認証方法を使用したり、クレデンシャルをローテーションしたりできます。これはどちらの方法でも機能します。ユーザ名とパスワードを使用するバックエンドは証明書を使用するように更新できますが、証明書を使用するバックエンドはユーザ名とパスワードに基づいて更新できます。これを行うには、既存の認証方法を削除して、新しい認証方法を追加する必要があります。次に、更新されたbackend.jsonファイルに必要なパラメータが含まれたものを使用して実行します<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>。</block>
  <block id="488e366967d09f9808e7b3de7df261ac" category="paragraph">このドライバの詳細と設定方法については、を参照してください <block ref="7f5bc9035106c3c834aeb8867a5fce2c" category="inline-link-macro-rx"></block>。</block>
  <block id="bd4b2f0d545a83fd434f5ba1f17dd087" category="paragraph">バックエンド定義の例を次に示します。</block>
  <block id="9463f87bbed1fcdacfb8d40e185ca2bc" category="open-title">YAML</block>
  <block id="0ecd11c1d7a287401d148a23bbd7a2f8" category="open-title">JSON</block>
  <block id="1bb09b46ddb492f0798a5793d23a63c9" category="paragraph">Astra Tridentは、に対して双方向CHAPを使用してiSCSIセッションを認証できます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ドライバ。これには、を有効にする必要があり<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> バックエンド定義のオプション。に設定すると<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、Astra Tridentは、SVMのデフォルトのイニシエータセキュリティを双方向CHAPに設定し、バックエンドファイルからのユーザ名とシークレットを設定します。接続の認証には双方向 CHAP を使用することを推奨します。次の設定例を参照してください。</block>
  <block id="4bf283d1d1c781fbb7e90b237dc80ac4" category="paragraph">を作成します<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 既存のバックエンドにバインドする場合は、バックエンド設定を取得する必要があります。この例では、バックエンドが次の JSON 定義を使用して作成されているとします。</block>
  <block id="2043559d67ba802541907de326b5ecdd" category="paragraph">デフォルトが定義されている例を次に示します。</block>
  <block id="2fc042d3545f5ad7df1999c9e5486176" category="paragraph"><block ref="c4ca4238a0b923820dcc509a6f75849b" prefix="" category="inline-code"></block></block>
  <block id="7ff5348ddee6132fe7c166b8b7917cc0" category="paragraph">ボリューム名のオプションのプレフィックス。デフォルト：<block ref="689ee6510c7f9ef9df1c263a08823d96" prefix=" " category="inline-code"></block>。</block>
  <block id="81998bdb6c3f52ba69dbecf0ec513180" category="paragraph"><block ref="46fa46eed970046d03e2dedc95cdc83b" prefix="" category="inline-code"></block></block>
  <block id="5d8040f7ca409e3993359a877f675e59" category="paragraph"><block ref="75da9d6de91e782eca4fa00341367135" prefix="" category="inline-code"></block></block>
  <block id="9548d4d33e26f6bbe564b4eb47a52e4b" category="paragraph">新しいボリュームのオプションのデフォルトサイズ。デフォルト：<block ref="7d0f45b4b1cf6603762c74ca39c833dd" prefix=" " category="inline-code"></block></block>
  <block id="dfda6aac7ee732ec79153da76a0e963a" category="paragraph"><block ref="08aa1584c9a5791fb64b0f7f1453f9eb" prefix="" category="inline-code"></block></block>
  <block id="b6d628512c1127da9adb6c459c9f7c95" category="paragraph"><block ref="190dafab69706a67221c1226360de7dc" prefix="" category="inline-code"></block></block>
  <block id="251296d0166ace97771b155156985b38" category="paragraph"><block ref="98a2cd7efa1ba950d42e42af495c4248" prefix="" category="inline-code"></block></block>
  <block id="9fcbfb18564773bb1604cf400912944c" category="paragraph"><block ref="b26399fddd6473c150b4e7528fb04fdc" prefix="" category="inline-code"></block></block>
  <block id="8131d179a4284fbb0ed410bbbbcf1eb6" category="paragraph"><block ref="6173aa5206484b5224450952747c7148" prefix="" category="inline-code"></block></block>
  <block id="c4dc9cb5606cc8c0597a5c8f1f77b005" category="paragraph"><block ref="5ebe2294ecd0e0f08eab7690d2a6ee69" prefix="" category="inline-code"></block></block>
  <block id="fc3424ba1777889d0d49ea7f5a675c9e" category="paragraph"><block ref="70d2c7701d2837552c0a38c02a326592" prefix="" category="inline-code"></block></block>
  <block id="e84b7103384d0a3393c0847330716669" category="paragraph"><block ref="f819de81247be4a5428dc0e169de28b8" prefix="" category="inline-code"></block></block>
  <block id="7dd39afeb1c0b05aac5f4bf6fbd94990" category="paragraph"><block ref="301c869c551e12d862ab0291837102a0" prefix="" category="inline-code"></block></block>
  <block id="98ce75f2128e52057c9dbf00a9eb2736" category="paragraph"><block ref="f07e606cfe25ac6fb07d9c4af941d9a2" prefix="" category="inline-code"></block></block>
  <block id="1ae6e291c93a6d5962af8004aecd9c4c" category="paragraph"><block ref="94f6d7e04a4d452035300f18b984988c" prefix="" category="inline-code"></block></block>
  <block id="af2bffb136dd0c22342ad9cb06187197" category="paragraph">スペースリザベーションモード<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> （シンプロビジョニング）または<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block> （シック）</block>
  <block id="7f0d015762fc8e2b44f0ad1cd5429af5" category="paragraph">使用するSnapshotポリシー。デフォルトはです<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="0b89124cc899d4e75924c83a9eaf86ce" category="paragraph">Snapshotリザーブの割合。デフォルトはONTAP のデフォルトをそのまま使用する場合はです</block>
  <block id="11663b17d5bcea48dbfb36b13965663b" category="paragraph"><block ref="d3d9446802a44259755d38e6d163e820" prefix="" category="inline-code"></block></block>
  <block id="871c12a80dbc519da4b71b3ea166cdc4" category="paragraph">作成時に親からクローンをスプリットします。デフォルトはです<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="290cc6c07ae2ba0a638720a38f1356ed" category="paragraph">プロビジョニングされたNFSボリュームのNASオプション。デフォルトはです<block ref="f1c1592588411002af340cbaedd6fc33" prefix=" " category="inline-code"></block></block>
  <block id="8dfb6d491cffb51a17396f993c195d8b" category="paragraph"><block ref="f1c1592588411002af340cbaedd6fc33" prefix="" category="inline-code"></block></block>
  <block id="b7655e29a015ee3721339f8462d5d2b6" category="paragraph">にアクセスするためのNASオプション<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> ディレクトリ。デフォルトはです<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="1667ea9b715250d5f295353e97cde10e" category="paragraph">NFSエクスポートポリシーで使用するNASオプション。デフォルトはです<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block></block>
  <block id="980ef1c1aa7d1456ee087df02119341e" category="paragraph"><block ref="c21f969b5f03d33d43e04f8f136e7682" prefix="" category="inline-code"></block></block>
  <block id="19d28ffef37322622a55f9d7f1f9fa59" category="paragraph">ファイルシステムタイプを選択するためのSANオプション。デフォルトはです<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="c90caaafbe0da0287b6a84f0894fa40b" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block></block>
  <block id="6cd4bb7e4d59531066c198c531ea267a" category="paragraph">使用する階層化ポリシー。デフォルトはです<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>;<block ref="8805d416ce540c5f2df34af5b18d742b" prefix=" " category="inline-code"></block> ONTAP 9.5より前のSVM-DR構成の場合</block>
  <block id="c1fd85851a162222ab0690383666bd47" category="paragraph"><block ref="05b6053c41a2130afd6fc3b158bda4e6" prefix="" category="inline-code"></block></block>
  <block id="bf0a8b77dbb95465376fb2cfec90b422" category="paragraph"><block ref="76bb7251da6a3c88e629c03a402b9d15" prefix="" category="inline-code"></block></block>
  <block id="8e6b1878428055edaef42698026bd1b5" category="paragraph">Trident では、デフォルトでマウントオプションが Kubernetes でどの値にも設定されていません。Kubernetes ストレージクラスでマウントオプションを指定するには、次の例を実行します <block ref="29e04d8356a523f6fc836193630ad63e" category="inline-link-macro-rx"></block>。</block>
  <block id="419c95e5a9e44d427f99debdcf0550c7" category="list-text">Trident をで使用する際によく発生する問題です<block ref="4568986ef6397d7c901269fc0e190ede" category="inline-link-rx"></block> テナントとクライアントのシークレットが、必要な権限がないアプリケーションの登録から取得された場合です。Trident の要件の詳細については、を参照してください <block ref="cd38c25b6345abc8733d2ef72739cd97" category="inline-link-macro-rx"></block> 設定</block>
  <block id="39f6252eef9409d5d917e183e971d71d" category="list-text">アップグレードするときは、この作業を行うことが重要です<block ref="f6e7f85d8aee15940665bf722f7afac2" prefix=" " category="inline-code"></block> インチ<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> Astra Tridentが使用。削除して再作成することができます<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> 実行前のボリュームの中断はなし。これは、SANボリュームに対してhttps://kubernetes.io/docs/tasks/configure-pod-container/security-context/[securityコンテキスト^]を適用するための**要件**です。https://github.com/NetApp/trident/tree/master/trident-installer/sample-input[sample input^]ディレクトリには、https://github.com/NetApp/trident/blob/master/trident-installer/sample-input/storage-class-samples/storage-class-basic.yaml.templなどの例が含まれています<block ref="9abb8c7777ddb413820ee07d5d93aa4a" prefix="[" category="inline-code"></block>^）とリンク：https://github.com/NetApp/trident/blob/master/trident-installer/sample-input/storage-class-samples/storage-class-bronze-default.yaml<block ref="69ae2d9a6d831af7488e53fec053b77e" prefix="[" category="inline-code"></block>^]をクリックします。詳細については、を参照してください <block ref="04cf7258a315ca08f4b436c194fef69d" category="inline-link-macro-rx"></block>。</block>
  <block id="1dedbfd605df8b562acc8f759a8e9acc" category="list-text">を実行するKubernetesクラスタ <block ref="229e1052bb9ecd8cf2680d6f44691174" category="inline-link-macro-rx"></block></block>
  <block id="17c5eeb01739643b5aef94fe18b6c849" category="paragraph">バージョンセレクタを使用して、最新バージョンと以前の4つのバージョンを切り替えることも、以下のリンクを使用することもできます。</block>
  <block id="78038c97749fe61b1148a68a71c14a02" category="inline-link-macro">Astra Tridentのリリースとサポートのライフサイクル</block>
  <block id="3a1fdf1059d780b17a5dd3ecba99371d" category="paragraph">Astra Trident 23.04を実行していない場合は、以前のリリースのドキュメントをベースに提供しています <block ref="ec2082dc40596525d1bb212183949428" category="inline-link-macro-rx"></block>。</block>
  <block id="4693b2393d80830cd4f198db20bf2b72" category="inline-link">Astra Trident 23.01</block>
  <block id="cd494508ccf1cdc45163d6d9d0f401ff" category="list-text"><block ref="cd494508ccf1cdc45163d6d9d0f401ff" category="inline-link-rx"></block></block>
  <block id="eab0706ece21a2a7fba820bf95d759fe" category="section-title">Astra Trident 23.04に関する重要な情報</block>
  <block id="2122a8acb599837078e6b76436e892c4" category="list-text">TridentでKubernetes 1.27がサポートされるようになりました。Kubernetesをアップグレードする前にTridentをアップグレード</block>
  <block id="5934d78c1e4b16833d855fae6656a994" category="list-text">使用<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> をクリックし、次の例に示すように、導入環境の名前を指定します<block ref="fc54aba0c9f6c2fff98f4890349f656c" prefix=" " category="inline-code"></block> は、インストールするAstra Tridentのバージョンです。</block>
  <block id="177f0526bba4e516b4db5c3a74252bbd" category="paragraph">たとえば、のデフォルト値を変更するには、のように指定します<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>をクリックし、次のコマンドを実行します<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block> コマンドを入力します<block ref="fc54aba0c9f6c2fff98f4890349f656c" prefix=" " category="inline-code"></block> は、インストールするAstra Tridentのバージョンです。</block>
  <block id="40991bba76926bfbcf7fb0b9c207187f" category="list-text">Anthosオンプレミス（VMware）とAnthos（ベアメタル1.12</block>
  <block id="10ba3564f65dbf6cec8650972c26ea30" category="list-text">Kubernetes 1.21-1.27</block>
  <block id="fe74bcccaeacaddf91b58dec28fef5be" category="paragraph">1.21 ~ 1.27</block>
  <block id="362997bacf08e019288e372d8ae1f070" category="list-text">OpenShift Container Platform（AMD64およびARM64）でサポートされているRed Hat CoreOS（RHCOS）のバージョン</block>
  <block id="a3460163c4a2854c79a419dda57ac917" category="list-text">RHEL 8+（AMD64およびARM64）</block>
  <block id="f51a58a0cffb9f9953edce6411578b53" category="list-text">Ubuntu 22.04以降（AMD64およびARM64）</block>
  <block id="1285a056fd837828136d15f7e76d09cc" category="list-text">Windows Server 2019（AMD64）</block>
  <block id="b38420e98813aed20daa115db2ac94a9" category="cell">v1.27.0</block>
  <block id="1ff1fd258a61bd04eee000a1fb6131fa" category="example-title">例1：WindowsノードでAstra Tridentの実行を有効にします</block>
  <block id="f53514cf8829a41463c245b088ae732e" category="paragraph">WindowsノードでAstra Tridentを実行できるようにするには、次の手順を実行します。</block>
  <block id="a921baa9e8c81f13d59fed4fce57ec88" category="example-title">例2：強制切り離しを有効にします</block>
  <block id="c5b5b00ff1b3a892c8694ab932cbf9ca" category="paragraph">強制切り離しの詳細については、を参照してください <block ref="63cac71755fb6ef1f1fea34cf4037121" category="inline-link-macro-rx"></block>。</block>
  <block id="27855a2d0ff79cc3ecf0f08e67257b0a" category="list-text">使用<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> 展開およびイメージレジストリの場所の名前を指定します。。 <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 1つのレジストリまたは別のレジストリに配置できますが、すべてのCSIイメージは同じレジストリに配置する必要があります。例では、<block ref="fc54aba0c9f6c2fff98f4890349f656c" prefix=" " category="inline-code"></block> は、インストールするAstra Tridentのバージョンです。</block>
  <block id="59bc75fa0b7e5b671e40873619ac96a7" category="cell">"netapp/trident-autosupport：23.04.0"</block>
  <block id="85be37285c336ae757f07d58eb0d7ea2" category="cell">AutoSupport テレメトリを送信するプロキシのアドレス / ポート</block>
  <block id="33fb79e5ddc4ef005332c52292e20c59" category="cell">Trident Controller CSI プラグインを実行しているポッドの追加ノードセレクタ。の形式はと同じです<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>。</block>
  <block id="4a1522be236156dbc873375541a627e1" category="cell">Trident Controller CSI プラグインを実行しているポッドに対する許容値を上書きします。はと同じ形式です<block ref="f1fa64fcf5077601cb803e995a51fa4f" prefix=" " category="inline-code"></block>。</block>
  <block id="30042512b273723cf2eec336b6576d84" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> のみ。KubernetesのNon-Graceful Node Shutdown（NGN）と連携して、ノードに障害が発生した場合に、マウントされたボリュームを含むワークロードを新しいノードに安全に移行する機能をクラスタ管理者に提供します。*これは23.04の実験的な機能です。*を参照してください <block ref="620ff2552a2d798650bb027eb1271b17" category="inline-xref-macro-rx"></block> を参照してください。</block>
  <block id="38a0b9f59e6fe23e1617dc0e78498afe" category="section-title">フォースデタッチの詳細</block>
  <block id="20c0c9efee2da2645ec0eefaf3c75d8c" category="inline-link-macro">Kubernetes：正常なノードシャットダウンではありません</block>
  <block id="c2b73a5f3aeb6a0120f6d516eaedfceb" category="paragraph">では、[強制切り離し]を使用できます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> および<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> のみ。強制接続解除を有効にする前に、Kubernetesクラスタで非グレースフルノードシャットダウン（NGN）を有効にする必要があります。詳細については、を参照してください <block ref="1da18b4f36c698c06b8a402542c42858" category="inline-link-macro-rx"></block>。</block>
  <block id="388f611a7cb1d3b4a55895211f24e657" category="admonition">Astra TridentはKubernetes NGNに依存しているため、削除しないでください<block ref="2ea3337d8d7fc43880e82df308aa0f16" prefix=" " category="inline-code"></block> 許容できないすべてのワークロードが再スケジュールされるまで、正常でないノードから影響を受けます。汚染を無謀に適用または削除すると、バックエンドのデータ保護が危険にさらされる可能性があります。</block>
  <block id="0490d92bd49cf4ca0e3d1454b8166318" category="paragraph">Kubernetesクラスタ管理者がを適用したとき<block ref="7b58fe53e2e4b586e9605f1371e1ebf3" prefix=" " category="inline-code"></block> ノードおよびに影響を与えます<block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix=" " category="inline-code"></block> がに設定されます<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Astra Tridentがノードのステータスを判断し、次の処理を実行します。</block>
  <block id="5a46bcb638ad3abfd754aecfb450a781" category="list-text">そのノードにマウントされたボリュームのバックエンドI/Oアクセスを停止します。</block>
  <block id="9e359eb51c11b0162faa185a9f2e6132" category="list-text">Astra Tridentノードオブジェクトをにマークします<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block> (新しい出版物には安全ではありません)。</block>
  <block id="dea3db0d9b1c1d5a2c070829016eb1d9" category="admonition">Tridentコントローラは、（とマークされたあとに）ノードが再認定されるまで、新しいパブリッシュボリューム要求を拒否します<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>をクリックします。マウントされたPVCでスケジュールされているワークロード（クラスタノードが正常で準備が完了したあとも含む）は、Astra Tridentがノードを検証できるまで受け入れられません<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block> (新しい出版物のための安全)。</block>
  <block id="2f2c77c0463a5147779a2fe92fffee6d" category="paragraph">ノードの健常性が回復してtaintが削除されると、Astra Tridentは次の処理を実行します。</block>
  <block id="8f57f52b7233aecf56728bcd48d3a51c" category="list-text">ノード上の古い公開パスを特定してクリーンアップします。</block>
  <block id="a36983f9842a4a5cf4db7f9d23253de0" category="list-text">ノードがに含まれている場合<block ref="4304fb35c4cdfa886970499304f2aaba" prefix=" " category="inline-code"></block> 状態（out-of-service taintが削除され、ノードがinになっています<block ref="e7d31fc0602fb2ede144d18cdffd816b" prefix=" " category="inline-code"></block> 状態）。古い公開済みパスはすべてクリーンで、Astra Tridentはノードをとして再登録します<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block> 新しいボリュームのノードへの公開を許可します。</block>
  <block id="00be8b5bb428d40a01f22c5dfaced5bc" category="paragraph">インチ<block ref="02f3115b006f7541a477d52ea8c0f861" prefix=" " category="inline-code"></block>、を更新します<block ref="5e146ae3f34d00ee9d9dfd14adb077b2" prefix=" " category="inline-code"></block> イメージレジストリの場所を反映します。。 <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 1つのレジストリまたは別のレジストリに配置できますが、すべてのCSIイメージは同じレジストリに配置する必要があります。例：</block>
  <block id="e93860a0ea424a0e69abe92f2da77d80" category="list-text"><block ref="7c512d5013550eab761c07cf420c0618" prefix="" category="inline-code"></block> すべての画像が1つのレジストリにある場合。</block>
  <block id="a986eb4e954c9ef61b993f620528b25b" category="list-text"><block ref="2e87742ef58dd6e98b2afaaddbe68076" prefix="" category="inline-code"></block> TridentイメージがCSIイメージとは別のレジストリにある場合。</block>
  <block id="ff2f82c9a6feb21071dcbdc520c67b89" category="list-text">環境に適したバンドルYAMLファイルとAstra Tridentバージョンを使用してAstra Tridentをインストールします。たとえば、Kubernetes 1.27用Astra Trident 23.04をインストールする場合は、次のコマンドを実行します。</block>
  <block id="8242b9562bf03173e7ab7ebe91136717" category="list-text">Kubernetes 1.24以前を実行しているクラスタの場合は、を使用します <block ref="fca96f50bbc5cba400ec0352141eeed0" category="inline-link-macro-rx"></block>。</block>
  <block id="9d09cc8d1806a36c8229ace5be55429d" category="list-text">Kubernetes 1.25以上を実行するクラスタの場合は、を使用します <block ref="3f9cbdeaab0f584d6abcc4282318bea8" category="inline-link-macro-rx"></block>。</block>
  <block id="5d52721879cc96347aaf4163e6a19e02" category="admonition">クラスタを対象としたオペレータをインストールすると、の移行が開始されます<block ref="4cb15aa30ce0ec4747b372d6d2a5e637" prefix=" " category="inline-code"></block> オブジェクトの移動先<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> オブジェクトを削除します<block ref="4cb15aa30ce0ec4747b372d6d2a5e637" prefix=" " category="inline-code"></block> オブジェクトと<block ref="297dc4adc64c26ae2fd6a1039d00ccb0" prefix=" " category="inline-code"></block> CRD、およびAstra Tridentを、使用しているクラスタ対象オペレータのバージョンにアップグレードします。次の例では、Tridentが23.04.0にアップグレードされています。</block>
  <block id="ad3ec9af70c3860794540db75d9807c6" category="list-text">を使用します<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> コマンドを入力します<block ref="56c028cf1def4066f6a4728f90b9dbf8" prefix=" " category="inline-code"></block> アップグレード後のバージョンが反映されます。</block>
  <block id="17a3cc50f8070f6f8ca4c0aaf627cd51" category="list-text">インストールされているバージョンの4リリースウィンドウ内にある任意のターゲットリリースに直接アップグレードできます。たとえば、22.04（22.04.1などのDOTリリースを含む）から23.04に直接アップグレードできます。</block>
  <block id="beee3e754bb36e7321f32ad13d4ac60a" category="paragraph">すべてのKubernetesワーカーノードに適切なiSCSIツールをインストールしておく必要があります。を参照してください <block ref="9e8cf70fcb465bf1907b585f74e9e1a6" category="inline-link-macro-rx"></block> を参照してください。</block>
  <block id="37225474f75e9da42c0f924ba87b113a" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="56d1e7863190cbf5e7689e2821d0959e" category="cell"><block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="" category="inline-code"></block></block>
  <block id="3bc2d9079510db6d0570883494bc5984" category="cell"><block ref="f899139df5e1059396431415e770c6dd" prefix="" category="inline-code"></block></block>
  <block id="06daeb0fdb584c4694891d290310e1ed" category="cell"><block ref="3644a684f98ea8fe223c713b77189a77" prefix="" category="inline-code"></block></block>
  <block id="429970b7b8d395eb00181a72bc544fba" category="cell">共有フォルダのMicrosoft管理コンソールを使用して作成したSMB共有の名前を指定するか、Astra TridentによるSMB共有の作成を許可する共有名を指定できます。または、パラメータを空白のままにして、ボリュームへの共有アクセスを禁止することもできます。</block>
  <block id="996a57df5a7c8752e8bc23b6af020be4" category="cell">状況<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> はです<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>、<block ref="2954e92a9b4d0e998fe4893f8141649a" prefix=" " category="inline-code"></block> 「」</block>
  <block id="58c09f2c9581bc7c58c32116266b6d8f" category="cell">使用する階層化ポリシー<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="49ed5b3ecd0e966bec6b74083f06599e" category="cell"><block ref="8805d416ce540c5f2df34af5b18d742b" prefix="" category="inline-code"></block> ONTAP 9.5より前のSVM-DR構成の場合</block>
  <block id="6792aad2d8c086a9d25f5ad8ec090f35" category="paragraph">Elementバックエンドを作成する前に、次の情報が必要になります。</block>
  <block id="4e121ce555fa114069539035adefe18e" category="section-title">ボリュームモード</block>
  <block id="690b3c7311638da5eef87f5e07aa1258" category="section-title">ボリュームの管理</block>
  <block id="24da0fbaaa9930515c555e7019db09d2" category="paragraph">Astra Tridentを使用してボリュームを管理する方法については、以下を参照してください。</block>
  <block id="00a9bbaf4185978435bd4d6cb7aba6c4" category="summary">Astra TridentとAmazon FSx for NetApp ONTAP を使用すると、Amazon Elastic Kubernetes Service（EKS）で実行されているKubernetesクラスタで、ONTAP を基盤とするブロックおよびファイルの永続ボリュームをプロビジョニングできるようになります。</block>
  <block id="5178ad00e596ece0be9aceff179b4303" category="paragraph">Astra Tridentは、Astra Tridentのパフォーマンス監視に使用できるPrometheus指標エンドポイントのセットを提供します。</block>
  <block id="51e6d748c5af856ade589011dc2c7e85" category="cell"><block ref="37a6259cc0c1dae299a7866489dff0bd" prefix="" category="inline-code"></block></block>
  <block id="ddbd2735bfb88c5da807f77f6fe5f6c8" category="doc">ONTAP NASドライバの概要</block>
  <block id="dd972e44915c7a0884edd58e9d839295" category="section-title">ONTAP NASドライバに関する重要な情報</block>
  <block id="482723983a4f2af954e36ff41e567451" category="section-title">既知の制限</block>
  <block id="1faffcbb00c529812b5526b1b22b2b56" category="paragraph">を作成するには、SVMでNFSプロトコルとSMB / CIFSプロトコルの両方を設定する必要があります<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> オンプレミスのONTAP 用のSMBボリューム。これらのプロトコルのいずれかを設定しないと、原因 SMBボリュームの作成が失敗します。</block>
  <block id="5cc1e28c0d7b6c40ca94aacb554b31ca" category="doc">ONTAP SANドライバの概要</block>
  <block id="7771a46320e96de2bde6598540ad4d52" category="section-title">ONTAP SANドライバに関する重要な情報</block>
  <block id="904628b57a33f3a2f6d71a6d991e15c6" category="paragraph">Astra Trident では、を使用して、 Kubernetes クラスタ内にあるノードにボリュームを選択的に作成して接続できます<block ref="80b9a4f4a1bc9851317207ee3477041a" category="inline-link-rx"></block>。</block>
  <block id="3eba7c2a6bd35cbac350dcbfb90408f6" category="paragraph">CSI トポロジ機能を使用すると、領域およびアベイラビリティゾーンに基づいて、ボリュームへのアクセスをノードのサブセットに制限できます。現在、クラウドプロバイダは、 Kubernetes 管理者がゾーンベースのノードを生成できるようになっています。ノードは、リージョンによって異なるアベイラビリティゾーンに配置することも、リージョンによって配置することもできます。マルチゾーンアーキテクチャでワークロード用のボリュームをプロビジョニングするために、 Astra Trident は CSI トポロジを使用します。</block>
  <block id="4ba6a75e6aacbc3737630ba55916cd27" category="section-title">バックエンドを管理するためのオプション</block>
  <block id="798f4548a52b3c91b25609a82ff6a12e" category="paragraph">を導入しました<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>管理者は現在、バックエンドを2つの方法で管理できるようになっています。これには、次のような質問があります。</block>
  <block id="8e523fab738ccb6504fc60551cbaefdf" category="paragraph">Astra Tridentはノード単位で作成、管理します<block ref="58f3779afe9da9ffdc085dc3064306f7" prefix=" " category="inline-code"></block> として<block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix=" " category="inline-code"></block>。</block>
  <block id="0ee19d4be17e297cfb39c398cb268b5e" category="paragraph">この値は変更したり省略したりすることはできません。</block>
  <block id="07d41595da50d0c332f22902db2f76d8" category="paragraph">*でのみ使用できます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ドライバ*。</block>
  <block id="684a16b15a51568bcdd546607176bd57" category="paragraph"><block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix="" category="inline-code"></block></block>
  <block id="ab946346d7b6ebd4a84d96bb78dcd833" category="section-title">LUKSボリュームをインポートするためのバックエンド構成</block>
  <block id="6159e851594f646ce383a87fc615fbd1" category="paragraph">LUKSボリュームをインポートするには、を設定する必要があります<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block> 終了：<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> バックエンドにあります。。<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block> optionを指定すると、ボリュームがLUKS準拠かどうかがAstra Tridentに通知されます <block ref="b326b5062b2f0e69046810717534cb09" prefix="(" category="inline-code"></block>）またはLUKS準拠ではありません <block ref="68934a3e9455fa72420237eb05902327" prefix="(" category="inline-code"></block>）をクリックします。</block>
  <block id="240fa413bb5a8b96728ba9bb20f953bc" category="summary">Astra Trident は、ネットアップが管理しているオープンソースのストレージプロビジョニングおよびオーケストレーションツールです。このコンテナを使用すると、 Docker と Kubernetes で管理されるコンテナ化アプリケーション用のストレージボリュームを作成できます。** Astra Trident 23.04へのアップグレードに関する重要な情報については、リリースノートをご覧ください。**</block>
  <block id="75a6a3af601d4175be90ebfbdcaead5f" category="doc">Astra Trident 23.04のドキュメント</block>
  <block id="490414e0366b091220802d406e52c076" category="doc">新機能</block>
  <block id="0dcdbeca28e29fdc0076d56763410520" category="section-title">23.04の新機能</block>
  <block id="3317f97754f7308b6a0e2a12c0241d39" category="admonition">ONTAP-SAN-*ボリュームの強制的なボリューム接続解除は、非グレースフルノードシャットダウン機能のゲートが有効になっているKubernetesバージョンでのみサポートされます。[Force detach]は、インストール時にを使用して有効にする必要があります<block ref="d75e90115a6343745df96039920422fc" prefix=" " category="inline-code"></block> Tridentインストーラのフラグ。</block>
  <block id="8743cc1328bba53ea356fd3e593a3f9c" category="list-text">Trident Operatorクラスタロールの権限が固定され、バンドルの権限（<block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>）。</block>
  <block id="c16e7ed05955f3a772cc5e37988626a6" category="inline-link-macro">問題 #811</block>
  <block id="c8b742414af3be73bd16e0c1ed978ae5" category="list-text">Tridentコントローラがすぐにシャットダウンできない問題を修正問題 しました（<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>）。</block>
  <block id="e82b00f6dda8d75f6267522d6e8e21b3" category="list-text">ONTAP-SAN-*ドライバでプロビジョニングされた指定したLUNに関連付けられているすべてのigroup名を一覧表示する修正を追加しました。</block>
  <block id="3f32e3199847516d3773942171a3320e" category="inline-link-macro">問題 #537</block>
  <block id="8ac5248178b612abfaaec81ca7b06c94" category="list-text">s390アーキテクチャ（<block ref="a2e3737cce03fa6e94f8357a427b1da2" category="inline-link-macro-rx"></block>）。</block>
  <block id="70d039054d2873e8b0f28587cb19086a" category="inline-link-macro">問題 #781</block>
  <block id="48b91d8b8b87d6d8c95cbc34bbae12e7" category="list-text">ボリュームマウント処理中の誤ったログレベルを修正しました（<block ref="8bb65f034421623db4038f879681c20b" category="inline-link-macro-rx"></block>）。</block>
  <block id="6c85ef6d99d7dc6999989d8228ad56d9" category="inline-link-macro">問題 #802</block>
  <block id="6edadfcf2d991f369cdf934677bb161a" category="list-text">固定電位タイプアサーションエラー（<block ref="e6bc1d779eb6c87e7246c3841e50b482" category="inline-link-macro-rx"></block>）。</block>
  <block id="afcf8fa41398f15ad38c5874372e9b4c" category="list-text">Kubernetes 1.27のサポートを追加。</block>
  <block id="67db0e94c8905c93eda71f86cb532e07" category="list-text">LUKSボリュームのインポートのサポートが追加されました。</block>
  <block id="6de845032edacfacdf7599428fce6ce3" category="list-text">ReadWriteOncePod PVCアクセスモードのサポートが追加されました。</block>
  <block id="9297bb6ec4e523b7875643c53cc9f528" category="list-text">ノードの正常でないシャットダウン時にONTAP-SAN-*ボリュームで強制的に接続解除がサポートされるようになりました。</block>
  <block id="bf75c88234d165d6aa37891adda4465a" category="inline-link-macro">問題 #758</block>
  <block id="8ba74f6fd31160a630f1dc4eeb7d2e20" category="list-text">すべてのontap-san-*ボリュームでノード単位のigroupを使用するようになりました。LUNはigroupにマッピングされるだけで、それらのノードにアクティブにパブリッシュされるため、セキュリティ体制が強化されます。アクティブなワークロードに影響を与えることなく既存のボリュームを安全であるとTridentが判断した場合、必要に応じて新しいigroupスキームに切り替えます（<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>）。</block>
  <block id="79e79d7d8fe825308bd0e601daaa1131" category="list-text">Tridentで管理されていないigroupをONTAP-SAN-*バックエンドからクリーンアップし、Tridentのセキュリティを強化</block>
  <block id="18596399dedf47a387f514e9c9862876" category="list-text">ストレージドライバontap-nas-economyとontap-nas-flexgroupに、Amazon FSxによるSMBボリュームのサポートが追加されました。</block>
  <block id="42bbebea36c49138518f54240583f571" category="list-text">ontap-nas、ontap-nas-economy、ontap-nas-flexgroupストレージドライバでSMB共有のサポートが追加されました。</block>
  <block id="4332590e7a6bcbdc2a06dc0e18c0731b" category="inline-link-macro">問題 #732</block>
  <block id="5a8fc8277a0f6ed003c225aa1e7c48b6" category="list-text">arm64ノードのサポートを追加しました<block ref="c2778c70230759cdeecc0357ca334a05" category="inline-link-macro-rx"></block>）。</block>
  <block id="69ef45b431e1a60332ee3ce7e1a67645" category="list-text">最初にAPIサーバを非アクティブ化することで、Tridentが手順 をシャットダウンできるようになりました<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>）。</block>
  <block id="be70537c794b0fc1d909e1bf6ffbbc59" category="list-text">Windowsおよびarm64ホストのクロスプラットフォームビルドサポートをMakefileに追加しました。build.mdを参照してください。</block>
  <block id="6f03549bdf867b6dbabec83da444ffcf" category="paragraph">** Kubernetes：** ONTAP-SANおよびONTAP-SAN-economyドライバ（<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>）。</block>
  <block id="7558c614baceb6010756b848dd26325e" category="section-title">23.01.1の変更点</block>
  <block id="d7393ea674321a4e126b601e3097f2ec" category="admonition">TridentでKubernetes 1.27がサポートされるようになりました。Kubernetesをアップグレードする前にAstra Tridentをアップグレードしてください。</block>
  <block id="99836a64b28c522e35a15aa0a4b39257" category="list-text">ONTAP SANボリュームでは、ノード単位のigroupが使用され、LUNがigroupにマッピングされると同時に、これらのノードにアクティブに公開されてセキュリティ体制が強化されます。既存のボリュームは、アクティブなワークロードに影響を与えずに安全であるとAstra Tridentが判断したときに、必要に応じて新しいigroupスキームに切り替えられます。</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">新機能</block>
  <block id="ffd4000c9e43a23d97e231d47f99dcd4" category="list-text">複数のドライバを実行し、どちらか一方を参照するストレージクラスを作成できます。たとえば、を使用するGoldクラスを設定できます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ドライバとを使用するBronzeクラス<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 1つ。</block>
  <block id="a571dbb3887a364b4b4dcb82a5fa6ec9" category="list-text">スナップショットコントローラを作成します。</block>
  <block id="ae3ba2e438847d5fb2abc16b3c73ccab" category="admonition">必要に応じて、を開きます<block ref="31a2c725707ce238c3eb4dd82c7e3af9" prefix=" " category="inline-code"></block> およびを更新します<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block> に移動します。</block>
  <block id="c48edc45b9266a1f0d1869ac35615605" category="section-title">Snapshotを使用してボリュームデータをリカバリします</block>
  <block id="4714f3cf4c41291cc2dae88a7150cbe5" category="paragraph">snapshotディレクトリは、を使用してプロビジョニングされるボリュームの互換性を最大限に高めるため、デフォルトでは非表示になっています<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> および<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ドライバ。を有効にします<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> スナップショットからデータを直接リカバリするディレクトリ。</block>
  <block id="8f580d002ee0bbc67930846839d50dbe" category="paragraph">ボリュームを以前のSnapshotに記録されている状態にリストアするには、ボリュームSnapshotリストアONTAP CLIを使用します。</block>
  <block id="f84dc17e0595ca9097097e70b9b927e1" category="admonition">Snapshotコピーをリストアすると、既存のボリューム設定が上書きされます。Snapshotコピーの作成後にボリュームデータに加えた変更は失われます。</block>
  <block id="389fca3b29dd7808b825fbd953242ed9" category="summary">Astra TridentとAstra Tridentを使用して作成されたボリュームの保護とリカバリのオプションについて説明します。永続性に関する要件があるアプリケーションごとに、データ保護とリカバリの戦略を用意しておく必要があります。</block>
  <block id="03c39d763ca15978d9ef16c2ba5fe98a" category="doc">データ保護とディザスタリカバリ</block>
  <block id="e3d45c3e9eb2d2949067a0aa7b61e476" category="section-title">Astra Tridentのレプリケーションとリカバリ</block>
  <block id="44f293896af5541a26ccc287fc71266b" category="paragraph">災害発生時にAstra Tridentをリストアするバックアップを作成できます。</block>
  <block id="9b35fe66a1b68aa00dbffd236d3fe856" category="section-title">Astra Tridentのレプリケーション</block>
  <block id="65808079dd14440eb9053549bdf96b26" category="paragraph">Astra Tridentは、Kubernetes CRDを使用して独自の状態の格納と管理を行い、Kubernetesクラスタetcdを使用してメタデータを格納します。</block>
  <block id="082510018437a15b6d42065dfe5a5384" category="inline-link-macro">Kubernetes：etcdクラスタのバックアップ</block>
  <block id="ec3558916e2679d1a4b592e0ade35471" category="list-text">を使用してKubernetesクラスタetcdをバックアップします  <block ref="901b02918d705c0966dae4033c132965" category="inline-link-macro-rx"></block>。</block>
  <block id="47eab96eced19efdca77f2407d8e44aa" category="list-text">バックアップアーティファクトをFlexVolに配置します。</block>
  <block id="798d6cc5f40dde831172bf108a793297" category="admonition">FlexVolが配置されているSVMを別のSVMへのSnapMirror関係で保護することを推奨します。</block>
  <block id="49319f2bf766b5cf558ec82dd35f5a46" category="section-title">Astra Tridentのリカバリ</block>
  <block id="6275e3378f7bc1d5792a600e82c7aa6c" category="paragraph">Kubernetes CRDとKubernetesクラスタetcd Snapshotを使用して、Astra Tridentをリカバリできます。</block>
  <block id="b30057689f3e745e5feeb142585ff30b" category="list-text">デスティネーションSVMから、Kubernetes etcdデータファイルと証明書が格納されているボリュームを、マスターノードとしてセットアップするホストにマウントします。</block>
  <block id="5fefcae3a4602913a273a904829295ce" category="list-text">Kubernetesクラスタに関連する必要な証明書をすべてのにコピーします<block ref="890b0e4d98741eac800c616b757217cb" prefix=" " category="inline-code"></block> およびの下のetcdメンバーファイル<block ref="3fa01691da932f6c45bf424027ffabb8" prefix=" " category="inline-code"></block>。</block>
  <block id="51fa31507539ecf10c55d8cc513269d0" category="inline-link-macro">Kubernetes：etcdクラスタをリストアします</block>
  <block id="3167e8459c0d46545dc7978a60ef4978" category="list-text">を使用して、etcdバックアップからKubernetesクラスタをリストアします <block ref="c87a91d2cf6358248ae560cfa802edf4" category="inline-link-macro-rx"></block>。</block>
  <block id="54d0429fea223af0d32d9f061ed733c9" category="list-text">を実行します<block ref="1ec8e1992e296a9bdb691f1931d391fe" prefix=" " category="inline-code"></block> Tridentのカスタムリソースがすべて稼働していることを確認し、Tridentオブジェクトを読み出してすべてのデータが利用可能であることを確認します。</block>
  <block id="c87c1a25aa5e2ef1af216bc50d1fd391" category="section-title">SVMのレプリケーションとリカバリ</block>
  <block id="0d3b37ff5855bf299f3c4a154373c1e2" category="inline-link">ONTAP SnapMirrorの略</block>
  <block id="968aa074079a26dbcd09cc3312c6e0d8" category="paragraph">Astra Tridentではレプリケーション関係を設定できませんが、ストレージ管理者はを使用できます<block ref="eae3571c3bcc896c3c2934b9eeb2171a" category="inline-link-rx"></block> SVMをレプリケートするため。</block>
  <block id="9299ebdcbaefed4a9ea27b355bb0f75e" category="paragraph">災害が発生した場合は、 SnapMirror デスティネーション SVM をアクティブ化してデータの提供を開始できます。システムがリストアされたら、プライマリに戻すことができます。</block>
  <block id="1de93d4bf941bc79aec631023559b9e7" category="paragraph">SnapMirror SVMレプリケーション機能を使用する場合は、次の点を考慮してください。</block>
  <block id="1868906f3a3fbcf756260737545805d6" category="list-text">SVM-DRを有効にしたSVMごとに、個別のバックエンドを作成する必要があります。</block>
  <block id="f9f808f1692cabf1bf803e07da9adbe7" category="list-text">SVM-DRをサポートするバックエンドにレプリケーション不要のボリュームをプロビジョニングしないように、必要な場合にのみレプリケートされたバックエンドを選択するようにストレージクラスを設定します。</block>
  <block id="6fa2f5991a9e2ee7d4668899f94e78e4" category="list-text">アプリケーション管理者は、レプリケーションに伴う追加コストと複雑さを理解し、このプロセスを開始する前にリカバリプランを慎重に検討する必要があります。</block>
  <block id="2b5ffe73affd6d09b3b5e160e117e5c9" category="section-title">SVMレプリケーション</block>
  <block id="9f4b9999b69320b559438c600d724ff9" category="inline-link-macro">ONTAP：SnapMirrorレプリケーション</block>
  <block id="d628a099db3505c9d0435e12076d8a61" category="paragraph">を使用できます <block ref="89150b9d328c8330200fceb39b37760e" category="inline-link-macro-rx"></block> をクリックしてSVMレプリケーション関係を作成します。</block>
  <block id="b9f28001ddc636f8628bd929334b258e" category="paragraph">SnapMirrorでは、レプリケートする対象を制御するオプションを設定できます。プリフォーム時に選択したオプションを知っておく必要があります <block ref="885698069be8fdb81e43cb59c9632744" category="inline-xref-macro-rx"></block>。</block>
  <block id="524218dc9ff1ef52c9a0404971525b21" category="inline-link-macro">-identity-preserve trueを指定します</block>
  <block id="8dc4e22513bbb97acc41295bfe46d5fe" category="list-text"><block ref="c758ffe020dc40d00c9a9c46ecbdd824" category="inline-link-macro-rx"></block> SVMの設定全体をレプリケートします。</block>
  <block id="d18f05a5c35a5a7d999263600f0356bf" category="inline-link-macro">-discard-configs network</block>
  <block id="97c20c3eb8c7569982dc9f84e7f31ba3" category="list-text"><block ref="afa9da8af32f091c8328b13559d456b1" category="inline-link-macro-rx"></block> LIFと関連ネットワークの設定を除外します。</block>
  <block id="224ea277d21a44b59b0fa43747b4f6a6" category="inline-link-macro">-identity-preserve false</block>
  <block id="471621652d0597dca59f266effb8f90f" category="list-text"><block ref="1faf7e0b3f51b53ae01a4f860a9ed344" category="inline-link-macro-rx"></block> ボリュームとセキュリティ設定のみをレプリケートします。</block>
  <block id="e3dcf348731966425abf967f0c0c575d" category="section-title">Astra Tridentを使用したSVMのリカバリ</block>
  <block id="58c8a712ac4d3255cd28c6024ad43f71" category="paragraph">Astra Trident では、 SVM の障害は自動では検出されない。災害が発生した場合、管理者は新しいSVMへのTridentフェイルオーバーを手動で開始できます。</block>
  <block id="da29de46c3a7d3e66fc701b2781fcbce" category="list-text">スケジュールされた実行中のSnapMirror転送をキャンセルし、レプリケーション関係を解除し、ソースSVMを停止してからSnapMirrorデスティネーションSVMをアクティブ化します。</block>
  <block id="98bdea55e26fba2494cc5f163b6f8076" category="list-text">を指定した場合<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> または<block ref="e932330dd004e680ebd1a75db84b73ce" prefix=" " category="inline-code"></block> SVMレプリケーションを設定する場合は、を更新します<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> および<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> をTridentバックエンド定義ファイルに追加します。</block>
  <block id="6141984e8f91176bd3a76175b02c1a09" category="list-text">確認します<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> は、Tridentバックエンド定義ファイルに含まれています。このパラメータは変更できません。省略しています<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> バックエンドの更新が失敗するように原因します。</block>
  <block id="51589b18e320f20306c944a08241dac1" category="list-text">次のコマンドを使用して、必要なすべてのバックエンドを更新して新しいデスティネーションSVM名を反映します。</block>
  <block id="d980e1fdfa951088567e6d057ba7dc9c" category="list-text">を指定した場合<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> または<block ref="89680afd09991bc3d4db985c40c861c1" prefix=" " category="inline-code"></block>、すべてのアプリケーションポッドをバウンスする必要があります。</block>
  <block id="debd7fcd99a55e4ad2700a29cadc6aa3" category="admonition">を指定した場合<block ref="524218dc9ff1ef52c9a0404971525b21" prefix=" " category="inline-code"></block>デスティネーションSVMがアクティブ化されると、Astra Tridentでプロビジョニングされたすべてのボリュームからデータの提供が開始されます。</block>
  <block id="cceb49886fed38f241928d51abab95a2" category="section-title">ボリュームのレプリケーションとリカバリ</block>
  <block id="815f28e53ebfb423dfe835a845095bf6" category="inline-link-macro">ONTAP SnapMirrorのレプリケーションとリカバリ</block>
  <block id="a5217e87e9aef874c28773b5774ecf37" category="paragraph">Astra TridentではSnapMirrorレプリケーション関係を設定できませんが、ストレージ管理者はを使用できます <block ref="c3487d6df2463efc752acd6f5cc45a1f" category="inline-link-macro-rx"></block> Astra Tridentで作成されたボリュームをレプリケート</block>
  <block id="c3c343b5a84229bd5095fd09f2afc5f5" category="inline-link-macro">tridentctlボリュームインポート</block>
  <block id="5b570015a3a6711227cf6a2802ccd0d7" category="paragraph">リカバリしたボリュームは、を使用してAstra Tridentにインポートできます <block ref="d8ad77887a2224df2faf4f1df578e333" category="inline-link-macro-rx"></block>。</block>
  <block id="d8d9dfeae772da34290b750d0f848a26" category="admonition">ではインポートはサポートされていません<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、 <block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>または<block ref="70d5dbddc55e3700ddbc8d21f0de22a3" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="b489b293d6cbe8b86835d3cac8c315fb" category="section-title">Snapshotデータの保護</block>
  <block id="f332d72a4b78e34e31131f3a98c98053" category="paragraph">次のコマンドを使用してデータを保護およびリストアできます。</block>
  <block id="97fb495fd3b6672c40bb0092ca102eca" category="list-text">永続ボリューム（PV）のKubernetesボリュームSnapshotを作成するための外部のSnapshotコントローラとCRD。</block>
  <block id="cb55f92ada2ab9103f2202b5e32b90c2" category="paragraph"><block ref="cb55f92ada2ab9103f2202b5e32b90c2" category="inline-link-macro-rx"></block></block>
  <block id="83cd672b9742ba621e93a8b69c4ab2d4" category="list-text">ONTAP Snapshot：ボリュームの内容全体のリストア、または個 々 のファイルまたはLUNのリカバリに使用します。</block>
  <block id="ad336d1fccea3e918d07055edac855a3" category="inline-link-macro">ONTAPスナップショット</block>
  <block id="0cb949d1baa06577db93328185a8f24d" category="paragraph"><block ref="0cb949d1baa06577db93328185a8f24d" category="inline-link-macro-rx"></block></block>
  <block id="044d1500d5e33461ef3341121d2aebda" category="section-title">Astra Control Centerアプリケーションのレプリケーション</block>
  <block id="3ee9187f7387265ff6f477d26adad0f2" category="paragraph">Astra Controlを使用すると、SnapMirrorの非同期レプリケーション機能を使用して、データやアプリケーションの変更をクラスタ間でレプリケートできます。</block>
  <block id="4910c9e59da080576c2dedc885e19ed7" category="inline-link-macro">Astra Control：SnapMirrorテクノロジを使用してアプリケーションをリモートシステムにレプリケート</block>
  <block id="0868eb323c2e097c6c408f7c59642c94" category="paragraph"><block ref="0868eb323c2e097c6c408f7c59642c94" category="inline-link-macro-rx"></block></block>
  <block id="2e77d5277311f3a9232a73cdbbcd754b" category="section-title">概要と考慮事項</block>
  <block id="df6f3bebb689d436041be7a75ee22542" category="paragraph">Astra Tridentにボリュームをインポートすると、次のことが可能になります。</block>
  <block id="88541191ec5fe50ba0d21b4300401b85" category="list-text">アプリケーションをコンテナ化し、既存のデータセットを再利用する</block>
  <block id="77d782125cafbbf0fe1c5c95755d143f" category="list-text">一時的なアプリケーションにはデータセットのクローンを使用</block>
  <block id="d265b515faaf05e2c32727d8b9742a78" category="list-text">障害が発生したKubernetesクラスタを再構築します</block>
  <block id="6766ef9d5b11abf03ee72b55c5745f4b" category="list-text">ディザスタリカバリ時にアプリケーションデータを移行</block>
  <block id="4c321a56c9c030449cd3315863de525b" category="paragraph">ボリュームをインポートする前に、次の考慮事項を確認してください。</block>
  <block id="3c65d97abe967081cd896f071baa434f" category="list-text">Astra TridentでインポートできるのはRW（読み取り/書き込み）タイプのONTAPボリュームのみです。DP（データ保護）タイプのボリュームはSnapMirrorデスティネーションボリュームです。ボリュームをAstra Tridentにインポートする前に、ミラー関係を解除する必要があります。</block>
  <block id="e47be4dcc849b534107f57afd92f801f" category="list-text">アクティブな接続がないボリュームをインポートすることを推奨します。アクティブに使用されているボリュームをインポートするには、ボリュームのクローンを作成してからインポートを実行します。</block>
  <block id="e4618ea9b1ae23e5ed30f6f19e6a77e8" category="admonition">Kubernetesは以前の接続を認識せず、アクティブなボリュームをポッドに簡単に接続できるため、これはブロックボリュームで特に重要です。その結果、データが破損する可能性があります。</block>
  <block id="8cbc7a45d1e8d9d63beba7825c76f6ff" category="list-text">でもね<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> PVCに対して指定する必要があります。Astra Tridentはインポート時にこのパラメータを使用しません。ストレージクラスは、ボリュームの作成時に、ストレージ特性に基づいて使用可能なプールから選択するために使用されます。ボリュームはすでに存在するため、インポート時にプールを選択する必要はありません。そのため、PVCで指定されたストレージクラスと一致しないバックエンドまたはプールにボリュームが存在してもインポートは失敗しません。</block>
  <block id="a31db9efd829f01dd21fdc97db2d29e4" category="list-text">既存のボリュームサイズはPVCで決定され、設定されます。ストレージドライバによってボリュームがインポートされると、 PV は ClaimRef を使用して PVC に作成されます。</block>
  <block id="604eea1f3df98285b6887ff059258827" category="list-text">再利用ポリシーは、最初にににに設定されています<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block> PVにあります。Kubernetes が PVC と PV を正常にバインドすると、再利用ポリシーがストレージクラスの再利用ポリシーに合わせて更新されます。</block>
  <block id="5d24684cf5054f53b1e945be75b37f69" category="list-text">ストレージクラスの再利用ポリシーがの場合<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>にすると、PVが削除されるとストレージボリュームが削除されます。</block>
  <block id="746af08b5a2da065387679e35fb75f55" category="list-text">デフォルトでは、Astra TridentがPVCを管理し、バックエンドでFlexVolとLUNの名前を変更します。を渡すことができます<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block> 管理対象外のボリュームをインポートするフラグ。を使用する場合<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>Astra Tridentは、オブジェクトのライフサイクルを通じてPVCやPVに対して追加の処理を実行することはありません。PVが削除されてもストレージボリュームは削除されず、ボリュームのクローンやボリュームのサイズ変更などのその他の処理も無視されます。</block>
  <block id="be303acf01bc566d5d211f228131bee4" category="admonition">このオプションは、コンテナ化されたワークロードに Kubernetes を使用するが、 Kubernetes 以外でストレージボリュームのライフサイクルを管理する場合に便利です。</block>
  <block id="db31dcd83fd57b294fb0340ea975015f" category="section-title">ボリュームをインポートします</block>
  <block id="61a1adebea5e6a017b4bd4b405ae4f52" category="paragraph">を使用できます<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block> をクリックしてボリュームをインポートします。</block>
  <block id="8feb5f647cb423db7fa8a957ae4ef075" category="list-text">Persistent Volume Claim（PVC；永続的ボリューム要求）ファイルを作成します（例：<block ref="88bf8ee4d993e535425148da6a64c1c2" prefix=" " category="inline-code"></block>）をクリックします。PVCファイルには、が含まれている必要があります<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>、<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block>、<block ref="1963d17f24888bdf1f22d7ea7f72f607" prefix=" " category="inline-code"></block>および<block ref="ee822781a3bd0ae0f8f6331dc4865d9c" prefix=" " category="inline-code"></block>。必要に応じて、を指定できます<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block> 定義されています。</block>
  <block id="7f745c89a2e8fd59353bab523e12eb77" category="paragraph">最小仕様の例を次に示します。</block>
  <block id="a9e31569460a0b133fdd97c5f482c04e" category="admonition">PV名やボリュームサイズなどの追加のパラメータは指定しないでください。これにより原因、インポートコマンドが失敗する可能性があります。</block>
  <block id="62baed444b3b0cdadb9d1c1ed6d56876" category="list-text">を使用します<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block> コマンドを使用して、ボリュームを含むAstra Tridentバックエンドの名前と、ストレージ上のボリュームを一意に識別する名前（ONTAP FlexVol、Elementボリューム、Cloud Volumes Serviceパスなど）を指定します。。<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block> PVCファイルへのパスを指定するには、引数が必要です。</block>
  <block id="37c0e0081d2fa3ebdf688df7e37ecd7a" category="paragraph">サポートされているドライバについて、次のボリュームインポートの例を確認してください。</block>
  <block id="b8cd11aae04b2508e6cf401f43cdb4f9" category="section-title">ONTAP NASおよびONTAP NAS FlexGroup</block>
  <block id="7a4c35874a7b87427d89cd3aecdcb443" category="paragraph">Astra Tridentでは、を使用したボリュームインポートがサポートされます<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> および<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="6551d29114ca8e4ced094b1f68242124" category="list-text">。<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ドライバでqtreeをインポートおよび管理できない。</block>
  <block id="15f21f5d1f84f4b986a4db037c57333d" category="list-text">。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> および<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ドライバでボリューム名の重複が許可されていません。</block>
  <block id="3fa3bc64b029b88f42b842bb7dc4e52d" category="paragraph-title">ONTAP NASの例</block>
  <block id="77fe25c67ee05760d58e91a98e3ff055" category="paragraph">次の例は、管理対象ボリュームと管理対象外ボリュームのインポートを示しています。</block>
  <block id="865c1a701e3847de9fbff4a375ac7177" category="open-title">管理対象ボリューム</block>
  <block id="9baac1fff2f93c6aa6f2205921fe6b32" category="paragraph">次の例は、という名前のボリュームをインポートします<block ref="b61fdc0d7fc5d08e674f3891a91d3116" prefix=" " category="inline-code"></block> という名前のバックエンドで<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block>：</block>
  <block id="ed12f17a6dc2e65dfdf289eb64d258ae" category="open-title">管理対象外のボリューム</block>
  <block id="412d430c2de2722ad4f878fba9145e3f" category="paragraph">を使用する場合<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block> 引数に指定します。Astra Tridentはボリュームの名前を変更しません。</block>
  <block id="30690ec57cb4844d007f7d2e2c9393a2" category="paragraph">次に、をインポートする例を示します<block ref="60d9e6d88af815fe67aed90572f53184" prefix=" " category="inline-code"></block> をクリックします<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block> バックエンド：</block>
  <block id="548fedaf4074fe2826e3c53dfd92a19e" category="section-title">ONTAP SAN</block>
  <block id="d18d16cddcd0f06bf7df2391e6b26e69" category="paragraph">Astra Tridentでは、を使用したボリュームインポートがサポートされます<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="30bb262b9fe2f6c714c560a0608899dc" category="paragraph">Astra Tridentでは、単一のLUNを含むONTAP SAN FlexVolをインポートできます。これはと同じです<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ドライバ。FlexVol 内の各PVCおよびLUNにFlexVol を作成します。Astra TridentがFlexVolをインポートし、PVCの定義に関連付けます。</block>
  <block id="854d516b7e1eddbead5cbea0b17dac88" category="paragraph-title">ONTAP SANの例</block>
  <block id="eb87428bc7ec6d211f503b31240aec94" category="paragraph">管理対象ボリュームの場合、Astra TridentはFlexVolの名前をに変更します<block ref="b1a57c8f543d163276a264ab84f98485" prefix=" " category="inline-code"></block> およびFlexVol 内のLUNをからにフォーマットします<block ref="1793051c27c3288cfb3a1c86e4e41b41" prefix=" " category="inline-code"></block>。</block>
  <block id="c59e9e1ae2ff6860f6aa6f2d3dc9f872" category="paragraph">次の例は、をインポートします<block ref="9c263b72b293041bdc16e8711bb55a99" prefix=" " category="inline-code"></block> にあるFlexVol<block ref="5461c7e570fd7b4318a37f0dceb291c1" prefix=" " category="inline-code"></block> バックエンド：</block>
  <block id="d172829ee06c1c52828b60f0544b2f06" category="paragraph">次に、をインポートする例を示します<block ref="a5c0fa75ec8cf92d22eadab558660dda" prefix=" " category="inline-code"></block> をクリックします<block ref="2dec4fe0d108047546d031f48f4073f7" prefix=" " category="inline-code"></block> バックエンド：</block>
  <block id="58f7692a8b6ce5b3fa31b6daec3259fe" category="paragraph">次の例に示すように、KubernetesノードのIQNとIQNを共有するigroupにLUNをマッピングすると、エラーが表示されます。<block ref="4524d417d10c9cf90c4a674da76c4964" prefix=" " category="inline-code"></block>。ボリュームをインポートするには、イニシエータを削除するか、LUNのマッピングを解除する必要があります。</block>
  <block id="5ccef908ed30c9dac1afd0a7f3dc5e7f" category="inline-image-macro">iqnおよびクラスタiqnにマッピングされたLUNのイメージ。</block>
  <block id="81238a539b4fc11fb20c6d27db1e5d33" category="paragraph"><block ref="81238a539b4fc11fb20c6d27db1e5d33" category="inline-image-macro-rx" type="image"></block></block>
  <block id="67cb0d15ee759f80dd6bde1ab60c32e1" category="paragraph">Astra Tridentでは、を使用したNetApp ElementソフトウェアとNetApp HCIボリュームのインポートがサポートされます<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="00b0b4c3f91cc8ead8c7a1fac316cd43" category="admonition">Element ドライバではボリューム名の重複がサポートされます。ただし、ボリューム名が重複している場合はAstra Tridentからエラーが返されます。回避策としてボリュームをクローニングし、一意のボリューム名を指定して、クローンボリュームをインポートします。</block>
  <block id="d12ef9e4a047861afd11513bde147f35" category="paragraph-title">要素の例</block>
  <block id="e91134286ebcca5f894ca859ce6e6527" category="paragraph">次に、をインポートする例を示します<block ref="ce9d6be888db333d9f15ad3ca22aab5c" prefix=" " category="inline-code"></block> バックエンドのボリューム<block ref="54034d50b7e92e0dd9d45b9be754d7bd" prefix=" " category="inline-code"></block>。</block>
  <block id="5c9ef0d871938dccceb29ee63fad8ddb" category="section-title">Google Cloud Platform の 1 つです</block>
  <block id="cf31c490360937ec8a3ce1c25928d464" category="paragraph">Astra Tridentでは、を使用したボリュームインポートがサポートされます<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="b83141d187ef372685e66e6dfe4cabd9" category="admonition">NetApp Cloud Volumes Serviceから作成されたボリュームをGoogle Cloud Platformにインポートするには、ボリュームパスでボリュームを特定します。ボリュームパスは、ボリュームのエクスポートパスののに続く部分です<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>。たとえば、エクスポートパスがの場合などです<block ref="3bbe8dafc880d124219c1e4f73d41cf9" prefix=" " category="inline-code"></block>、ボリュームのパスはです<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>。</block>
  <block id="9dfa04a9ad04eba811811f2fbd0f5f0e" category="paragraph-title">Google Cloud Platformの例</block>
  <block id="dd8d0b5581c0eb32a23d802032124024" category="paragraph">次に、をインポートする例を示します<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> バックエンドのボリューム<block ref="b242744397b7d8bc9391b3e836628c5e" prefix=" " category="inline-code"></block> を指定します<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>。</block>
  <block id="831e4b284f7105b1bbd4f891a4e7144a" category="paragraph">Astra Tridentでは、を使用したボリュームインポートがサポートされます<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> および<block ref="43f09bc16eaf24131ea82903259878ac" prefix=" " category="inline-code"></block> ドライバ。</block>
  <block id="7501988e9549daa8c2fcd13e55b9fc78" category="admonition">Azure NetApp Filesボリュームをインポートするには、ボリュームパスでボリュームを特定します。ボリュームパスは、ボリュームのエクスポートパスののに続く部分です<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>。たとえば、マウントパスがの場合などです<block ref="a88065dde27cea3a008a18172c5a9c9e" prefix=" " category="inline-code"></block>、ボリュームのパスはです<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>。</block>
  <block id="1cfd9b4e20d41cdca62f758d3b0cb58b" category="paragraph-title">Azure NetApp Filesの例</block>
  <block id="bd46b0a8c2c4c89a60ee85052ad2dd0e" category="paragraph">次に、をインポートする例を示します<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> バックエンドのボリューム<block ref="d8dd89ab9d39f5487714722f9becb468" prefix=" " category="inline-code"></block> を指定します<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>。</block>
  <block id="48c807e08099dd321790a397d4e17e28" category="list-text">Docker.io/NetApp/trident：23.04.0</block>
  <block id="417605e9cc8da2514c99aaf846144b96" category="list-text">docker.io / netapp/trident-autosupport：23.04</block>
  <block id="e25b6bdb94c83d79f50a7d33929b965a" category="list-text">registry.k8s.io/sig-storage/csi-provisioner：v3.4.1</block>
  <block id="cbad6fc461000c6d8790221b622aceb0" category="list-text">registry.k8s.io/sig-storage/csi-attacher：v4.2.0</block>
  <block id="42b4a2f67addae58772b1c250a251f7e" category="list-text">registry.k8s.io/sig-storage/csi-resizer：v1.7.0</block>
  <block id="6171b5857bec22984fe260652936c7b1" category="list-text">registry.k8s.io/sig-storage/csi-snapshotter：v6.2.1</block>
  <block id="87cd48d9616779fe4d3afb72f325eb12" category="list-text">registry.k8s.io/sig-storage/csi-node-driver-registrar：v2.7.0</block>
  <block id="8eb8a41b260e1d77c7ffe733b87d87a1" category="list-text">docker.io/netapp/trident-operator：23.04.0（オプション）</block>
  <block id="0b8ca2be5f4fe564fb8e843cbc53703d" category="admonition">GKE環境でオンデマンドボリュームスナップショットを作成する場合は、スナップショットコントローラを作成しないでください。GKEでは、内蔵の非表示のスナップショットコントローラを使用します。</block>
  <block id="dfbfe722a0ce7e388b78027f9cfed8dd" category="paragraph">。<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block> Astra Trident CSIドライバを指します。<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> は、です<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> または<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>。に設定すると<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>を使用すると、ストレージクラスタの基盤となる物理Snapshotが、の場合でも保持されます<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> オブジェクトが削除された。</block>
</blocks>